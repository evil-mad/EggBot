MP2COD 5.00, COFF to COD File Converter
Copyright (c) 1998-2013 Microchip Technology Inc.
Listing File Generated: Fri Feb 09 21:04:41 2024


Address  Value    Disassembly              Source                                                                           File
-------  -------  -----------------------  -------------------------------------------------------------------------------  -----
                                           /* $Id: c018i.c,v 1.7 2006/11/15 22:53:12 moshtaa Exp $ */                       C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* Copyright (c)1999 Microchip Technology */                                     C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* MPLAB-C18 startup code, including initialized data */                         C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* external reference to __init() function */                                    C:\MCC18\src\traditional\startup\c018i.c
                                           extern void __init (void);                                                       C:\MCC18\src\traditional\startup\c018i.c
                                           /* external reference to the user's main routine */                              C:\MCC18\src\traditional\startup\c018i.c
                                           extern void main (void);                                                         C:\MCC18\src\traditional\startup\c018i.c
                                           /* prototype for the startup function */                                         C:\MCC18\src\traditional\startup\c018i.c
                                           void _entry (void);                                                              C:\MCC18\src\traditional\startup\c018i.c
                                           void _startup (void);                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* prototype for the initialized data setup */                                   C:\MCC18\src\traditional\startup\c018i.c
                                           void _do_cinit (void);                                                           C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           extern volatile near unsigned long short TBLPTR;                                 C:\MCC18\src\traditional\startup\c018i.c
                                           extern near unsigned FSR0;                                                       C:\MCC18\src\traditional\startup\c018i.c
                                           extern near char __FPFLAGS;                                                      C:\MCC18\src\traditional\startup\c018i.c
                                           #define RND 6                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           #pragma code _entry_scn=0x000000                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           void                                                                             C:\MCC18\src\traditional\startup\c018i.c
                                           _entry (void)                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           _asm goto _startup _endasm                                                       C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           }                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           #pragma code _startup_scn                                                        C:\MCC18\src\traditional\startup\c018i.c
                                           void                                                                             C:\MCC18\src\traditional\startup\c018i.c
                                           _startup (void)                                                                  C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                             _asm                                                                           C:\MCC18\src\traditional\startup\c018i.c
                                               // Initialize the stack pointer                                              C:\MCC18\src\traditional\startup\c018i.c
008d60   ee1e     LFSR      0x1,0xe00          lfsr 1, _stack                                                               C:\MCC18\src\traditional\startup\c018i.c
008d62   f000                                                                                                               
008d64   ee2e     LFSR      0x2,0xe00          lfsr 2, _stack                                                               C:\MCC18\src\traditional\startup\c018i.c
008d66   f000                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
008d68   6af8     CLRF      0xf8,0x0           clrf TBLPTRU, 0 // 1st silicon doesn't do this on POR                        C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
008d6a   9c3b     BCF       0x3b,0x6,0x0       bcf __FPFLAGS,RND,0 // Initialize rounding flag for floating point libs      C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                               _endasm                                                                      C:\MCC18\src\traditional\startup\c018i.c
008d6c   ec01     CALL      0x8a02,0x0         _do_cinit ();                                                                C:\MCC18\src\traditional\startup\c018i.c
008d6e   f045                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           loop:                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             // If user defined __init is not found, the one in clib.lib will be used       C:\MCC18\src\traditional\startup\c018i.c
008d70   ecc9     CALL      0x8d92,0x0       __init ();                                                                     C:\MCC18\src\traditional\startup\c018i.c
008d72   f046                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             // Call the user's main routine                                                C:\MCC18\src\traditional\startup\c018i.c
008d74   ece8     CALL      0x85d0,0x0       main ();                                                                       C:\MCC18\src\traditional\startup\c018i.c
008d76   f042                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
008d78   d7fb     BRA       0x8d70           goto loop;                                                                     C:\MCC18\src\traditional\startup\c018i.c
008d7a   0012     RETURN    0x0            }                               /* end _startup() */                             C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* MPLAB-C18 initialized data memory support */                                  C:\MCC18\src\traditional\startup\c018i.c
                                           /* The linker will populate the _cinit table */                                  C:\MCC18\src\traditional\startup\c018i.c
                                           extern far rom struct                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                             unsigned short num_init;                                                       C:\MCC18\src\traditional\startup\c018i.c
                                             struct _init_entry                                                             C:\MCC18\src\traditional\startup\c018i.c
                                             {                                                                              C:\MCC18\src\traditional\startup\c018i.c
                                               unsigned long from;                                                          C:\MCC18\src\traditional\startup\c018i.c
                                               unsigned long to;                                                            C:\MCC18\src\traditional\startup\c018i.c
                                               unsigned long size;                                                          C:\MCC18\src\traditional\startup\c018i.c
                                             }                                                                              C:\MCC18\src\traditional\startup\c018i.c
                                             entries[];                                                                     C:\MCC18\src\traditional\startup\c018i.c
                                           }                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           _cinit;                                                                          C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           #pragma code _cinit_scn                                                          C:\MCC18\src\traditional\startup\c018i.c
                                           void                                                                             C:\MCC18\src\traditional\startup\c018i.c
                                           _do_cinit (void)                                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                             /* we'll make the assumption in the following code that these statics          C:\MCC18\src\traditional\startup\c018i.c
                                              * will be allocated into the same bank.                                       C:\MCC18\src\traditional\startup\c018i.c
                                              */                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             static short long prom;                                                        C:\MCC18\src\traditional\startup\c018i.c
                                             static unsigned short curr_byte;                                               C:\MCC18\src\traditional\startup\c018i.c
                                             static unsigned short curr_entry;                                              C:\MCC18\src\traditional\startup\c018i.c
                                             static short long data_ptr;                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             // Initialized data...                                                         C:\MCC18\src\traditional\startup\c018i.c
008a02   0e2a     MOVLW     0x2a             TBLPTR = (short long)&_cinit;                                                  C:\MCC18\src\traditional\startup\c018i.c
008a04   6ef6     MOVWF     0xf6,0x0                                                                                        
008a06   0e10     MOVLW     0x10                                                                                            
008a08   6ef7     MOVWF     0xf7,0x0                                                                                        
008a0a   0e00     MOVLW     0x0                                                                                             
008a0c   6ef8     MOVWF     0xf8,0x0                                                                                        
                                             _asm                                                                           C:\MCC18\src\traditional\startup\c018i.c
008a0e   0101     MOVLB     0x1                movlb data_ptr                                                               C:\MCC18\src\traditional\startup\c018i.c
008a10   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\MCC18\src\traditional\startup\c018i.c
008a12   50f5     MOVF      0xf5,0x0,0x0       movf TABLAT, 0, 0                                                            C:\MCC18\src\traditional\startup\c018i.c
008a14   6ff8     MOVWF     0xf8,0x1           movwf curr_entry, 1                                                          C:\MCC18\src\traditional\startup\c018i.c
008a16   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\MCC18\src\traditional\startup\c018i.c
008a18   50f5     MOVF      0xf5,0x0,0x0       movf TABLAT, 0, 0                                                            C:\MCC18\src\traditional\startup\c018i.c
008a1a   6ff9     MOVWF     0xf9,0x1           movwf curr_entry+1, 1                                                        C:\MCC18\src\traditional\startup\c018i.c
                                             _endasm                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                               //while (curr_entry)                                                         C:\MCC18\src\traditional\startup\c018i.c
                                               //{                                                                          C:\MCC18\src\traditional\startup\c018i.c
                                               test:                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                               _asm                                                                         C:\MCC18\src\traditional\startup\c018i.c
008a1c   e103     BNZ       0x8a24              bnz 3                                                                       C:\MCC18\src\traditional\startup\c018i.c
008a1e   67f8     TSTFSZ    0xf8,0x1           tstfsz curr_entry, 1                                                         C:\MCC18\src\traditional\startup\c018i.c
008a20   d001     BRA       0x8a24             bra 1                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                               _endasm                                                                      C:\MCC18\src\traditional\startup\c018i.c
008a22   d03d     BRA       0x8a9e             goto done;                                                                   C:\MCC18\src\traditional\startup\c018i.c
                                                 /* Count down so we only have to look up the data in _cinit                C:\MCC18\src\traditional\startup\c018i.c
                                                  * once.                                                                   C:\MCC18\src\traditional\startup\c018i.c
                                                  *                                                                         C:\MCC18\src\traditional\startup\c018i.c
                                                  * At this point we know that TBLPTR points to the top of the current      C:\MCC18\src\traditional\startup\c018i.c
                                                  * entry in _cinit, so we can just start reading the from, to, and         C:\MCC18\src\traditional\startup\c018i.c
                                                  * size values.                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                  */                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                                 _asm                                                                       C:\MCC18\src\traditional\startup\c018i.c
                                           	/* read the source address */                                                   C:\MCC18\src\traditional\startup\c018i.c
008a24   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008a26   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008a28   6ff3     MOVWF     0xf3,0x1       	movwf prom, 1                                                                   C:\MCC18\src\traditional\startup\c018i.c
008a2a   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008a2c   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008a2e   6ff4     MOVWF     0xf4,0x1       	movwf prom+1, 1                                                                 C:\MCC18\src\traditional\startup\c018i.c
008a30   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008a32   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008a34   6ff5     MOVWF     0xf5,0x1       	movwf prom+2, 1                                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           	/* skip a byte since it's stored as a 32bit int */                              C:\MCC18\src\traditional\startup\c018i.c
008a36   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                           	/* read the destination address directly into FSR0 */                           C:\MCC18\src\traditional\startup\c018i.c
008a38   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008a3a   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008a3c   6ee9     MOVWF     0xe9,0x0       	movwf FSR0L, 0                                                                  C:\MCC18\src\traditional\startup\c018i.c
008a3e   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008a40   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008a42   6eea     MOVWF     0xea,0x0       	movwf FSR0H, 0                                                                  C:\MCC18\src\traditional\startup\c018i.c
                                           	/* skip two bytes since it's stored as a 32bit int */                           C:\MCC18\src\traditional\startup\c018i.c
008a44   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008a46   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                           	/* read the destination address directly into FSR0 */                           C:\MCC18\src\traditional\startup\c018i.c
008a48   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008a4a   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008a4c   6ff6     MOVWF     0xf6,0x1       	movwf curr_byte, 1                                                              C:\MCC18\src\traditional\startup\c018i.c
008a4e   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008a50   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008a52   6ff7     MOVWF     0xf7,0x1       	movwf curr_byte+1, 1                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           	/* skip two bytes since it's stored as a 32bit int */                           C:\MCC18\src\traditional\startup\c018i.c
008a54   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008a56   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                 _endasm                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                 //prom = data_ptr->from;                                                   C:\MCC18\src\traditional\startup\c018i.c
                                                 //FSR0 = data_ptr->to;                                                     C:\MCC18\src\traditional\startup\c018i.c
                                                 //curr_byte = (unsigned short) data_ptr->size;                             C:\MCC18\src\traditional\startup\c018i.c
                                                 /* the table pointer now points to the next entry. Save it                 C:\MCC18\src\traditional\startup\c018i.c
                                                  * off since we'll be using the table pointer to do the copying            C:\MCC18\src\traditional\startup\c018i.c
                                                  * for the entry.                                                          C:\MCC18\src\traditional\startup\c018i.c
                                                  */                                                                        C:\MCC18\src\traditional\startup\c018i.c
008a58   cff6     MOVFF     0xff6,0x1fa          data_ptr = TBLPTR;                                                         C:\MCC18\src\traditional\startup\c018i.c
008a5a   f1fa                                                                                                               
008a5c   cff7     MOVFF     0xff7,0x1fb                                                                                     
008a5e   f1fb                                                                                                               
008a60   cff8     MOVFF     0xff8,0x1fc                                                                                     
008a62   f1fc                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                 /* now assign the source address to the table pointer */                   C:\MCC18\src\traditional\startup\c018i.c
008a64   c1f3     MOVFF     0x1f3,0xff6          TBLPTR = prom;                                                             C:\MCC18\src\traditional\startup\c018i.c
008a66   fff6                                                                                                               
008a68   c1f4     MOVFF     0x1f4,0xff7                                                                                     
008a6a   fff7                                                                                                               
008a6c   c1f5     MOVFF     0x1f5,0xff8                                                                                     
008a6e   fff8                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                 /* do the copy loop */                                                     C:\MCC18\src\traditional\startup\c018i.c
                                                 _asm                                                                       C:\MCC18\src\traditional\startup\c018i.c
                                                   // determine if we have any more bytes to copy                           C:\MCC18\src\traditional\startup\c018i.c
008a70   0101     MOVLB     0x1            	movlb curr_byte                                                                 C:\MCC18\src\traditional\startup\c018i.c
008a72   53f6     MOVF      0xf6,0x1,0x1   	movf curr_byte, 1, 1                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           copy_loop:                                                                       C:\MCC18\src\traditional\startup\c018i.c
008a74   e102     BNZ       0x8a7a         	bnz 2 // copy_one_byte                                                          C:\MCC18\src\traditional\startup\c018i.c
008a76   53f7     MOVF      0xf7,0x1,0x1   	movf curr_byte + 1, 1, 1                                                        C:\MCC18\src\traditional\startup\c018i.c
008a78   e007     BZ        0x8a88         	bz 7 // done_copying                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           copy_one_byte:                                                                   C:\MCC18\src\traditional\startup\c018i.c
008a7a   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008a7c   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008a7e   6eee     MOVWF     0xee,0x0       	movwf POSTINC0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           	// decrement byte counter                                                       C:\MCC18\src\traditional\startup\c018i.c
008a80   07f6     DECF      0xf6,0x1,0x1   	decf curr_byte, 1, 1                                                            C:\MCC18\src\traditional\startup\c018i.c
008a82   e2f8     BC        0x8a74         	bc -8 // copy_loop                                                              C:\MCC18\src\traditional\startup\c018i.c
008a84   07f7     DECF      0xf7,0x1,0x1           decf curr_byte + 1, 1, 1                                                 C:\MCC18\src\traditional\startup\c018i.c
008a86   d7f9     BRA       0x8a7a         	bra -7 // copy_one_byte                                                         C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           done_copying:                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                 _endasm                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                 /* restore the table pointer for the next entry */                         C:\MCC18\src\traditional\startup\c018i.c
008a88   c1fa     MOVFF     0x1fa,0xff6          TBLPTR = data_ptr;                                                         C:\MCC18\src\traditional\startup\c018i.c
008a8a   fff6                                                                                                               
008a8c   c1fb     MOVFF     0x1fb,0xff7                                                                                     
008a8e   fff7                                                                                                               
008a90   c1fc     MOVFF     0x1fc,0xff8                                                                                     
008a92   fff8                                                                                                               
                                                 /* next entry... */                                                        C:\MCC18\src\traditional\startup\c018i.c
008a94   0101     MOVLB     0x1                  curr_entry--;                                                              C:\MCC18\src\traditional\startup\c018i.c
008a96   07f8     DECF      0xf8,0x1,0x1                                                                                    
008a98   0e00     MOVLW     0x0                                                                                             
008a9a   5bf9     SUBWFB    0xf9,0x1,0x1                                                                                    
008a9c   d7bf     BRA       0x8a1c               goto test;                                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           done:                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           ;                                                                                C:\MCC18\src\traditional\startup\c018i.c
008a9e   0012     RETURN    0x0            }                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             File Information:                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               FileName:     	usb_device.c                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Dependencies:	See INCLUDES section                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Processor:		PIC18,PIC24, PIC32 and dsPIC33E USB Microcontrollers             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Hardware:		This code is natively intended to be used on Mirochip USB         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               demo boards.  See www.microchip.com/usb (Software & Tools    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               section) for list of available platforms.  The firmware may  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               be modified for use on other USB platforms by editing the    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               				HardwareProfile.h and HardwareProfile - [platform].h files.              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Complier:  	    Microchip C18 (for PIC18),C30 (for PIC24 and dsPIC33E)       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               and C32 (for PIC32)                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Company:		Microchip Technology, Inc.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Software License Agreement:                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               The software supplied herewith by Microchip Technology Incorporated          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               (the "Company") for its PIC(r) Microcontroller is intended and               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               supplied to you, the Company's customer, for use solely and                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               exclusively on Microchip PIC Microcontroller products. The                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               software is owned by the Company and/or its supplier, and is                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               protected under applicable copyright laws. All rights are reserved.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Any use in violation of the foregoing restrictions may subject the           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               user to criminal sanctions under applicable laws, as well as to              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               civil liability for the breach of the terms and conditions of this           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               license.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               THIS SOFTWARE IS PROVIDED IN AN "AS IS" CONDITION. NO WARRANTIES,            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This file contains functions, macros, definitions, variables,                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               datatypes, etc. that are required for usage with the MCHPFSUSB device        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               stack. This file should be included in projects that use the device stack.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This file is located in the "\<Install Directory\>\\Microchip\\USB"          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               directory.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USB Device Stack File                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This file contains functions, macros, definitions, variables,                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               datatypes, etc. that are required for usage with the MCHPFSUSB device        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               stack. This file should be included in projects that use the device stack.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This file is located in the "\<Install Directory\>\\Microchip\\USB"          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               directory.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               When including this file in a new project, this file can either be           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               referenced from the directory in which it was installed or copied            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               directly into the user application folder. If the first method is            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               chosen to keep the file located in the folder in which it is installed       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               then include paths need to be added so that the library and the              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               application both know where to reference each others files. If the           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               application folder is located in the same folder as the Microchip            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               folder (like the current demo folders), then the following include           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               paths need to be added to the application's project:                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               .                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               ..\\..\\MicrochipInclude                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               If a different directory structure is used, modify the paths as              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               required. An example using absolute paths instead of relative paths          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               would be the following:                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               C:\\Microchip Solutions\\Microchip\\Include                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               C:\\Microchip Solutions\\My Demo Application                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           ********************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            File Description:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            Change History:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Rev    Description                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             ----   -----------                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             2.6    Added USBCancelIO() function.  Moved and some stack                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    defintions to be more consistant with the host stack.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             2.6a   Fixed issue where a SET_CONFIGURATION received could cause              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    inability to transmit on an endpoint if using ping-pong                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    and an odd number of packets had been sent on that endpoint             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             2.7    Fixed error where the USB error interrupt flag was not getting          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    cleared properly for PIC32 resulting in lots of extra error interrupts. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    http://www.microchip.com/forums/tm.aspx?m=479085                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Fixed issue with dual role mode when device run in polling              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    mode.  Interrupts were remaining enabled after the host mode            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    operation was complete.  This was incompatible with polling             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    mode operation.                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Changed how the bus sensing works.  In previous revisions it            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    was impossible to use the USBDeviceDetach to detach from the            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    bus if the bus voltage was still present.  This is now                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    possible.  It was also possible to move the device to the               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    ATTACHED state in interrupt mode even if the bus voltage                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    wasn't available.  This is now prohibited unless VBUS is                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    present.                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Improved error case handling when the host sends more OUT               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    bytes in a control transfer than the firmware was expecting             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    to receive (based on the size parameter when calling USBEP0Receive()).  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    In the USBStdSetCfgHandler(), modified the code so the USBDeviceState   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    variable only gets updated to the CONFIGURED_STATE at the end of the    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    function.                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             2.7a   Update to support the PIC18F47J53 A1 and later revision                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    devices.                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Fixed an error on 16-bit and 32-bit processors where a word access      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    could be performed on a byte pointer resulting in possible address      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    errors with odd aligned pointers.                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             2.8    Several changes to the way control transfers get processed,             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    so as to support the ability to allow application/class specific        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    handler code to defer the status stage.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Implemented USBCtrlEPAllowStatusStage() API function.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Implemented USBDeferStatusStage() API function (macro).                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    These changes also greatly relax the USBDeviceTasks() calling frequency  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    requirement, while allowing USB class handlers more flexibility.        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Also implemented the following API functions and macros, for delaying   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    the data stage of a control transfer (with data stage):                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBDeferINDataStage()                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBDeferOUTDataStage()                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBOUTDataStageDeferred()                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBINDataStageDeferred()                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBCtrlEPAllowDataStage()                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Fixed USB reset event handler issue, where the USB stack would          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    re-initialize global interrupt settings in the interrupt context, on    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    PIC18 devices with the stack operated in USB_INTERRUPT mode.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Fixed handling of SET/CLEAR FEATURE (endpoint halt) host requests.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Previous implementation would not always initialize endpoints correctly  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    to DATA0 DTS state after a clear feature endpoint halt request, for     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    all ping pong mode and usage scenarios.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              2.9   Fixed an issue with STALL handling behavior on non-EP0 endpoints, for   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    PIC24 and PIC32 devices.                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		 Fixed an issue where the ep_data_in[]/ep_data_out[] flags weren't          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		 getting re-initialized coincident with the hardware ping pong pointer      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		 reset during set configuration events.                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		 Implemented USBGetNextHandle() API function (actually a macro, defined     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		 in usb_device.h).                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              2.9d  Added build option for disabling DTS checking                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              2.9f  Adding pragma for PIC18F97J94 Family BDT location.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              2.9h  Updated to be able to support optional Microsoft OS Descriptors         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              2.9i  Updated to set UCON<SUSPND> bit on PIC16F USB devices during            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    suspend, so as to save power.                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           ********************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /*---------------------------------------------------------------------------------- D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           The USBDeviceTasks() function is responsible for detecting and processing various D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB bus events and host requests, such as those required for USB enumeration, when D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           the USB cable is first attached to the host.  This function is the main dispatcher D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           routine for the USB stack.                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Additional API functions and macros are also provided by the USB stack, which can be  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           used to send/receive USB data to/from the host, among other things.  A full list  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           of the available implemented functions/macros are provided in the                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           "MCHPFSUSB Library Help".  For normal installations of the MCHPFSUSB Framework,  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           the USB API documentation can be found from:                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Start menu --> (All Programs) --> Microchip --> MCHPFSUSB vX.x --> Documents --> MCHPFSUSB Library Help D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Once the help file is opened, the API functions/macros are described in the following section: D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Library Interface (API) --> Device/Peripheral --> Device Stack --> Interface Routines D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Additional API functions may also be provided depending upon the specific USB device class D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           implemented, and these functions are also documented in the MCHPFSUSB Library Help. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           If the USB stack is operated in "USB_POLLING" mode (user selectable option in    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           usb_config.h), then the application firmware is reponsible for calling the       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USBDeviceTasks() function periodically.  If the USB stack is operated in the     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           "USB_INTERRUPT" mode, then the application firmware does not have to directly    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           call USBDeviceTasks(), as it will execute only when necessary as an interrupt handler. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           In order to properly operate a USB connection, and to correctly process and respond D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           to control transfers in the maximum time allowed by the USB specifications, the  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USBDeviceTasks() function/interrupt handler must be allowed to execute in a timely D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           fashion.                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           When the USB module is enabled, the USB cable is attached to the host, the USB bus D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           is not in the suspend state, and the USB stack is operated in the USB_POLLING mode  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           with ping pong buffering enabled (at least) on EP0 OUT,  then the maximum allowed  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           time between calls to the USBDeviceTasks() function needs to be:                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           The faster of:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           1.  Once per ~1.8ms, when USBDeviceState == ADR_PENDING_STATE                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           2.  Once per ~9.8ms, when USBDeviceState == (any other value other than ADR_PENDING_STATE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           3.  Fast enough to ensure the USTAT FIFO can never get full.  See additional explanation below. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Additional details of the above timing limits are provided:                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Timing item #1: This parameter originates from the 2ms set address "recovery interval" D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           specification dictated by section "9.2.6.3 Set Address Processing" of the official  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB 2.0 specifications.                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Timing item #2: This parameter originates from several "10 ms" criteria in the   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB 2.0 specifications.  For example, reset recovery intervals, resume recovery  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           intervals, suspend to actual current reduction, etc. have timing maximums of 10ms. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Timing item #3: This is not a fixed X.X ms parameter, but depends on the         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           transaction rate implemented by the application.  The USBDeviceTasks() function is D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           responsible for popping entries off the USTAT FIFO.  If the FIFO ever gets full, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           then no further USB transactions are allowed to occur, until the firmware pops entries D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           off the FIFO.  In practice, this means the firmware should call USBDeviceTasks() at D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           a rate at least as fast as once every three times the USBTransferOnePacket() function D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           is called.  This ensures that the rate that USTAT FIFO entries are getting added to D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           the FIFO is lower than the rate that the entries are getting popped off the FIFO (the D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USBDeviceTasks() function will pop up to 4 entries per call), which is a         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           necessary criteria to ensure the USTAT FIFO entries don't "pile up."  Calling    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USBDeviceTasks() even more often, ex: >=1 to 1 ratio of USBDeviceTasks() to      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USBTransferOnePacket(), adds further protection against the USTAT FIFO getting full, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           and is therefore recommended.                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           When the USB stack is operated in USB_INTERRUPT mode, then the above timing      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           parameters should be interpreted to be the longest allowed time that the USB     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           interrupts may be masked/disabled for, before re-enabling the USB interrupts.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Calling USBDeviceTasks() (or allowing USBDeviceTasks() to be called) more often  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           will still have potential USB data rate speed and processing latency benefits.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           It is also beneficial to call USBDeviceTasks() more often than theoretically     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           required, since it has been observed that not all host/drivers/bios/hubs are     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           100% consistently compliant with all timing parameters of the USB 2.0 specifications. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Therefore, in a USB_POLLING based application, it is still suggested to call     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USBDeviceTasks() as often as there are free CPU cycles.  This ensures best       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           performance, along with best possible compatibility with all existing USB        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           hosts/hubs (both those that are compliant and [partially] non-compliant).        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           If ping pong buffering is not enabled on (at least) EP0 OUT, then it is required D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           to call (or allow to execute) USBDeviceTasks() much more frequently (ex: once    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           per 100us, or preferrably faster).  Therefore, in all applications, it is        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           normally recommended to select either the USB_PING_PONG__FULL_PING_PONG or       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_PING_PONG__EP0_OUT_ONLY mode (user option in usb_config.h), as these modes   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           allow for much more relaxed timing requirements, and therefore greater application D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           firmware design flexibility.                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //----------------------------------------------------------------------------------*/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** INCLUDES *******************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #include "./USB/usb.h"                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #include "HardwareProfile.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #include "../USB/usb_device_local.h"                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(USB_USE_MSD)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #include "./USB/usb_function_msd.h"                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if !defined(USE_USB_BUS_SENSE_IO)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #undef USB_BUS_SENSE                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define USB_BUS_SENSE 1                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(USB_DEVICE_DISABLE_DTS_CHECKING)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define _DTS_CHECKING_ENABLED 0                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define _DTS_CHECKING_ENABLED _DTSEN                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** DEFINITIONS ****************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** VARIABLES ******************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(__18CXX)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #pragma udata                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE USB_DEVICE_STATE USBDeviceState;                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE USBActiveConfiguration;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE USBAlternateInterface[USB_MAX_NUM_INT];                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BDT_ENTRY *pBDTEntryEP0OutCurrent;                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BDT_ENTRY *pBDTEntryEP0OutNext;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BDT_ENTRY *pBDTEntryOut[USB_MAX_EP_NUMBER+1];                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BDT_ENTRY *pBDTEntryIn[USB_MAX_EP_NUMBER+1];                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE shortPacketStatus;                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE controlTransferState;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE IN_PIPE inPipes[1];                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE OUT_PIPE outPipes[1];                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE *pDst;                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BOOL RemoteWakeup;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BOOL USBBusIsSuspended;                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE USTAT_FIELDS USTATcopy;                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE endpoint_number;                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BOOL BothEP0OutUOWNsSet;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE EP_STATUS ep_data_in[USB_MAX_EP_NUMBER+1];                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE EP_STATUS ep_data_out[USB_MAX_EP_NUMBER+1];                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE USBStatusStageTimeoutCounter;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BOOL USBDeferStatusStagePacket;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BOOL USBStatusStageEnabledFlag1;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BOOL USBStatusStageEnabledFlag2;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BOOL USBDeferINDataStagePackets;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BOOL USBDeferOUTDataStagePackets;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if (USB_PING_PONG_MODE == USB_PING_PONG__NO_PING_PONG)                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define BDT_NUM_ENTRIES      ((USB_MAX_EP_NUMBER + 1) * 2)                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #elif (USB_PING_PONG_MODE == USB_PING_PONG__EP0_OUT_ONLY)                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define BDT_NUM_ENTRIES      (((USB_MAX_EP_NUMBER + 1) * 2)+1)               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #elif (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define BDT_NUM_ENTRIES      ((USB_MAX_EP_NUMBER + 1) * 4)                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #elif (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define BDT_NUM_ENTRIES      (((USB_MAX_EP_NUMBER + 1) * 4)-2)               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #error "No ping pong mode defined."                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** USB FIXED LOCATION VARIABLES ***********************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(__18CXX)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #pragma udata USB_BDT=USB_BDT_ADDRESS                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BDT_ENTRY BDT[BDT_NUM_ENTRIES] BDT_BASE_ADDR_TAG;                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Section B: EP0 Buffer Space                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile CTRL_TRF_SETUP SetupPkt CTRL_TRF_SETUP_ADDR_TAG;                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BYTE CtrlTrfData[USB_EP0_BUFF_SIZE] CTRL_TRF_DATA_ADDR_TAG;             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Section C: non-EP0 Buffer Space                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(USB_USE_MSD)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//volatile far USB_MSD_CBW_CSW msd_cbw_csw;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	volatile USB_MSD_CBW msd_cbw;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	volatile USB_MSD_CSW msd_csw;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//#pragma udata                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	#if defined(__18CXX)                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		#pragma udata myMSD=MSD_BUFFER_ADDRESS                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	#endif                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	volatile char msd_buffer[512];                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           ////Depricated in v2.2 - will be removed in a future revision                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if !defined(USB_USER_DEVICE_DESCRIPTOR)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Device descriptor                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               extern ROM USB_DEVICE_DESCRIPTOR device_dsc;                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USB_USER_DEVICE_DESCRIPTOR_INCLUDE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if !defined(USB_USER_CONFIG_DESCRIPTOR)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Array of configuration descriptors                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               extern ROM BYTE *ROM USB_CD_Ptr[];                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USB_USER_CONFIG_DESCRIPTOR_INCLUDE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           extern BYTE * USB_SD_Ptr[];                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** DECLARATIONS ***************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(__18CXX)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #pragma code                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** Macros *********************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** Function Prototypes ********************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //External                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //This is the prototype for the required user event handler                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           BOOL USER_USB_CALLBACK_EVENT_HANDLER(int event, void *pdata, WORD size);         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //Internal Functions                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlEPService(void);                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfSetupHandler(void);                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfInHandler(void);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCheckStdRequest(void);                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStdGetDscHandler(void);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlEPServiceComplete(void);                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfTxService(void);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfRxService(void);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStdSetCfgHandler(void);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStdGetStatusHandler(void);                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStdFeatureReqHandler(void);                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfOutHandler(void);                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBConfigureEndpoint(BYTE EPNum, BYTE direction);                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBWakeFromSuspend(void);                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBSuspend(void);                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStallHandler(void);                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //static BOOL USBIsTxBusy(BYTE EPNumber);                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //static void USBPut(BYTE EPNum, BYTE Data);                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //static void USBEPService(void);                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //static void USBProtocolResetHandler(void);                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** Function Implementations *************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** Internal Macros *********************************************************/   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /****************************************************************************    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               void USBAdvancePingPongBuffer(BDT_ENTRY** buffer)                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function will advance the passed pointer to the next buffer based on    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the ping pong option setting.  This function should be used for EP1-EP15     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               only.  This function is not valid for EP0.                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Precondition:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Parameters:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BDT_ENTRY** - pointer to the BDT_ENTRY pointer that you want to be advanced  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               to the next buffer state                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Return Values:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             ***************************************************************************/   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #define USBAdvancePingPongBuffer(buffer) ((BYTE_VAL*)buffer)->Val ^= USB_NEXT_PING_PONG; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #define USBHALPingPongSetToOdd(buffer)   {((BYTE_VAL*)buffer)->Val |= USB_NEXT_PING_PONG;} D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #define USBHALPingPongSetToEven(buffer)  {((BYTE_VAL*)buffer)->Val &= ~USB_NEXT_PING_PONG;} D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** External API Functions ****************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Function:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBDeviceInit(void)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Description:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function initializes the device stack it in the default state. The  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USB module will be completely reset including all of the internal        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   variables, registers, and interrupt flags.                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Precondition:                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function must be called before any of the other USB Device          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   functions can be called, including USBDeviceTasks().                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Parameters:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Return Values:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Remarks:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             ***************************************************************************/   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006562   ec1b     CALL      0x7236,0x0     void USBDeviceInit(void)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006564   f039                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE i;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006566   98a0     BCF       0xa0,0x4,0x0       USBDisableInterrupts();                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Clear all USB error flags                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006568   6a63     CLRF      0x63,0x0           USBClearInterruptRegister(U1EIR);                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Clears all USB interrupts                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00656a   6a62     CLRF      0x62,0x0           USBClearInterruptRegister(U1IR);                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Clear all of the endpoint control registers                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00656c   010f     MOVLB     0xf                U1EP0 = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00656e   6b26     CLRF      0x26,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006570   ecfa     CALL      0x71f4,0x0         DisableNonZeroEndpoints(USB_MAX_EP_NUMBER);                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006572   f038                                                                                                               
0071f4   0e02     MOVLW     0x2                                                                                             
0071f6   6ee6     MOVWF     0xe6,0x0                                                                                        
0071f8   6ae6     CLRF      0xe6,0x0                                                                                        
0071fa   6ae6     CLRF      0xe6,0x0                                                                                        
0071fc   0e27     MOVLW     0x27                                                                                            
0071fe   6ee6     MOVWF     0xe6,0x0                                                                                        
007200   0e0f     MOVLW     0xf                                                                                             
007202   ef63     GOTO      0x70c6                                                                                          
007204   f038                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006574   010f     MOVLB     0xf                SetConfigurationOptions();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006576   ecb9     CALL      0x7172,0x0                                                                                      
006578   f038                                                                                                               
007172   0e16     MOVLW     0x16                                                                                            
007174   6f39     MOVWF     0x39,0x1                                                                                        
007176   0e9f     MOVLW     0x9f                                                                                            
007178   6f37     MOVWF     0x37,0x1                                                                                        
00717a   0e7b     MOVLW     0x7b                                                                                            
00717c   6f36     MOVWF     0x36,0x1                                                                                        
00717e   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //power up the module (if not already powered)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBPowerModule();                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //set the address of the BDT (if applicable)                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBSetBDTAddress(BDT);                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Clear all of the BDT entries                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00657a   6adf     CLRF      0xdf,0x0           for(i=0;i<(sizeof(BDT)/sizeof(BDT_ENTRY));i++)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00657c   50df     MOVF      0xdf,0x0,0x0                                                                                    
00657e   6e4e     MOVWF     0x4e,0x0                                                                                        
006580   6a4f     CLRF      0x4f,0x0                                                                                        
006582   0e0c     MOVLW     0xc                                                                                             
006584   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
006586   0e00     MOVLW     0x0                                                                                             
006588   584f     SUBWFB    0x4f,0x0,0x0                                                                                    
00658a   e210     BC        0x65ac                                                                                          
0065a8   2adf     INCF      0xdf,0x1,0x0                                                                                    
0065aa   d7e8     BRA       0x657c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00658c   50df     MOVF      0xdf,0x0,0x0           BDT[i].Val = 0x00;                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00658e   0d04     MULLW     0x4                                                                                             
006590   cff3     MOVFF     0xff3,0xfe9                                                                                     
006592   ffe9                                                                                                               
006594   cff4     MOVFF     0xff4,0xfea                                                                                     
006596   ffea                                                                                                               
006598   0e00     MOVLW     0x0                                                                                             
00659a   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00659c   0e04     MOVLW     0x4                                                                                             
00659e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0065a0   6aee     CLRF      0xee,0x0                                                                                        
0065a2   6aee     CLRF      0xee,0x0                                                                                        
0065a4   6aee     CLRF      0xee,0x0                                                                                        
0065a6   6aee     CLRF      0xee,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Assert reset request to all of the Ping Pong buffer pointers              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0065ac   8c65     BSF       0x65,0x6,0x0       USBPingPongBufferReset = 1;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Reset to default address                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0065ae   010f     MOVLB     0xf                U1ADDR = 0x00;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0065b0   6b38     CLRF      0x38,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Make sure packet processing is enabled                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0065b2   9865     BCF       0x65,0x4,0x0       USBPacketDisable = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Stop trying to reset ping pong buffer pointers                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0065b4   9c65     BCF       0x65,0x6,0x0       USBPingPongBufferReset = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Flush any pending transactions                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0065b6   a662     BTFSS     0x62,0x3,0x0       while(USBTransactionCompleteIF == 1u)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0065b8   d007     BRA       0x65c8                                                                                          
0065c6   d7f7     BRA       0x65b6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0065ba   9662     BCF       0x62,0x3,0x0           USBClearInterruptFlag(USBTransactionCompleteIFReg,USBTransactionCompleteIFBitNum); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Initialize USB stack software state variables                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0065bc   0105     MOVLB     0x5                    inPipes[0].info.Val = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0065be   6bd3     CLRF      0xd3,0x1                                                                                        
0065c0   6bd8     CLRF      0xd8,0x1               outPipes[0].info.Val = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0065c2   6bd9     CLRF      0xd9,0x1               outPipes[0].wCount.Val = 0;                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0065c4   6bda     CLRF      0xda,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Set flags to TRUE, so the USBCtrlEPAllowStatusStage() function knows not to D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //try and arm a status stage, even before the first control transfer starts. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0065c8   0105     MOVLB     0x5                USBStatusStageEnabledFlag1 = TRUE;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0065ca   0e01     MOVLW     0x1                                                                                             
0065cc   6fec     MOVWF     0xec,0x1                                                                                        
0065ce   6fed     MOVWF     0xed,0x1           USBStatusStageEnabledFlag2 = TRUE;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Initialize other flags                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0065d0   6bee     CLRF      0xee,0x1           USBDeferINDataStagePackets = FALSE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0065d2   6bef     CLRF      0xef,0x1           USBDeferOUTDataStagePackets = FALSE;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0065d4   6be0     CLRF      0xe0,0x1           USBBusIsSuspended = FALSE;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//Initialize all pBDTEntryIn[] and pBDTEntryOut[]                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//pointers to NULL, so they don't get used inadvertently.                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0065d6   6adf     CLRF      0xdf,0x0       	for(i = 0; i < (BYTE)(USB_MAX_EP_NUMBER+1u); i++)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0065d8   0e03     MOVLW     0x3                                                                                             
0065da   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0065dc   e211     BC        0x6600                                                                                          
0065fe   d7ec     BRA       0x65d8                                                                                          
007104   2adf     INCF      0xdf,0x1,0x0                                                                                    
007106   0012     RETURN    0x0                                                                                             
                                           	{                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0065de   6aea     CLRF      0xea,0x0       		pBDTEntryIn[i] = 0u;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0065e0   34df     RLCF      0xdf,0x0,0x0                                                                                    
0065e2   ec1e     CALL      0x723c,0x0                                                                                      
0065e4   f039                                                                                                               
0065e6   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0065e8   6aee     CLRF      0xee,0x0                                                                                        
0065ea   6aed     CLRF      0xed,0x0                                                                                        
00723c   0bfe     ANDLW     0xfe                                                                                            
00723e   36ea     RLCF      0xea,0x1,0x0                                                                                    
007240   6ee9     MOVWF     0xe9,0x0                                                                                        
007242   0ec9     MOVLW     0xc9                                                                                            
007244   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007246   0e05     MOVLW     0x5                                                                                             
007248   0012     RETURN    0x0                                                                                             
0065ec   6aea     CLRF      0xea,0x0       		pBDTEntryOut[i] = 0u;		                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0065ee   34df     RLCF      0xdf,0x0,0x0                                                                                    
0065f0   ec25     CALL      0x724a,0x0                                                                                      
0065f2   f039                                                                                                               
0065f4   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0065f6   6aee     CLRF      0xee,0x0                                                                                        
0065f8   6aed     CLRF      0xed,0x0                                                                                        
00724a   0bfe     ANDLW     0xfe                                                                                            
00724c   36ea     RLCF      0xea,0x1,0x0                                                                                    
00724e   6ee9     MOVWF     0xe9,0x0                                                                                        
007250   0ec3     MOVLW     0xc3                                                                                            
007252   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007254   0e05     MOVLW     0x5                                                                                             
007256   0012     RETURN    0x0                                                                                             
0065fa   ec7a     CALL      0x70f4,0x0     		ep_data_in[i].Val = 0u;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0065fc   f038                                                                                                               
0070f4   50df     MOVF      0xdf,0x0,0x0                                                                                    
0070f6   d8bc     RCALL     0x7270                                                                                          
0070f8   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0070fa   6aef     CLRF      0xef,0x0                                                                                        
0070fc   50df     MOVF      0xdf,0x0,0x0           ep_data_out[i].Val = 0u;                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070fe   d8b3     RCALL     0x7266                                                                                          
007100   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007102   6aef     CLRF      0xef,0x0                                                                                        
                                           	}                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Get ready for the first packet                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006600   0105     MOVLB     0x5                pBDTEntryIn[0] = (volatile BDT_ENTRY*)&BDT[EP0_IN_EVEN];                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006602   0e08     MOVLW     0x8                                                                                             
006604   6fc9     MOVWF     0xc9,0x1                                                                                        
006606   0e04     MOVLW     0x4                                                                                             
006608   6fca     MOVWF     0xca,0x1                                                                                        
                                               // Initialize EP0 as a Ctrl EP                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00660a   010f     MOVLB     0xf                U1EP0 = EP_CTRL|USB_HANDSHAKE_ENABLED;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00660c   0e16     MOVLW     0x16                                                                                            
00660e   6f26     MOVWF     0x26,0x1                                                                                        
                                           	//Prepare for the first SETUP on EP0 OUT                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006610   0104     MOVLB     0x4                BDT[EP0_OUT_EVEN].ADR = ConvertToPhysicalAddress(&SetupPkt);                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006612   0e30     MOVLW     0x30                                                                                            
006614   6f02     MOVWF     0x2,0x1                                                                                         
006616   0e04     MOVLW     0x4                                                                                             
006618   6f03     MOVWF     0x3,0x1                                                                                         
00661a   0e40     MOVLW     0x40               BDT[EP0_OUT_EVEN].CNT = USB_EP0_BUFF_SIZE;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00661c   6f01     MOVWF     0x1,0x1                                                                                         
00661e   0e84     MOVLW     0x84               BDT[EP0_OUT_EVEN].STAT.Val = _USIE|_DAT0|_BSTALL;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006620   6f00     MOVWF     0x0,0x1                                                                                         
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Clear active configuration                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006622   0105     MOVLB     0x5                USBActiveConfiguration = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006624   6bbd     CLRF      0xbd,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Indicate that we are now in the detached state                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006626   6bbc     CLRF      0xbc,0x1           USBDeviceState = DETACHED_STATE;                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006628   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00662a   ef4c     GOTO      0x7098                                                                                          
00662c   f038                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBDeviceTasks(void)                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function is the main state machine/transaction handler of the USB       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               device side stack.  When the USB stack is operated in "USB_POLLING" mode     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               (usb_config.h user option) the USBDeviceTasks() function should be called    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               periodically to receive and transmit packets through the stack. This         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               function also takes care of control transfers associated with the USB        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               enumeration process, and detecting various USB events (such as suspend).     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function should be called at least once every 1.8ms during the USB      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               enumeration process. After the enumeration process is complete (which can    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               be determined when USBGetDeviceState() returns CONFIGURED_STATE), the        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBDeviceTasks() handler may be called the faster of: either once            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               every 9.8ms, or as often as needed to make sure that the hardware USTAT      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               FIFO never gets full.  A good rule of thumb is to call USBDeviceTasks() at   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               a minimum rate of either the frequency that USBTransferOnePacket() gets      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               called, or, once/1.8ms, whichever is faster.  See the inline code comments   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               near the top of usb_device.c for more details about minimum timing           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               requirements when calling USBDeviceTasks().                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               When the USB stack is operated in "USB_INTERRUPT" mode, it is not necessary  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               to call USBDeviceTasks() from the main loop context.  In the USB_INTERRUPT   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               mode, the USBDeviceTasks() handler only needs to execute when a USB          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               interrupt occurs, and therefore only needs to be called from the interrupt   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               context.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function is the main state machine/transaction handler of the USB       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               device side stack.  When the USB stack is operated in "USB_POLLING" mode     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               (usb_config.h user option) the USBDeviceTasks() function should be called    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               periodically to receive and transmit packets through the stack. This         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               function also takes care of control transfers associated with the USB        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               enumeration process, and detecting various USB events (such as suspend).     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function should be called at least once every 1.8ms during the USB      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               enumeration process. After the enumeration process is complete (which can    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               be determined when USBGetDeviceState() returns CONFIGURED_STATE), the        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBDeviceTasks() handler may be called the faster of: either once            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               every 9.8ms, or as often as needed to make sure that the hardware USTAT      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               FIFO never gets full.  A good rule of thumb is to call USBDeviceTasks() at   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               a minimum rate of either the frequency that USBTransferOnePacket() gets      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               called, or, once/1.8ms, whichever is faster.  See the inline code comments   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               near the top of usb_device.c for more details about minimum timing           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               requirements when calling USBDeviceTasks().                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               When the USB stack is operated in "USB_INTERRUPT" mode, it is not necessary  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               to call USBDeviceTasks() from the main loop context.  In the USB_INTERRUPT   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               mode, the USBDeviceTasks() handler only needs to execute when a USB          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               interrupt occurs, and therefore only needs to be called from the interrupt   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               context.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Typical usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               void main(void)                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBDeviceInit();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   while(1)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBDeviceTasks(); //Takes care of enumeration and other USB events   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       if((USBGetDeviceState() \< CONFIGURED_STATE) ||                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                          (USBIsDeviceSuspended() == TRUE))                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Either the device is not configured or we are suspended,       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           // so we don't want to execute any USB related application code  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           continue;   //go back to the top of the while loop               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       else                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Otherwise we are free to run USB and non-USB related user      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //application code.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           UserApplication();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Precondition:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Make sure the USBDeviceInit() function has been called prior to calling      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBDeviceTasks() for the first time.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBDeviceTasks() does not need to be called while in the USB suspend mode,   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if the user application firmware in the USBCBSuspend() callback function     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               enables the ACTVIF USB interrupt source and put the microcontroller into     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               sleep mode.  If the application firmware decides not to sleep the            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               microcontroller core during USB suspend (ex: continues running at full       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               frequency, or clock switches to a lower frequency), then the USBDeviceTasks() D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               function must still be called periodically, at a rate frequent enough to     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               ensure the 10ms resume recovery interval USB specification is met.  Assuming D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               a worst case primary oscillator and PLL start up time of <5ms, then          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBDeviceTasks() should be called once every 5ms in this scenario.           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               When the USB cable is detached, or the USB host is not actively powering     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the VBUS line to +5V nominal, the application firmware does not always have  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               to call USBDeviceTasks() frequently, as no USB activity will be taking       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               place.  However, if USBDeviceTasks() is not called regularly, some           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               alternative means of promptly detecting when VBUS is powered (indicating     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               host attachment), or not powered (host powered down or USB cable unplugged)  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               is still needed.  For self or dual self/bus powered USB applications, see    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the USBDeviceAttach() and USBDeviceDetach() API documentation for additional  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               considerations.                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             **************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(USB_INTERRUPT)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(__18CXX) || defined (_PIC14E)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               void USBDeviceTasks(void)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             #elif defined(__C30__) || defined __XC16__                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               void __attribute__((interrupt,auto_psv)) _USB1Interrupt()                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             #elif defined(__PIC32MX__)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               void __attribute__((interrupt(),vector(_USB_1_VECTOR))) _USB1Interrupt( void )  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             #endif                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00662e   ec1b     CALL      0x7236,0x0     void USBDeviceTasks(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006630   f039                                                                                                               
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE i;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #ifdef USB_SUPPORT_OTG                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //SRP Time Out Check                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if (USBOTGSRPIsReady())                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if (USBT1MSECIF && USBT1MSECIE)                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       if (USBOTGGetSRPTimeOutFlag())                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           if (USBOTGIsSRPTimeOutExpired())                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               USB_OTGEventHandler(0,OTG_EVENT_SRP_FAILED,0,0);             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Clear Interrupt Flag                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBClearInterruptFlag(USBT1MSECIFReg,USBT1MSECIFBitNum);             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(USB_POLLING)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If the interrupt option is selected then the customer is required          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //  to notify the stack when the device is attached or removed from the      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //  bus by calling the USBDeviceAttach() and USBDeviceDetach() functions.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006632   be82     BTFSC     0x82,0x7,0x0       if (USB_BUS_SENSE != 1u)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006634   d006     BRA       0x6642                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    // Disable module & detach from bus                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006636   6a65     CLRF      0x65,0x0                U1CON = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    // Mask all USB interrupts                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006638   010f     MOVLB     0xf                     U1IE = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00663a   6b36     CLRF      0x36,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    //Move to the detached state                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00663c   0105     MOVLB     0x5                     USBDeviceState = DETACHED_STATE;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00663e   6bbc     CLRF      0xbc,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #ifdef  USB_SUPPORT_OTG                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Disable D+ Pullup                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        U1OTGCONbits.DPPULUP = 0;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Disable HNP                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        USBOTGDisableHnp();                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Deactivate HNP                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        USBOTGDeactivateHnp();                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //If ID Pin Changed State                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        if (USBIDIF && USBIDIE)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        {                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            //Re-detect & Initialize                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                             USBOTGInitialize();                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                             //Clear ID Interrupt Flag                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                             USBClearInterruptFlag(USBIDIFReg,USBIDIFBitNum);               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        }                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #endif                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #if defined __C30__ || defined __XC16__                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //USBClearInterruptFlag(U1OTGIR, 3);                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #endif                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //return so that we don't go through the rest of                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //the state machine                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBClearUSBInterrupt();                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006640   d06f     BRA       0x6720                  return;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	#ifdef USB_SUPPORT_OTG                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If Session Is Started Then                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	{                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //If SRP Is Ready                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if (USBOTGSRPIsReady())                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Clear SRPReady                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGClearSRPReady();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Clear SRP Timeout Flag                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGClearSRPTimeOutFlag();                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Indicate Session Started                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       UART2PrintString( "\r\n***** USB OTG B Event - Session Started  *****\r\n" ); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	#endif	//#ifdef USB_SUPPORT_OTG                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //if we are in the detached state                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006642   0105     MOVLB     0x5                if(USBDeviceState == DETACHED_STATE)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006644   51bc     MOVF      0xbc,0x0,0x1                                                                                    
006646   e10c     BNZ       0x6660                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //Initialize register to known value                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006648   6a65     CLRF      0x65,0x0               U1CON = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   // Mask all USB interrupts                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00664a   010f     MOVLB     0xf                    U1IE = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00664c   6b36     CLRF      0x36,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Enable/set things like: pull ups, full/low-speed mode,                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //set the ping pong mode, and set internal transceiver                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00664e   ecb9     CALL      0x7172,0x0             SetConfigurationOptions();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006650   f038                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   // Enable module & attach to bus                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006652   b665     BTFSC     0x65,0x3,0x0           while(!U1CONbits.USBEN){U1CONbits.USBEN = 1;}                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006654   d002     BRA       0x665a                                                                                          
006656   8665     BSF       0x65,0x3,0x0                                                                                    
006658   d7fc     BRA       0x6652                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //moved to the attached state                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00665a   0105     MOVLB     0x5                    USBDeviceState = ATTACHED_STATE;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00665c   0e01     MOVLW     0x1                                                                                             
00665e   6fbc     MOVWF     0xbc,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #ifdef  USB_SUPPORT_OTG                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       U1OTGCON |= USB_OTG_DPLUS_ENABLE | USB_OTG_ENABLE;                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	#endif  //#if defined(USB_POLLING)                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006660   05bc     DECF      0xbc,0x0,0x1       if(USBDeviceState == ATTACHED_STATE)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006662   e10a     BNZ       0x6678                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    * After enabling the USB module, it takes some time for the             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    * voltage on the D+ or D- line to rise high enough to get out           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    * of the SE0 condition. The USB Reset interrupt should not be           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    * unmasked until the SE0 condition is cleared. This helps               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    * prevent the firmware from misinterpreting this unique event           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    * as a USB bus reset from the USB host.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006664   ba65     BTFSC     0x65,0x5,0x0           if(!USBSE0Event)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006666   d008     BRA       0x6678                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006668   6a62     CLRF      0x62,0x0                   USBClearInterruptRegister(U1IR);// Clear all USB interrupts          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #if defined(USB_POLLING)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00666a   010f     MOVLB     0xf                            U1IE=0;                        // Mask all USB interrupts        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00666c   6b36     CLRF      0x36,0x1                                                                                        
                                                       #endif                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00666e   8136     BSF       0x36,0x0,0x1               USBResetIE = 1;             // Unmask RESET interrupt                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006670   8936     BSF       0x36,0x4,0x1               USBIdleIE = 1;             // Unmask IDLE interrupt                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006672   0105     MOVLB     0x5                        USBDeviceState = POWERED_STATE;                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006674   0e02     MOVLW     0x2                                                                                             
006676   6fbc     MOVWF     0xbc,0x1                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #ifdef  USB_SUPPORT_OTG                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //If ID Pin Changed State                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if (USBIDIF && USBIDIE)                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Re-detect & Initialize                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGInitialize();                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBClearInterruptFlag(USBIDIFReg,USBIDIFBitNum);                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Task A: Service USB Activity Interrupt                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006678   5062     MOVF      0x62,0x0,0x0       if(USBActivityIF && USBActivityIE)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00667a   0b04     ANDLW     0x4                                                                                             
00667c   e006     BZ        0x668a                                                                                          
00667e   010f     MOVLB     0xf                                                                                             
006680   5136     MOVF      0x36,0x0,0x1                                                                                    
006682   0b04     ANDLW     0x4                                                                                             
006684   e002     BZ        0x668a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006686   9462     BCF       0x62,0x2,0x0           USBClearInterruptFlag(USBActivityIFReg,USBActivityIFBitNum);             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if defined(USB_SUPPORT_OTG)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       U1OTGIR = 0x10;                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #else                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006688   db47     RCALL     0x6d18                     USBWakeFromSuspend();                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Pointless to continue servicing if the device is in suspend mode.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00668a   b265     BTFSC     0x65,0x1,0x0       if(USBSuspendControl==1u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00668c   d049     BRA       0x6720                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBClearUSBInterrupt();                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Task B: Service USB Bus Reset Interrupt.                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * When bus reset is received during suspend, ACTVIF will be set first,      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * once the UCONbits.SUSPND is clear, then the URSTIF bit will be asserted.  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * This is why URSTIF is checked after ACTVIF.                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * The USB reset flag is masked when the USB state is in                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * DETACHED_STATE or ATTACHED_STATE, and therefore cannot                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * cause a USB reset event during these two states.                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00668e   5062     MOVF      0x62,0x0,0x0       if(USBResetIF && USBResetIE)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006690   0b01     ANDLW     0x1                                                                                             
006692   e009     BZ        0x66a6                                                                                          
006694   010f     MOVLB     0xf                                                                                             
006696   5136     MOVF      0x36,0x0,0x1                                                                                    
006698   0b01     ANDLW     0x1                                                                                             
00669a   e005     BZ        0x66a6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00669c   df62     RCALL     0x6562                 USBDeviceInit();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Re-enable the interrupts since the USBDeviceInit() function will       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //  disable them.  This will do nothing in a polling setup               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBUnmaskInterrupts();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00669e   0105     MOVLB     0x5                    USBDeviceState = DEFAULT_STATE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0066a0   0e04     MOVLW     0x4                                                                                             
0066a2   6fbc     MOVWF     0xbc,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #ifdef USB_SUPPORT_OTG                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Disable HNP                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        USBOTGDisableHnp();                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Deactivate HNP                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        USBOTGDeactivateHnp();                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0066a4   9062     BCF       0x62,0x0,0x0           USBClearInterruptFlag(USBResetIFReg,USBResetIFBitNum);                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Task C: Service other USB interrupts                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0066a6   5062     MOVF      0x62,0x0,0x0       if(USBIdleIF && USBIdleIE)                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0066a8   0b10     ANDLW     0x10                                                                                            
0066aa   e006     BZ        0x66b8                                                                                          
0066ac   010f     MOVLB     0xf                                                                                             
0066ae   5136     MOVF      0x36,0x0,0x1                                                                                    
0066b0   0b10     ANDLW     0x10                                                                                            
0066b2   e002     BZ        0x66b8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #ifdef  USB_SUPPORT_OTG                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //If Suspended, Try to switch to Host                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGSelectRole(ROLE_HOST);                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #else                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0066b4   db26     RCALL     0x6d02                     USBSuspend();                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0066b6   9862     BCF       0x62,0x4,0x0           USBClearInterruptFlag(USBIdleIFReg,USBIdleIFBitNum);                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0066b8   ac62     BTFSS     0x62,0x6,0x0       if(USBSOFIF)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0066ba   d010     BRA       0x66dc                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0066bc   010f     MOVLB     0xf                    if(USBSOFIE)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0066be   ad36     BTFSS     0x36,0x6,0x1                                                                                    
0066c0   d005     BRA       0x66cc                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0066c2   ecc0     CALL      0x7180,0x0                 USB_SOF_HANDLER(EVENT_SOF,0,1);                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0066c4   f038                                                                                                               
0066c6   0e73     MOVLW     0x73                                                                                            
0066c8   ec39     CALL      0x7072,0x0                                                                                      
0066ca   f038                                                                                                               
007180   0e01     MOVLW     0x1                                                                                             
007182   6ee6     MOVWF     0xe6,0x0                                                                                        
007184   6ae6     CLRF      0xe6,0x0                                                                                        
007186   0e00     MOVLW     0x0                                                                                             
007188   6ee6     MOVWF     0xe6,0x0                                                                                        
00718a   6ae6     CLRF      0xe6,0x0                                                                                        
00718c   0012     RETURN    0x0                                                                                             
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0066cc   9c62     BCF       0x62,0x6,0x0           USBClearInterruptFlag(USBSOFIFReg,USBSOFIFBitNum);                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if defined(USB_ENABLE_STATUS_STAGE_TIMEOUTS)                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Supporting this feature requires a 1ms timebase for keeping track of the timeout interval. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #if(USB_SPEED_OPTION == USB_LOW_SPEED)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #warning "Double click this message.  See inline code comments." D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //The "USB_ENABLE_STATUS_STAGE_TIMEOUTS" feature is optional and is D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //not strictly needed in all applications (ex: those that never call  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //USBDeferStatusStage() and don't use host to device (OUT) control D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //transfers with data stage).                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //However, if this feature is enabled and used, it requires a timer  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //(preferrably 1ms) to decrement the USBStatusStageTimeoutCounter.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //In USB Full Speed applications, the host sends Start-of-Frame (SOF)  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //packets at a 1ms rate, which generates SOFIF interrupts.       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //These interrupts can be used to decrement USBStatusStageTimeoutCounter as shown  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //below.  However, the host does not send SOF packets to Low Speed devices.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Therefore, some other method  (ex: using a general purpose microcontroller  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //timer, such as Timer0) needs to be implemented to call and execute the below code D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //at a once/1ms rate, in a low speed USB application.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Note: Pre-condition to executing the below code: USBDeviceInit() should have D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //been called at least once (since the last microcontroller reset/power up),  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //prior to executing the below code.                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #endif                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Decrement our status stage counter.                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0066ce   0105     MOVLB     0x5                        if(USBStatusStageTimeoutCounter != 0u)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0066d0   51ea     MOVF      0xea,0x0,0x1                                                                                    
0066d2   e001     BZ        0x66d6                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0066d4   07ea     DECF      0xea,0x1,0x1                   USBStatusStageTimeoutCounter--;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Check if too much time has elapsed since progress was made in      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //processing the control transfer, without arming the status stage.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //If so, auto-arm the status stage to ensure that the control        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //transfer can [eventually] complete, within the timing limits       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //dictated by section 9.2.6 of the official USB 2.0 specifications.  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0066d6   51ea     MOVF      0xea,0x0,0x1               if(USBStatusStageTimeoutCounter == 0u)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0066d8   e101     BNZ       0x66dc                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0066da   d8f4     RCALL     0x68c4                         USBCtrlEPAllowStatusStage();    //Does nothing if the status stage was already armed. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0066dc   5062     MOVF      0x62,0x0,0x0       if(USBStallIF && USBStallIE)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0066de   0b20     ANDLW     0x20                                                                                            
0066e0   e005     BZ        0x66ec                                                                                          
0066e2   010f     MOVLB     0xf                                                                                             
0066e4   5136     MOVF      0x36,0x0,0x1                                                                                    
0066e6   0b20     ANDLW     0x20                                                                                            
0066e8   e001     BZ        0x66ec                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0066ea   dafa     RCALL     0x6ce0                 USBStallHandler();                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0066ec   5062     MOVF      0x62,0x0,0x0       if(USBErrorIF && USBErrorIE)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0066ee   0b02     ANDLW     0x2                                                                                             
0066f0   e00c     BZ        0x670a                                                                                          
0066f2   010f     MOVLB     0xf                                                                                             
0066f4   5136     MOVF      0x36,0x0,0x1                                                                                    
0066f6   0b02     ANDLW     0x2                                                                                             
0066f8   e008     BZ        0x670a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0066fa   ecc0     CALL      0x7180,0x0             USB_ERROR_HANDLER(EVENT_BUS_ERROR,0,1);                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0066fc   f038                                                                                                               
0066fe   68e6     SETF      0xe6,0x0                                                                                        
006700   0e7f     MOVLW     0x7f                                                                                            
006702   6ee6     MOVWF     0xe6,0x0                                                                                        
006704   ec2c     CALL      0x7258,0x0                                                                                      
006706   f039                                                                                                               
007258   ec45     CALL      0x868a,0x0                                                                                      
00725a   f043                                                                                                               
00725c   6e4e     MOVWF     0x4e,0x0                                                                                        
00725e   0e06     MOVLW     0x6                                                                                             
007260   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
007262   504e     MOVF      0x4e,0x0,0x0                                                                                    
007264   0012     RETURN    0x0                                                                                             
006708   6a63     CLRF      0x63,0x0               USBClearInterruptRegister(U1EIR);               // This clears UERRIF    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //On PIC18, clearing the source of the error will automatically clear    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //  the interrupt flag.  On other devices the interrupt flag must be     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //  manually cleared.                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if defined(__C32__) || defined(__C30__) || defined __XC16__             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBClearInterruptFlag( USBErrorIFReg, USBErrorIFBitNum );            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Pointless to continue servicing if the host has not sent a bus reset.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Once bus reset is received, the device transitions into the DEFAULT       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * state and is ready for communication.                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00670a   0e04     MOVLW     0x4                if(USBDeviceState < DEFAULT_STATE)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00670c   0105     MOVLB     0x5                                                                                             
00670e   6ee7     MOVWF     0xe7,0x0                                                                                        
006710   19bc     XORWF     0xbc,0x0,0x1                                                                                    
006712   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
006714   d002     BRA       0x671a                                                                                          
006716   34e7     RLCF      0xe7,0x0,0x0                                                                                    
006718   d002     BRA       0x671e                                                                                          
00671a   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00671c   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
00671e   e202     BC        0x6724                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006720   98a1     BCF       0xa1,0x4,0x0   	    USBClearUSBInterrupt();                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006722   d02f     BRA       0x6782         	    return;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	}                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Task D: Servicing USB Transaction Complete Interrupt                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006724   010f     MOVLB     0xf                if(USBTransactionCompleteIE)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006726   a736     BTFSS     0x36,0x3,0x1                                                                                    
006728   d02b     BRA       0x6780                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00672a   6adf     CLRF      0xdf,0x0       	    for(i = 0; i < 4u; i++)	//Drain or deplete the USAT FIFO entries.  If the USB FIFO ever gets full, USB bandwidth  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00672c   0e04     MOVLW     0x4                                                                                             
00672e   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
006730   e227     BC        0x6780                                                                                          
00677c   2adf     INCF      0xdf,0x1,0x0                                                                                    
00677e   d7d6     BRA       0x672c                                                                                          
                                           		{						//utilization can be compromised, and the device won't be able to receive SETUP packets. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006732   a662     BTFSS     0x62,0x3,0x0   		    if(USBTransactionCompleteIF)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006734   d025     BRA       0x6780                                                                                          
                                           		    {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               		    //Save and extract USTAT register info.  Will use this info later.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006736   cf64     MOVFF     0xf64,0x5e1                    USTATcopy.Val = U1STAT;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006738   f5e1                                                                                                               
00673a   0105     MOVLB     0x5                            endpoint_number = USBHALGetLastEndpoint(USTATcopy);              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00673c   51e1     MOVF      0xe1,0x0,0x1                                                                                    
00673e   0b78     ANDLW     0x78                                                                                            
006740   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
006742   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
006744   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
006746   6fe2     MOVWF     0xe2,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006748   9662     BCF       0x62,0x3,0x0                   USBClearInterruptFlag(USBTransactionCompleteIFReg,USBTransactionCompleteIFBitNum); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Keep track of the hardware ping pong state for endpoints other D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //than EP0, if ping pong buffering is enabled.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #if (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0) || (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00674a   b5e1     BTFSC     0xe1,0x2,0x1                       if(USBHALGetLastDirection(USTATcopy) == OUT_FROM_HOST)       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00674c   d004     BRA       0x6756                                                                                          
                                                               {                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00674e   51e2     MOVF      0xe2,0x0,0x1                           ep_data_out[endpoint_number].bits.ping_pong_state ^= 1;  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006750   ec33     CALL      0x7266,0x0                                                                                      
006752   f039                                                                                                               
                                                               }                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006754   d003     BRA       0x675c                             else                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               {                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006756   51e2     MOVF      0xe2,0x0,0x1                           ep_data_in[endpoint_number].bits.ping_pong_state ^= 1;   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006758   ec38     CALL      0x7270,0x0                                                                                      
00675a   f039                                                                                                               
00675c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00675e   70ef     BTG       0xef,0x0,0x0                                                                                    
                                                               }                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #endif                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //USBCtrlEPService only services transactions over EP0.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //It ignores all other EP transactions.                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006760   51e2     MOVF      0xe2,0x0,0x1                   if(endpoint_number == 0u)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006762   e102     BNZ       0x6768                                                                                          
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006764   dae6     RCALL     0x6d32                             USBCtrlEPService();                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006766   d00a     BRA       0x677c                         else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006768   0e00     MOVLW     0x0                                USB_TRANSFER_COMPLETE_HANDLER(EVENT_TRANSFER, (BYTE*)&USTATcopy.Val, 0); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00676a   6ee6     MOVWF     0xe6,0x0                                                                                        
00676c   6ae6     CLRF      0xe6,0x0                                                                                        
00676e   0ee1     MOVLW     0xe1                                                                                            
006770   6ee6     MOVWF     0xe6,0x0                                                                                        
006772   0e05     MOVLW     0x5                                                                                             
006774   6ee6     MOVWF     0xe6,0x0                                                                                        
006776   0e72     MOVLW     0x72                                                                                            
006778   ec39     CALL      0x7072,0x0                                                                                      
00677a   f038                                                                                                               
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		    }//end if(USBTransactionCompleteIF)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		    else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		    	break;	//USTAT FIFO must be empty.                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		}//end for()                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	}//end if(USBTransactionCompleteIE)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006780   98a1     BCF       0xa1,0x4,0x0       USBClearUSBInterrupt();                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006782   52e5     MOVF      0xe5,0x1,0x0   }//end of USBDeviceTasks()                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006784   ef4c     GOTO      0x7098                                                                                          
006786   f038                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************* D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBEnableEndpoint(BYTE ep, BYTE options)                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function will enable the specified endpoint with the specified          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               options                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function will enable the specified endpoint with the specified          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               options.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               void USBCBInitEP(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBEnableEndpoint(MSD_DATA_IN_EP,USB_IN_ENABLED|USB_OUT_ENABLED|USB_HANDSHAKE_ENABLED|USB_DISALLOW_SETUP); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBMSDInit();                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               In the above example endpoint number MSD_DATA_IN_EP is being configured      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               for both IN and OUT traffic with handshaking enabled. Also since             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               MSD_DATA_IN_EP is not endpoint 0 (MSD does not allow this), then we can      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               explicitly disable SETUP packets on this endpoint.                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE ep -       the endpoint to be configured                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE options -  optional settings for the endpoint. The options should       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               be ORed together to form a single options string. The        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               available optional settings for the endpoint. The            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               options should be ORed together to form a single options     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               string. The available options are the following\:            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_HANDSHAKE_ENABLED enables USB handshaking (ACK,        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                 NAK)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_HANDSHAKE_DISABLED disables USB handshaking (ACK,      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                 NAK)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_OUT_ENABLED enables the out direction                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_OUT_DISABLED disables the out direction                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_IN_ENABLED enables the in direction                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_IN_DISABLED disables the in direction                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_ALLOW_SETUP enables control transfers                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_DISALLOW_SETUP disables control transfers              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_STALL_ENDPOINT STALLs this endpoint                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Return:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             *****************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006788   ecec     CALL      0x71d8,0x0     void USBEnableEndpoint(BYTE ep, BYTE options)                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00678a   f038                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               unsigned char* p;                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Use USBConfigureEndpoint() to set up the pBDTEntryIn/Out[ep] pointer and   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //starting DTS state in the BDT entry.                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00678c   0efd     MOVLW     0xfd               if(options & USB_OUT_ENABLED)                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00678e   a4db     BTFSS     0xdb,0x2,0x0                                                                                    
006790   d003     BRA       0x6798                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006792   6ae6     CLRF      0xe6,0x0               USBConfigureEndpoint(ep, OUT_FROM_HOST);                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006794   ecb1     CALL      0x7162,0x0                                                                                      
006796   f038                                                                                                               
007162   0efe     MOVLW     0xfe                                                                                            
007164   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
007166   ffe6                                                                                                               
007168   eca7     CALL      0x694e,0x0                                                                                      
00716a   f034                                                                                                               
00716c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00716e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007170   0012     RETURN    0x0                                                                                             
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006798   0efd     MOVLW     0xfd               if(options & USB_IN_ENABLED)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00679a   a2db     BTFSS     0xdb,0x1,0x0                                                                                    
00679c   d004     BRA       0x67a6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00679e   0e01     MOVLW     0x1                    USBConfigureEndpoint(ep, IN_TO_HOST);                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067a0   6ee6     MOVWF     0xe6,0x0                                                                                        
0067a2   ecb1     CALL      0x7162,0x0                                                                                      
0067a4   f038                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Update the relevant UEPx register to actually enable the endpoint with     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //the specified options (ex: handshaking enabled, control transfers allowed, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //etc.)                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(__C32__)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   p = (unsigned char*)(&U1EP0+(4*ep));                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #else                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067a6   0efe     MOVLW     0xfe                   p = (unsigned char*)(&U1EP0+ep);                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067a8   50db     MOVF      0xdb,0x0,0x0                                                                                    
0067aa   6a4f     CLRF      0x4f,0x0                                                                                        
0067ac   0f26     ADDLW     0x26                                                                                            
0067ae   6e4e     MOVWF     0x4e,0x0                                                                                        
0067b0   0e0f     MOVLW     0xf                                                                                             
0067b2   ecab     CALL      0x7156,0x0                                                                                      
0067b4   f038                                                                                                               
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067b6   ec3d     CALL      0x707a,0x0         *p = options;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067b8   f038                                                                                                               
0067ba   0efd     MOVLW     0xfd                                                                                            
0067bc   cfdb     MOVFF     0xfdb,0xfef                                                                                     
0067be   ffef                                                                                                               
0067c0   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067c2   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0067c4   e202     BC        0x67ca                                                                                          
0067c6   6ae1     CLRF      0xe1,0x0                                                                                        
0067c8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0067ca   6ee1     MOVWF     0xe1,0x0                                                                                        
0067cc   ef4c     GOTO      0x7098                                                                                          
0067ce   f038                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /*************************************************************************       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USB_HANDLE USBTransferOnePacket(BYTE ep, BYTE dir, BYTE* data, BYTE len)     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Transfers a single packet (one transaction) of data on the USB bus.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               The USBTransferOnePacket() function prepares a USB endpoint                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               so that it may send data to the host (an IN transaction), or                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               receive data from the host (an OUT transaction).  The                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBTransferOnePacket() function can be used both to receive	and              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               send data to the host.  This function is the primary API function            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               provided by the USB stack firmware for sending or receiving application      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               data over the USB port.                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               The USBTransferOnePacket() is intended for use with all application          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               endpoints.  It is not used for sending or receiving applicaiton data         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               through endpoint 0 by using control transfers.  Separate API                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               functions, such as USBEP0Receive(), USBEP0SendRAMPtr(), and                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBEP0SendROMPtr() are provided for this purpose.                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               The	USBTransferOnePacket() writes to the Buffer Descriptor Table (BDT)       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               entry associated with an endpoint buffer, and sets the UOWN bit, which       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               prepares the USB hardware to allow the transaction to complete.  The         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               application firmware can use the USBHandleBusy() macro to check the          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               status of the transaction, to see if the data has been successfully          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               transmitted yet.                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Typical Usage                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //make sure that the we are in the configured state                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if(USBGetDeviceState() == CONFIGURED_STATE)                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //make sure that the last transaction isn't busy by checking the handle  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(!USBHandleBusy(USBInHandle))                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        //Write the new data that we wish to send to the host to the INPacket[] array D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        INPacket[0] = USEFUL_APPLICATION_VALUE1;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        INPacket[1] = USEFUL_APPLICATION_VALUE2;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        //INPacket[2] = ... (fill in the rest of the packet data)               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Send the data contained in the INPacket[] array through endpoint "EP_NUM" D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBInHandle = USBTransferOnePacket(EP_NUM,IN_TO_HOST,(BYTE*)&INPacket[0],sizeof(INPacket)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Before calling USBTransferOnePacket(), the following should be true.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               1.  The USB stack has already been initialized (USBDeviceInit() was called). D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               2.  A transaction is not already pending on the specified endpoint.  This    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   is done by checking the previous request using the USBHandleBusy()       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   macro (see the typical usage example).                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               3.  The host has already sent a set configuration request and the            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   enumeration process is complete.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This can be checked by verifying that the USBGetDeviceState()            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   macro returns "CONFIGURED_STATE", prior to calling                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBTransferOnePacket().                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            					                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE ep - The endpoint number that the data will be transmitted or           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	          received on                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE dir - The direction of the transfer                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                          This value is either OUT_FROM_HOST or IN_TO_HOST                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE* data - For IN transactions: pointer to the RAM buffer containing       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            the data to be sent to the host.  For OUT transactions: pointer D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            to the RAM buffer that the received data should get written to. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              BYTE len - Length of the data needing to be sent (for IN transactions).       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                         For OUT transactions, the len parameter should normally be set     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                         to the endpoint size specified in the endpoint descriptor.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Return Values:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USB_HANDLE - handle to the transfer.  The handle is a pointer to             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            the BDT entry associated with this transaction.  The            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            status of the transaction (ex: if it is complete or still       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            pending) can be checked using the USBHandleBusy() macro         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            and supplying the USB_HANDLE provided by                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            USBTransferOnePacket().                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               If calling the USBTransferOnePacket() function from within the USBCBInitEP() D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               callback function, the set configuration is still being processed and the    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBDeviceState may not be == CONFIGURED_STATE yet.  In this	special case,    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the USBTransferOnePacket() may still be called, but make sure that the       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               endpoint has been enabled and initialized by the USBEnableEndpoint()         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               function first.                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             *************************************************************************/     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067d0   ecec     CALL      0x71d8,0x0     USB_HANDLE USBTransferOnePacket(BYTE ep,BYTE dir,BYTE* data,BYTE len)            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067d2   f038                                                                                                               
0071d8   df5a     RCALL     0x708e                                                                                          
0071da   0e02     MOVLW     0x2                                                                                             
0071dc   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
0071de   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               volatile BDT_ENTRY* handle;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If the direction is IN                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067d4   0efd     MOVLW     0xfd               if(dir != 0u)                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067d6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0067d8   e003     BZ        0x67e0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //point to the IN BDT of the specified endpoint                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067da   ec34     CALL      0x7068,0x0             handle = pBDTEntryIn[ep];                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067dc   f038                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067de   d002     BRA       0x67e4             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //else point to the OUT BDT of the specified endpoint                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067e0   ec6b     CALL      0x70d6,0x0             handle = pBDTEntryOut[ep];                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067e2   f038                                                                                                               
0067e4   ec97     CALL      0x712e,0x0                                                                                      
0067e6   f038                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Error checking code.  Make sure the handle (pBDTEntryIn[ep] or             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //pBDTEntryOut[ep]) is initialized before using it.                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067e8   cfd9     MOVFF     0xfd9,0xfe9        if(handle == 0)                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067ea   ffe9                                                                                                               
0067ec   cfda     MOVFF     0xfda,0xfea                                                                                     
0067ee   ffea                                                                                                               
0067f0   50ee     MOVF      0xee,0x0,0x0                                                                                    
0067f2   10ed     IORWF     0xed,0x0,0x0                                                                                    
0067f4   e103     BNZ       0x67fc                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067f6   6af3     CLRF      0xf3,0x0       	    return 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067f8   6af4     CLRF      0xf4,0x0                                                                                        
0067fa   d028     BRA       0x684c                                                                                          
                                           	}                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Toggle the DTS bit if required                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if (USB_PING_PONG_MODE == USB_PING_PONG__NO_PING_PONG)                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   handle->STAT.Val ^= _DTSMASK;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #elif (USB_PING_PONG_MODE == USB_PING_PONG__EP0_OUT_ONLY)                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(ep != 0)                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       handle->STAT.Val ^= _DTSMASK;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Set the data pointer, data length, and enable the endpoint                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067fc   ec3d     CALL      0x707a,0x0         handle->ADR = ConvertToPhysicalAddress(data);                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067fe   f038                                                                                                               
006800   ec47     CALL      0x728e,0x0                                                                                      
006802   f039                                                                                                               
006804   0efb     MOVLW     0xfb                                                                                            
006806   cfdb     MOVFF     0xfdb,0xfee                                                                                     
006808   ffee                                                                                                               
00680a   0efc     MOVLW     0xfc                                                                                            
00680c   cfdb     MOVFF     0xfdb,0xfed                                                                                     
00680e   ffed                                                                                                               
006810   ec3d     CALL      0x707a,0x0         handle->CNT = len;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006812   f038                                                                                                               
006814   52ee     MOVF      0xee,0x1,0x0                                                                                    
006816   0efa     MOVLW     0xfa                                                                                            
006818   cfdb     MOVFF     0xfdb,0xfef                                                                                     
00681a   ffef                                                                                                               
00681c   0e40     MOVLW     0x40               handle->STAT.Val &= _DTSMASK;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00681e   ec3d     CALL      0x727a,0x0                                                                                      
006820   f039                                                                                                               
006822   0e88     MOVLW     0x88               handle->STAT.Val |= _USIE | (_DTSEN & _DTS_CHECKING_ENABLED);                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006824   ec4c     CALL      0x7298,0x0                                                                                      
006826   f039                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Point to the next buffer for ping pong purposes.                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006828   0efd     MOVLW     0xfd               if(dir != OUT_FROM_HOST)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00682a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00682c   e003     BZ        0x6834                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //toggle over the to the next buffer for an IN endpoint                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00682e   ec34     CALL      0x7068,0x0             USBAdvancePingPongBuffer(&pBDTEntryIn[ep]);                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006830   f038                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006832   d002     BRA       0x6838             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //toggle over the to the next buffer for an OUT endpoint                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006834   ec6b     CALL      0x70d6,0x0             USBAdvancePingPongBuffer(&pBDTEntryOut[ep]);                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006836   f038                                                                                                               
006838   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00683a   74ef     BTG       0xef,0x2,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00683c   cfde     MOVFF     0xfde,0x4e         return (USB_HANDLE)handle;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00683e   f04e                                                                                                               
006840   cfdd     MOVFF     0xfdd,0x4f                                                                                      
006842   f04f                                                                                                               
006844   c04e     MOVFF     0x4e,0xff3                                                                                      
006846   fff3                                                                                                               
006848   c04f     MOVFF     0x4f,0xff4                                                                                      
00684a   fff4                                                                                                               
00684c   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00684e   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
006850   e202     BC        0x6856                                                                                          
006852   6ae1     CLRF      0xe1,0x0                                                                                        
006854   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006856   6ee1     MOVWF     0xe1,0x0                                                                                        
006858   ef4c     GOTO      0x7098                                                                                          
00685a   f038                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Function:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBStallEndpoint(BYTE ep, BYTE dir)                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Summary:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Configures the specified endpoint to send STALL to the host, the next   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    time the host tries to access the endpoint.                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               PreCondition:                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Parameters:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   BYTE ep - The endpoint number that should be configured to send STALL.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   BYTE dir - The direction of the endpoint to STALL, either                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                              IN_TO_HOST or OUT_FROM_HOST.                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Return Values:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Remarks:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00685c   ecec     CALL      0x71d8,0x0     void USBStallEndpoint(BYTE ep, BYTE dir)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00685e   f038                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BDT_ENTRY *p;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006860   0efe     MOVLW     0xfe               if(ep == 0u)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006862   50db     MOVF      0xdb,0x0,0x0                                                                                    
006864   e103     BNZ       0x686c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //For control endpoints (ex: EP0), we need to STALL both IN and OUT      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //endpoints.  EP0 OUT must also be prepared to receive the next SETUP    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //packet that will arrrive.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006866   ec03     CALL      0x7206,0x0             pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006868   f039                                                                                                               
007206   df2c     RCALL     0x7060                                                                                          
                                                   pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007208   0e8c     MOVLW     0x8c                   pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT0|(_DTSEN & _DTS_CHECKING_ENABLED)|_BSTALL; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00720a   6eef     MOVWF     0xef,0x0                                                                                        
00720c   df3b     RCALL     0x7084                 pBDTEntryIn[0]->STAT.Val = _USIE|_BSTALL;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00720e   0e84     MOVLW     0x84                                                                                            
007210   6eef     MOVWF     0xef,0x0                                                                                        
007212   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00686a   d009     BRA       0x687e             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00686c   ec70     CALL      0x70e0,0x0             p = (BDT_ENTRY*)(&BDT[EP(ep,dir,0)]);                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00686e   f038                                                                                                               
006870   ecda     CALL      0x71b4,0x0                                                                                      
006872   f038                                                                                                               
0071b4   0d04     MULLW     0x4                                                                                             
0071b6   cff3     MOVFF     0xff3,0x4e                                                                                      
0071b8   f04e                                                                                                               
0071ba   cff4     MOVFF     0xff4,0x4f                                                                                      
0071bc   f04f                                                                                                               
0071be   0e00     MOVLW     0x0                                                                                             
0071c0   264e     ADDWF     0x4e,0x1,0x0                                                                                    
0071c2   0e04     MOVLW     0x4                                                                                             
0071c4   dfc8     RCALL     0x7156                                                                                          
0071c6   0e84     MOVLW     0x84                   p->STAT.Val |= _BSTALL | _USIE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071c8   ef4c     GOTO      0x7298                                                                                          
0071ca   f039                                                                                                               
007298   def0     RCALL     0x707a                                                                                          
00729a   50e8     MOVF      0xe8,0x0,0x0                                                                                    
00729c   12ef     IORWF     0xef,0x1,0x0                                                                                    
00729e   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //If the device is in FULL or ALL_BUT_EP0 ping pong modes                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //then stall that entry as well                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG) || (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006874   ec70     CALL      0x70e0,0x0             p = (BDT_ENTRY*)(&BDT[EP(ep,dir,1)]);                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006876   f038                                                                                                               
006878   0f01     ADDLW     0x1                                                                                             
00687a   ecda     CALL      0x71b4,0x0                                                                                      
00687c   f038                                                                                                               
007156   224f     ADDWFC    0x4f,0x1,0x0                                                                                    
007158   c04e     MOVFF     0x4e,0xfde                                                                                      
00715a   ffde                                                                                                               
00715c   c04f     MOVFF     0x4f,0xfdd                                                                                      
00715e   ffdd                                                                                                               
007160   0012     RETURN    0x0                                                                                             
                                                   p->STAT.Val |= _BSTALL | _USIE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00687e   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006880   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
006882   e202     BC        0x6888                                                                                          
006884   6ae1     CLRF      0xe1,0x0                                                                                        
006886   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006888   6ee1     MOVWF     0xe1,0x0                                                                                        
00688a   ef4c     GOTO      0x7098                                                                                          
00688c   f038                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Function:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBCancelIO(BYTE endpoint)                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Description:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function cancels the transfers pending on the specified endpoint.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function can only be used after a SETUP packet is received and      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   before that setup packet is handled.  This is the time period in which   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   the EVENT_EP0_REQUEST is thrown, before the event handler function       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   returns to the stack.                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Precondition:                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Parameters:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   BYTE endpoint - the endpoint number you wish to cancel the transfers for D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Return Values:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Remarks:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             **************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00688e   ec47     CALL      0x708e,0x0     void USBCancelIO(BYTE endpoint)                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006890   f038                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006892   a865     BTFSS     0x65,0x4,0x0       if(USBPacketDisable == 1u)                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006894   d016     BRA       0x68c2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               	//The PKTDIS bit is currently set right now.  It is therefore "safe"        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               	//to mess with the BDT right now.                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006896   ec14     CALL      0x7228,0x0         	pBDTEntryIn[endpoint]->Val &= _DTSMASK;	//Makes UOWN = 0 (_UCPU mode).  Deactivates endpoint.  Only sends NAKs. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006898   f039                                                                                                               
00689a   0e40     MOVLW     0x40                                                                                            
00689c   16ee     ANDWF     0xee,0x1,0x0                                                                                    
00689e   6aee     CLRF      0xee,0x0                                                                                        
0068a0   6aee     CLRF      0xee,0x0                                                                                        
0068a2   6aee     CLRF      0xee,0x0                                                                                        
0068a4   ec14     CALL      0x7228,0x0         	pBDTEntryIn[endpoint]->Val ^= _DTSMASK;	//Toggle the DTS bit.  This packet didn't get sent yet, and the next call to USBTransferOnePacket() will re-toggle the DTS bit back to the original (correct) value. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068a6   f039                                                                                                               
0068a8   7cee     BTG       0xee,0x6,0x0                                                                                    
                                               	                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               	//Need to do additional handling if ping-pong buffering is being used       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if ((USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG) || (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0)) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Point to the next buffer for ping pong purposes.  UOWN getting cleared D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //(either due to SIE clearing it after a transaction, or the firmware    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //clearing it) makes hardware ping pong pointer advance.                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068aa   dbde     RCALL     0x7068                 USBAdvancePingPongBuffer(&pBDTEntryIn[endpoint]);                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068ac   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0068ae   74ef     BTG       0xef,0x2,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068b0   0e40     MOVLW     0x40               	pBDTEntryIn[endpoint]->STAT.Val &= _DTSMASK;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068b2   6e4e     MOVWF     0x4e,0x0                                                                                        
0068b4   ec14     CALL      0x7228,0x0                                                                                      
0068b6   f039                                                                                                               
0068b8   504e     MOVF      0x4e,0x0,0x0                                                                                    
0068ba   16ef     ANDWF     0xef,0x1,0x0                                                                                    
0068bc   ec14     CALL      0x7228,0x0         	pBDTEntryIn[endpoint]->STAT.Val ^= _DTSMASK;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068be   f039                                                                                                               
0068c0   7cef     BTG       0xef,0x6,0x0                                                                                    
007228   df1f     RCALL     0x7068                                                                                          
00722a   ef84     GOTO      0x7108                                                                                          
00722c   f038                                                                                                               
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068c2   d3ea     BRA       0x7098         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Function:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBDeviceDetach(void)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Summary:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function configures the USB module to "soft detach" itself from     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   the USB host.                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Description:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function configures the USB module to perform a "soft detach"       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   operation, by disabling the D+ (or D-) ~1.5k pull up resistor, which     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   lets the host know the device is present and attached.  This will make   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   the host think that the device has been unplugged.  This is potentially  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   useful, as it allows the USB device to force the host to re-enumerate    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   the device (on the firmware has re-enabled the USB module/pull up, by    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   calling USBDeviceAttach(), to "soft re-attach" to the host).             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Precondition:                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Should only be called when USB_INTERRUPT is defined.  See remarks        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   section if USB_POLLING mode option is being used (usb_config.h option).  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Additionally, this function should only be called from the main() loop   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   context.  Do not call this function from within an interrupt handler, as  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   this function may modify global interrupt enable bits and settings.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Parameters:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Return Values:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Remarks:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   If the application firmware calls USBDeviceDetach(), it is strongly      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   recommended that the firmware wait at least >= 80ms before calling       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBDeviceAttach().  If the firmeware performs a soft detach, and then    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   re-attaches too soon (ex: after a few micro seconds for instance), some  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   hosts may interpret this as an unexpected "glitch" rather than as a      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   physical removal/re-attachment of the USB device.  In this case the host D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   may simply ignore the event without re-enumerating the device.  To       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   ensure that the host properly detects and processes the device soft      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   detach/re-attach, it is recommended to make sure the device remains      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   detached long enough to mimic a real human controlled USB                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   unplug/re-attach event (ex: after calling USBDeviceDetach(), do not      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   call USBDeviceAttach() for at least 80+ms, preferrably longer.           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Neither the USBDeviceDetach() or USBDeviceAttach() functions are blocking D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   or take long to execute.  It is the application firmware's               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   responsibility for adding the 80+ms delay, when using these API          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   functions.                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Note: The Windows plug and play event handler processing is fairly       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   slow, especially in certain versions of Windows, and for certain USB     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   device classes.  It has been observed that some device classes need to   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   provide even more USB detach dwell interval (before calling              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBDeviceAttach()), in order to work correctly after re-enumeration.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   If the USB device is a CDC class device, it is recommended to wait       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   at least 1.5 seconds or longer, before soft re-attaching to the host,    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   to provide the plug and play event handler enough time to finish         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   processing the removal event, before the re-attach occurs.               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   If the application is using the USB_POLLING mode option, then the        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBDeviceDetach() and USBDeviceAttach() functions are not available.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   In this mode, the USB stack relies on the "#define USE_USB_BUS_SENSE_IO"  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   and "#define USB_BUS_SENSE" options in the                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   HardwareProfile  [platform name].h file.                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   When using the USB_POLLING mode option, and the                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   "#define USE_USB_BUS_SENSE_IO" definition has been commented out, then   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   the USB stack assumes that it should always enable the USB module at     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   pretty much all times.  Basically, anytime the application firmware      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   calls USBDeviceTasks(), the firmware will automatically enable the USB   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   module.  This mode would typically be selected if the application was    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   designed to be a purely bus powered device.  In this case, the           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   application is powered from the +5V VBUS supply from the USB port, so    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   it is correct and sensible in this type of application to power up and   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   turn on the USB module, at anytime that the microcontroller is           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   powered (which implies the USB cable is attached and the host is also    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   powered).                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   In a self powered application, the USB stack is designed with the        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   intention that the user will enable the "#define USE_USB_BUS_SENSE_IO"   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   option in the HardwareProfile  [platform name].h file.  When this     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   option is defined, then the USBDeviceTasks() function will automatically  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   check the I/O pin port value of the designated pin (based on the         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #define USB_BUS_SENSE option in the HardwareProfile  [platform name].h  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   file), every time the application calls USBDeviceTasks().  If the        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBDeviceTasks() function is executed and finds that the pin defined by  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   the #define USB_BUS_SENSE is in a logic low state, then it will          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   automatically disable the USB module and tri-state the D+ and D- pins.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   If however the USBDeviceTasks() function is executed and finds the pin   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   defined by the #define USB_BUS_SENSE is in a logic high state, then it   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   will automatically enable the USB module, if it has not already been     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   enabled.                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             **************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(USB_INTERRUPT)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           void USBDeviceDetach(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If the interrupt option is selected then the customer is required          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //  to notify the stack when the device is attached or removed from the      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //  bus by calling the USBDeviceAttach() and USBDeviceDetach() functions.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #ifdef USB_SUPPORT_OTG                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if (USB_BUS_SENSE != 1)                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    // Disable module & detach from bus                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    U1CON = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    // Mask all USB interrupts                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    U1IE = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    //Move to the detached state                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBDeviceState = DETACHED_STATE;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #ifdef  USB_SUPPORT_OTG                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Disable D+ Pullup                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        U1OTGCONbits.DPPULUP = 0;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Disable HNP                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        USBOTGDisableHnp();                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Deactivate HNP                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        USBOTGDeactivateHnp();                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //If ID Pin Changed State                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        if (USBIDIF && USBIDIE)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        {                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            //Re-detect & Initialize                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                             USBOTGInitialize();                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                             //Clear ID Interrupt Flag                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                             USBClearInterruptFlag(USBIDIFReg,USBIDIFBitNum);               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        }                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #endif                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #if defined __C30__ || defined __XC16__                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //USBClearInterruptFlag(U1OTGIR, 3);                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #endif                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //return so that we don't go through the rest of                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //the state machine                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                     return;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #ifdef USB_SUPPORT_OTG                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If Session Is Started Then                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              else                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              {                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //If SRP Is Ready                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if (USBOTGSRPIsReady())                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Clear SRPReady                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGClearSRPReady();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Clear SRP Timeout Flag                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGClearSRPTimeOutFlag();                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Indicate Session Started                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       UART2PrintString( "\r\n***** USB OTG B Event - Session Started  *****\r\n" ); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif  //#if defined(USB_INTERRUPT)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Function:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBDeviceAttach(void)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Summary:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Checks if VBUS is present, and that the USB module is not already        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   initalized, and if so, enables the USB module so as to signal device     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   attachment to the USB host.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Description:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function indicates to the USB host that the USB device has been     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   attached to the bus.  This function needs to be called in order for the  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   device to start to enumerate on the bus.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Precondition:                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Should only be called when USB_INTERRUPT is defined.  Also, should only  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   be called from the main() loop context.  Do not call USBDeviceAttach()   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   from within an interrupt handler, as the USBDeviceAttach() function      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   may modify global interrupt enable bits and settings.                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   For normal USB devices:                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Make sure that if the module was previously on, that it has been turned off  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   for a long time (ex: 100ms+) before calling this function to re-enable the module. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   If the device turns off the D+ (for full speed) or D- (for low speed) ~1.5k ohm D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   pull up resistor, and then turns it back on very quickly, common hosts will sometimes  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   reject this event, since no human could ever unplug and reattach a USB device in a  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   microseconds (or nanoseconds) timescale.  The host could simply treat this as some kind  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   of glitch and ignore the event altogether.                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Parameters:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Return Values:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Remarks:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		See also the USBDeviceDetach() API function documentation.                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           ****************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(USB_INTERRUPT)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           void USBDeviceAttach(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //if we are in the detached state                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if(USBDeviceState == DETACHED_STATE)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(USB_BUS_SENSE == 1)                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               	    //Initialize registers to known states.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       U1CON = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       // Mask all USB interrupts                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       U1IE = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Configure things like: pull ups, full/low-speed mode,              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //set the ping pong mode, and set internal transceiver               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       SetConfigurationOptions();                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBEnableInterrupts();  //Modifies global interrupt settings         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       // Enable module & attach to bus                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       while(!U1CONbits.USBEN){U1CONbits.USBEN = 1;}                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //moved to the attached state                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBDeviceState = ATTACHED_STATE;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #ifdef  USB_SUPPORT_OTG                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           U1OTGCON = USB_OTG_DPLUS_ENABLE | USB_OTG_ENABLE;                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #endif                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif  //#if defined(USB_INTERRUPT)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************* D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Function: void USBCtrlEPAllowStatusStage(void);                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Summary: This function prepares the proper endpoint 0 IN or endpoint 0 OUT     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       (based on the controlTransferState) to allow the status stage packet D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       of a control transfer to complete.  This function gets used          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       internally by the USB stack itself, but it may also be called from   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       the application firmware, IF the application firmware called         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       the USBDeferStatusStage() function during the initial processing     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       of the control transfer request.  In this case, the application      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       must call the USBCtrlEPAllowStatusStage() once, after it has fully   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       completed processing and handling the data stage portion of the      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       request.                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       If the application firmware has no need for delaying control         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       transfers, and therefore never calls USBDeferStatusStage(), then the D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       application firmware should not call USBCtrlEPAllowStatusStage().    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Return:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             *****************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           void USBCtrlEPAllowStatusStage(void)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Check and set two flags, prior to actually modifying any BDT entries.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //This double checking is necessary to make certain that                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //USBCtrlEPAllowStatusStage() can be called twice simultaneously (ex: once   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //in main loop context, while simultaneously getting an interrupt which      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //tries to call USBCtrlEPAllowStatusStage() again, at the same time).        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068c4   0105     MOVLB     0x5                if(USBStatusStageEnabledFlag1 == FALSE)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068c6   51ec     MOVF      0xec,0x0,0x1                                                                                    
0068c8   e122     BNZ       0x690e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068ca   0e01     MOVLW     0x1                    USBStatusStageEnabledFlag1 = TRUE;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068cc   6fec     MOVWF     0xec,0x1                                                                                        
0068ce   51ed     MOVF      0xed,0x0,0x1           if(USBStatusStageEnabledFlag2 == FALSE)                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068d0   e11e     BNZ       0x690e                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068d2   0e01     MOVLW     0x1                        USBStatusStageEnabledFlag2 = TRUE;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068d4   6fed     MOVWF     0xed,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Determine which endpoints (EP0 IN or OUT needs arming for the status D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //stage), based on the type of control transfer currently pending.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068d6   0e02     MOVLW     0x2                        if(controlTransferState == CTRL_TRF_RX)                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068d8   5dd0     SUBWF     0xd0,0x0,0x1                                                                                    
0068da   e107     BNZ       0x68ea                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068dc   dbd3     RCALL     0x7084                         pBDTEntryIn[0]->CNT = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068de   52ee     MOVF      0xee,0x1,0x0                                                                                    
0068e0   6aef     CLRF      0xef,0x0                                                                                        
0068e2   dbd0     RCALL     0x7084                         pBDTEntryIn[0]->STAT.Val = _USIE|_DAT1|(_DTSEN & _DTS_CHECKING_ENABLED);         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068e4   0ec8     MOVLW     0xc8                                                                                            
0068e6   6eef     MOVWF     0xef,0x0                                                                                        
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068e8   0012     RETURN    0x0                        else if(controlTransferState == CTRL_TRF_TX)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068ea   05d0     DECF      0xd0,0x0,0x1                                                                                    
0068ec   e110     BNZ       0x690e                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068ee   6be3     CLRF      0xe3,0x1               		BothEP0OutUOWNsSet = FALSE;	//Indicator flag used in USBCtrlTrfOutHandler() D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //This buffer (when ping pong buffering is enabled on EP0 OUT) receives the D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //next SETUP packet.                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   		#if((USB_PING_PONG_MODE == USB_PING_PONG__EP0_OUT_ONLY) || (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068f0   dbdf     RCALL     0x70b0                 		pBDTEntryEP0OutCurrent->CNT = USB_EP0_BUFF_SIZE;                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068f2   52ee     MOVF      0xee,0x1,0x0                                                                                    
0068f4   0e40     MOVLW     0x40                                                                                            
0068f6   6eef     MOVWF     0xef,0x0                                                                                        
0068f8   dbdb     RCALL     0x70b0                 		pBDTEntryEP0OutCurrent->ADR = ConvertToPhysicalAddress(&SetupPkt);     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068fa   ece6     CALL      0x71cc,0x0                                                                                      
0068fc   f038                                                                                                               
0068fe   dbd8     RCALL     0x70b0                 		pBDTEntryEP0OutCurrent->STAT.Val = _USIE|_BSTALL; //Prepare endpoint to accept a SETUP transaction D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006900   0e84     MOVLW     0x84                                                                                            
006902   6eef     MOVWF     0xef,0x0                                                                                        
006904   0e01     MOVLW     0x1                    		BothEP0OutUOWNsSet = TRUE;	//Indicator flag used in USBCtrlTrfOutHandler() D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006906   6fe3     MOVWF     0xe3,0x1                                                                                        
                                                   		#endif                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //This EP0 OUT buffer receives the 0-byte OUT status stage packet. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006908   dbab     RCALL     0x7060                 		pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   		pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00690a   0e80     MOVLW     0x80                   		pBDTEntryEP0OutNext->STAT.Val = _USIE;           // Note: DTSEN is 0   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00690c   6eef     MOVWF     0xef,0x0                                                                                        
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00690e   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************* D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Function: void USBCtrlEPAllowDataStage(void);                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Summary: This function allows the data stage of either a host-to-device or     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       device-to-host control transfer (with data stage) to complete.       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       This function is meant to be used in conjunction with either the     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBDeferOUTDataStage() or USBDeferINDataStage().  If the firmware    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       does not call either USBDeferOUTDataStage() or USBDeferINDataStage(), D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       then the firmware does not need to manually call                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBCtrlEPAllowDataStage(), as the USB stack will call this function  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       instead.                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Conditions: A control transfer (with data stage) should already be pending,    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           if the firmware calls this function.  Additionally, the firmware D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           should have called either USBDeferOUTDataStage() or              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           USBDeferINDataStage() at the start of the control transfer, if   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           the firmware will be calling this function manually.             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Return:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             *****************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           void USBCtrlEPAllowDataStage(void)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006910   0105     MOVLB     0x5                USBDeferINDataStagePackets = FALSE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006912   6bee     CLRF      0xee,0x1                                                                                        
006914   6bef     CLRF      0xef,0x1           USBDeferOUTDataStagePackets = FALSE;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006916   0e02     MOVLW     0x2                if(controlTransferState == CTRL_TRF_RX) //(<setup><out><out>...<out><in>)    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006918   5dd0     SUBWF     0xd0,0x0,0x1                                                                                    
00691a   e106     BNZ       0x6928                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Prepare EP0 OUT to receive the first OUT data packet in the data stage sequence. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00691c   ec41     CALL      0x7282,0x0             pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00691e   f039                                                                                                               
006920   dbcc     RCALL     0x70ba                 pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&CtrlTrfData);       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006922   ecd5     CALL      0x71aa,0x0             pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT1|(_DTSEN & _DTS_CHECKING_ENABLED); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006924   f038                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006926   d010     BRA       0x6948             else    //else must be controlTransferState == CTRL_TRF_TX (<setup><in><in>...<in><out>) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Error check the data stage byte count.  Make sure the user specified   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //value was no greater than the number of bytes the host requested.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006928   51d4     MOVF      0xd4,0x0,0x1   		if(SetupPkt.wLength < inPipes[0].wCount.Val)                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00692a   0104     MOVLB     0x4                                                                                             
00692c   5d36     SUBWF     0x36,0x0,0x1                                                                                    
00692e   0105     MOVLB     0x5                                                                                             
006930   51d5     MOVF      0xd5,0x0,0x1                                                                                    
006932   0104     MOVLB     0x4                                                                                             
006934   5937     SUBWFB    0x37,0x0,0x1                                                                                    
006936   e204     BC        0x6940                                                                                          
                                           		{                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006938   c436     MOVFF     0x436,0x5d4    			inPipes[0].wCount.Val = SetupPkt.wLength;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00693a   f5d4                                                                                                               
00693c   c437     MOVFF     0x437,0x5d5                                                                                     
00693e   f5d5                                                                                                               
                                           		}                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006940   d861     RCALL     0x6a04         		USBCtrlTrfTxService();  //Copies one IN data packet worth of data from application buffer D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		                        //to CtrlTrfData buffer.  Also keeps track of how many bytes remaining. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //Cnt should have been initialized by responsible request owner (ex: by     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //using the USBEP0SendRAMPtr() or USBEP0SendROMPtr() API function).         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006942   dba0     RCALL     0x7084         		pBDTEntryIn[0]->ADR = ConvertToPhysicalAddress(&CtrlTrfData);                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006944   dbba     RCALL     0x70ba                                                                                          
006946   db9e     RCALL     0x7084         		pBDTEntryIn[0]->STAT.Val = _USIE|_DAT1|(_DTSEN & _DTS_CHECKING_ENABLED);       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006948   0ec8     MOVLW     0xc8                                                                                            
00694a   6eef     MOVWF     0xef,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00694c   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** Internal Functions *********************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBConfigureEndpoint(BYTE EPNum, BYTE direction)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           BYTE EPNum - the endpoint to be configured                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  BYTE direction - the direction to be configured              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                   (either OUT_FROM_HOST or IN_TO_HOST)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This function will configure the specified                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  endpoint                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00694e   ecec     CALL      0x71d8,0x0     static void USBConfigureEndpoint(BYTE EPNum, BYTE direction)                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006950   f038                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               volatile BDT_ENTRY* handle;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Compute a pointer to the even BDT entry corresponding to the               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //EPNum and direction values passed to this function.                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006952   0e00     MOVLW     0x0                handle = (volatile BDT_ENTRY*)&BDT[EP0_OUT_EVEN]; //Get address of start of BDT D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006954   6ede     MOVWF     0xde,0x0                                                                                        
006956   0e04     MOVLW     0x4                                                                                             
006958   6edd     MOVWF     0xdd,0x0                                                                                        
00695a   dbc2     RCALL     0x70e0             handle += EP(EPNum,direction,0u);     //Add in offset to the BDT of interest D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00695c   0d04     MULLW     0x4                                                                                             
00695e   cff4     MOVFF     0xff4,0x4f                                                                                      
006960   f04f                                                                                                               
006962   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
006964   ffe9                                                                                                               
006966   cfda     MOVFF     0xfda,0xfea                                                                                     
006968   ffea                                                                                                               
00696a   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00696c   26ee     ADDWF     0xee,0x1,0x0                                                                                    
00696e   504f     MOVF      0x4f,0x0,0x0                                                                                    
006970   22ed     ADDWFC    0xed,0x1,0x0                                                                                    
0070e0   0efd     MOVLW     0xfd                                                                                            
0070e2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0070e4   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
0070e6   6e50     MOVWF     0x50,0x0                                                                                        
0070e8   0efe     MOVLW     0xfe                                                                                            
0070ea   50db     MOVF      0xdb,0x0,0x0                                                                                    
0070ec   0d04     MULLW     0x4                                                                                             
0070ee   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0070f0   2450     ADDWF     0x50,0x0,0x0                                                                                    
0070f2   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006972   db83     RCALL     0x707a             handle->STAT.UOWN = 0;  //mostly redundant, since USBStdSetCfgHandler()      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006974   9eef     BCF       0xef,0x7,0x0                                                                                    
                                               //already cleared the entire BDT table                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Make sure our pBDTEntryIn/Out[] pointer is initialized.  Needed later      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //for USBTransferOnePacket() API calls.                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006976   0efd     MOVLW     0xfd               if(direction == OUT_FROM_HOST)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006978   50db     MOVF      0xdb,0x0,0x0                                                                                    
00697a   e102     BNZ       0x6980                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00697c   dbac     RCALL     0x70d6                 pBDTEntryOut[EPNum] = handle;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070d6   0efe     MOVLW     0xfe                                                                                            
0070d8   6aea     CLRF      0xea,0x0                                                                                        
0070da   34db     RLCF      0xdb,0x0,0x0                                                                                    
0070dc   ef25     GOTO      0x724a                                                                                          
0070de   f039                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00697e   d001     BRA       0x6982             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006980   db73     RCALL     0x7068                 pBDTEntryIn[EPNum] = handle;                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006982   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006984   cfde     MOVFF     0xfde,0xfee                                                                                     
006986   ffee                                                                                                               
006988   cfdd     MOVFF     0xfdd,0xfed                                                                                     
00698a   ffed                                                                                                               
007068   0efe     MOVLW     0xfe                                                                                            
00706a   6aea     CLRF      0xea,0x0                                                                                        
00706c   34db     RLCF      0xdb,0x0,0x0                                                                                    
00706e   ef1e     GOTO      0x723c                                                                                          
007070   f039                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00698c   db76     RCALL     0x707a                 handle->STAT.DTS = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00698e   9cef     BCF       0xef,0x6,0x0                                                                                    
006990   db74     RCALL     0x707a                 (handle+1)->STAT.DTS = 1;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006992   0e04     MOVLW     0x4                                                                                             
006994   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
006996   0e00     MOVLW     0x0                                                                                             
006998   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00699a   8cef     BSF       0xef,0x6,0x0                                                                                    
                                               #elif (USB_PING_PONG_MODE == USB_PING_PONG__NO_PING_PONG)                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Set DTS to one because the first thing we will do                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //when transmitting is toggle the bit                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   handle->STAT.DTS = 1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #elif (USB_PING_PONG_MODE == USB_PING_PONG__EP0_OUT_ONLY)                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(EPNum != 0)                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       handle->STAT.DTS = 1;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #elif (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0)                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(EPNum != 0)                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       handle->STAT.DTS = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       (handle+1)->STAT.DTS = 1;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00699c   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00699e   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0069a0   e202     BC        0x69a6                                                                                          
0069a2   6ae1     CLRF      0xe1,0x0                                                                                        
0069a4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0069a6   6ee1     MOVWF     0xe1,0x0                                                                                        
0069a8   d377     BRA       0x7098                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlEPServiceComplete(void)                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine wrap up the remaining tasks in servicing        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  a Setup Request. Its main task is to set the endpoint        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  controls appropriately for a given situation. See code       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  below.                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  There are three main scenarios:                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  a) There was no handler for the Request, in this case        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     a STALL should be sent out.                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  b) The host has requested a read control transfer,           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     endpoints are required to be setup in a specific way.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  c) The host has requested a write control transfer, or       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     a control data stage is not required, endpoints are       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     required to be setup in a specific way.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  Packet processing is resumed by clearing PKTDIS bit.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlEPServiceComplete(void)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * PKTDIS bit is set when a Setup Transaction is received.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Clear to resume packet processing.                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069aa   9865     BCF       0x65,0x4,0x0       USBPacketDisable = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//Check the busy bits and the SetupPtk.DataDir variables to determine what type of D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//control transfer is currently in progress.  We need to know the type of control D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//transfer that is currently pending, in order to know how to properly arm the  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//EP0 IN and EP0 OUT endpoints.                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069ac   0105     MOVLB     0x5                if(inPipes[0].info.bits.busy == 0u)                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069ae   bfd3     BTFSC     0xd3,0x7,0x1                                                                                    
0069b0   d00d     BRA       0x69cc                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069b2   afd8     BTFSS     0xd8,0x7,0x1           if(outPipes[0].info.bits.busy == 1u)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069b4   d009     BRA       0x69c8                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069b6   0e02     MOVLW     0x2                        controlTransferState = CTRL_TRF_RX;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069b8   6fd0     MOVWF     0xd0,0x1                                                                                        
                                                       /*                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        * Control Write:                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        * <SETUP[0]><OUT[1]><OUT[0]>...<IN[1]> | <SETUP[0]>                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        */                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //1. Prepare OUT EP to receive data, unless a USB class request handler D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //   function decided to defer the data stage (ex: because the intended D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //   RAM buffer wasn't available yet) by calling USBDeferDataStage(). D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //   If it did so, it is then responsible for calling USBCtrlEPAllowDataStage(), D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //   once it is ready to begin receiving the data.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069ba   51ef     MOVF      0xef,0x0,0x1               if(USBDeferOUTDataStagePackets == FALSE)                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069bc   e101     BNZ       0x69c0                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069be   dfa8     RCALL     0x6910                         USBCtrlEPAllowDataStage();                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //2.  IN endpoint 0 status stage will be armed by USBCtrlEPAllowStatusStage()  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //after all of the OUT data has been received and consumed, or if a timeout occurs. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069c0   0105     MOVLB     0x5                        USBStatusStageEnabledFlag2 = FALSE;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069c2   6bed     CLRF      0xed,0x1                                                                                        
0069c4   6bec     CLRF      0xec,0x1                   USBStatusStageEnabledFlag1 = FALSE;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069c6   0012     RETURN    0x0                    else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       /*                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        * If no one knows how to service this request then stall.           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        * Must also prepare EP0 to receive the next SETUP transaction.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        */                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069c8   ef03     GOTO      0x7206                     pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069ca   f039                                                                                                               
                                                       pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT0|(_DTSEN & _DTS_CHECKING_ENABLED)|_BSTALL; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       pBDTEntryIn[0]->STAT.Val = _USIE|_BSTALL;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               else    // A module has claimed ownership of the control transfer session.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069cc   0104     MOVLB     0x4            		if(SetupPkt.DataDir == USB_SETUP_DEVICE_TO_HOST_BITFIELD)                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069ce   af30     BTFSS     0x30,0x7,0x1                                                                                    
0069d0   d00d     BRA       0x69ec                                                                                          
                                           		{                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069d2   0105     MOVLB     0x5            			controlTransferState = CTRL_TRF_TX;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069d4   0e01     MOVLW     0x1                                                                                             
0069d6   6fd0     MOVWF     0xd0,0x1                                                                                        
                                           			/*                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 * Control Read:                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 * <SETUP[0]><IN[1]><IN[0]>...<OUT[1]> | <SETUP[0]>                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 * 1. Prepare IN EP to transfer data to the host.  If however the data        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    wasn't ready yet (ex: because the firmware needs to go and read it from D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    some slow/currently unavailable resource, such as an external I2C EEPROM), D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    Then the class request handler reponsible should call the USBDeferDataStage() D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    macro.  In this case, the firmware may wait up to 500ms, before it is required D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    to transmit the first IN data packet.  Once the data is ready, and the firmware D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    is ready to begin sending the data, it should then call the             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    USBCtrlEPAllowDataStage() function to start the data stage.             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 */                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069d8   51ee     MOVF      0xee,0x0,0x1   			if(USBDeferINDataStagePackets == FALSE)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069da   e101     BNZ       0x69de                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069dc   df99     RCALL     0x6910                         USBCtrlEPAllowDataStage();                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			}                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       // 2. (Optionally) allow the status stage now, to prepare for early termination. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    Note: If a class request handler decided to set USBDeferStatusStagePacket == TRUE, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    then it is responsible for eventually calling USBCtrlEPAllowStatusStage() once it D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    is ready.  If the class request handler does this, it needs to be careful to D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    be written so that it can handle the early termination scenario. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    Ex: It should call USBCtrlEPAllowStatusStage() when any of the following occurs: D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    1.  The desired total number of bytes were sent to the host.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    2.  The number of bytes that the host originally requested (in the SETUP packet that  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //        started the control transfer) has been reached.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    3.  Or, if a timeout occurs (ex: <50ms since the last successful EP0 IN transaction), regardless  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //        of how many bytes have actually been sent.  This is necessary to prevent a deadlock situation D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //        (where the control transfer can't complete, due to continuous NAK on status stage) if the D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //        host performs early termination.  If enabled, the USB_ENABLE_STATUS_STAGE_TIMEOUTS usb_config.h D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //        option can take care of this for you.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    Note: For this type of control transfer, there is normally no harm in simply arming the D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    status stage packet right now, even if the IN data is not ready yet.  This allows for D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    immediate early termination, without adding unecessary delay.  Therefore, it is generally not D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    recommended for the USB class handler firmware to call USBDeferStatusStage(), for this  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    type of control transfer.  If the USB class handler firmware needs more time to fetch the IN D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    data that needs to be sent to the host, it should instead use the USBDeferDataStage() function. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069de   0105     MOVLB     0x5                        USBStatusStageEnabledFlag2 = FALSE;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069e0   6bed     CLRF      0xed,0x1                                                                                        
0069e2   6bec     CLRF      0xec,0x1                   USBStatusStageEnabledFlag1 = FALSE;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069e4   51eb     MOVF      0xeb,0x0,0x1               if(USBDeferStatusStagePacket == FALSE)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069e6   e10d     BNZ       0x6a02                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069e8   ef62     GOTO      0x68c4                         USBCtrlEPAllowStatusStage();                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069ea   f034                                                                                                               
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		}                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		else   // (SetupPkt.DataDir == USB_SETUP_DIRECTION_HOST_TO_DEVICE)             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		{                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//This situation occurs for special types of control transfers,               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//such as that which occurs when the host sends a SET_ADDRESS                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//control transfer.  Ex:                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//<SETUP[0]><IN[1]> | <SETUP[0]>                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           				                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Although the data direction is HOST_TO_DEVICE, there is no data stage       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//(hence: outPipes[0].info.bits.busy == 0).  There is however still           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//an IN status stage.                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069ec   0105     MOVLB     0x5            			controlTransferState = CTRL_TRF_RX;     //Since this is a HOST_TO_DEVICE control transfer D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069ee   0e02     MOVLW     0x2                                                                                             
0069f0   6fd0     MOVWF     0xd0,0x1                                                                                        
                                           			                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//1. Prepare OUT EP to receive the next SETUP packet.                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069f2   db36     RCALL     0x7060         			pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069f4   0e84     MOVLW     0x84           			pBDTEntryEP0OutNext->STAT.Val = _USIE|_BSTALL;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069f6   6eef     MOVWF     0xef,0x0                                                                                        
                                           				                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//2. Prepare for IN status stage of the control transfer                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069f8   6bed     CLRF      0xed,0x1                   USBStatusStageEnabledFlag2 = FALSE;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069fa   6bec     CLRF      0xec,0x1                   USBStatusStageEnabledFlag1 = FALSE;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069fc   51eb     MOVF      0xeb,0x0,0x1   			if(USBDeferStatusStagePacket == FALSE)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069fe   e101     BNZ       0x6a02                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a00   df61     RCALL     0x68c4                         USBCtrlEPAllowStatusStage();                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		}                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end if(ctrl_trf_session_owner == MUID_NULL)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a02   0012     RETURN    0x0            }//end USBCtrlEPServiceComplete                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlTrfTxService(void)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    pSrc, wCount, and usb_stat.ctrl_trf_mem are setup properly.  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine is used for device to host control transfers    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					(IN transactions).  This function takes care of managing a                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  transfer over multiple USB transactions.                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					This routine should be called from only two places.                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  One from USBCtrlEPServiceComplete() and one from             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  USBCtrlTrfInHandler().                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a04   ec1b     CALL      0x7236,0x0     static void USBCtrlTrfTxService(void)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a06   f039                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE byteToSend;                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Figure out how many bytes of data to send in the next IN transaction.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Assume a full size packet, unless otherwise determined below.              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a08   0e40     MOVLW     0x40               byteToSend = USB_EP0_BUFF_SIZE;                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a0a   6edf     MOVWF     0xdf,0x0                                                                                        
006a0c   0105     MOVLB     0x5                if(inPipes[0].wCount.Val < (BYTE)USB_EP0_BUFF_SIZE)                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a0e   5dd4     SUBWF     0xd4,0x0,0x1                                                                                    
006a10   0e00     MOVLW     0x0                                                                                             
006a12   59d5     SUBWFB    0xd5,0x0,0x1                                                                                    
006a14   e20a     BC        0x6a2a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a16   c5d4     MOVFF     0x5d4,0xfdf            byteToSend = inPipes[0].wCount.Val;                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a18   ffdf                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Keep track of whether or not we have sent a "short packet" yet.        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //This is useful so that later on, we can configure EP0 IN to STALL,     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //after we have sent all of the intended data.  This makes sure the      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //hardware STALLs if the host erroneously tries to send more IN token    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //packets, requesting more data than intended in the control transfer.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a1a   51cf     MOVF      0xcf,0x0,0x1           if(shortPacketStatus == SHORT_PKT_NOT_USED)                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a1c   e102     BNZ       0x6a22                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a1e   0e01     MOVLW     0x1                        shortPacketStatus = SHORT_PKT_PENDING;                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a20   d003     BRA       0x6a28                 else if(shortPacketStatus == SHORT_PKT_PENDING)                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a22   05cf     DECF      0xcf,0x0,0x1                                                                                    
006a24   e102     BNZ       0x6a2a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a26   0e02     MOVLW     0x2                        shortPacketStatus = SHORT_PKT_SENT;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a28   6fcf     MOVWF     0xcf,0x1                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Keep track of how many bytes remain to be sent in the transfer, by         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //subtracting the number of bytes about to be sent from the total.           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a2a   50df     MOVF      0xdf,0x0,0x0       inPipes[0].wCount.Val = inPipes[0].wCount.Val - byteToSend;                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a2c   6a4f     CLRF      0x4f,0x0                                                                                        
006a2e   50e8     MOVF      0xe8,0x0,0x0                                                                                    
006a30   5dd4     SUBWF     0xd4,0x0,0x1                                                                                    
006a32   6fd4     MOVWF     0xd4,0x1                                                                                        
006a34   504f     MOVF      0x4f,0x0,0x0                                                                                    
006a36   59d5     SUBWFB    0xd5,0x0,0x1                                                                                    
006a38   6fd5     MOVWF     0xd5,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Next, load the number of bytes to send to BC7..0 in buffer descriptor.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Note: Control endpoints may never have a max packet size of > 64 bytes.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Therefore, the BC8 and BC9 bits should always be maintained clear.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a3a   db24     RCALL     0x7084             pBDTEntryIn[0]->CNT = byteToSend;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a3c   52ee     MOVF      0xee,0x1,0x0                                                                                    
006a3e   cfdf     MOVFF     0xfdf,0xfef                                                                                     
006a40   ffef                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Now copy the data from the source location, to the CtrlTrfData[] buffer,   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //which we will send to the host.                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a42   0e38     MOVLW     0x38               pDst = (USB_VOLATILE BYTE*)CtrlTrfData;                // Set destination pointer D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a44   6fdd     MOVWF     0xdd,0x1                                                                                        
006a46   0e04     MOVLW     0x4                                                                                             
006a48   6fde     MOVWF     0xde,0x1                                                                                        
006a4a   b1d3     BTFSC     0xd3,0x0,0x1       if(inPipes[0].info.bits.ctrl_trf_mem == USB_EP0_ROM)   // Determine type of memory source D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a4c   d00d     BRA       0x6a68                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a4e   50df     MOVF      0xdf,0x0,0x0           while(byteToSend)                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a50   e017     BZ        0x6a80                                                                                          
006a66   d7f3     BRA       0x6a4e                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a52   c5d1     MOVFF     0x5d1,0xff6                *pDst++ = *inPipes[0].pSrc.bRom++;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a54   fff6                                                                                                               
006a56   c5d2     MOVFF     0x5d2,0xff7                                                                                     
006a58   fff7                                                                                                               
006a5a   2bd1     INCF      0xd1,0x1,0x1                                                                                    
006a5c   0e00     MOVLW     0x0                                                                                             
006a5e   23d2     ADDWFC    0xd2,0x1,0x1                                                                                    
006a60   0008     TBLRD                                                                                                     
006a62   50f5     MOVF      0xf5,0x0,0x0                                                                                    
006a64   db57     RCALL     0x7114                                                                                          
007114   6ee6     MOVWF     0xe6,0x0                                                                                        
007116   c5dd     MOVFF     0x5dd,0xfe9                                                                                     
007118   ffe9                                                                                                               
00711a   c5de     MOVFF     0x5de,0xfea                                                                                     
00711c   ffea                                                                                                               
00711e   2bdd     INCF      0xdd,0x1,0x1                                                                                    
007120   0e00     MOVLW     0x0                                                                                             
007122   23de     ADDWFC    0xde,0x1,0x1                                                                                    
007124   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007126   50e7     MOVF      0xe7,0x0,0x0                                                                                    
007128   6eef     MOVWF     0xef,0x0                                                                                        
00712a   06df     DECF      0xdf,0x1,0x0               byteToSend--;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00712c   0012     RETURN    0x0                                                                                             
                                                   }//end while(byte_to_send.Val)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               else  // RAM                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a68   50df     MOVF      0xdf,0x0,0x0           while(byteToSend)                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a6a   e00a     BZ        0x6a80                                                                                          
006a7e   d7f4     BRA       0x6a68                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a6c   c5d1     MOVFF     0x5d1,0xfe9                *pDst++ = *inPipes[0].pSrc.bRam++;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a6e   ffe9                                                                                                               
006a70   c5d2     MOVFF     0x5d2,0xfea                                                                                     
006a72   ffea                                                                                                               
006a74   2bd1     INCF      0xd1,0x1,0x1                                                                                    
006a76   0e00     MOVLW     0x0                                                                                             
006a78   23d2     ADDWFC    0xd2,0x1,0x1                                                                                    
006a7a   50ef     MOVF      0xef,0x0,0x0                                                                                    
006a7c   db4b     RCALL     0x7114                                                                                          
                                                       byteToSend--;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }//end while(byte_to_send.Val)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end if(usb_stat.ctrl_trf_mem == _ROM)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a80   52e5     MOVF      0xe5,0x1,0x0   }//end USBCtrlTrfTxService                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a82   d30a     BRA       0x7098                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlTrfRxService(void)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    pDst and wCount are setup properly.                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  pSrc is always &CtrlTrfData                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  usb_stat.ctrl_trf_mem is always USB_EP0_RAM.                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  wCount should be set to 0 at the start of each control       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  transfer.                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine is used for host to device control transfers    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					(uses OUT transactions).  This function receives the data that arrives    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					on EP0 OUT, and copies it into the appropriate outPipes[0].pDst.bRam      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					buffer.  Once the host has sent all the data it was intending             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					to send, this function will call the appropriate outPipes[0].pFunc()      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					handler (unless it is NULL), so that it can be used by the                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					intended target firmware.                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a84   dba9     RCALL     0x71d8         static void USBCtrlTrfRxService(void)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE byteToRead;                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE i;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Load byteToRead with the number of bytes the host just sent us in the      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //last OUT transaction.                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a86   db14     RCALL     0x70b0             byteToRead = pBDTEntryEP0OutCurrent->CNT;                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a88   52ee     MOVF      0xee,0x1,0x0                                                                                    
006a8a   cfef     MOVFF     0xfef,0xfdf                                                                                     
006a8c   ffdf                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Update the "outPipes[0].wCount.Val", which keeps track of the total number D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //of remaining bytes expected to be received from the host, in the control   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //transfer.  First check to see if the host sent us more bytes than the      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //application firmware was expecting to receive.                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a8e   cfdf     MOVFF     0xfdf,0x4e         if(byteToRead > outPipes[0].wCount.Val)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a90   f04e                                                                                                               
006a92   504e     MOVF      0x4e,0x0,0x0                                                                                    
006a94   0105     MOVLB     0x5                                                                                             
006a96   5dd9     SUBWF     0xd9,0x0,0x1                                                                                    
006a98   0e00     MOVLW     0x0                                                                                             
006a9a   59da     SUBWFB    0xda,0x0,0x1                                                                                    
006a9c   e202     BC        0x6aa2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a9e   c5d9     MOVFF     0x5d9,0xfdf            byteToRead = outPipes[0].wCount.Val;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aa0   ffdf                                                                                                               
                                               }	                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Reduce the number of remaining bytes by the number we just received.       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aa2   50df     MOVF      0xdf,0x0,0x0   	outPipes[0].wCount.Val = outPipes[0].wCount.Val - byteToRead;                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aa4   6e4e     MOVWF     0x4e,0x0                                                                                        
006aa6   6a4f     CLRF      0x4f,0x0                                                                                        
006aa8   50e8     MOVF      0xe8,0x0,0x0                                                                                    
006aaa   5dd9     SUBWF     0xd9,0x0,0x1                                                                                    
006aac   6fd9     MOVWF     0xd9,0x1                                                                                        
006aae   504f     MOVF      0x4f,0x0,0x0                                                                                    
006ab0   59da     SUBWFB    0xda,0x0,0x1                                                                                    
006ab2   6fda     MOVWF     0xda,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Copy the OUT DATAx packet bytes that we just received from the host,       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //into the user application buffer space.                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ab4   0e01     MOVLW     0x1                for(i=0;i<byteToRead;i++)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ab6   6adb     CLRF      0xdb,0x0                                                                                        
006ab8   50df     MOVF      0xdf,0x0,0x0                                                                                    
006aba   6ef3     MOVWF     0xf3,0x0                                                                                        
006abc   0e01     MOVLW     0x1                                                                                             
006abe   cfdb     MOVFF     0xfdb,0xff4                                                                                     
006ac0   fff4                                                                                                               
006ac2   50f3     MOVF      0xf3,0x0,0x0                                                                                    
006ac4   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
006ac6   e216     BC        0x6af4                                                                                          
006aee   0e01     MOVLW     0x1                                                                                             
006af0   2adb     INCF      0xdb,0x1,0x0                                                                                    
006af2   d7e2     BRA       0x6ab8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ac8   0e01     MOVLW     0x1                    *outPipes[0].pDst.bRam++ = CtrlTrfData[i];                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aca   50db     MOVF      0xdb,0x0,0x0                                                                                    
006acc   6aea     CLRF      0xea,0x0                                                                                        
006ace   0f38     ADDLW     0x38                                                                                            
006ad0   6ee9     MOVWF     0xe9,0x0                                                                                        
006ad2   0e04     MOVLW     0x4                                                                                             
006ad4   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006ad6   50ef     MOVF      0xef,0x0,0x0                                                                                    
006ad8   6ee6     MOVWF     0xe6,0x0                                                                                        
006ada   c5d6     MOVFF     0x5d6,0xfe9                                                                                     
006adc   ffe9                                                                                                               
006ade   c5d7     MOVFF     0x5d7,0xfea                                                                                     
006ae0   ffea                                                                                                               
006ae2   2bd6     INCF      0xd6,0x1,0x1                                                                                    
006ae4   0e00     MOVLW     0x0                                                                                             
006ae6   23d7     ADDWFC    0xd7,0x1,0x1                                                                                    
006ae8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006aea   50e7     MOVF      0xe7,0x0,0x0                                                                                    
006aec   6eef     MOVWF     0xef,0x0                                                                                        
                                               }//end while(byteToRead.Val)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If there is more data to receive, prepare EP0 OUT so that it can receive   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//the next packet in the sequence.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006af4   0e00     MOVLW     0x0                if(outPipes[0].wCount.Val > 0u)                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006af6   80d8     BSF       0xd8,0x0,0x0                                                                                    
006af8   55d9     SUBFWB    0xd9,0x0,0x1                                                                                    
006afa   0e00     MOVLW     0x0                                                                                             
006afc   55da     SUBFWB    0xda,0x0,0x1                                                                                    
006afe   e20d     BC        0x6b1a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b00   dbc0     RCALL     0x7282                 pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007282   df93     RCALL     0x71aa                                                                                          
007284   52ee     MOVF      0xee,0x1,0x0                                                                                    
007286   0e40     MOVLW     0x40                                                                                            
007288   6eef     MOVWF     0xef,0x0                                                                                        
006b02   dadb     RCALL     0x70ba                 pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&CtrlTrfData);       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00728a   efd5     GOTO      0x71aa                                                                                          
00728c   f038                                                                                                               
006b04   dad5     RCALL     0x70b0                 if(pBDTEntryEP0OutCurrent->STAT.DTS == 0u)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b06   50ef     MOVF      0xef,0x0,0x0                                                                                    
006b08   0b40     ANDLW     0x40                                                                                            
006b0a   e103     BNZ       0x6b12                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b0c   db4e     RCALL     0x71aa                     pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT1|(_DTSEN & _DTS_CHECKING_ENABLED); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b0e   0ec8     MOVLW     0xc8                                                                                            
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b10   d002     BRA       0x6b16                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b12   db4b     RCALL     0x71aa                     pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT0|(_DTSEN & _DTS_CHECKING_ENABLED); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b14   0e88     MOVLW     0x88                                                                                            
006b16   6eef     MOVWF     0xef,0x0                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b18   d012     BRA       0x6b3e             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //We have received all OUT packets that we were expecting to                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //receive for the control transfer.  Prepare EP0 OUT to receive             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//the next SETUP transaction that may arrive.                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b1a   daa2     RCALL     0x7060                 pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Configure EP0 OUT to receive the next SETUP transaction for any future D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //control transfers.  However, set BSTALL in case the host tries to send D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //more data than it claims it was going to send.                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b1c   0e84     MOVLW     0x84                   pBDTEntryEP0OutNext->STAT.Val = _USIE|_BSTALL;                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b1e   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//All data bytes for the host to device control write (OUT) have now been      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//received successfully.                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//Go ahead and call the user specified callback function, to use/consume       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//the control transfer data (ex: if the "void (*function)" parameter           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//was non-NULL when USBEP0Receive() was called).                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b20   51db     MOVF      0xdb,0x0,0x1           if(outPipes[0].pFunc != NULL)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b22   11dc     IORWF     0xdc,0x0,0x1                                                                                    
006b24   e007     BZ        0x6b34                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #if defined(__XC8)                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Special pragmas to suppress an expected/harmless warning       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //message when building with the XC8 compiler                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #pragma warning push                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #pragma warning disable 1088                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           outPipes[0].pFunc();    //Call the user's callback function      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #pragma warning pop                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #else                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b26   d005     BRA       0x6b32                         outPipes[0].pFunc();    //Call the user's callback function      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b28   c5dc     MOVFF     0x5dc,0xffa                                                                                     
006b2a   fffa                                                                                                               
006b2c   0105     MOVLB     0x5                                                                                             
006b2e   51db     MOVF      0xdb,0x0,0x1                                                                                    
006b30   6ef9     MOVWF     0xf9,0x0                                                                                        
006b32   dffa     RCALL     0x6b28                                                                                          
                                                       #endif                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b34   0105     MOVLB     0x5                    outPipes[0].info.bits.busy = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b36   9fd8     BCF       0xd8,0x7,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Ready to arm status stage IN transaction now, if the application       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //firmware has completed processing the request.  If it is still busy    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //and needs more time to finish handling the request, then the user      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //callback (the one called by the outPipes[0].pFunc();) should set the   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //USBDeferStatusStagePacket to TRUE (by calling USBDeferStatusStage()).  In  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //this case, it is the application's firmware responsibility to call     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //the USBCtrlEPAllowStatusStage() function, once it is fully done handling the request. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Note: The application firmware must process the request and call       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //USBCtrlEPAllowStatusStage() in a semi-timely fashion.  "Semi-timely"   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //means either 50ms, 500ms, or 5 seconds, depending on the type of       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //control transfer.  See the USB 2.0 specification section 9.2.6 for     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //more details.                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b38   51eb     MOVF      0xeb,0x0,0x1           if(USBDeferStatusStagePacket == FALSE)                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b3a   e101     BNZ       0x6b3e                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b3c   dec3     RCALL     0x68c4                     USBCtrlEPAllowStatusStage();                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b3e   0e02     MOVLW     0x2            }//end USBCtrlTrfRxService                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b40   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
006b42   e202     BC        0x6b48                                                                                          
006b44   6ae1     CLRF      0xe1,0x0                                                                                        
006b46   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006b48   6ee1     MOVWF     0xe1,0x0                                                                                        
006b4a   d2a6     BRA       0x7098                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBStdSetCfgHandler(void)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine first disables all endpoints by                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  clearing UEP registers. It then configures                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  (initializes) endpoints by calling the callback              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  function USBCBInitEP().                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b4c   db74     RCALL     0x7236         static void USBStdSetCfgHandler(void)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE i;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // This will generate a zero length packet                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b4e   0105     MOVLB     0x5                inPipes[0].info.bits.busy = 1;                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b50   8fd3     BSF       0xd3,0x7,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Clear all of the endpoint control registers                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b52   db50     RCALL     0x71f4             DisableNonZeroEndpoints(USB_MAX_EP_NUMBER);                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Clear all of the BDT entries                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b54   0e30     MOVLW     0x30               memset((void*)&BDT[0], 0x00, sizeof(BDT));                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b56   6ee6     MOVWF     0xe6,0x0                                                                                        
006b58   6ae6     CLRF      0xe6,0x0                                                                                        
006b5a   6ae6     CLRF      0xe6,0x0                                                                                        
006b5c   0e00     MOVLW     0x0                                                                                             
006b5e   6ee6     MOVWF     0xe6,0x0                                                                                        
006b60   0e04     MOVLW     0x4                                                                                             
006b62   dab1     RCALL     0x70c6                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Assert reset request to all of the Ping Pong buffer pointers              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b64   8c65     BSF       0x65,0x6,0x0       USBPingPongBufferReset = 1;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//Re-Initialize all ping pong software state bits to 0 (which corresponds to    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//the EVEN buffer being the next one that will be used), since we are also      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//doing a hardware ping pong pointer reset above.                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b66   6adf     CLRF      0xdf,0x0       	for(i = 0; i < (BYTE)(USB_MAX_EP_NUMBER+1u); i++)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b68   0e03     MOVLW     0x3                                                                                             
006b6a   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
006b6c   e202     BC        0x6b72                                                                                          
006b70   d7fb     BRA       0x6b68                                                                                          
                                           	{                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b6e   dac2     RCALL     0x70f4         		ep_data_in[i].Val = 0u;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   ep_data_out[i].Val = 0u;                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	}                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //clear the alternate interface settings                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b72   0e01     MOVLW     0x1                memset((void*)&USBAlternateInterface,0x00,USB_MAX_NUM_INT);                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b74   6ee6     MOVWF     0xe6,0x0                                                                                        
006b76   6ae6     CLRF      0xe6,0x0                                                                                        
006b78   6ae6     CLRF      0xe6,0x0                                                                                        
006b7a   0ebe     MOVLW     0xbe                                                                                            
006b7c   6ee6     MOVWF     0xe6,0x0                                                                                        
006b7e   0e05     MOVLW     0x5                                                                                             
006b80   daa2     RCALL     0x70c6                                                                                          
0070c6   6ee6     MOVWF     0xe6,0x0                                                                                        
0070c8   ec5a     CALL      0x8cb4,0x0                                                                                      
0070ca   f046                                                                                                               
0070cc   6e4e     MOVWF     0x4e,0x0                                                                                        
0070ce   0e05     MOVLW     0x5                                                                                             
0070d0   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
0070d2   504e     MOVF      0x4e,0x0,0x0                                                                                    
0070d4   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Stop trying to reset ping pong buffer pointers                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b82   9c65     BCF       0x65,0x6,0x0       USBPingPongBufferReset = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b84   0105     MOVLB     0x5                pBDTEntryIn[0] = (volatile BDT_ENTRY*)&BDT[EP0_IN_EVEN];                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b86   0e08     MOVLW     0x8                                                                                             
006b88   6fc9     MOVWF     0xc9,0x1                                                                                        
006b8a   0e04     MOVLW     0x4                                                                                             
006b8c   6fca     MOVWF     0xca,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//Set the next out to the current out packet                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b8e   0e00     MOVLW     0x0                pBDTEntryEP0OutCurrent = (volatile BDT_ENTRY*)&BDT[EP0_OUT_EVEN];            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b90   6fbf     MOVWF     0xbf,0x1                                                                                        
006b92   0e04     MOVLW     0x4                                                                                             
006b94   6fc0     MOVWF     0xc0,0x1                                                                                        
006b96   c5bf     MOVFF     0x5bf,0x5c1        pBDTEntryEP0OutNext = pBDTEntryEP0OutCurrent;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b98   f5c1                                                                                                               
006b9a   6fc2     MOVWF     0xc2,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //set the current configuration                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b9c   c432     MOVFF     0x432,0x5bd        USBActiveConfiguration = SetupPkt.bConfigurationValue;                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b9e   f5bd                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //if the configuration value == 0                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ba0   51bd     MOVF      0xbd,0x0,0x1       if(USBActiveConfiguration == 0u)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ba2   e102     BNZ       0x6ba8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Go back to the addressed state                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ba4   0e10     MOVLW     0x10                   USBDeviceState = ADDRESS_STATE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ba6   d00b     BRA       0x6bbe             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //initialize the required endpoints                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ba8   0e01     MOVLW     0x1                    USB_SET_CONFIGURATION_HANDLER(EVENT_CONFIGURED,(void*)&USBActiveConfiguration,1); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006baa   6ee6     MOVWF     0xe6,0x0                                                                                        
006bac   6ae6     CLRF      0xe6,0x0                                                                                        
006bae   0ebd     MOVLW     0xbd                                                                                            
006bb0   6ee6     MOVWF     0xe6,0x0                                                                                        
006bb2   0e05     MOVLW     0x5                                                                                             
006bb4   6ee6     MOVWF     0xe6,0x0                                                                                        
006bb6   0e01     MOVLW     0x1                                                                                             
006bb8   da5c     RCALL     0x7072                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Otherwise go to the configured state.  Update the state variable last, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //after performing all of the set configuration related initialization   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //tasks.                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bba   0105     MOVLB     0x5                    USBDeviceState = CONFIGURED_STATE;		                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bbc   0e20     MOVLW     0x20                                                                                            
006bbe   6fbc     MOVWF     0xbc,0x1                                                                                        
                                               }//end if(SetupPkt.bConfigurationValue == 0)                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bc0   52e5     MOVF      0xe5,0x1,0x0   }//end USBStdSetCfgHandler                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bc2   d26a     BRA       0x7098                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBStdGetDscHandler(void)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine handles the standard GET_DESCRIPTOR             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  request.                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStdGetDscHandler(void)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bc4   0e80     MOVLW     0x80               if(SetupPkt.bmRequestType == 0x80)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bc6   0104     MOVLB     0x4                                                                                             
006bc8   5d30     SUBWF     0x30,0x0,0x1                                                                                    
006bca   e14e     BNZ       0x6c68                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bcc   0105     MOVLB     0x5                    inPipes[0].info.Val = USB_EP0_ROM | USB_EP0_BUSY | USB_EP0_INCLUDE_ZERO; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bce   0ec0     MOVLW     0xc0                                                                                            
006bd0   6fd3     MOVWF     0xd3,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bd2   0104     MOVLB     0x4                    switch(SetupPkt.bDescriptorType)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bd4   5133     MOVF      0x33,0x0,0x1                                                                                    
006bd6   0a03     XORLW     0x3                                                                                             
006bd8   e025     BZ        0x6c24                                                                                          
006bda   0a01     XORLW     0x1                                                                                             
006bdc   e009     BZ        0x6bf0                                                                                          
006bde   0a03     XORLW     0x3                                                                                             
006be0   e141     BNZ       0x6c64                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       case USB_DESCRIPTOR_DEVICE:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #if !defined(USB_USER_DEVICE_DESCRIPTOR)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               inPipes[0].pSrc.bRom = (ROM BYTE*)&device_dsc;               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #else                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006be2   0105     MOVLB     0x5                                inPipes[0].pSrc.bRom = (ROM BYTE*)USB_USER_DEVICE_DESCRIPTOR; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006be4   0e14     MOVLW     0x14                                                                                            
006be6   6fd1     MOVWF     0xd1,0x1                                                                                        
006be8   0e8c     MOVLW     0x8c                                                                                            
006bea   6fd2     MOVWF     0xd2,0x1                                                                                        
                                                           #endif                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bec   0e12     MOVLW     0x12                           inPipes[0].wCount.Val = sizeof(device_dsc);                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bee   d034     BRA       0x6c58                         break;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       case USB_DESCRIPTOR_CONFIGURATION:                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #if !defined(USB_USER_CONFIG_DESCRIPTOR)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               inPipes[0].pSrc.bRom = *(USB_CD_Ptr+SetupPkt.bDscIndex);     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #else                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bf0   5132     MOVF      0x32,0x0,0x1                       inPipes[0].pSrc.bRom = *(USB_USER_CONFIG_DESCRIPTOR+SetupPkt.bDscIndex); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bf2   6ef6     MOVWF     0xf6,0x0                                                                                        
006bf4   6af7     CLRF      0xf7,0x0                                                                                        
006bf6   90d8     BCF       0xd8,0x0,0x0                                                                                    
006bf8   36f6     RLCF      0xf6,0x1,0x0                                                                                    
006bfa   36f7     RLCF      0xf7,0x1,0x0                                                                                    
006bfc   0e69     MOVLW     0x69                                                                                            
006bfe   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
006c00   0e8c     MOVLW     0x8c                                                                                            
006c02   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
006c04   0009     TBLRDPOSTINC                                                                                              
006c06   cff5     MOVFF     0xff5,0x5d1                                                                                     
006c08   f5d1                                                                                                               
006c0a   000a     TBLRDPOSTDEC                                                                                              
006c0c   cff5     MOVFF     0xff5,0x5d2                                                                                     
006c0e   f5d2                                                                                                               
                                                           #endif                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //This must be loaded using byte addressing.  The source pointer D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //  may not be word aligned for the 16 or 32 bit machines resulting D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //  in an address error on the dereference.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c10   0e02     MOVLW     0x2                            inPipes[0].wCount.byte.LB = *(inPipes[0].pSrc.bRom+2);           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c12   0105     MOVLB     0x5                                                                                             
006c14   dabc     RCALL     0x718e                                                                                          
006c16   cff5     MOVFF     0xff5,0x5d4                                                                                     
006c18   f5d4                                                                                                               
00718e   6af7     CLRF      0xf7,0x0                                                                                        
007190   25d1     ADDWF     0xd1,0x0,0x1                                                                                    
007192   6ef6     MOVWF     0xf6,0x0                                                                                        
007194   51d2     MOVF      0xd2,0x0,0x1                                                                                    
007196   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
007198   0008     TBLRD                                                                                                     
00719a   0012     RETURN    0x0                                                                                             
006c1a   0e03     MOVLW     0x3                            inPipes[0].wCount.byte.HB = *(inPipes[0].pSrc.bRom+3);           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c1c   dab8     RCALL     0x718e                                                                                          
006c1e   cff5     MOVFF     0xff5,0x5d5                                                                                     
006c20   f5d5                                                                                                               
006c22   0012     RETURN    0x0                            break;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       case USB_DESCRIPTOR_STRING:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //USB_NUM_STRING_DESCRIPTORS was introduced as optional in release v2.3.  In v2.4 and D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //  later it is now manditory.  This should be defined in usb_config.h and should D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //  indicate the number of string descriptors.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c24   0e04     MOVLW     0x4                            if(SetupPkt.bDscIndex<USB_NUM_STRING_DESCRIPTORS)                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c26   5d32     SUBWF     0x32,0x0,0x1                                                                                    
006c28   e21a     BC        0x6c5e                                                                                          
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               // Set memory type to RAM                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c2a   0105     MOVLB     0x5                                inPipes[0].info.bits.ctrl_trf_mem = USB_EP0_RAM;             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c2c   81d3     BSF       0xd3,0x0,0x1                                                                                    
                                                               //Get a pointer to the String descriptor requested           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c2e   0104     MOVLB     0x4                                inPipes[0].pSrc.bRam = *(USB_SD_Ptr+SetupPkt.bDscIndex);     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c30   5132     MOVF      0x32,0x0,0x1                                                                                    
006c32   6ee9     MOVWF     0xe9,0x0                                                                                        
006c34   6aea     CLRF      0xea,0x0                                                                                        
006c36   90d8     BCF       0xd8,0x0,0x0                                                                                    
006c38   36e9     RLCF      0xe9,0x1,0x0                                                                                    
006c3a   36ea     RLCF      0xea,0x1,0x0                                                                                    
006c3c   0ef6     MOVLW     0xf6                                                                                            
006c3e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
006c40   0e02     MOVLW     0x2                                                                                             
006c42   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006c44   cfee     MOVFF     0xfee,0x5d1                                                                                     
006c46   f5d1                                                                                                               
006c48   cfed     MOVFF     0xfed,0x5d2                                                                                     
006c4a   f5d2                                                                                                               
                                                               // Set data count                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c4c   c5d1     MOVFF     0x5d1,0xfe9                        inPipes[0].wCount.Val = *inPipes[0].pSrc.bRam;               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c4e   ffe9                                                                                                               
006c50   c5d2     MOVFF     0x5d2,0xfea                                                                                     
006c52   ffea                                                                                                               
006c54   50ef     MOVF      0xef,0x0,0x0                                                                                    
006c56   0105     MOVLB     0x5                                                                                             
006c58   6fd4     MOVWF     0xd4,0x1                                                                                        
006c5a   6bd5     CLRF      0xd5,0x1                                                                                        
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #if defined(IMPLEMENT_MICROSOFT_OS_DESCRIPTOR)                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           else if(SetupPkt.bDscIndex == MICROSOFT_OS_DESCRIPTOR_INDEX)     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //Get a pointer to the special MS OS string descriptor requested D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               inPipes[0].pSrc.bRom = (ROM BYTE*)&MSOSDescriptor;           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               // Set data count                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               inPipes[0].wCount.Val = *inPipes[0].pSrc.bRom;                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #endif                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c5c   0012     RETURN    0x0                            else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c5e   0105     MOVLB     0x5                                inPipes[0].info.Val = 0;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c60   6bd3     CLRF      0xd3,0x1                                                                                        
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c62   0012     RETURN    0x0                            break;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       default:                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c64   0105     MOVLB     0x5                            inPipes[0].info.Val = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c66   6bd3     CLRF      0xd3,0x1                                                                                        
                                                           break;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }//end switch                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end if                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c68   0012     RETURN    0x0            }//end USBStdGetDscHandler                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBStdGetStatusHandler(void)                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine handles the standard GET_STATUS request         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c6a   dab6     RCALL     0x71d8         static void USBStdGetStatusHandler(void)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c6c   0104     MOVLB     0x4                CtrlTrfData[0] = 0;                 // Initialize content                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c6e   6b38     CLRF      0x38,0x1                                                                                        
006c70   6b39     CLRF      0x39,0x1           CtrlTrfData[1] = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c72   5130     MOVF      0x30,0x0,0x1       switch(SetupPkt.Recipient)                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c74   0b1f     ANDLW     0x1f                                                                                            
006c76   0a02     XORLW     0x2                                                                                             
006c78   e011     BZ        0x6c9c                                                                                          
006c7a   0a03     XORLW     0x3                                                                                             
006c7c   e00c     BZ        0x6c96                                                                                          
006c7e   0a01     XORLW     0x1                                                                                             
006c80   e11e     BNZ       0x6cbe                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_SETUP_RECIPIENT_DEVICE_BITFIELD:                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c82   0105     MOVLB     0x5                        inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c84   8fd3     BSF       0xd3,0x7,0x1                                                                                    
                                                       /*                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        * [0]: bit0: Self-Powered Status [0] Bus-Powered [1] Self-Powered   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        *      bit1: RemoteWakeup        [0] Disabled    [1] Enabled        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        */                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       if(self_power == 1) // self_power is defined in HardwareProfile.h    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c86   0104     MOVLB     0x4                            CtrlTrfData[0]|=0x01;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c88   8138     BSF       0x38,0x0,0x1                                                                                    
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c8a   0105     MOVLB     0x5                        if(RemoteWakeup == TRUE)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c8c   05df     DECF      0xdf,0x0,0x1                                                                                    
006c8e   e117     BNZ       0x6cbe                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c90   0104     MOVLB     0x4                            CtrlTrfData[0]|=0x02;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c92   8338     BSF       0x38,0x1,0x1                                                                                    
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c94   d014     BRA       0x6cbe                     break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_SETUP_RECIPIENT_INTERFACE_BITFIELD:                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c96   0105     MOVLB     0x5                        inPipes[0].info.bits.busy = 1;     // No data to update              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c98   8fd3     BSF       0xd3,0x7,0x1                                                                                    
006c9a   d011     BRA       0x6cbe                     break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_SETUP_RECIPIENT_ENDPOINT_BITFIELD:                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c9c   0105     MOVLB     0x5                        inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c9e   8fd3     BSF       0xd3,0x7,0x1                                                                                    
                                                       /*                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        * [0]: bit0: Halt Status [0] Not Halted [1] Halted                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        */                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           BDT_ENTRY *p;                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ca0   0104     MOVLB     0x4                            if(SetupPkt.EPDir == 0u)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ca2   bf34     BTFSC     0x34,0x7,0x1                                                                                    
006ca4   d002     BRA       0x6caa                                                                                          
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ca6   dab6     RCALL     0x7214                             p = (BDT_ENTRY*)pBDTEntryOut[SetupPkt.EPNum];                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ca8   d001     BRA       0x6cac                         else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006caa   dab9     RCALL     0x721e                             p = (BDT_ENTRY*)pBDTEntryIn[SetupPkt.EPNum];                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cac   da40     RCALL     0x712e                                                                                          
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cae   dabf     RCALL     0x722e                         if((p->STAT.UOWN == 1u) && (p->STAT.BSTALL == 1u))               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cb0   e006     BZ        0x6cbe                                                                                          
006cb2   d9e3     RCALL     0x707a                                                                                          
006cb4   50ef     MOVF      0xef,0x0,0x0                                                                                    
006cb6   0b04     ANDLW     0x4                                                                                             
006cb8   e002     BZ        0x6cbe                                                                                          
006cba   0e01     MOVLW     0x1                                CtrlTrfData[0]=0x01;    // Set bit0                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cbc   6f38     MOVWF     0x38,0x1                                                                                        
                                                           break;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end switch                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cbe   0105     MOVLB     0x5                if(inPipes[0].info.bits.busy == 1u)                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cc0   afd3     BTFSS     0xd3,0x7,0x1                                                                                    
006cc2   d007     BRA       0x6cd2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cc4   0e38     MOVLW     0x38                   inPipes[0].pSrc.bRam = (BYTE*)&CtrlTrfData;            // Set Source     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cc6   6fd1     MOVWF     0xd1,0x1                                                                                        
006cc8   0e04     MOVLW     0x4                                                                                             
006cca   6fd2     MOVWF     0xd2,0x1                                                                                        
006ccc   81d3     BSF       0xd3,0x0,0x1           inPipes[0].info.bits.ctrl_trf_mem = USB_EP0_RAM;               // Set memory type D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cce   0e02     MOVLW     0x2                    inPipes[0].wCount.v[0] = 2;                         // Set data count    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cd0   6fd4     MOVWF     0xd4,0x1                                                                                        
                                               }//end if(...)                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cd2   0e02     MOVLW     0x2            }//end USBStdGetStatusHandler                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cd4   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
006cd6   e202     BC        0x6cdc                                                                                          
006cd8   6ae1     CLRF      0xe1,0x0                                                                                        
006cda   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006cdc   6ee1     MOVWF     0xe1,0x0                                                                                        
006cde   d1dc     BRA       0x7098                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBStallHandler(void)                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This function handles the event of a STALL                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  occuring on the bus                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStallHandler(void)                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Does not really have to do anything here,                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * even for the control endpoint.                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * All BDs of Endpoint 0 are owned by SIE right now,                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * but once a Setup Transaction is received, the ownership                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * for EP0_OUT will be returned to CPU.                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * When the Setup Transaction is serviced, the ownership                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * for EP0_IN will then be forced back to CPU by firmware.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /* v2b fix */                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ce0   010f     MOVLB     0xf                if(U1EP0bits.EPSTALL == 1u)                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ce2   a126     BTFSS     0x26,0x0,0x1                                                                                    
006ce4   d00c     BRA       0x6cfe                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   // UOWN - if 0, owned by CPU, if 1, owned by SIE                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ce6   d9e4     RCALL     0x70b0                 if((pBDTEntryEP0OutCurrent->STAT.Val == _USIE) && (pBDTEntryIn[0]->STAT.Val == (_USIE|_BSTALL))) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ce8   50ef     MOVF      0xef,0x0,0x0                                                                                    
006cea   0880     SUBLW     0x80                                                                                            
006cec   e107     BNZ       0x6cfc                                                                                          
006cee   d9ca     RCALL     0x7084                                                                                          
006cf0   50ef     MOVF      0xef,0x0,0x0                                                                                    
006cf2   0884     SUBLW     0x84                                                                                            
006cf4   e103     BNZ       0x6cfc                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       // Set ep0Bo to stall also                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cf6   d9dc     RCALL     0x70b0                     pBDTEntryEP0OutCurrent->STAT.Val = _USIE|_DAT0|(_DTSEN & _DTS_CHECKING_ENABLED)|_BSTALL; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cf8   0e8c     MOVLW     0x8c                                                                                            
006cfa   6eef     MOVWF     0xef,0x0                                                                                        
                                                   }//end if                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cfc   9126     BCF       0x26,0x0,0x1           U1EP0bits.EPSTALL = 0;               // Clear stall status               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end if                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cfe   9a62     BCF       0x62,0x5,0x0       USBClearInterruptFlag(USBStallIFReg,USBStallIFBitNum);                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d00   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBSuspend(void)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This function handles if the host tries to                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  suspend the device                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBSuspend(void)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * NOTE: Do not clear UIRbits.ACTVIF here!                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Reason:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * ACTVIF is only generated once an IDLEIF has been generated.               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * This is a 1:1 ratio interrupt generation.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * For every IDLEIF, there will be only one ACTVIF regardless of             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * the number of subsequent bus transitions.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * If the ACTIF is cleared here, a problem could occur when:                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * [       IDLE       ][bus activity ->                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * <--- 3 ms ----->     ^                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                ^     ACTVIF=1                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                IDLEIF=1                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *  #           #           #           #   (#=Program polling flags)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          ^                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          This polling loop will see both                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          IDLEIF=1 and ACTVIF=1.                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          However, the program services IDLEIF first       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          because ACTIVIE=0.                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          If this routine clears the only ACTIVIF,         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          then it can never get out of the suspend         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          mode.                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d02   010f     MOVLB     0xf                USBActivityIE = 1;                     // Enable bus activity interrupt      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d04   8536     BSF       0x36,0x2,0x1                                                                                    
006d06   9862     BCF       0x62,0x4,0x0       USBClearInterruptFlag(USBIdleIFReg,USBIdleIFBitNum);                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(__18CXX) || defined(_PIC14E)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d08   8265     BSF       0x65,0x1,0x0           U1CONbits.SUSPND = 1;                   // Put USB module in power conserve D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                           // mode, SIE clock inactive      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d0a   0105     MOVLB     0x5                USBBusIsSuspended = TRUE;                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d0c   0e01     MOVLW     0x1                                                                                             
006d0e   6fe0     MOVWF     0xe0,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * At this point the PIC can go into sleep,idle, or                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * switch to a slower clock, etc.  This should be done in the                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * USBCBSuspend() if necessary.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d10   da14     RCALL     0x713a             USB_SUSPEND_HANDLER(EVENT_SUSPEND,0,0);                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d12   0e75     MOVLW     0x75                                                                                            
006d14   ef39     GOTO      0x7072                                                                                          
006d16   f038                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBWakeFromSuspend(void)                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBWakeFromSuspend(void)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d18   0105     MOVLB     0x5                USBBusIsSuspended = FALSE;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d1a   6be0     CLRF      0xe0,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * If using clock switching, the place to restore the original               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * microcontroller core clock frequency is in the USBCBWakeFromSuspend() callback D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d1c   da0e     RCALL     0x713a             USB_WAKEUP_FROM_SUSPEND_HANDLER(EVENT_RESUME,0,0);                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d1e   0e74     MOVLW     0x74                                                                                            
006d20   d9a8     RCALL     0x7072                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(__18CXX) || defined(_PIC14E)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //To avoid improperly clocking the USB module, make sure the oscillator  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //settings are consistant with USB operation before clearing the SUSPND bit. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Make sure the correct oscillator settings are selected in the          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //"USB_WAKEUP_FROM_SUSPEND_HANDLER(EVENT_RESUME,0,0)" handler.           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d22   9265     BCF       0x65,0x1,0x0           U1CONbits.SUSPND = 0;   // Bring USB module out of power conserve        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                           // mode.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d24   010f     MOVLB     0xf                USBActivityIE = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d26   9536     BCF       0x36,0x2,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /********************************************************************        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Bug Fix: Feb 26, 2007 v2.1                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               *********************************************************************        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               The ACTVIF bit cannot be cleared immediately after the USB module wakes      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               up from Suspend or while the USB module is suspended. A few clock cycles     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               are required to synchronize the internal hardware state machine before       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the ACTIVIF bit can be cleared by firmware. Clearing the ACTVIF bit          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               before the internal hardware is synchronized may not have an effect on       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the value of ACTVIF. Additonally, if the USB module uses the clock from      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the 96 MHz PLL source, then after clearing the SUSPND bit, the USB           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               module may not be immediately operational while waiting for the 96 MHz       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               PLL to lock.                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               ********************************************************************/        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // UIRbits.ACTVIF = 0;                      // Removed                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(__18CXX)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d28   a462     BTFSS     0x62,0x2,0x0       while(USBActivityIF)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d2a   d002     BRA       0x6d30                                                                                          
006d2e   d7fc     BRA       0x6d28                                                                                          
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d2c   9462     BCF       0x62,0x2,0x0           USBClearInterruptFlag(USBActivityIFReg,USBActivityIFBitNum);             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }  // Added                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d30   0012     RETURN    0x0            }//end USBWakeFromSuspend                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlEPService(void)                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    USTAT is loaded with a valid endpoint address.               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        USBCtrlEPService checks for three transaction                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  types that it knows how to service and services              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  them:                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  1. EP0 SETUP                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  2. EP0 OUT                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  3. EP0 IN                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  It ignores all other types (i.e. EP1, EP2, etc.)             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d32   da81     RCALL     0x7236         static void USBCtrlEPService(void)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If we get to here, that means a successful transaction has just occurred   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //on EP0.  This means "progress" has occurred in the currently pending       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //control transfer, so we should re-initialize our timeout counter.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(USB_ENABLE_STATUS_STAGE_TIMEOUTS)                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d34   0105     MOVLB     0x5                    USBStatusStageTimeoutCounter = USB_STATUS_STAGE_TIMEOUT;                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d36   0e2d     MOVLW     0x2d                                                                                            
006d38   6fea     MOVWF     0xea,0x1                                                                                        
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//Check if the last transaction was on EP0 OUT endpoint (of any kind, to either the even or odd buffer if ping pong buffers used) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d3a   0efd     MOVLW     0xfd               if((USTATcopy.Val & USTAT_EP0_PP_MASK) == USTAT_EP0_OUT_EVEN)                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d3c   15e1     ANDWF     0xe1,0x0,0x1                                                                                    
006d3e   e139     BNZ       0x6db2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//Point to the EP0 OUT buffer of the buffer that arrived                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if defined (_PIC14E) || defined(__18CXX)                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d40   0e7e     MOVLW     0x7e                       pBDTEntryEP0OutCurrent = (volatile BDT_ENTRY*)&BDT[(USTATcopy.Val & USTAT_EP_MASK)>>1]; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d42   15e1     ANDWF     0xe1,0x0,0x1                                                                                    
006d44   40e8     RRNCF     0xe8,0x0,0x0                                                                                    
006d46   0b7f     ANDLW     0x7f                                                                                            
006d48   0d04     MULLW     0x4                                                                                             
006d4a   cff3     MOVFF     0xff3,0x5bf                                                                                     
006d4c   f5bf                                                                                                               
006d4e   cff4     MOVFF     0xff4,0x5c0                                                                                     
006d50   f5c0                                                                                                               
006d52   0e00     MOVLW     0x0                                                                                             
006d54   27bf     ADDWF     0xbf,0x1,0x1                                                                                    
006d56   0e04     MOVLW     0x4                                                                                             
006d58   23c0     ADDWFC    0xc0,0x1,0x1                                                                                    
                                                   #elif defined(__C30__) || defined(__C32__) || defined __XC16__           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       pBDTEntryEP0OutCurrent = (volatile BDT_ENTRY*)&BDT[(USTATcopy.Val & USTAT_EP_MASK)>>2]; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #else                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #error "unimplemented"                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//Set the next out to the current out packet                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d5a   c5bf     MOVFF     0x5bf,0x5c1            pBDTEntryEP0OutNext = pBDTEntryEP0OutCurrent;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d5c   f5c1                                                                                                               
006d5e   c5c0     MOVFF     0x5c0,0x5c2                                                                                     
006d60   f5c2                                                                                                               
                                           		//Toggle it to the next ping pong buffer (if applicable)                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d62   75c1     BTG       0xc1,0x2,0x1           ((BYTE_VAL*)&pBDTEntryEP0OutNext)->Val ^= USB_NEXT_EP0_OUT_PING_PONG;    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//If the current EP0 OUT buffer has a SETUP packet                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d64   d9a5     RCALL     0x70b0                 if(pBDTEntryEP0OutCurrent->STAT.PID == PID_SETUP)                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d66   50ef     MOVF      0xef,0x0,0x0                                                                                    
006d68   0b3c     ANDLW     0x3c                                                                                            
006d6a   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
006d6c   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
006d6e   080d     SUBLW     0xd                                                                                             
006d70   e11e     BNZ       0x6dae                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       unsigned char setup_cnt;                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        //The SETUP transaction data may have gone into the the CtrlTrfData     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        //buffer, or elsewhere, depending upon how the BDT was prepared         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        //before the transaction.  Therefore, we should copy the data to the    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        //SetupPkt buffer so it can be processed correctly by USBCtrlTrfSetupHandler().		     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d72   6adf     CLRF      0xdf,0x0                   for(setup_cnt = 0; setup_cnt < 8u; setup_cnt++) //SETUP data packets always contain exactly 8 bytes. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d74   0e08     MOVLW     0x8                                                                                             
006d76   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
006d78   e216     BC        0x6da6                                                                                          
006da2   2adf     INCF      0xdf,0x1,0x0                                                                                    
006da4   d7e7     BRA       0x6d74                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d7a   d99a     RCALL     0x70b0                         *(BYTE*)((BYTE*)&SetupPkt + setup_cnt) = *(BYTE*)ConvertToVirtualAddress(pBDTEntryEP0OutCurrent->ADR); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d7c   0e02     MOVLW     0x2                                                                                             
006d7e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
006d80   0e00     MOVLW     0x0                                                                                             
006d82   d9c2     RCALL     0x7108                                                                                          
006d84   50ef     MOVF      0xef,0x0,0x0                                                                                    
006d86   6ee6     MOVWF     0xe6,0x0                                                                                        
006d88   50df     MOVF      0xdf,0x0,0x0                                                                                    
006d8a   6aea     CLRF      0xea,0x0                                                                                        
006d8c   0f30     ADDLW     0x30                                                                                            
006d8e   6ee9     MOVWF     0xe9,0x0                                                                                        
006d90   0e04     MOVLW     0x4                                                                                             
006d92   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006d94   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006d96   50e7     MOVF      0xe7,0x0,0x0                                                                                    
006d98   6eef     MOVWF     0xef,0x0                                                                                        
007108   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00710a   50ee     MOVF      0xee,0x0,0x0                                                                                    
00710c   cfef     MOVFF     0xfef,0xfea                                                                                     
00710e   ffea                                                                                                               
007110   6ee9     MOVWF     0xe9,0x0                                                                                        
007112   0012     RETURN    0x0                                                                                             
006d9a   d98a     RCALL     0x70b0                         pBDTEntryEP0OutCurrent->ADR++;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d9c   da78     RCALL     0x728e                                                                                          
006d9e   2aee     INCF      0xee,0x1,0x0                                                                                    
006da0   22ef     ADDWFC    0xef,0x1,0x0                                                                                    
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006da6   d984     RCALL     0x70b0                     pBDTEntryEP0OutCurrent->ADR = ConvertToPhysicalAddress(&SetupPkt);   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006da8   da11     RCALL     0x71cc                                                                                          
0070b0   c5bf     MOVFF     0x5bf,0xfe9                                                                                     
0070b2   ffe9                                                                                                               
0070b4   c5c0     MOVFF     0x5c0,0xfea                                                                                     
0070b6   ffea                                                                                                               
0070b8   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Handle the control transfer (parse the 8-byte SETUP command and figure out what to do) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006daa   d80a     RCALL     0x6dc0                     USBCtrlTrfSetupHandler();                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dac   d007     BRA       0x6dbc                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Handle the DATA transfer                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dae   d823     RCALL     0x6df6                     USBCtrlTrfOutHandler();                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006db0   d005     BRA       0x6dbc             else if((USTATcopy.Val & USTAT_EP0_PP_MASK) == USTAT_EP0_IN)                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006db2   0efd     MOVLW     0xfd                                                                                            
006db4   15e1     ANDWF     0xe1,0x0,0x1                                                                                    
006db6   0804     SUBLW     0x4                                                                                             
006db8   e101     BNZ       0x6dbc                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//Otherwise the transmission was and EP0 IN                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//  so take care of the IN transfer                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dba   d82c     RCALL     0x6e14                 USBCtrlTrfInHandler();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dbc   52e5     MOVF      0xe5,0x1,0x0   }//end USBCtrlEPService                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dbe   d16c     BRA       0x7098                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlTrfSetupHandler(void)                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    SetupPkt buffer is loaded with valid USB Setup Data          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine is a task dispatcher and has 3 stages.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  1. It initializes the control transfer state machine.        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  2. It calls on each of the module that may know how to       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     service the Setup Request from the host.                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     Module Example: USBD, HID, CDC, MSD, ...                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     A callback function, USBCBCheckOtherReq(),                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     is required to call other module handlers.                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  3. Once each of the modules has had a chance to check if     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     it is responsible for servicing the request, stage 3      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     then checks direction of the transfer to determine how    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     to prepare EP0 for the control transfer.                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     Refer to USBCtrlEPServiceComplete() for more details.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            Microchip USB Firmware has three different states for        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  the control transfer state machine:                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  1. WAIT_SETUP                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  2. CTRL_TRF_TX (device sends data to host through IN transactions) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  3. CTRL_TRF_RX (device receives data from host through OUT transactions) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  Refer to firmware manual to find out how one state           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  is transitioned to another.                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  A Control Transfer is composed of many USB transactions.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  When transferring data over multiple transactions,           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  it is important to keep track of data source, data           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  destination, and data count. These three parameters are      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  stored in pSrc,pDst, and wCount. A flag is used to           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  note if the data source is from ROM or RAM.                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfSetupHandler(void)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //-------------------------------------------------------------------------- D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //1. Re-initialize state tracking variables related to control transfers.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //-------------------------------------------------------------------------- D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dc0   0105     MOVLB     0x5                shortPacketStatus = SHORT_PKT_NOT_USED;                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dc2   6bcf     CLRF      0xcf,0x1                                                                                        
006dc4   6beb     CLRF      0xeb,0x1           USBDeferStatusStagePacket = FALSE;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dc6   6bee     CLRF      0xee,0x1           USBDeferINDataStagePackets = FALSE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dc8   6bef     CLRF      0xef,0x1           USBDeferOUTDataStagePackets = FALSE;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dca   6be3     CLRF      0xe3,0x1           BothEP0OutUOWNsSet = FALSE;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dcc   6bd0     CLRF      0xd0,0x1           controlTransferState = WAIT_SETUP;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Abandon any previous control transfers that might have been using EP0.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Ordinarily, nothing actually needs abandoning, since the previous control  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //transfer would have completed successfully prior to the host sending the next D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //SETUP packet.  However, in a timeout error case, or after an EP0 STALL event, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //one or more UOWN bits might still be set.  If so, we should clear the UOWN bits, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //so the EP0 IN/OUT endpoints are in a known inactive state, ready for re-arming D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //by the class request handler that will be called next.                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dce   d95a     RCALL     0x7084             pBDTEntryIn[0]->STAT.Val &= ~(_USIE);                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dd0   9eef     BCF       0xef,0x7,0x0                                                                                    
006dd2   75c9     BTG       0xc9,0x2,0x1       ((BYTE_VAL*)&pBDTEntryIn[0])->Val ^= USB_NEXT_EP0_IN_PING_PONG;              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dd4   d957     RCALL     0x7084             pBDTEntryIn[0]->STAT.Val &= ~(_USIE);                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dd6   9eef     BCF       0xef,0x7,0x0                                                                                    
006dd8   75c9     BTG       0xc9,0x2,0x1       ((BYTE_VAL*)&pBDTEntryIn[0])->Val ^= USB_NEXT_EP0_IN_PING_PONG;              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dda   d9e7     RCALL     0x71aa             pBDTEntryEP0OutNext->STAT.Val &= ~(_USIE);                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ddc   9eef     BCF       0xef,0x7,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dde   6bd3     CLRF      0xd3,0x1           inPipes[0].info.Val = 0;                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006de0   6bd4     CLRF      0xd4,0x1           inPipes[0].wCount.Val = 0;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006de2   6bd5     CLRF      0xd5,0x1                                                                                        
006de4   6bd8     CLRF      0xd8,0x1           outPipes[0].info.Val = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006de6   6bd9     CLRF      0xd9,0x1           outPipes[0].wCount.Val = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006de8   6bda     CLRF      0xda,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //-------------------------------------------------------------------------- D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //2. Now find out what was in the SETUP packet, and begin handling the request. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //-------------------------------------------------------------------------- D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dea   d851     RCALL     0x6e8e             USBCheckStdRequest();                                               //Check for standard USB "Chapter 9" requests. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dec   d9a6     RCALL     0x713a             USB_NONSTANDARD_EP0_REQUEST_HANDLER(EVENT_EP0_REQUEST,0,0); //Check for USB device class specific requests D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dee   0e03     MOVLW     0x3                                                                                             
006df0   d940     RCALL     0x7072                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //-------------------------------------------------------------------------- D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //3. Re-arm EP0 IN and EP0 OUT endpoints, based on the control transfer in   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   progress.  If one of the above handlers (in step 2) knew how to process D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   the request, it will have set one of the inPipes[0].info.bits.busy or   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   outPipes[0].info.bits.busy flags = 1.  This lets the                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   USBCtrlEPServiceComplete() function know how and which endpoints to     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   arm.  If both info.bits.busy flags are = 0, then no one knew how to     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   process the request.  In this case, the default behavior will be to     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   perform protocol STALL on EP0.                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //--------------------------------------------------------------------------  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006df2   efd5     GOTO      0x69aa             USBCtrlEPServiceComplete();                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006df4   f034                                                                                                               
                                           }//end USBCtrlTrfSetupHandler                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlTrfOutHandler(void)                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine handles an OUT transaction according to         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  which control transfer state is currently active.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            Note that if the the control transfer was from               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  host to device, the session owner should be notified         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  at the end of each OUT transaction to service the            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  received data.                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfOutHandler(void)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006df6   0e02     MOVLW     0x2                if(controlTransferState == CTRL_TRF_RX)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006df8   0105     MOVLB     0x5                                                                                             
006dfa   5dd0     SUBWF     0xd0,0x0,0x1                                                                                    
006dfc   e102     BNZ       0x6e02                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dfe   ef42     GOTO      0x6a84                 USBCtrlTrfRxService();	//Copies the newly received data into the appropriate buffer and configures EP0 OUT for next transaction. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e00   f035                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               else //In this case the last OUT transaction must have been a status stage of a CTRL_TRF_TX (<setup><in><in>...<OUT>  <-- this last OUT just occurred as the status stage) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //If the status stage is complete, this means we are done with the       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //control transfer.  Go back to the idle "WAIT_SETUP" state.             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e02   6bd0     CLRF      0xd0,0x1               controlTransferState = WAIT_SETUP;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //Prepare EP0 OUT for the next SETUP transaction, however, it may have      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //already been prepared if ping-pong buffering was enabled on EP0 OUT,      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //and the last control transfer was of direction: device to host, see       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //USBCtrlEPServiceComplete().  If it was already prepared, do not want      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //to do anything to the BDT.                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e04   51e3     MOVF      0xe3,0x0,0x1   		if(BothEP0OutUOWNsSet == FALSE)                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e06   e104     BNZ       0x6e10                                                                                          
                                           		{                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e08   d92b     RCALL     0x7060         	        pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007060   d910     RCALL     0x7282                                                                                          
0071aa   c5c1     MOVFF     0x5c1,0xfe9                                                                                     
0071ac   ffe9                                                                                                               
0071ae   c5c2     MOVFF     0x5c2,0xfea                                                                                     
0071b0   ffea                                                                                                               
0071b2   0012     RETURN    0x0                                                                                             
007062   d8b4     RCALL     0x71cc         	        pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071cc   d860     RCALL     0x728e                                                                                          
0071ce   0e30     MOVLW     0x30                                                                                            
0071d0   6eee     MOVWF     0xee,0x0                                                                                        
0071d2   0e04     MOVLW     0x4                                                                                             
0071d4   6eed     MOVWF     0xed,0x0                                                                                        
0071d6   0012     RETURN    0x0                                                                                             
00728e   0e02     MOVLW     0x2                                                                                             
007290   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007292   0e00     MOVLW     0x0                                                                                             
007294   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007296   0012     RETURN    0x0                                                                                             
006e0a   0e8c     MOVLW     0x8c           	        pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT0|(_DTSEN & _DTS_CHECKING_ENABLED)|_BSTALL;			 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e0c   6eef     MOVWF     0xef,0x0                                                                                        
007064   efd5     GOTO      0x71aa                                                                                          
007066   f038                                                                                                               
                                           		}                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e0e   0012     RETURN    0x0            		else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		{                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e10   6be3     CLRF      0xe3,0x1       			BothEP0OutUOWNsSet = FALSE;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		}                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e12   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlTrfInHandler(void)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine handles an IN transaction according to          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  which control transfer state is currently active.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            A Set Address Request must not change the acutal address     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  of the device until the completion of the control            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  transfer. The end of the control transfer for Set Address    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  Request is an IN transaction. Therefore it is necessary      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  to service this unique situation when the condition is       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  right. Macro mUSBCheckAdrPendingState is defined in          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  usb9.h and its function is to specifically service this      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  event.                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e14   da10     RCALL     0x7236         static void USBCtrlTrfInHandler(void)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00708e   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
007090   ffe6                                                                                                               
007092   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
007094   ffd9                                                                                                               
007096   0012     RETURN    0x0                                                                                             
007236   df2b     RCALL     0x708e                                                                                          
007238   52e6     MOVF      0xe6,0x1,0x0                                                                                    
00723a   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE lastDTS;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e16   d936     RCALL     0x7084             lastDTS = pBDTEntryIn[0]->STAT.DTS;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e18   50ef     MOVF      0xef,0x0,0x0                                                                                    
006e1a   0b40     ANDLW     0x40                                                                                            
006e1c   e001     BZ        0x6e20                                                                                          
006e1e   0e01     MOVLW     0x1                                                                                             
006e20   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //switch to the next ping pong buffer                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e22   0105     MOVLB     0x5                ((BYTE_VAL*)&pBDTEntryIn[0])->Val ^= USB_NEXT_EP0_IN_PING_PONG;              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e24   75c9     BTG       0xc9,0x2,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Must check if in ADR_PENDING_STATE.  If so, we need to update the address  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //now, since the IN status stage of the (set address) control transfer has   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //evidently completed successfully.                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e26   0e08     MOVLW     0x8                if(USBDeviceState == ADR_PENDING_STATE)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e28   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
006e2a   e10b     BNZ       0x6e42                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e2c   c432     MOVFF     0x432,0xf38            U1ADDR = SetupPkt.bDevADR.Val;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e2e   ff38                                                                                                               
006e30   010f     MOVLB     0xf                    if(U1ADDR != 0u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e32   5138     MOVF      0x38,0x0,0x1                                                                                    
006e34   e003     BZ        0x6e3c                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e36   0105     MOVLB     0x5                        USBDeviceState=ADDRESS_STATE;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e38   0e10     MOVLW     0x10                                                                                            
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e3a   d002     BRA       0x6e40                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e3c   0105     MOVLB     0x5                        USBDeviceState=DEFAULT_STATE;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e3e   0e04     MOVLW     0x4                                                                                             
006e40   6fbc     MOVWF     0xbc,0x1                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end if                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e42   05d0     DECF      0xd0,0x0,0x1       if(controlTransferState == CTRL_TRF_TX)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e44   e113     BNZ       0x6e6c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e46   d91e     RCALL     0x7084                 pBDTEntryIn[0]->ADR = ConvertToPhysicalAddress(CtrlTrfData);             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e48   d938     RCALL     0x70ba                                                                                          
0070ba   d8e9     RCALL     0x728e                                                                                          
0070bc   0e38     MOVLW     0x38                                                                                            
0070be   6eee     MOVWF     0xee,0x0                                                                                        
0070c0   0e04     MOVLW     0x4                                                                                             
0070c2   6eed     MOVWF     0xed,0x0                                                                                        
0070c4   0012     RETURN    0x0                                                                                             
006e4a   dddc     RCALL     0x6a04                 USBCtrlTrfTxService();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Check if we have already sent a short packet.  If so, configure        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //the endpoint to STALL in response to any further IN tokens (in the     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //case that the host erroneously tries to receive more data than it      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //should).                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e4c   0e02     MOVLW     0x2                    if(shortPacketStatus == SHORT_PKT_SENT)                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e4e   0105     MOVLB     0x5                                                                                             
006e50   5dcf     SUBWF     0xcf,0x0,0x1                                                                                    
006e52   e103     BNZ       0x6e5a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       // If a short packet has been sent, don't want to send any more,     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       // stall next time if host is still trying to read.                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e54   d917     RCALL     0x7084                     pBDTEntryIn[0]->STAT.Val = _USIE|_BSTALL;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e56   0e84     MOVLW     0x84                                                                                            
007084   c5c9     MOVFF     0x5c9,0xfe9                                                                                     
007086   ffe9                                                                                                               
007088   c5ca     MOVFF     0x5ca,0xfea                                                                                     
00708a   ffea                                                                                                               
00708c   0012     RETURN    0x0                                                                                             
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e58   d007     BRA       0x6e68                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e5a   50df     MOVF      0xdf,0x0,0x0               if(lastDTS == 0u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e5c   e103     BNZ       0x6e64                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e5e   d912     RCALL     0x7084                         pBDTEntryIn[0]->STAT.Val = _USIE|_DAT1|(_DTSEN & _DTS_CHECKING_ENABLED); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e60   0ec8     MOVLW     0xc8                                                                                            
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e62   d002     BRA       0x6e68                     else                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e64   d90f     RCALL     0x7084                         pBDTEntryIn[0]->STAT.Val = _USIE|_DAT0|(_DTSEN & _DTS_CHECKING_ENABLED); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e66   0e88     MOVLW     0x88                                                                                            
006e68   6eef     MOVWF     0xef,0x0                                                                                        
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }//end if(...)else                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e6a   d00f     BRA       0x6e8a         	else // must have been a CTRL_TRF_RX status stage IN packet (<setup><out><out>...<IN>  <-- this last IN just occurred as the status stage) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	{                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //if someone is still expecting data from the control transfer           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //  then make sure to terminate that request and let them know that      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //  they are done                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e6c   afd8     BTFSS     0xd8,0x7,0x1           if(outPipes[0].info.bits.busy == 1u)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e6e   d00c     BRA       0x6e88                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e70   51db     MOVF      0xdb,0x0,0x1               if(outPipes[0].pFunc != NULL)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e72   11dc     IORWF     0xdc,0x0,0x1                                                                                    
006e74   e007     BZ        0x6e84                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e76   d005     BRA       0x6e82                         outPipes[0].pFunc();                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e78   c5dc     MOVFF     0x5dc,0xffa                                                                                     
006e7a   fffa                                                                                                               
006e7c   0105     MOVLB     0x5                                                                                             
006e7e   51db     MOVF      0xdb,0x0,0x1                                                                                    
006e80   6ef9     MOVWF     0xf9,0x0                                                                                        
006e82   dffa     RCALL     0x6e78                                                                                          
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e84   0105     MOVLB     0x5                        outPipes[0].info.bits.busy = 0;                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e86   9fd8     BCF       0xd8,0x7,0x1                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               	                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e88   6bd0     CLRF      0xd0,0x1               controlTransferState = WAIT_SETUP;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Don't need to arm EP0 OUT here.  It was already armed by the last <out> that D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //got processed by the USBCtrlTrfRxService() handler.                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	}	                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e8a   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e8c   d105     BRA       0x7098                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCheckStdRequest(void)                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine checks the setup data packet to see             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  if it knows how to handle it                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCheckStdRequest(void)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e8e   0104     MOVLB     0x4                if(SetupPkt.RequestType != USB_SETUP_TYPE_STANDARD_BITFIELD) return;         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e90   5130     MOVF      0x30,0x0,0x1                                                                                    
006e92   0b60     ANDLW     0x60                                                                                            
006e94   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
006e96   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
006e98   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
006e9a   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
006e9c   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
006e9e   0900     IORLW     0x0                                                                                             
006ea0   e001     BZ        0x6ea4                                                                                          
006ea2   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ea4   5131     MOVF      0x31,0x0,0x1       switch(SetupPkt.bRequest)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ea6   0a0c     XORLW     0xc                                                                                             
006ea8   e045     BZ        0x6f34                                                                                          
006eaa   0a0b     XORLW     0xb                                                                                             
006eac   e03f     BZ        0x6f2c                                                                                          
006eae   0a0c     XORLW     0xc                                                                                             
006eb0   e031     BZ        0x6f14                                                                                          
006eb2   0a01     XORLW     0x1                                                                                             
006eb4   e022     BZ        0x6efa                                                                                          
006eb6   0a0b     XORLW     0xb                                                                                             
006eb8   e01e     BZ        0x6ef6                                                                                          
006eba   0a02     XORLW     0x2                                                                                             
006ebc   e01c     BZ        0x6ef6                                                                                          
006ebe   0a03     XORLW     0x3                                                                                             
006ec0   e018     BZ        0x6ef2                                                                                          
006ec2   0a08     XORLW     0x8                                                                                             
006ec4   e010     BZ        0x6ee6                                                                                          
006ec6   0a01     XORLW     0x1                                                                                             
006ec8   e00c     BZ        0x6ee2                                                                                          
006eca   0a0f     XORLW     0xf                                                                                             
006ecc   e008     BZ        0x6ede                                                                                          
006ece   0a03     XORLW     0x3                                                                                             
006ed0   e001     BZ        0x6ed4                                                                                          
006ed2   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_SET_ADDRESS:                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ed4   0105     MOVLB     0x5                        inPipes[0].info.bits.busy = 1;            // This will generate a zero length packet D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ed6   8fd3     BSF       0xd3,0x7,0x1                                                                                    
006ed8   0e08     MOVLW     0x8                        USBDeviceState = ADR_PENDING_STATE;       // Update state only       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006eda   6fbc     MOVWF     0xbc,0x1                                                                                        
                                                       /* See USBCtrlTrfInHandler() for the next step */                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006edc   0012     RETURN    0x0                        break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_GET_DESCRIPTOR:                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ede   efe2     GOTO      0x6bc4                     USBStdGetDscHandler();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ee0   f035                                                                                                               
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_SET_CONFIGURATION:                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ee2   efa6     GOTO      0x6b4c                     USBStdSetCfgHandler();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ee4   f035                                                                                                               
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_GET_CONFIGURATION:                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ee6   0105     MOVLB     0x5                        inPipes[0].pSrc.bRam = (BYTE*)&USBActiveConfiguration;         // Set Source D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ee8   0ebd     MOVLW     0xbd                                                                                            
006eea   6fd1     MOVWF     0xd1,0x1                                                                                        
006eec   0e05     MOVLW     0x5                                                                                             
006eee   6fd2     MOVWF     0xd2,0x1                                                                                        
                                                       inPipes[0].info.bits.ctrl_trf_mem = USB_EP0_RAM;               // Set memory type D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       inPipes[0].wCount.v[0] = 1;                         // Set data count D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ef0   d00c     BRA       0x6f0a                     break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_GET_STATUS:                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ef2   ef35     GOTO      0x6c6a                     USBStdGetStatusHandler();                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ef4   f036                                                                                                               
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_CLEAR_FEATURE:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_SET_FEATURE:                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ef6   ef9b     GOTO      0x6f36                     USBStdFeatureReqHandler();                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ef8   f037                                                                                                               
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_GET_INTERFACE:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006efa   5134     MOVF      0x34,0x0,0x1               inPipes[0].pSrc.bRam = (BYTE*)&USBAlternateInterface[SetupPkt.bIntfID];  // Set source D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006efc   0105     MOVLB     0x5                                                                                             
006efe   6fd1     MOVWF     0xd1,0x1                                                                                        
006f00   6bd2     CLRF      0xd2,0x1                                                                                        
006f02   0ebe     MOVLW     0xbe                                                                                            
006f04   27d1     ADDWF     0xd1,0x1,0x1                                                                                    
006f06   0e05     MOVLW     0x5                                                                                             
006f08   23d2     ADDWFC    0xd2,0x1,0x1                                                                                    
006f0a   81d3     BSF       0xd3,0x0,0x1               inPipes[0].info.bits.ctrl_trf_mem = USB_EP0_RAM;               // Set memory type D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f0c   0e01     MOVLW     0x1                        inPipes[0].wCount.v[0] = 1;                         // Set data count D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f0e   6fd4     MOVWF     0xd4,0x1                                                                                        
006f10   8fd3     BSF       0xd3,0x7,0x1               inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f12   0012     RETURN    0x0                        break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_SET_INTERFACE:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f14   0105     MOVLB     0x5                        inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f16   8fd3     BSF       0xd3,0x7,0x1                                                                                    
006f18   0104     MOVLB     0x4                        USBAlternateInterface[SetupPkt.bIntfID] = SetupPkt.bAltID;           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f1a   5134     MOVF      0x34,0x0,0x1                                                                                    
006f1c   6aea     CLRF      0xea,0x0                                                                                        
006f1e   0fbe     ADDLW     0xbe                                                                                            
006f20   6ee9     MOVWF     0xe9,0x0                                                                                        
006f22   0e05     MOVLW     0x5                                                                                             
006f24   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006f26   c432     MOVFF     0x432,0xfef                                                                                     
006f28   ffef                                                                                                               
006f2a   0012     RETURN    0x0                        break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_SET_DESCRIPTOR:                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f2c   d906     RCALL     0x713a                     USB_SET_DESCRIPTOR_HANDLER(EVENT_SET_DESCRIPTOR,0,0);                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f2e   0e02     MOVLW     0x2                                                                                             
006f30   ef39     GOTO      0x7072                                                                                          
006f32   f038                                                                                                               
00713a   0e00     MOVLW     0x0                                                                                             
00713c   6ee6     MOVWF     0xe6,0x0                                                                                        
00713e   6ae6     CLRF      0xe6,0x0                                                                                        
007140   6ee6     MOVWF     0xe6,0x0                                                                                        
007142   6ae6     CLRF      0xe6,0x0                                                                                        
007144   0012     RETURN    0x0                                                                                             
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_SYNCH_FRAME:                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   default:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end switch                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f34   0012     RETURN    0x0            }//end USBCheckStdRequest                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBStdFeatureReqHandler(void)                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          Can alter BDT entries.  Can also modify USB stack            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  Maintained variables.                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine handles the standard SET & CLEAR                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  FEATURES requests                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            This is a private function, intended for internal            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  use by the USB stack, when processing SET/CLEAR              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  feature requests.                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f36   d8ab     RCALL     0x708e         static void USBStdFeatureReqHandler(void)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f38   0e05     MOVLW     0x5                                                                                             
006f3a   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BDT_ENTRY *p;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               EP_STATUS current_ep_data;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(__C32__)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   DWORD* pUEP;                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #else                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   unsigned char* pUEP;                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #ifdef	USB_SUPPORT_OTG                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Check for USB On-The-Go (OTG) specific requests                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if ((SetupPkt.bFeature == OTG_FEATURE_B_HNP_ENABLE)&&                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   (SetupPkt.Recipient == USB_SETUP_RECIPIENT_DEVICE_BITFIELD))             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   inPipes[0].info.bits.busy = 1;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGEnableHnp();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGDisableHnp();                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if ((SetupPkt.bFeature == OTG_FEATURE_A_HNP_SUPPORT)&&                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   (SetupPkt.Recipient == USB_SETUP_RECIPIENT_DEVICE_BITFIELD))             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   inPipes[0].info.bits.busy = 1;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGEnableSupportHnp();                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGDisableSupportHnp();                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if ((SetupPkt.bFeature == OTG_FEATURE_A_ALT_HNP_SUPPORT)&&                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   (SetupPkt.Recipient == USB_SETUP_RECIPIENT_DEVICE_BITFIELD))             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   inPipes[0].info.bits.busy = 1;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGEnableAltHnp();                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGDisableAltHnp();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif   //#ifdef USB_SUPPORT_OTG                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Check if the host sent a valid SET or CLEAR feature (remote wakeup) request. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f3c   0104     MOVLB     0x4                if((SetupPkt.bFeature == USB_FEATURE_DEVICE_REMOTE_WAKEUP)&&                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f3e   0532     DECF      0x32,0x0,0x1                                                                                    
006f40   e110     BNZ       0x6f62                (SetupPkt.Recipient == USB_SETUP_RECIPIENT_DEVICE_BITFIELD))              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f42   5130     MOVF      0x30,0x0,0x1                                                                                    
006f44   0b1f     ANDLW     0x1f                                                                                            
006f46   0900     IORLW     0x0                                                                                             
006f48   e10c     BNZ       0x6f62                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f4a   0105     MOVLB     0x5                    inPipes[0].info.bits.busy = 1;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f4c   8fd3     BSF       0xd3,0x7,0x1                                                                                    
006f4e   0e03     MOVLW     0x3                    if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f50   0104     MOVLB     0x4                                                                                             
006f52   5d31     SUBWF     0x31,0x0,0x1                                                                                    
006f54   e104     BNZ       0x6f5e                                                                                          
006f56   0105     MOVLB     0x5                        RemoteWakeup = TRUE;                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f58   0e01     MOVLW     0x1                                                                                             
006f5a   6fdf     MOVWF     0xdf,0x1                                                                                        
006f5c   d002     BRA       0x6f62                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f5e   0105     MOVLB     0x5                        RemoteWakeup = FALSE;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f60   6bdf     CLRF      0xdf,0x1                                                                                        
                                               }//end if                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Check if the host sent a valid SET or CLEAR endpoint halt request.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f62   0104     MOVLB     0x4                if((SetupPkt.bFeature == USB_FEATURE_ENDPOINT_HALT)&&                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f64   5132     MOVF      0x32,0x0,0x1                                                                                    
006f66   e001     BZ        0x6f6a                (SetupPkt.Recipient == USB_SETUP_RECIPIENT_ENDPOINT_BITFIELD)&&           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f68   d074     BRA       0x7052                                                                                          
006f6a   5130     MOVF      0x30,0x0,0x1                                                                                    
006f6c   0b1f     ANDLW     0x1f                                                                                            
006f6e   0802     SUBLW     0x2                                                                                             
006f70   e170     BNZ       0x7052                                                                                          
006f72   5134     MOVF      0x34,0x0,0x1          (SetupPkt.EPNum != 0u) && (SetupPkt.EPNum <= USB_MAX_EP_NUMBER)&&         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f74   0b0f     ANDLW     0xf                                                                                             
006f76   0900     IORLW     0x0                                                                                             
006f78   e06c     BZ        0x7052                                                                                          
006f7a   5134     MOVF      0x34,0x0,0x1                                                                                    
006f7c   0b0f     ANDLW     0xf                                                                                             
006f7e   0802     SUBLW     0x2                                                                                             
006f80   e368     BNC       0x7052                                                                                          
006f82   0e20     MOVLW     0x20                  (USBDeviceState == CONFIGURED_STATE))                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f84   0105     MOVLB     0x5                                                                                             
006f86   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
006f88   e164     BNZ       0x7052                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//The request was valid.  Take control of the control transfer and             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//perform the host requested action.                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f8a   8fd3     BSF       0xd3,0x7,0x1   		inPipes[0].info.bits.busy = 1;                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Fetch a pointer to the BDT that the host wants to SET/CLEAR halt on.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f8c   0104     MOVLB     0x4                    if(SetupPkt.EPDir == OUT_FROM_HOST)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f8e   bf34     BTFSC     0x34,0x7,0x1                                                                                    
006f90   d004     BRA       0x6f9a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f92   d940     RCALL     0x7214                     p = (BDT_ENTRY*)pBDTEntryOut[SetupPkt.EPNum];                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f94   d8cc     RCALL     0x712e                                                                                          
006f96   d8d7     RCALL     0x7146                     current_ep_data.Val = ep_data_out[SetupPkt.EPNum].Val;               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f98   d003     BRA       0x6fa0                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f9a   d941     RCALL     0x721e                     p = (BDT_ENTRY*)pBDTEntryIn[SetupPkt.EPNum];                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f9c   d8c8     RCALL     0x712e                                                                                          
00712e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007130   cfee     MOVFF     0xfee,0xfde                                                                                     
007132   ffde                                                                                                               
007134   cfed     MOVFF     0xfed,0xfdd                                                                                     
007136   ffdd                                                                                                               
007138   0012     RETURN    0x0                                                                                             
006f9e   d8d7     RCALL     0x714e                     current_ep_data.Val = ep_data_in[SetupPkt.EPNum].Val;                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fa0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006fa2   0e02     MOVLW     0x2                                                                                             
006fa4   cfef     MOVFF     0xfef,0xfdb                                                                                     
006fa6   ffdb                                                                                                               
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //If ping pong buffering is enabled on the requested endpoint, need      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //to point to the one that is the active BDT entry which the SIE will    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //use for the next attempted transaction on that EP number.              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0) || (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fa8   d8f9     RCALL     0x719c                     if(current_ep_data.bits.ping_pong_state == 0u) //Check if even       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006faa   0b01     ANDLW     0x1                                                                                             
006fac   e103     BNZ       0x6fb4                                                                                          
00719c   50d9     MOVF      0xd9,0x0,0x0                                                                                    
00719e   0f02     ADDLW     0x2                                                                                             
0071a0   6ee9     MOVWF     0xe9,0x0                                                                                        
0071a2   cfda     MOVFF     0xfda,0xfea                                                                                     
0071a4   ffea                                                                                                               
0071a6   50ef     MOVF      0xef,0x0,0x0                                                                                    
0071a8   0012     RETURN    0x0                                                                                             
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fae   0e00     MOVLW     0x0                            USBHALPingPongSetToEven(&p);                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fb0   94df     BCF       0xdf,0x2,0x0                                                                                    
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fb2   d001     BRA       0x6fb6                     else //else must have been odd                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fb4   84df     BSF       0xdf,0x2,0x0                   USBHALPingPongSetToOdd(&p);                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Update the BDT pointers with the new, next entry based on the feature  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //  request                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fb6   bf34     BTFSC     0x34,0x7,0x1           if(SetupPkt.EPDir == OUT_FROM_HOST)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fb8   d002     BRA       0x6fbe                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fba   d92c     RCALL     0x7214                     pBDTEntryOut[SetupPkt.EPNum] = (volatile BDT_ENTRY *)p;              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070a0   5134     MOVF      0x34,0x0,0x1                                                                                    
0070a2   0b0f     ANDLW     0xf                                                                                             
0070a4   6ee9     MOVWF     0xe9,0x0                                                                                        
0070a6   6aea     CLRF      0xea,0x0                                                                                        
0070a8   90d8     BCF       0xd8,0x0,0x0                                                                                    
0070aa   36e9     RLCF      0xe9,0x1,0x0                                                                                    
0070ac   36ea     RLCF      0xea,0x1,0x0                                                                                    
0070ae   0012     RETURN    0x0                                                                                             
007214   df45     RCALL     0x70a0                                                                                          
007216   0ec3     MOVLW     0xc3                                                                                            
007218   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00721a   0e05     MOVLW     0x5                                                                                             
00721c   0012     RETURN    0x0                                                                                             
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fbc   d001     BRA       0x6fc0                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fbe   d92f     RCALL     0x721e                     pBDTEntryIn[SetupPkt.EPNum] = (volatile BDT_ENTRY *)p;               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fc0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006fc2   cfde     MOVFF     0xfde,0xfee                                                                                     
006fc4   ffee                                                                                                               
006fc6   cfdd     MOVFF     0xfdd,0xfed                                                                                     
006fc8   ffed                                                                                                               
00721e   df40     RCALL     0x70a0                                                                                          
007220   0ec9     MOVLW     0xc9                                                                                            
007222   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007224   0e05     MOVLW     0x5                                                                                             
007226   0012     RETURN    0x0                                                                                             
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//Check if it was a SET_FEATURE endpoint halt request                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fca   0e03     MOVLW     0x3                    if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fcc   5d31     SUBWF     0x31,0x0,0x1                                                                                    
006fce   e10c     BNZ       0x6fe8                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fd0   d92e     RCALL     0x722e                     if(p->STAT.UOWN == 1u)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fd2   e007     BZ        0x6fe2                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Mark that we are terminating this transfer and that the user   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //  needs to be notified later                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fd4   bf34     BTFSC     0x34,0x7,0x1                   if(SetupPkt.EPDir == OUT_FROM_HOST)                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fd6   d002     BRA       0x6fdc                                                                                          
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fd8   d8b6     RCALL     0x7146                             ep_data_out[SetupPkt.EPNum].bits.transfer_terminated = 1;    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fda   d001     BRA       0x6fde                         else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fdc   d8b8     RCALL     0x714e                             ep_data_in[SetupPkt.EPNum].bits.transfer_terminated = 1;     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fde   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006fe0   82ef     BSF       0xef,0x1,0x0                                                                                    
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Then STALL the endpoint                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fe2   0e84     MOVLW     0x84                       p->STAT.Val |= _USIE|_BSTALL;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fe4   d959     RCALL     0x7298                                                                                          
                                                   }//if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fe6   d035     BRA       0x7052                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Else the request must have been a CLEAR_FEATURE endpoint halt.              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #if (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0) || (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //toggle over the to the non-active BDT                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fe8   74df     BTG       0xdf,0x2,0x0                   USBAdvancePingPongBuffer(&p);                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fea   d921     RCALL     0x722e                         if(p->STAT.UOWN == 1u)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fec   e006     BZ        0x6ffa                                                                                          
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //Clear UOWN and set DTS state so it will be correct the next time D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //the application firmware uses USBTransferOnePacket() on the EP. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fee   d845     RCALL     0x707a                             p->STAT.Val &= (~_USIE);    //Clear UOWN bit                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ff0   9eef     BCF       0xef,0x7,0x0                                                                                    
006ff2   d843     RCALL     0x707a                             p->STAT.Val |= _DAT1;       //Set DTS to DATA1               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ff4   8cef     BSF       0xef,0x6,0x0                                                                                    
006ff6   d8f4     RCALL     0x71e0                             USB_TRANSFER_TERMINATED_HANDLER(EVENT_TRANSFER_TERMINATED,p,sizeof(p)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071e0   0e02     MOVLW     0x2                                                                                             
0071e2   6ee6     MOVWF     0xe6,0x0                                                                                        
0071e4   6ae6     CLRF      0xe6,0x0                                                                                        
0071e6   cfde     MOVFF     0xfde,0xfe6                                                                                     
0071e8   ffe6                                                                                                               
0071ea   cfdd     MOVFF     0xfdd,0xfe6                                                                                     
0071ec   ffe6                                                                                                               
0071ee   0e05     MOVLW     0x5                                                                                             
0071f0   ef39     GOTO      0x7072                                                                                          
0071f2   f038                                                                                                               
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ff8   d002     BRA       0x6ffe                         else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //UOWN already clear, but still need to set DTS to DATA1      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ffa   d83f     RCALL     0x707a         					p->STAT.Val |= _DAT1;                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ffc   8cef     BSF       0xef,0x6,0x0                                                                                    
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //toggle back to the active BDT (the one the SIE is currently looking at D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //and will use for the next successful transaction to take place on the EP D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ffe   74df     BTG       0xdf,0x2,0x0                   USBAdvancePingPongBuffer(&p);                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Check if we are currently terminating, or have previously terminated D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //a transaction on the given endpoint.  If so, need to clear UOWN, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //set DTS to the proper state, and call the application callback D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //function.                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007000   d8cd     RCALL     0x719c                         if((current_ep_data.bits.transfer_terminated != 0u) || (p->STAT.UOWN == 1u)) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007002   0b02     ANDLW     0x2                                                                                             
007004   e102     BNZ       0x700a                                                                                          
007006   d913     RCALL     0x722e                                                                                          
007008   e00d     BZ        0x7024                                                                                          
00722e   df25     RCALL     0x707a                                                                                          
007230   50ef     MOVF      0xef,0x0,0x0                                                                                    
007232   0b80     ANDLW     0x80                                                                                            
007234   0012     RETURN    0x0                                                                                             
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00700a   0104     MOVLB     0x4                                if(SetupPkt.EPDir == OUT_FROM_HOST)                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00700c   bf34     BTFSC     0x34,0x7,0x1                                                                                    
00700e   d002     BRA       0x7014                                                                                          
                                                               {                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007010   d89a     RCALL     0x7146                                 ep_data_out[SetupPkt.EPNum].bits.transfer_terminated = 0; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007146   5134     MOVF      0x34,0x0,0x1                                                                                    
007148   0b0f     ANDLW     0xf                                                                                             
00714a   ef33     GOTO      0x7266                                                                                          
00714c   f039                                                                                                               
007266   6aea     CLRF      0xea,0x0                                                                                        
007268   0fe7     ADDLW     0xe7                                                                                            
00726a   6ee9     MOVWF     0xe9,0x0                                                                                        
00726c   0e05     MOVLW     0x5                                                                                             
00726e   0012     RETURN    0x0                                                                                             
                                                               }                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007012   d001     BRA       0x7016                             else                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               {                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007014   d89c     RCALL     0x714e                                 ep_data_in[SetupPkt.EPNum].bits.transfer_terminated = 0; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007016   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007018   92ef     BCF       0xef,0x1,0x0                                                                                    
00714e   5134     MOVF      0x34,0x0,0x1                                                                                    
007150   0b0f     ANDLW     0xf                                                                                             
007152   ef38     GOTO      0x7270                                                                                          
007154   f039                                                                                                               
007270   6aea     CLRF      0xea,0x0                                                                                        
007272   0fe4     ADDLW     0xe4                                                                                            
007274   6ee9     MOVWF     0xe9,0x0                                                                                        
007276   0e05     MOVLW     0x5                                                                                             
007278   0012     RETURN    0x0                                                                                             
                                                               }                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //clear UOWN, clear DTS to DATA0, and finally remove the STALL condition      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00701a   0e3b     MOVLW     0x3b                               p->STAT.Val &= ~(_USIE | _DAT1 | _BSTALL);                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00701c   6e4e     MOVWF     0x4e,0x0                                                                                        
00701e   d92d     RCALL     0x727a                                                                                          
                                                               //Call the application event handler callback function, so it can  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           					//decide if the endpoint should get re-armed again or not.                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007020   d8df     RCALL     0x71e0                             USB_TRANSFER_TERMINATED_HANDLER(EVENT_TRANSFER_TERMINATED,p,sizeof(p)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007072   6ee6     MOVWF     0xe6,0x0                                                                                        
007074   6ae6     CLRF      0xe6,0x0                                                                                        
007076   ef2c     GOTO      0x7258                                                                                          
007078   f039                                                                                                               
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007022   d002     BRA       0x7028                         else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //clear UOWN, clear DTS to DATA0, and finally remove the STALL condition      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007024   0e3b     MOVLW     0x3b                               p->STAT.Val &= ~(_USIE | _DAT1 | _BSTALL);                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007026   d929     RCALL     0x727a                                                                                          
00707a   cfde     MOVFF     0xfde,0xfe9                                                                                     
00707c   ffe9                                                                                                               
00707e   cfdd     MOVFF     0xfdd,0xfea                                                                                     
007080   ffea                                                                                                               
007082   0012     RETURN    0x0                                                                                             
00727a   deff     RCALL     0x707a                                                                                          
00727c   50e8     MOVF      0xe8,0x0,0x0                                                                                    
00727e   16ef     ANDWF     0xef,0x1,0x0                                                                                    
007280   0012     RETURN    0x0                                                                                             
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #else //else we must not be using ping-pong buffering on the requested endpoint D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Check if we need to call the user transfer terminated event callback function. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //We should call the callback, if the endpoint was previously terminated, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //or the endpoint is currently armed, and the host is performing clear D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //endpoint halt, even though the endpoint wasn't stalled.        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           if((current_ep_data.bits.transfer_terminated != 0) || (p->STAT.UOWN == 1)) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //We are going to call the user transfer terminated callback. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //Clear the flag so we know we took care of it and don't need D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //to call it again later.                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               if(SetupPkt.EPDir == OUT_FROM_HOST)                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               {                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                   ep_data_out[SetupPkt.EPNum].bits.transfer_terminated = 0; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               }                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               else                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               {                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                   ep_data_in[SetupPkt.EPNum].bits.transfer_terminated = 0; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               }                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //Clear UOWN and remove the STALL condition.                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //  In this case we also need to set the DTS bit to 1 so that D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //  it toggles to DATA0 the next time the application firmware D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //  calls USBTransferOnePacket() (or equivalent macro).      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               p->STAT.Val &= ~(_USIE | _BSTALL);                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               p->STAT.Val |= _DAT1;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //Let the application firmware know a transaction just       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //got terminated by the host, and that it is now free to     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //re-arm the endpoint or do other tasks if desired.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               USB_TRANSFER_TERMINATED_HANDLER(EVENT_TRANSFER_TERMINATED,p,sizeof(p)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //Clear UOWN and remove the STALL condition.                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //  In this case we also need to set the DTS bit to 1 so that D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //  it toggles to DATA0 the next time the application firmware D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //  calls USBTransferOnePacket() (or equivalent macro).      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               p->STAT.Val &= ~(_USIE | _BSTALL);                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               p->STAT.Val |= _DAT1;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #endif //end of #if (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0) || (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Get a pointer to the appropriate UEPn register                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #if defined(__C32__)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           pUEP = (DWORD*)(&U1EP0);                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           pUEP += (SetupPkt.EPNum*4);                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #else                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007028   0104     MOVLB     0x4                            pUEP = (unsigned char*)(&U1EP0+SetupPkt.EPNum);                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00702a   5134     MOVF      0x34,0x0,0x1                                                                                    
00702c   0b0f     ANDLW     0xf                                                                                             
00702e   6a4f     CLRF      0x4f,0x0                                                                                        
007030   0f26     ADDLW     0x26                                                                                            
007032   6e4e     MOVWF     0x4e,0x0                                                                                        
007034   0e0f     MOVLW     0xf                                                                                             
007036   224f     ADDWFC    0x4f,0x1,0x0                                                                                    
007038   0e03     MOVLW     0x3                                                                                             
00703a   c04e     MOVFF     0x4e,0xfdb                                                                                      
00703c   ffdb                                                                                                               
00703e   0e04     MOVLW     0x4                                                                                             
007040   c04f     MOVFF     0x4f,0xfdb                                                                                      
007042   ffdb                                                                                                               
                                                       #endif                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Clear the STALL bit in the UEP register                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007044   0e03     MOVLW     0x3                        *pUEP &= ~UEP_STALL;                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007046   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
007048   ffe9                                                                                                               
00704a   0e04     MOVLW     0x4                                                                                             
00704c   cfdb     MOVFF     0xfdb,0xfea                                                                                     
00704e   ffea                                                                                                               
007050   90ef     BCF       0xef,0x0,0x0                                                                                    
                                                   }//end if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end if (lots of checks for set/clear endpoint halt)                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007052   0e05     MOVLW     0x5            }//end USBStdFeatureReqHandler                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007054   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
007056   e202     BC        0x705c                                                                                          
007058   6ae1     CLRF      0xe1,0x0                                                                                        
00705a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00705c   6ee1     MOVWF     0xe1,0x0                                                                                        
00705e   d01c     BRA       0x7098                                                                                          
007098   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00709a   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00709c   ffd9                                                                                                               
00709e   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** EOF USBDevice.c *****************************************************/       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************** D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             File Information:                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               FileName:       usb_function_cdc.c                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Dependencies:   See INCLUDES section                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Processor:      PIC18 or PIC24 USB Microcontrollers                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Hardware:       The code is natively intended to be used on the following    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               hardware platforms: PICDEM(TM) FS USB Demo Board,            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               PIC18F87J50 FS USB Plug-In Module, or                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               Explorer 16 + PIC24 USB PIM.  The firmware may be            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               modified for use on other USB platforms by editing the       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               HardwareProfile.h file.                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Complier:   Microchip C18 (for PIC18) or C30 (for PIC24)                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Company:        Microchip Technology, Inc.                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Software License Agreement:                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               The software supplied herewith by Microchip Technology Incorporated          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               (the "Company") for its PIC(R) Microcontroller is intended and               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               supplied to you, the Company's customer, for use solely and                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               exclusively on Microchip PIC Microcontroller products. The                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               software is owned by the Company and/or its supplier, and is                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               protected under applicable copyright laws. All rights are reserved.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Any use in violation of the foregoing restrictions may subject the           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               user to criminal sanctions under applicable laws, as well as to              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               civil liability for the breach of the terms and conditions of this           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               license.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               THIS SOFTWARE IS PROVIDED IN AN "AS IS" CONDITION. NO WARRANTIES,            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This file contains all of functions, macros, definitions, variables,         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               datatypes, etc. that are required for usage with the CDC function            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               driver. This file should be included in projects that use the CDC            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               \function driver.                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This file is located in the "\<Install Directory\>\\Microchip\\USB\\CDC      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Device Driver" directory.                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USB CDC Function Driver File                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This file contains all of functions, macros, definitions, variables,         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               datatypes, etc. that are required for usage with the CDC function            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               driver. This file should be included in projects that use the CDC            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               \function driver.                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This file is located in the "\<Install Directory\>\\Microchip\\USB\\CDC      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Device Driver" directory.                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               When including this file in a new project, this file can either be           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               referenced from the directory in which it was installed or copied            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               directly into the user application folder. If the first method is            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               chosen to keep the file located in the folder in which it is installed       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               then include paths need to be added so that the library and the              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               application both know where to reference each others files. If the           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               application folder is located in the same folder as the Microchip            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               folder (like the current demo folders), then the following include           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               paths need to be added to the application's project:                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               ..\\Include                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               .                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               If a different directory structure is used, modify the paths as              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               required. An example using absolute paths instead of relative paths          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               would be the following:                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               C:\\Microchip Solutions\\Microchip\\Include                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               C:\\Microchip Solutions\\My Demo Application                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             ********************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            Change History:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Rev    Description                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             ----   -----------                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             2.3    Decricated the mUSBUSARTIsTxTrfReady() macro.  It is                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    replaced by the USBUSARTIsTxTrfReady() function.                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             2.6    Minor definition changes                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             2.6a   No Changes                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             2.7    Fixed error in the part support list of the variables section           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    where the address of the CDC variables are defined.  The                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    PIC18F2553 was incorrectly named PIC18F2453 and the PIC18F4558          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    was incorrectly named PIC18F4458.                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    http://www.microchip.com/forums/fb.aspx?m=487397                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             2.8    Minor change to CDCInitEP() to enhance ruggedness in                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    multithreaded usage scenarios.                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             2.9b   Updated to implement optional support for DTS reporting.                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           ********************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** I N C L U D E S **********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #include "USB/usb.h"                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #include "USB/usb_function_cdc.h"                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #include "HardwareProfile.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #ifdef USB_USE_CDC                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** V A R I A B L E S ********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(__18CXX)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //The cdc_data_rx[] and cdc_data_tx[] arrays and associated variables are used  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //as USB packet buffers in this firmware.  Therefore, they must be located in D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //a USB module accessible portion of microcontroller RAM.                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #if defined(__18F14K50) || defined(__18F13K50) || defined(__18LF14K50) || defined(__18LF13K50)  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #pragma udata usbram2                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #elif defined(__18F2455) || defined(__18F2550) || defined(__18F4455) || defined(__18F4550)\ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   || defined(__18F2458) || defined(__18F2553) || defined(__18F4458) || defined(__18F4553)\ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   || defined(__18LF24K50) || defined(__18F24K50) || defined(__18LF25K50)\  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   || defined(__18F25K50) || defined(__18LF45K50) || defined(__18F45K50)    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #pragma udata USB_VARIABLES=0x500                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #elif defined(__18F4450) || defined(__18F2450)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #pragma udata USB_VARIABLES=0x480                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #else                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #pragma udata                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(__XC8)                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #if defined(_18F14K50) || defined(_18F13K50) || defined(_18LF14K50) || defined(_18LF13K50) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS 0x260                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS (IN_DATA_BUFFER_ADDRESS + CDC_DATA_IN_EP_SIZE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS (OUT_DATA_BUFFER_ADDRESS + CDC_DATA_OUT_EP_SIZE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS (LINE_CODING_ADDRESS + LINE_CODING_LENGTH)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS_TAG  @IN_DATA_BUFFER_ADDRESS              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS_TAG @OUT_DATA_BUFFER_ADDRESS             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS_TAG     @LINE_CODING_ADDRESS                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS_TAG          @NOTICE_ADDRESS                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #elif  defined(_18F2455)   || defined(_18F2550)   || defined(_18F4455)  || defined(_18F4550)\ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   || defined(_18F2458)   || defined(_18F2453)   || defined(_18F4558)  || defined(_18F4553)\ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   || defined(_18LF24K50) || defined(_18F24K50)  || defined(_18LF25K50)\    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   || defined(_18F25K50)  || defined(_18LF45K50) || defined(_18F45K50)      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS 0x500                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS (IN_DATA_BUFFER_ADDRESS + CDC_DATA_IN_EP_SIZE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS (OUT_DATA_BUFFER_ADDRESS + CDC_DATA_OUT_EP_SIZE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS (LINE_CODING_ADDRESS + LINE_CODING_LENGTH)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS_TAG  @IN_DATA_BUFFER_ADDRESS              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS_TAG @OUT_DATA_BUFFER_ADDRESS             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS_TAG     @LINE_CODING_ADDRESS                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS_TAG          @NOTICE_ADDRESS                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #elif defined(_18F4450) || defined(_18F2450)                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS 0x480                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS (IN_DATA_BUFFER_ADDRESS + CDC_DATA_IN_EP_SIZE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS (OUT_DATA_BUFFER_ADDRESS + CDC_DATA_OUT_EP_SIZE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS (LINE_CODING_ADDRESS + LINE_CODING_LENGTH)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS_TAG  @IN_DATA_BUFFER_ADDRESS              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS_TAG @OUT_DATA_BUFFER_ADDRESS             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS_TAG     @LINE_CODING_ADDRESS                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS_TAG          @NOTICE_ADDRESS                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #elif defined(_16F1459) || defined(_16LF1459) || defined(_16F1454) || defined(_16LF1454) || defined(_16F1455) || defined(_16LF1455) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS 0x2140                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS 0x2190                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS 0x20A0                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS (LINE_CODING_ADDRESS + LINE_CODING_LENGTH)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS_TAG  @IN_DATA_BUFFER_ADDRESS              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS_TAG @OUT_DATA_BUFFER_ADDRESS             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS_TAG     @LINE_CODING_ADDRESS                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS_TAG          @NOTICE_ADDRESS                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #else                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS_TAG                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS_TAG                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS_TAG                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS_TAG                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #define IN_DATA_BUFFER_ADDRESS_TAG                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #define OUT_DATA_BUFFER_ADDRESS_TAG                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #define LINE_CODING_ADDRESS_TAG                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #define NOTICE_ADDRESS_TAG                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           volatile FAR unsigned char cdc_data_tx[CDC_DATA_IN_EP_SIZE] IN_DATA_BUFFER_ADDRESS_TAG; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           volatile FAR unsigned char cdc_data_rx[CDC_DATA_OUT_EP_SIZE] OUT_DATA_BUFFER_ADDRESS_TAG; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           LINE_CODING line_coding LINE_CODING_ADDRESS_TAG;    // Buffer to store line coding information D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           volatile FAR CDC_NOTICE cdc_notice NOTICE_ADDRESS_TAG;                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(USB_CDC_SUPPORT_DSR_REPORTING)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               SERIAL_STATE_NOTIFICATION SerialStatePacket;                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(__18CXX)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #pragma udata                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           BYTE cdc_rx_len;            // total rx length                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           BYTE cdc_trf_state;         // States are defined cdc.h                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           POINTER pCDCSrc;            // Dedicated source pointer                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           POINTER pCDCDst;            // Dedicated destination pointer                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           BYTE cdc_tx_len;            // total tx length                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           BYTE cdc_mem_type;          // _ROM, _RAM                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           USB_HANDLE CDCDataOutHandle;                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           USB_HANDLE CDCDataInHandle;                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           CONTROL_SIGNAL_BITMAP control_signal_bitmap;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           DWORD BaudRateGen;			// BRG value calculated from baudrate                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(USB_CDC_SUPPORT_DSR_REPORTING)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BM_SERIAL_STATE SerialStateBitmap;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BM_SERIAL_STATE OldSerialStateBitmap;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USB_HANDLE CDCNotificationInHandle;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             SEND_ENCAPSULATED_COMMAND and GET_ENCAPSULATED_RESPONSE are required           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             requests according to the CDC specification.                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             However, it is not really being used here, therefore a dummy buffer is         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             used for conformance.                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            **************************************************************************/     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #define dummy_length    0x08                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           BYTE_VAL dummy_encapsulated_cmd_response[dummy_length];                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(USB_CDC_SET_LINE_CODING_HANDLER)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           CTRL_TRF_RETURN USB_CDC_SET_LINE_CODING_HANDLER(CTRL_TRF_PARAMS);                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           void USBCDCSetLineCoding(void);                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** D E C L A R A T I O N S **************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           //#pragma code                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** C L A S S  S P E C I F I C  R E Q ****************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            	Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		void USBCheckCDCRequest(void)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            	Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		This routine checks the most recently received SETUP data packet to           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		see if the request is specific to the CDC class.  If the request was          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		a CDC specific request, this function will take care of handling the          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		request and responding appropriately.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            	PreCondition:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		This function should only be called after a control transfer SETUP            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		packet has arrived from the host.                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           	Parameters:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		None                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           	Return Values:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		None                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           	Remarks:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		This function does not change status or do anything if the SETUP packet        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		did not contain a CDC class specific request.		                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             *****************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           void USBCheckCDCRequest(void)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * If request recipient is not an interface then return                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007afe   0104     MOVLB     0x4                if(SetupPkt.Recipient != USB_SETUP_RECIPIENT_INTERFACE_BITFIELD) return;     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007b00   5130     MOVF      0x30,0x0,0x1                                                                                    
007b02   0b1f     ANDLW     0x1f                                                                                            
007b04   0801     SUBLW     0x1                                                                                             
007b06   e001     BZ        0x7b0a                                                                                          
007b08   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * If request type is not class-specific then return                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007b0a   5130     MOVF      0x30,0x0,0x1       if(SetupPkt.RequestType != USB_SETUP_TYPE_CLASS_BITFIELD) return;            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007b0c   0b60     ANDLW     0x60                                                                                            
007b0e   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
007b10   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
007b12   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
007b14   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
007b16   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
007b18   0801     SUBLW     0x1                                                                                             
007b1a   e001     BZ        0x7b1e                                                                                          
007b1c   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Interface ID must match interface numbers associated with                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * CDC class, else return                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007b1e   5134     MOVF      0x34,0x0,0x1       if((SetupPkt.bIntfID != CDC_COMM_INTF_ID)&&                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007b20   e003     BZ        0x7b28                (SetupPkt.bIntfID != CDC_DATA_INTF_ID)) return;                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007b22   0534     DECF      0x34,0x0,0x1                                                                                    
007b24   e001     BZ        0x7b28                                                                                          
007b26   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007b28   5131     MOVF      0x31,0x0,0x1       switch(SetupPkt.bRequest)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007b2a   0a22     XORLW     0x22                                                                                            
007b2c   e031     BZ        0x7b90                                                                                          
007b2e   0a03     XORLW     0x3                                                                                             
007b30   e024     BZ        0x7b7a                                                                                          
007b32   0a01     XORLW     0x1                                                                                             
007b34   e015     BZ        0x7b60                                                                                          
007b36   0a21     XORLW     0x21                                                                                            
007b38   e00d     BZ        0x7b54                                                                                          
007b3a   0a01     XORLW     0x1                                                                                             
007b3c   e001     BZ        0x7b40                                                                                          
007b3e   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //****** These commands are required ******//                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case SEND_ENCAPSULATED_COMMAND:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    //send the packet                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007b40   0105     MOVLB     0x5                        inPipes[0].pSrc.bRam = (BYTE*)&dummy_encapsulated_cmd_response;      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007b42   0eb4     MOVLW     0xb4                                                                                            
007b44   6fd1     MOVWF     0xd1,0x1                                                                                        
007b46   0e05     MOVLW     0x5                                                                                             
007b48   6fd2     MOVWF     0xd2,0x1                                                                                        
007b4a   0e08     MOVLW     0x8                        inPipes[0].wCount.Val = dummy_length;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007b4c   6fd4     MOVWF     0xd4,0x1                                                                                        
007b4e   6bd5     CLRF      0xd5,0x1                                                                                        
007b50   81d3     BSF       0xd3,0x0,0x1               inPipes[0].info.bits.ctrl_trf_mem = USB_EP0_RAM;                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007b52   d021     BRA       0x7b96                     break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case GET_ENCAPSULATED_RESPONSE:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       // Populate dummy_encapsulated_cmd_response first.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007b54   0105     MOVLB     0x5                        inPipes[0].pSrc.bRam = (BYTE*)&dummy_encapsulated_cmd_response;      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007b56   0eb4     MOVLW     0xb4                                                                                            
007b58   6fd1     MOVWF     0xd1,0x1                                                                                        
007b5a   0e05     MOVLW     0x5                                                                                             
007b5c   6fd2     MOVWF     0xd2,0x1                                                                                        
                                                       inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007b5e   d01b     BRA       0x7b96                     break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //****** End of required commands ******//                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #if defined(USB_CDC_SUPPORT_ABSTRACT_CONTROL_MANAGEMENT_CAPABILITIES_D1) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case SET_LINE_CODING:                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007b60   c436     MOVFF     0x436,0x5d9                outPipes[0].wCount.Val = SetupPkt.wLength;                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007b62   f5d9                                                                                                               
007b64   c437     MOVFF     0x437,0x5da                                                                                     
007b66   f5da                                                                                                               
007b68   0105     MOVLB     0x5                        outPipes[0].pDst.bRam = (BYTE*)LINE_CODING_TARGET;                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007b6a   0e94     MOVLW     0x94                                                                                            
007b6c   6fd6     MOVWF     0xd6,0x1                                                                                        
007b6e   0e05     MOVLW     0x5                                                                                             
007b70   6fd7     MOVWF     0xd7,0x1                                                                                        
007b72   6bdb     CLRF      0xdb,0x1                   outPipes[0].pFunc = LINE_CODING_PFUNC;                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007b74   6bdc     CLRF      0xdc,0x1                                                                                        
007b76   8fd8     BSF       0xd8,0x7,0x1               outPipes[0].info.bits.busy = 1;                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007b78   0012     RETURN    0x0                        break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case GET_LINE_CODING:                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007b7a   0105     MOVLB     0x5                        USBEP0SendRAMPtr(                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007b7c   0e94     MOVLW     0x94                                                                                            
007b7e   6fd1     MOVWF     0xd1,0x1                                                                                        
007b80   0e05     MOVLW     0x5                                                                                             
007b82   6fd2     MOVWF     0xd2,0x1                                                                                        
007b84   0e07     MOVLW     0x7                                                                                             
007b86   6fd4     MOVWF     0xd4,0x1                                                                                        
007b88   6bd5     CLRF      0xd5,0x1                                                                                        
007b8a   0ec1     MOVLW     0xc1                                                                                            
007b8c   6fd3     MOVWF     0xd3,0x1                                                                                        
007b8e   0012     RETURN    0x0                            (BYTE*)&line_coding,                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           LINE_CODING_LENGTH,                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           USB_EP0_INCLUDE_ZERO);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007b90   c432     MOVFF     0x432,0x5af                break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007b92   f5af                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case SET_CONTROL_LINE_STATE:                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       control_signal_bitmap._byte = (BYTE)SetupPkt.W_Value.v[0];           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //------------------------------------------------------------------             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //One way to control the RTS pin is to allow the USB host to decide the value D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //that should be output on the RTS pin.  Although RTS and CTS pin functions D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //are technically intended for UART hardware based flow control, some legacy D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //UART devices use the RTS pin like a "general purpose" output pin   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //from the PC host.  In this usage model, the RTS pin is not related D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //to flow control for RX/TX.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //In this scenario, the USB host would want to be able to control the RTS D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //pin, and the below line of code should be uncommented.             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //However, if the intention is to implement true RTS/CTS flow control D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //for the RX/TX pair, then this application firmware should override D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //the USB host's setting for RTS, and instead generate a real RTS signal, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //based on the amount of remaining buffer space available for the    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //actual hardware UART of this microcontroller.  In this case, the   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //below code should be left commented out, but instead RTS should be  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //controlled in the application firmware reponsible for operating the  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //hardware UART of this microcontroller.                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //---------                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //CONFIGURE_RTS(control_signal_bitmap.CARRIER_CONTROL);              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //------------------------------------------------------------------             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       #if defined(USB_CDC_SUPPORT_DTR_SIGNALING)                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           if(control_signal_bitmap.DTE_PRESENT == 1)                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               UART_DTR = USB_CDC_DTR_ACTIVE_LEVEL;                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               UART_DTR = (USB_CDC_DTR_ACTIVE_LEVEL ^ 1);                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       #endif                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007b94   0105     MOVLB     0x5                        inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007b96   8fd3     BSF       0xd3,0x7,0x1                                                                                    
007b98   0012     RETURN    0x0                        break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #if defined(USB_CDC_SUPPORT_ABSTRACT_CONTROL_MANAGEMENT_CAPABILITIES_D2) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case SEND_BREAK:                        // Optional                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			if (SetupPkt.wValue == 0xFFFF)  //0xFFFF means send break indefinitely until a new SEND_BREAK command is received D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			{                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           				UART_Tx = 0;       // Prepare to drive TX low (for break signalling)         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           				UART_TRISTx = 0;   // Make sure TX pin configured as an output               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           				UART_ENABLE = 0;   // Turn off USART (to relinquish TX pin control)          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			}                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			else if (SetupPkt.wValue == 0x0000) //0x0000 means stop sending indefinite break  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			{                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               			UART_ENABLE = 1;   // turn on USART                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           				UART_TRISTx = 1;   // Make TX pin an input                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			}                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			else                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			{                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           //Send break signalling on the pin for (SetupPkt.wValue) milliseconds D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           UART_SEND_BREAK();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			}                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   default:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }//end switch(SetupPkt.bRequest)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           }//end USBCheckCDCRequest                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** U S E R  A P I ***********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   void CDCInitEP(void)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This function initializes the CDC function driver. This function should      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               be called after the SET_CONFIGURATION command (ex: within the context of     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the USBCBInitEP() function).                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This function initializes the CDC function driver. This function sets        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the default line coding (baud rate, bit parity, number of data bits,         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               and format). This function also enables the endpoints and prepares for       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the first transfer from the host.                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This function should be called after the SET_CONFIGURATION command.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This is most simply done by calling this function from the                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBCBInitEP() function.                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   void USBCBInitEP(void)                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       CDCInitEP();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             **************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           void CDCInitEP(void)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                              	//Abstract line coding information                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007b9a   0105     MOVLB     0x5               	line_coding.dwDTERate.Val = 19200;      // baud rate                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007b9c   6b94     CLRF      0x94,0x1                                                                                        
007b9e   0e4b     MOVLW     0x4b                                                                                            
007ba0   6f95     MOVWF     0x95,0x1                                                                                        
007ba2   6b96     CLRF      0x96,0x1                                                                                        
007ba4   6b97     CLRF      0x97,0x1                                                                                        
007ba6   6b98     CLRF      0x98,0x1          	line_coding.bCharFormat = 0x00;             // 1 stop bit                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ba8   6b99     CLRF      0x99,0x1          	line_coding.bParityType = 0x00;             // None                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007baa   0e08     MOVLW     0x8               	line_coding.bDataBits = 0x08;               // 5,6,7,8, or 16                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007bac   6f9a     MOVWF     0x9a,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007bae   6ba3     CLRF      0xa3,0x1           cdc_rx_len = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Do not have to init Cnt of IN pipes here.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Reason:  Number of BYTEs to send to the host                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          varies from one transaction to                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          another. Cnt should equal the exact                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          number of BYTEs to transmit for                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          a given IN transaction.                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          This number of BYTEs will only                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          be known right before the data is                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          sent.                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007bb0   0e1a     MOVLW     0x1a               USBEnableEndpoint(CDC_COMM_EP,USB_IN_ENABLED|USB_HANDSHAKE_ENABLED|USB_DISALLOW_SETUP); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007bb2   6ee6     MOVWF     0xe6,0x0                                                                                        
007bb4   0e01     MOVLW     0x1                                                                                             
007bb6   6ee6     MOVWF     0xe6,0x0                                                                                        
007bb8   ecc4     CALL      0x6788,0x0                                                                                      
007bba   f033                                                                                                               
007bbc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007bbe   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007bc0   0e1e     MOVLW     0x1e               USBEnableEndpoint(CDC_DATA_EP,USB_IN_ENABLED|USB_OUT_ENABLED|USB_HANDSHAKE_ENABLED|USB_DISALLOW_SETUP); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007bc2   6ee6     MOVWF     0xe6,0x0                                                                                        
007bc4   0e02     MOVLW     0x2                                                                                             
007bc6   6ee6     MOVWF     0xe6,0x0                                                                                        
007bc8   ecc4     CALL      0x6788,0x0                                                                                      
007bca   f033                                                                                                               
007bcc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007bce   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007bd0   d91c     RCALL     0x7e0a             CDCDataOutHandle = USBRxOnePacket(CDC_DATA_EP,(BYTE*)&cdc_data_rx,sizeof(cdc_data_rx)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007bd2   0105     MOVLB     0x5                CDCDataInHandle = NULL;                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007bd4   6bad     CLRF      0xad,0x1                                                                                        
007bd6   6bae     CLRF      0xae,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #if defined(USB_CDC_SUPPORT_DSR_REPORTING)                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                 	CDCNotificationInHandle = NULL;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   mInitDTSPin();  //Configure DTS as a digital input                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                 	SerialStateBitmap.byte = 0x00;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                 	OldSerialStateBitmap.byte = !SerialStateBitmap.byte;    //To force firmware to send an initial serial state packet to the host. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //Prepare a SerialState notification element packet (contains info like DSR state) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.bmRequestType = 0xA1; //Always 0xA1 for this type of packet. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.bNotification = SERIAL_STATE;                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.wValue = 0x0000;  //Always 0x0000 for this type of packet D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.wIndex = CDC_COMM_INTF_ID;  //Interface number         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.SerialState.byte = 0x00;                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.Reserved = 0x00;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.wLength = 0x02;   //Always 2 bytes for this type of packet     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   CDCNotificationHandler();                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	#endif                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	#if defined(USB_CDC_SUPPORT_DTR_SIGNALING)                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	    mInitDTRPin();                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	#endif                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	#if defined(USB_CDC_SUPPORT_HARDWARE_FLOW_CONTROL)                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	    mInitRTSPin();                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	    mInitCTSPin();                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	#endif                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007bd8   6ba4     CLRF      0xa4,0x1           cdc_trf_state = CDC_TX_READY;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007bda   0012     RETURN    0x0            }//end CDCInitEP                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function: void CDCNotificationHandler(void)                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary: Checks for changes in DSR status and reports them to the USB host.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description: Checks for changes in DSR pin state and reports any changes       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                          to the USB host.                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions: CDCInitEP() must have been called previously, prior to calling     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                         CDCNotificationHandler() for the first time.                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This function is only implemented and needed when the                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USB_CDC_SUPPORT_DSR_REPORTING option has been enabled.  If the function is   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               enabled, it should be called periodically to sample the DSR pin and feed     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the information to the USB host.  This can be done by calling                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CDCNotificationHandler() by itself, or, by calling CDCTxService() which      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               also calls CDCNotificationHandler() internally, when appropriate.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             **************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(USB_CDC_SUPPORT_DSR_REPORTING)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           void CDCNotificationHandler(void)                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //Check the DTS I/O pin and if a state change is detected, notify the        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //USB host by sending a serial state notification element packet.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               if(UART_DTS == USB_CDC_DSR_ACTIVE_LEVEL) //UART_DTS must be defined to be an I/O pin in the hardware profile to use the DTS feature (ex: "PORTXbits.RXY") D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStateBitmap.bits.DSR = 1;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStateBitmap.bits.DSR = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //If the state has changed, and the endpoint is available, send a packet to  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //notify the hUSB host of the change.                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               if((SerialStateBitmap.byte != OldSerialStateBitmap.byte) && (!USBHandleBusy(CDCNotificationInHandle))) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //Copy the updated value into the USB packet buffer to send.             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.SerialState.byte = SerialStateBitmap.byte;             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //We don't need to write to the other bytes in the SerialStatePacket USB D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //buffer, since they don't change and will always be the same as our     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //initialized value.                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //Send the packet over USB to the host.                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   CDCNotificationInHandle = USBTransferOnePacket(CDC_COMM_EP, IN_TO_HOST, (BYTE*)&SerialStatePacket, sizeof(SERIAL_STATE_NOTIFICATION)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //Save the old value, so we can detect changes later.                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   OldSerialStateBitmap.byte = SerialStateBitmap.byte;                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           }//void CDCNotificationHandler(void)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #define CDCNotificationHandler() {}                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /********************************************************************************** D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BOOL USBCDCEventHandler(USB_EVENT event, void *pdata, WORD size)             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Handles events from the USB stack, which may have an effect on the CDC       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               endpoint(s).                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Handles events from the USB stack.  This function should be called when      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               there is a USB event that needs to be processed by the CDC driver.           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Value of input argument 'len' should be smaller than the maximum             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               endpoint size responsible for receiving bulk data from USB host for CDC      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               class. Input argument 'buffer' should point to a buffer area that is         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               bigger or equal to the size specified by 'len'.                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               event - the type of event that occured                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               pdata - pointer to the data that caused the event                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               size - the size of the data that is pointed to by pdata                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             **********************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007bdc   d941     RCALL     0x7e60         BOOL USBCDCEventHandler(USB_EVENT event, void *pdata, WORD size)                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007bde   d965     RCALL     0x7eaa             switch( (INT)event )                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007be0   0e05     MOVLW     0x5                                                                                             
007be2   1842     XORWF     0x42,0x0,0x0                                                                                    
007be4   e101     BNZ       0x7be8                                                                                          
007be6   5043     MOVF      0x43,0x0,0x0                                                                                    
007be8   e002     BZ        0x7bee                                                                                          
007eaa   0efd     MOVLW     0xfd                                                                                            
007eac   cfdb     MOVFF     0xfdb,0x42                                                                                      
007eae   f042                                                                                                               
007eb0   0efe     MOVLW     0xfe                                                                                            
007eb2   cfdb     MOVFF     0xfdb,0x43                                                                                      
007eb4   f043                                                                                                               
007eb6   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case EVENT_TRANSFER_TERMINATED:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007bee   d948     RCALL     0x7e80                     if(pdata == CDCDataOutHandle)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007bf0   0105     MOVLB     0x5                                                                                             
007bf2   51ab     MOVF      0xab,0x0,0x1                                                                                    
007bf4   184e     XORWF     0x4e,0x0,0x0                                                                                    
007bf6   e104     BNZ       0x7c00                                                                                          
007bf8   51ac     MOVF      0xac,0x0,0x1                                                                                    
007bfa   184f     XORWF     0x4f,0x0,0x0                                                                                    
007bfc   e101     BNZ       0x7c00                                                                                          
007e80   0efb     MOVLW     0xfb                                                                                            
007e82   cfdb     MOVFF     0xfdb,0x4e                                                                                      
007e84   f04e                                                                                                               
007e86   0efc     MOVLW     0xfc                                                                                            
007e88   cfdb     MOVFF     0xfdb,0x4f                                                                                      
007e8a   f04f                                                                                                               
007e8c   0012     RETURN    0x0                                                                                             
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007bfe   d905     RCALL     0x7e0a                         CDCDataOutHandle = USBRxOnePacket(CDC_DATA_EP,(BYTE*)&cdc_data_rx,sizeof(cdc_data_rx));   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007c00   d93f     RCALL     0x7e80                     if(pdata == CDCDataInHandle)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007c02   0105     MOVLB     0x5                                                                                             
007c04   51ad     MOVF      0xad,0x0,0x1                                                                                    
007c06   184e     XORWF     0x4e,0x0,0x0                                                                                    
007c08   e105     BNZ       0x7c14                                                                                          
007c0a   51ae     MOVF      0xae,0x0,0x1                                                                                    
007c0c   184f     XORWF     0x4f,0x0,0x0                                                                                    
007c0e   e102     BNZ       0x7c14                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           //flush all of the data in the CDC buffer                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007c10   6ba4     CLRF      0xa4,0x1                       cdc_trf_state = CDC_TX_READY;                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007c12   6ba9     CLRF      0xa9,0x1                       cdc_tx_len = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   default:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007bea   0e00     MOVLW     0x0                        return FALSE;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007bec   d014     BRA       0x7c16                                                                                          
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007c14   0e01     MOVLW     0x1                return TRUE;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007c16   d129     BRA       0x7e6a         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /********************************************************************************** D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   BYTE getsUSBUSART(char *buffer, BYTE len)                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               getsUSBUSART copies a string of BYTEs received through USB CDC Bulk OUT      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               endpoint to a user's specified location. It is a non-blocking function.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               It does not wait for data if there is no data available. Instead it          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               returns '0' to notify the caller that there is no data available.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               getsUSBUSART copies a string of BYTEs received through USB CDC Bulk OUT      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               endpoint to a user's specified location. It is a non-blocking function.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               It does not wait for data if there is no data available. Instead it          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               returns '0' to notify the caller that there is no data available.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   BYTE numBytes;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   BYTE buffer[64]                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   numBytes = getsUSBUSART(buffer,sizeof(buffer)); //until the buffer is free. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   if(numBytes \> 0)                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //we received numBytes bytes of data and they are copied into        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //  the "buffer" variable.  We can do something with the data        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //  here.                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Value of input argument 'len' should be smaller than the maximum             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               endpoint size responsible for receiving bulk data from USB host for CDC      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               class. Input argument 'buffer' should point to a buffer area that is         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               bigger or equal to the size specified by 'len'.                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               buffer -  Pointer to where received BYTEs are to be stored                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               len -     The number of BYTEs expected.                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             **********************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007c18   d923     RCALL     0x7e60         BYTE getsUSBUSART(char *buffer, BYTE len)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007c1a   0105     MOVLB     0x5                cdc_rx_len = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007c1c   6ba3     CLRF      0xa3,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007c1e   51ab     MOVF      0xab,0x0,0x1       if(!USBHandleBusy(CDCDataOutHandle))                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007c20   11ac     IORWF     0xac,0x0,0x1                                                                                    
007c22   e102     BNZ       0x7c28                                                                                          
007c24   0e00     MOVLW     0x0                                                                                             
007c26   d005     BRA       0x7c32                                                                                          
007c28   d932     RCALL     0x7e8e                                                                                          
007c2a   50ef     MOVF      0xef,0x0,0x0                                                                                    
007c2c   0b80     ANDLW     0x80                                                                                            
007c2e   e001     BZ        0x7c32                                                                                          
007c30   0e01     MOVLW     0x1                                                                                             
007c32   0900     IORLW     0x0                                                                                             
007c34   e12d     BNZ       0x7c90                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * Adjust the expected number of BYTEs to equal                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * the actual number of BYTEs received.                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007c36   0efc     MOVLW     0xfc                   if(len > USBHandleGetLength(CDCDataOutHandle))                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007c38   cfdb     MOVFF     0xfdb,0x4e                                                                                      
007c3a   f04e                                                                                                               
007c3c   d928     RCALL     0x7e8e                                                                                          
007c3e   52ee     MOVF      0xee,0x1,0x0                                                                                    
007c40   50ef     MOVF      0xef,0x0,0x0                                                                                    
007c42   80d8     BSF       0xd8,0x0,0x0                                                                                    
007c44   544e     SUBFWB    0x4e,0x0,0x0                                                                                    
007c46   e205     BC        0x7c52                                                                                          
007c48   d922     RCALL     0x7e8e                     len = USBHandleGetLength(CDCDataOutHandle);                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007c4a   52ee     MOVF      0xee,0x1,0x0                                                                                    
007c4c   0efc     MOVLW     0xfc                                                                                            
007c4e   cfef     MOVFF     0xfef,0xfdb                                                                                     
007c50   ffdb                                                                                                               
007e8e   c5ab     MOVFF     0x5ab,0xfe9                                                                                     
007e90   ffe9                                                                                                               
007e92   c5ac     MOVFF     0x5ac,0xfea                                                                                     
007e94   ffea                                                                                                               
007e96   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * Copy data from dual-ram buffer to user's buffer                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007c52   6ba3     CLRF      0xa3,0x1               for(cdc_rx_len = 0; cdc_rx_len < len; cdc_rx_len++)                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007c54   0efc     MOVLW     0xfc                                                                                            
007c56   50db     MOVF      0xdb,0x0,0x0                                                                                    
007c58   5da3     SUBWF     0xa3,0x0,0x1                                                                                    
007c5a   e219     BC        0x7c8e                                                                                          
007c8a   2ba3     INCF      0xa3,0x1,0x1                                                                                    
007c8c   d7e3     BRA       0x7c54                                                                                          
007c5c   51a3     MOVF      0xa3,0x0,0x1               buffer[cdc_rx_len] = cdc_data_rx[cdc_rx_len];                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007c5e   6aea     CLRF      0xea,0x0                                                                                        
007c60   0f54     ADDLW     0x54                                                                                            
007c62   6ee9     MOVWF     0xe9,0x0                                                                                        
007c64   0e05     MOVLW     0x5                                                                                             
007c66   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007c68   50ef     MOVF      0xef,0x0,0x0                                                                                    
007c6a   6ee6     MOVWF     0xe6,0x0                                                                                        
007c6c   51a3     MOVF      0xa3,0x0,0x1                                                                                    
007c6e   6ee7     MOVWF     0xe7,0x0                                                                                        
007c70   0efd     MOVLW     0xfd                                                                                            
007c72   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
007c74   ffe9                                                                                                               
007c76   0efe     MOVLW     0xfe                                                                                            
007c78   cfdb     MOVFF     0xfdb,0xfea                                                                                     
007c7a   ffea                                                                                                               
007c7c   50e7     MOVF      0xe7,0x0,0x0                                                                                    
007c7e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007c80   0e00     MOVLW     0x0                                                                                             
007c82   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007c84   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007c86   50e7     MOVF      0xe7,0x0,0x0                                                                                    
007c88   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * Prepare dual-ram buffer for next OUT transaction                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007c8e   d8bd     RCALL     0x7e0a                 CDCDataOutHandle = USBRxOnePacket(CDC_DATA_EP,(BYTE*)&cdc_data_rx,sizeof(cdc_data_rx)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e0a   0e40     MOVLW     0x40                                                                                            
007e0c   6ee6     MOVWF     0xe6,0x0                                                                                        
007e0e   0e54     MOVLW     0x54                                                                                            
007e10   6ee6     MOVWF     0xe6,0x0                                                                                        
007e12   0e05     MOVLW     0x5                                                                                             
007e14   6ee6     MOVWF     0xe6,0x0                                                                                        
007e16   6ae6     CLRF      0xe6,0x0                                                                                        
007e18   d83f     RCALL     0x7e98                                                                                          
007e1a   cff3     MOVFF     0xff3,0x5ab                                                                                     
007e1c   f5ab                                                                                                               
007e1e   cff4     MOVFF     0xff4,0x5ac                                                                                     
007e20   f5ac                                                                                                               
007e22   0012     RETURN    0x0                                                                                             
007e98   0e02     MOVLW     0x2                                                                                             
007e9a   6ee6     MOVWF     0xe6,0x0                                                                                        
007e9c   ece8     CALL      0x67d0,0x0                                                                                      
007e9e   f033                                                                                                               
007ea0   6e4e     MOVWF     0x4e,0x0                                                                                        
007ea2   0e05     MOVLW     0x5                                                                                             
007ea4   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
007ea6   504e     MOVF      0x4e,0x0,0x0                                                                                    
007ea8   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }//end if                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007c90   0105     MOVLB     0x5                return cdc_rx_len;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007c92   51a3     MOVF      0xa3,0x0,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007c94   d0ea     BRA       0x7e6a         }//end getsUSBUSART                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           	void putUSBUSART(char *data, BYTE length)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               putUSBUSART writes an array of data to the USB. Use this version, is         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               capable of transfering 0x00 (what is typically a NULL character in any of    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the string transfer functions).                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               putUSBUSART writes an array of data to the USB. Use this version, is         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               capable of transfering 0x00 (what is typically a NULL character in any of    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the string transfer functions).                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   if(USBUSARTIsTxTrfReady())                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       char data[] = {0x00, 0x01, 0x02, 0x03, 0x04};                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       putUSBUSART(data,5);                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               The transfer mechanism for device-to-host(put) is more flexible than         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               host-to-device(get). It can handle a string of data larger than the          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               maximum size of bulk IN endpoint. A state machine is used to transfer a      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               \long string of data over multiple USB transactions. CDCTxService()          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               must be called periodically to keep sending blocks of data to the host.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBUSARTIsTxTrfReady() must return TRUE. This indicates that the last        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               transfer is complete and is ready to receive a new block of data. The        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               string of characters pointed to by 'data' must equal to or smaller than      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               255 BYTEs.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               char *data - pointer to a RAM array of data to be transfered to the host     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BYTE length - the number of bytes to be transfered (must be less than 255).  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007c96   d8e4     RCALL     0x7e60         void putUSBUSART(char *data, BYTE  length)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * User should have checked that cdc_trf_state is in CDC_TX_READY state      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * before calling this function.                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * As a safety precaution, this fuction checks the state one more time       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * to make sure it does not override any pending transactions.               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Currently it just quits the routine without reporting any errors back     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * to the user.                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Bottomline: User MUST make sure that USBUSARTIsTxTrfReady()==1            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *             before calling this function!                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Example:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * if(USBUSARTIsTxTrfReady())                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *     putUSBUSART(pData, Length);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * IMPORTANT: Never use the following blocking while loop to wait:           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * while(!USBUSARTIsTxTrfReady())                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *     putUSBUSART(pData, Length);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * The whole firmware framework is written based on cooperative              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * multi-tasking and a blocking code is not acceptable.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Use a state machine instead.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBMaskInterrupts();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007c98   0105     MOVLB     0x5                if(cdc_trf_state == CDC_TX_READY)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007c9a   51a4     MOVF      0xa4,0x0,0x1                                                                                    
007c9c   e107     BNZ       0x7cac                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007c9e   d8e9     RCALL     0x7e72                 mUSBUSARTTxRam((BYTE*)data, length);     // See cdc.h                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ca0   0efc     MOVLW     0xfc                                                                                            
007ca2   cfdb     MOVFF     0xfdb,0x5a9                                                                                     
007ca4   f5a9                                                                                                               
007ca6   0e01     MOVLW     0x1                                                                                             
007ca8   6faa     MOVWF     0xaa,0x1                                                                                        
007caa   6fa4     MOVWF     0xa4,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBUnmaskInterrupts();                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007cac   d0de     BRA       0x7e6a         }//end putUSBUSART                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           	Function:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		void putsUSBUSART(char *data)                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               putsUSBUSART writes a string of data to the USB including the null           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               character. Use this version, 'puts', to transfer data from a RAM buffer.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               putsUSBUSART writes a string of data to the USB including the null           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               character. Use this version, 'puts', to transfer data from a RAM buffer.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   if(USBUSARTIsTxTrfReady())                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       char data[] = "Hello World";                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       putsUSBUSART(data);                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               The transfer mechanism for device-to-host(put) is more flexible than         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               host-to-device(get). It can handle a string of data larger than the          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               maximum size of bulk IN endpoint. A state machine is used to transfer a      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               \long string of data over multiple USB transactions. CDCTxService()          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               must be called periodically to keep sending blocks of data to the host.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBUSARTIsTxTrfReady() must return TRUE. This indicates that the last        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               transfer is complete and is ready to receive a new block of data. The        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               string of characters pointed to by 'data' must equal to or smaller than      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               255 BYTEs.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               char *data -  null\-terminated string of constant data. If a                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                       null character is not found, 255 BYTEs of data       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                       will be transferred to the host.                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007cae   d904     RCALL     0x7eb8         void putsUSBUSART(char *data)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007eb8   dfd3     RCALL     0x7e60                                                                                          
007eba   0e03     MOVLW     0x3                                                                                             
007ebc   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BYTE len;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               char *pData;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * User should have checked that cdc_trf_state is in CDC_TX_READY state      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * before calling this function.                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * As a safety precaution, this fuction checks the state one more time       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * to make sure it does not override any pending transactions.               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Currently it just quits the routine without reporting any errors back     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * to the user.                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Bottomline: User MUST make sure that USBUSARTIsTxTrfReady()==1            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *             before calling this function!                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Example:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * if(USBUSARTIsTxTrfReady())                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *     putsUSBUSART(pData, Length);                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * IMPORTANT: Never use the following blocking while loop to wait:           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * while(!USBUSARTIsTxTrfReady())                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *     putsUSBUSART(pData);                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * The whole firmware framework is written based on cooperative              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * multi-tasking and a blocking code is not acceptable.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Use a state machine instead.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBMaskInterrupts();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007cb0   e117     BNZ       0x7ce0             if(cdc_trf_state != CDC_TX_READY)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ebe   0105     MOVLB     0x5                                                                                             
007ec0   51a4     MOVF      0xa4,0x0,0x1                                                                                    
007ec2   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   USBUnmaskInterrupts();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * While loop counts the number of BYTEs to send including the               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * null character.                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007cb2   d8c0     RCALL     0x7e34             len = 0;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e34   6adf     CLRF      0xdf,0x0                                                                                        
007e36   d839     RCALL     0x7eaa             pData = data;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e38   52de     MOVF      0xde,0x1,0x0                                                                                    
007e3a   c042     MOVFF     0x42,0xfde                                                                                      
007e3c   ffde                                                                                                               
007e3e   c043     MOVFF     0x43,0xfdd                                                                                      
007e40   ffdd                                                                                                               
007e42   52dd     MOVF      0xdd,0x1,0x0                                                                                    
007e44   0012     RETURN    0x0                                                                                             
                                               do                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007cb4   2adf     INCF      0xdf,0x1,0x0           len++;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007cb6   0eff     MOVLW     0xff                   if(len == 255u) break;       // Break loop once max len is reached.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007cb8   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
007cba   e00b     BZ        0x7cd2                                                                                          
007cbc   0e01     MOVLW     0x1                }while(*pData++);                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007cbe   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
007cc0   ffe9                                                                                                               
007cc2   2adb     INCF      0xdb,0x1,0x0                                                                                    
007cc4   0e02     MOVLW     0x2                                                                                             
007cc6   cfdb     MOVFF     0xfdb,0xfea                                                                                     
007cc8   ffea                                                                                                               
007cca   e301     BNC       0x7cce                                                                                          
007ccc   2adb     INCF      0xdb,0x1,0x0                                                                                    
007cce   50ef     MOVF      0xef,0x0,0x0                                                                                    
007cd0   e1f1     BNZ       0x7cb4                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Second piece of information (length of data to send) is ready.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Call mUSBUSARTTxRam to setup the transfer.                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * The actual transfer process will be handled by CDCTxService(),            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * which should be called once per Main Program loop.                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007cd2   d8cf     RCALL     0x7e72             mUSBUSARTTxRam((BYTE*)data, len);     // See cdc.h                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007cd4   cfdf     MOVFF     0xfdf,0x5a9                                                                                     
007cd6   f5a9                                                                                                               
007cd8   0105     MOVLB     0x5                                                                                             
007cda   0e01     MOVLW     0x1                                                                                             
007cdc   6faa     MOVWF     0xaa,0x1                                                                                        
007cde   6fa4     MOVWF     0xa4,0x1                                                                                        
                                               USBUnmaskInterrupts();                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ce0   0e03     MOVLW     0x3            }//end putsUSBUSART                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ce2   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
007ce4   e202     BC        0x7cea                                                                                          
007ce6   6ae1     CLRF      0xe1,0x0                                                                                        
007ce8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007cea   6ee1     MOVWF     0xe1,0x0                                                                                        
007cec   d0be     BRA       0x7e6a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   void putrsUSBUSART(const ROM char *data)                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               putrsUSBUSART writes a string of data to the USB including the null          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               character. Use this version, 'putrs', to transfer data literals and          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               data located in program memory.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               putrsUSBUSART writes a string of data to the USB including the null          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               character. Use this version, 'putrs', to transfer data literals and          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               data located in program memory.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   if(USBUSARTIsTxTrfReady())                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       putrsUSBUSART("Hello World");                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               The transfer mechanism for device-to-host(put) is more flexible than         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               host-to-device(get). It can handle a string of data larger than the          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               maximum size of bulk IN endpoint. A state machine is used to transfer a      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               \long string of data over multiple USB transactions. CDCTxService()          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               must be called periodically to keep sending blocks of data to the host.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBUSARTIsTxTrfReady() must return TRUE. This indicates that the last        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               transfer is complete and is ready to receive a new block of data. The        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               string of characters pointed to by 'data' must equal to or smaller than      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               255 BYTEs.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               const ROM char *data -  null\-terminated string of constant data. If a       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                       null character is not found, 255 BYTEs of data       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                       will be transferred to the host.                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             **************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007cee   d8e4     RCALL     0x7eb8         void putrsUSBUSART(const ROM char *data)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BYTE len;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               const ROM char *pData;                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * User should have checked that cdc_trf_state is in CDC_TX_READY state      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * before calling this function.                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * As a safety precaution, this fuction checks the state one more time       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * to make sure it does not override any pending transactions.               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Currently it just quits the routine without reporting any errors back     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * to the user.                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Bottomline: User MUST make sure that USBUSARTIsTxTrfReady()               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *             before calling this function!                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Example:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * if(USBUSARTIsTxTrfReady())                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *     putsUSBUSART(pData);                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * IMPORTANT: Never use the following blocking while loop to wait:           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * while(cdc_trf_state != CDC_TX_READY)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *     putsUSBUSART(pData);                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * The whole firmware framework is written based on cooperative              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * multi-tasking and a blocking code is not acceptable.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Use a state machine instead.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBMaskInterrupts();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007cf0   e118     BNZ       0x7d22             if(cdc_trf_state != CDC_TX_READY)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   USBUnmaskInterrupts();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * While loop counts the number of BYTEs to send including the               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * null character.                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007cf2   d8a0     RCALL     0x7e34             len = 0;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               pData = data;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               do                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007cf4   2adf     INCF      0xdf,0x1,0x0           len++;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007cf6   0eff     MOVLW     0xff                   if(len == 255u) break;       // Break loop once max len is reached.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007cf8   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
007cfa   e00c     BZ        0x7d14                                                                                          
007cfc   0e01     MOVLW     0x1                }while(*pData++);                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007cfe   cfdb     MOVFF     0xfdb,0xff6                                                                                     
007d00   fff6                                                                                                               
007d02   2adb     INCF      0xdb,0x1,0x0                                                                                    
007d04   0e02     MOVLW     0x2                                                                                             
007d06   cfdb     MOVFF     0xfdb,0xff7                                                                                     
007d08   fff7                                                                                                               
007d0a   e301     BNC       0x7d0e                                                                                          
007d0c   2adb     INCF      0xdb,0x1,0x0                                                                                    
007d0e   0008     TBLRD                                                                                                     
007d10   50f5     MOVF      0xf5,0x0,0x0                                                                                    
007d12   e1f0     BNZ       0x7cf4                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Second piece of information (length of data to send) is ready.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Call mUSBUSARTTxRom to setup the transfer.                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * The actual transfer process will be handled by CDCTxService(),            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * which should be called once per Main Program loop.                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d14   d8ae     RCALL     0x7e72             mUSBUSARTTxRom((ROM BYTE*)data,len); // See cdc.h                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d16   cfdf     MOVFF     0xfdf,0x5a9                                                                                     
007d18   f5a9                                                                                                               
007d1a   0105     MOVLB     0x5                                                                                             
007d1c   6baa     CLRF      0xaa,0x1                                                                                        
007d1e   0e01     MOVLW     0x1                                                                                             
007d20   6fa4     MOVWF     0xa4,0x1                                                                                        
007e72   0efd     MOVLW     0xfd                                                                                            
007e74   cfdb     MOVFF     0xfdb,0x5a5                                                                                     
007e76   f5a5                                                                                                               
007e78   0efe     MOVLW     0xfe                                                                                            
007e7a   cfdb     MOVFF     0xfdb,0x5a6                                                                                     
007e7c   f5a6                                                                                                               
007e7e   0012     RETURN    0x0                                                                                             
                                               USBUnmaskInterrupts();                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d22   0e03     MOVLW     0x3            }//end putrsUSBUSART                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d24   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
007d26   e202     BC        0x7d2c                                                                                          
007d28   6ae1     CLRF      0xe1,0x0                                                                                        
007d2a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007d2c   6ee1     MOVWF     0xe1,0x0                                                                                        
007d2e   d09d     BRA       0x7e6a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /************************************************************************        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   void CDCTxService(void)                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CDCTxService handles device-to-host transaction(s). This function            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               should be called once per Main Program loop after the device reaches         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the configured state.                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CDCTxService handles device-to-host transaction(s). This function            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               should be called once per Main Program loop after the device reaches         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the configured state (after the CDCIniEP() function has already executed).   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This function is needed, in order to advance the internal software state     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               machine that takes care of sending multiple transactions worth of IN USB     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               data to the host, associated with CDC serial data.  Failure to call          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CDCTxService() perioidcally will prevent data from being sent to the         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USB host, over the CDC serial data interface.                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               void main(void)                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   USBDeviceInit();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   while(1)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       USBDeviceTasks();                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       if((USBGetDeviceState() \< CONFIGURED_STATE) ||                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                          (USBIsDeviceSuspended() == TRUE))                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           //Either the device is not configured or we are suspended        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           //  so we don't want to do execute any application code          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           continue;   //go back to the top of the while loop               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       else                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           //Keep trying to send data to the PC as required                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           CDCTxService();                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           //Run application code.                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           UserApplication();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CDCIniEP() function should have already executed/the device should be        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               in the CONFIGURED_STATE.                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             ************************************************************************/      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d30   d897     RCALL     0x7e60         void CDCTxService(void)                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d32   0e02     MOVLW     0x2                                                                                             
007d34   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
007e60   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
007e62   ffe6                                                                                                               
007e64   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
007e66   ffd9                                                                                                               
007e68   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BYTE byte_to_send;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BYTE i;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBMaskInterrupts();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CDCNotificationHandler();                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d36   0105     MOVLB     0x5                if(USBHandleBusy(CDCDataInHandle))                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d38   51ad     MOVF      0xad,0x0,0x1                                                                                    
007d3a   11ae     IORWF     0xae,0x0,0x1                                                                                    
007d3c   e102     BNZ       0x7d42                                                                                          
007d3e   0e00     MOVLW     0x0                                                                                             
007d40   d008     BRA       0x7d52                                                                                          
007d42   c5ad     MOVFF     0x5ad,0xfe9                                                                                     
007d44   ffe9                                                                                                               
007d46   c5ae     MOVFF     0x5ae,0xfea                                                                                     
007d48   ffea                                                                                                               
007d4a   50ef     MOVF      0xef,0x0,0x0                                                                                    
007d4c   0b80     ANDLW     0x80                                                                                            
007d4e   e001     BZ        0x7d52                                                                                          
007d50   0e01     MOVLW     0x1                                                                                             
007d52   0900     IORLW     0x0                                                                                             
007d54   e153     BNZ       0x7dfc                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   USBUnmaskInterrupts();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Completing stage is necessary while [ mCDCUSartTxIsBusy()==1 ].           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * By having this stage, user can always check cdc_trf_state,                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * and not having to call mCDCUsartTxIsBusy() directly.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d56   0e03     MOVLW     0x3                if(cdc_trf_state == CDC_TX_COMPLETING)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d58   5da4     SUBWF     0xa4,0x0,0x1                                                                                    
007d5a   e101     BNZ       0x7d5e                                                                                          
007d5c   6ba4     CLRF      0xa4,0x1               cdc_trf_state = CDC_TX_READY;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * If CDC_TX_READY state, nothing to do, just return.                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d5e   51a4     MOVF      0xa4,0x0,0x1       if(cdc_trf_state == CDC_TX_READY)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d60   e04d     BZ        0x7dfc                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   USBUnmaskInterrupts();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * If CDC_TX_BUSY_ZLP state, send zero length packet                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d62   0e02     MOVLW     0x2                if(cdc_trf_state == CDC_TX_BUSY_ZLP)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d64   5da4     SUBWF     0xa4,0x0,0x1                                                                                    
007d66   e109     BNZ       0x7d7a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d68   6ae6     CLRF      0xe6,0x0               CDCDataInHandle = USBTxOnePacket(CDC_DATA_EP,NULL,0);                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d6a   0e00     MOVLW     0x0                                                                                             
007d6c   6ee6     MOVWF     0xe6,0x0                                                                                        
007d6e   6ae6     CLRF      0xe6,0x0                                                                                        
007d70   d859     RCALL     0x7e24                                                                                          
007e24   0e01     MOVLW     0x1                                                                                             
007e26   6ee6     MOVWF     0xe6,0x0                                                                                        
007e28   d837     RCALL     0x7e98                                                                                          
007e2a   cff3     MOVFF     0xff3,0x5ad                                                                                     
007e2c   f5ad                                                                                                               
007e2e   cff4     MOVFF     0xff4,0x5ae                                                                                     
007e30   f5ae                                                                                                               
007e32   0012     RETURN    0x0                                                                                             
                                                   //CDC_DATA_BD_IN.CNT = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d72   0105     MOVLB     0x5                    cdc_trf_state = CDC_TX_COMPLETING;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d74   0e03     MOVLW     0x3                                                                                             
007d76   6fa4     MOVWF     0xa4,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d78   d041     BRA       0x7dfc             else if(cdc_trf_state == CDC_TX_BUSY)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d7a   05a4     DECF      0xa4,0x0,0x1                                                                                    
007d7c   e13f     BNZ       0x7dfc                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * First, have to figure out how many byte of data to send.              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d7e   0e40     MOVLW     0x40               	if(cdc_tx_len > sizeof(cdc_data_tx))                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d80   6e4e     MOVWF     0x4e,0x0                                                                                        
007d82   6a4f     CLRF      0x4f,0x0                                                                                        
007d84   51a9     MOVF      0xa9,0x0,0x1                                                                                    
007d86   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
007d88   0e00     MOVLW     0x0                                                                                             
007d8a   584f     SUBWFB    0x4f,0x0,0x0                                                                                    
007d8c   e203     BC        0x7d94                                                                                          
007d8e   0e40     MOVLW     0x40               	    byte_to_send = sizeof(cdc_data_tx);                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d90   6edf     MOVWF     0xdf,0x0                                                                                        
007d92   d002     BRA       0x7d98             	else                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d94   c5a9     MOVFF     0x5a9,0xfdf        	    byte_to_send = cdc_tx_len;                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d96   ffdf                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * Subtract the number of bytes just about to be sent from the total.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d98   50df     MOVF      0xdf,0x0,0x0       	cdc_tx_len = cdc_tx_len - byte_to_send;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d9a   5da9     SUBWF     0xa9,0x0,0x1                                                                                    
007d9c   6fa9     MOVWF     0xa9,0x1                                                                                        
                                               	                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d9e   0e14     MOVLW     0x14                   pCDCDst.bRam = (BYTE*)&cdc_data_tx; // Set destination pointer           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007da0   6fa7     MOVWF     0xa7,0x1                                                                                        
007da2   0e05     MOVLW     0x5                                                                                             
007da4   6fa8     MOVWF     0xa8,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007da6   0e01     MOVLW     0x1                    i = byte_to_send;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007da8   cfdf     MOVFF     0xfdf,0xfdb                                                                                     
007daa   ffdb                                                                                                               
007dac   51aa     MOVF      0xaa,0x0,0x1           if(cdc_mem_type == USB_EP0_ROM)            // Determine type of memory source D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007dae   e10b     BNZ       0x7dc6                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007db0   0e01     MOVLW     0x1                        while(i)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007db2   50db     MOVF      0xdb,0x0,0x0                                                                                    
007db4   e012     BZ        0x7dda                                                                                          
007dc4   d7f5     BRA       0x7db0                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007db6   c5a5     MOVFF     0x5a5,0xff6                    *pCDCDst.bRam = *pCDCSrc.bRom;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007db8   fff6                                                                                                               
007dba   c5a6     MOVFF     0x5a6,0xff7                                                                                     
007dbc   fff7                                                                                                               
007dbe   0008     TBLRD                                                                                                     
007dc0   50f5     MOVF      0xf5,0x0,0x0                                                                                    
007dc2   d841     RCALL     0x7e46                                                                                          
007e46   c5a7     MOVFF     0x5a7,0xfe9                                                                                     
007e48   ffe9                                                                                                               
007e4a   c5a8     MOVFF     0x5a8,0xfea                                                                                     
007e4c   ffea                                                                                                               
007e4e   6eef     MOVWF     0xef,0x0                                                                                        
007e50   2ba7     INCF      0xa7,0x1,0x1                   pCDCDst.bRam++;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e52   0e00     MOVLW     0x0                                                                                             
007e54   23a8     ADDWFC    0xa8,0x1,0x1                                                                                    
007e56   2ba5     INCF      0xa5,0x1,0x1                   pCDCSrc.bRom++;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e58   23a6     ADDWFC    0xa6,0x1,0x1                                                                                    
007e5a   0e01     MOVLW     0x1                            i--;                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e5c   06db     DECF      0xdb,0x1,0x0                                                                                    
007e5e   0012     RETURN    0x0                                                                                             
                                                       }//end while(byte_to_send)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   else // _RAM                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007dc6   0e01     MOVLW     0x1                        while(i)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007dc8   50db     MOVF      0xdb,0x0,0x0                                                                                    
007dca   e007     BZ        0x7dda                                                                                          
007dd8   d7f6     BRA       0x7dc6                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007dcc   c5a5     MOVFF     0x5a5,0xfe9                    *pCDCDst.bRam = *pCDCSrc.bRam;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007dce   ffe9                                                                                                               
007dd0   c5a6     MOVFF     0x5a6,0xfea                                                                                     
007dd2   ffea                                                                                                               
007dd4   50ef     MOVF      0xef,0x0,0x0                                                                                    
007dd6   d837     RCALL     0x7e46                                                                                          
                                                           pCDCDst.bRam++;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           pCDCSrc.bRam++;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           i--;                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       }//end while(byte_to_send._word)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }//end if(cdc_mem_type...)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * Lastly, determine if a zero length packet state is necessary.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * See explanation in USB Specification 2.0: Section 5.8.3               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007dda   0105     MOVLB     0x5                    if(cdc_tx_len == 0u)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ddc   51a9     MOVF      0xa9,0x0,0x1                                                                                    
007dde   e107     BNZ       0x7dee                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007de0   0e40     MOVLW     0x40                       if(byte_to_send == CDC_DATA_IN_EP_SIZE)                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007de2   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
007de4   e102     BNZ       0x7dea                                                                                          
007de6   0e02     MOVLW     0x2                            cdc_trf_state = CDC_TX_BUSY_ZLP;                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007de8   d001     BRA       0x7dec                     else                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007dea   0e03     MOVLW     0x3                            cdc_trf_state = CDC_TX_COMPLETING;                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007dec   6fa4     MOVWF     0xa4,0x1                                                                                        
                                                   }//end if(cdc_tx_len...)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007dee   cfdf     MOVFF     0xfdf,0xfe6            CDCDataInHandle = USBTxOnePacket(CDC_DATA_EP,(BYTE*)&cdc_data_tx,byte_to_send); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007df0   ffe6                                                                                                               
007df2   0e14     MOVLW     0x14                                                                                            
007df4   6ee6     MOVWF     0xe6,0x0                                                                                        
007df6   0e05     MOVLW     0x5                                                                                             
007df8   6ee6     MOVWF     0xe6,0x0                                                                                        
007dfa   d814     RCALL     0x7e24                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }//end if(cdc_tx_sate == CDC_TX_BUSY)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBUnmaskInterrupts();                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007dfc   0e02     MOVLW     0x2            }//end CDCTxService                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007dfe   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
007e00   e202     BC        0x7e06                                                                                          
007e02   6ae1     CLRF      0xe1,0x0                                                                                        
007e04   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007e06   6ee1     MOVWF     0xe1,0x0                                                                                        
007e08   d030     BRA       0x7e6a                                                                                          
007e6a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007e6c   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
007e6e   ffd9                                                                                                               
007e70   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif //USB_USE_CDC                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** EOF cdc.c ****************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /*********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                EiBotBoard Firmware                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * FileName:        ebb.c                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * Company:         Schmalz Haus LLC                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * Author:          Brian Schmalz                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * Based on original files by Microchip Inc. in MAL USB example.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * Software License Agreement                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * Copyright (c) 2014-2023, Brian Schmalz of Schmalz Haus LLC                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * All rights reserved.                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * Redistribution and use in source and binary forms, with or                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * without modification, are permitted provided that the following               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * conditions are met:                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * 1. Redistributions of source code must retain the above                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * disclaimer.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * 2. Redistributions in binary form must reproduce the above                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * disclaimer in the documentation and/or other materials                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * provided with the distribution.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * 3. Neither the name of the copyright holder nor the names of                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * its contributors may be used to endorse or promote products                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * derived from this software without specific prior written                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * permission.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * SUCH DAMAGE.                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            */                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Versions:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.8 -                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.8.1 5/19/10 - Only change is to recompile with Microchip USB Stack v2.7     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.8.2 5/31/10 - Only change is to change name in USB enumeration string to Ei D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Bot Board - using new PID for SchmalzHaus                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.9   6/11/10 - Added two commands:                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SQ - Solenoid Query - returns 0 or 1 for down and up         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  ST - Solenoid Toggle - toggles state of the servo/solenoid   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.9.2 6/15/10 - Added commands:                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SC,11 sets pen up speed                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SC,12 sets pen down speed                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SL - sets the current layer                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  QL - queries the current layer                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SN - sets move (node) count                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  QN - Query node count                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  QB - Query Button command                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.9.3 6/16/10 - Replaced SN with CL (Clear Node) command                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.9.4 6/22/10 - Node Count now incremented on pauses (SM with zero step size) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  as well                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.9.5 7/2/10 - Node count no longer incremented at all except for NI command  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  NI - Node count Increment                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  ND - Node count Decrement                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SN - Set Node count (with 8 byte variable)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  BL - With latest bootloader, will jump to Boot Load mode     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.9.6 7/3/10 - Removed extra vectors below 0x1000 for easier merging of HEX   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      files                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - use c018i_HID_BL.o now                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.0.0 9/9/10 - Add in                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  QC - Query Current - reads voltage of current adjustment pot D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  NOTE: This is NOT done the 'right way'. Instead, we set      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      up the pin for analog input at boot, then when the QC    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      comes in, we activate the ADC and take one reading and   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      then shut it down. Eventually, we should re-write the    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      'UBW' ADC routines to work with the much more flexible   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      ADC in the 46J50 part and then just use that generic     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      code for reading the value of the pot.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SC,13,{0,1} - enables/disables RB0 as another PRG button for D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      pause detection                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.0.1 9/13/10 - Bug fix - on v1.1 EBB hardware, need to disable RB0 alt pause D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      button. Switched it to RB2 on v1.1 hardware              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.0.2 10/3/10 - Bug fix - QC command not returning proper results - added     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      cast and now works OK                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.0 10/21/10- Added in                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SE - Set Engraver - turns engraver (on RB3) on or off, or    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      set to PWM power level                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    Added code in init to pre-charge RC7 (USB_SENSE_IO) high   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      before running rest of code                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      to get around wrong resistor value on hardware.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.1 11/21/10- Removed Microchip USB stack v2.7, replaced it with v2.8 from  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  MAL 2010_10_19.                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Also using generic Microchip folder now rather than re-named D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      one (simpler to update).                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Updated code in main.c (and others) to match updates from    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      latest MAL CDC example.                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.1cTest1 01/17/11 - Added third parameter to SP command to use any PortB   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      pin for servo output.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  For this version only - used PortB2 as standard servo output D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.1d 02/11/11 - Reverted back to RB1 for servo output                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                 - Updated check_and_send_TX_data() to allow unlimited data to D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      go out without overrunning the output buffer, same as    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      UBW 1.4.7.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.2 11/04/11 - Fixed PI command to return just a 0 or a 1                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Updated to USB stack 2.9a                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Created MPLAB X project for this firmware                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Added SC,14,<state> to enable/disable solenoid output on RB4 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Fixed bug with S2 command and solenoid command interaction - D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      we now turn off solenoid output on RB4 if user uses S2   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      command to use RB4 for RC servo output.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Fixed bug with S2 command where a duration of 0 would not    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      shut off the PWM channel                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Fixed bug in S2 command where <rate> variable was not being  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      used correctly                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Switched default number of S2 channels to 8 (from 7 before)  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.3 12/12/11 - RB3 now defaults to digital I/O on boot, can still use SE    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      command to do PWM later if you want                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Compiled with latest UBW stack - 2.9b from MAL 2011-10-18    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.4 12/14/11 - RB3 now defaults to OFF, rather than ON, at boot.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.5 12/15/11 - Fixed problem with pen servo (RB1) being inverted on boot    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.0 11/07/12 - Fixed problem with SP command not working properly with      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      ports other than RB1 because we don't properly use S2    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      commands for SP up/down within ISR. Tested on all PortB. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.1 09/19/13 - Expanded internal delay counter to 32 bits so we can have    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      delays longer than 2.1s. Now up to 64K ms.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Fixed bug with all <duration> parameters, SP, TP             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      commands. Now in ms, defaults to 500ms, and actually     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      works up to 64Kms.                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Fixed uninitialized data bug with command FIFO. We were seeing D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      very long random delays first time SM,<delay>,0,0 was    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      used.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - SP command was executing servo move at end of <duration>. It D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      now starts servo move and <duration> delay at same time. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Updated USB stack to Microchip MAL USB v2.9j                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.2 10/15/13 - Fixed bug with SE command that was preventing anything other D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  than 50% duty cycle from working.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Updated SC,2,{0,1,2} to control PIC and drivers connection   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  0 = PIC controls built in drivers                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  1 = PIC controls external step/dir/en drives                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  2 = external step/dir/en controls built-in drivers           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Also updated the pins that are used for driving external     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  step/dir/en drives. (See documentation)                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Updated SC,1,{0,1,2} documentation to match code and removed D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SC,14 which is not needed.                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Updated logic for EM command to use state of SC,2,{0,1,2}    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  properly.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Added SC,14,{0,1} to switch between default of 1/25Khz units D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  for SP and TP command <duration> parameters, and 1ms units   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.3 01/11/14 - Rewrote analog system so we don't have problems with QC      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  commands anymore. New command AC.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.4 04/26/14 - Fixed bug where 0 for duration in SM would cause problems    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Found bug where the <servo_min> and <servo_max> values were  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  reversed in the SP command. This has now been fixed so that  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SP commands will operate the same as 2.0.1 version.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Set initial  'position' of main servo to be 1mS to mimic     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  behavior of v2.0.1 firmware.                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Updated license to BSD 3-clause                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Changed SP and TP commands so that if no <duration> parameter D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  is used, it does not default to 500mS delay, but rather 0mS. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  This should now work exactly as 2.0.1 when no parameter is   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  used.                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Tested 2.2.4 against 2.0.1 with Saleae Logic analyzer. Looked D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  at several Inkscape plots. Confirmed that timing of steppers D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  and servo are the same. Confirmed that all RB0 through RB7   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  outputs are the same between the two versions.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.5 04/29/14 - Added 'long' arguments to SM for <move_duration> and <axis1> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  and <axis2>. All can be 3 bytes now. Also added checks in    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SM command to make sure that arguments don't result in a     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  step speed that's too low (<0.76Hz).                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.6 01/01/15 - Added 'QM' command - Query Motor, tells PC what is moving.   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.7 08/13/15 - Added 'ES' command, which will immediately abort any SM command D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  but leave the motors energized. (E-stop) It returns "1" if   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  it aborted a move in progress, "0" otherwise. It will also   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  delete any pending SM command in the FIFO.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.8 08/14/15 - Corrected error checking in SM command to accurately reflect D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  too fast and too slow requests. (>25K or <1.31 steps per     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  second). Also added type cast that now allows for full range D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  of step values to work properly.                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.9 08/18/15 - Added extra values to output of ES command to indicate how   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  many steps were aborted.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.3.0 08/28/15 - Added new XM command as per issue #29 for driving mixed-axis D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  geometry machines.                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.0 03/14/16 - Added new AM command for using accelerated                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  stepper motion. Includes going to 32 bit accumulators in ISR D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  to achieve necessary resolution, which includes changes to   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SM command as well. Also added "CU,2,0" to turn of SM command D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  parameter checking for speed.                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  NOTE: AM command may not be quite 'right' yet. Although it   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  has passed simple tests, it could not be made to reliably    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  work from the Inkscape plugin, so it is not currently being  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  used. It may have to change in future versions of this       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  firmware.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.1 08/08/16 - Added new form of SE command, with optional parameter that   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  puts SE in motion queue. (issue #51)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Fixed issue #52 (bug in parameter check in parse_SM_packet()) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.2 08/10/16 - Fixed bug in SE command that would set engraver to 50% if    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SE,1,0 was used. Also added engraver power to FIFO structure D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  for when third SE parameter is 1.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.3 11/07/16 - Added QS (Query Step position) and CS (Clear Step position)  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  commands.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.4 11/16/16 - Added extra value to QM command to show status of FIFO       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.5 01/07/17 - Fixed math error in SM/XM commands (see issue #71)           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.6 01/08/17 - Added special case code for moves less than 30ms long (this  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  special case just un-does the change for issue #71 for these D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  short moves)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.0 01/09/17 - Added LM (low level move) command to allow PC to do all math D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.1 01/18/17 - Fixed LM command to take negative and positive Accel         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Fixed 25KHz ISR to be much closer to 25KHz                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.2 07/07/17 - Fixed issue #78 : detected and reject 0,0 for LM command     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Fixed some uninitialized variables                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  LM Accel parameter went to 32 bits signed from 16 bit signed D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.3 07/09/17 - Fixed bug in LM command that would corrupt currently running D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    moves with new data.                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.4 01/06/18 - Added ST (Set Tag), QT (Query Tag) commands.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Added RB (ReBoot) command                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Added any name set with ST command to end of USB Device Name D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Fixed problem with reading bit 7 of any I/O port (issue #82) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.5 07/06/18 - Enhanced ST command by writing to both Device name and       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    serial number USB fields.                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.6 07/11/18 - Added RC Servo power control functionality on pin RA3        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    Includes new QR and SR commands. See issue #103 for more   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.0 09/08/18 - Added direct servo power toggle command SR                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Set servo default timeout to 15 minutes, pen up at boot,     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    servo power off at boot                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Changed default pen up/down positions                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.1 01/07/19 - Added "QG" general query command                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.2 01/11/19 - Added "HM" Home Motor command                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.3 05/24/19 - Changed default RC servo power down time from 15min to 60s   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.4 11/05/19 - Fixed bug #124 (Math error in SM command for edge case       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    input parameters)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.5 11/29/19 - Changed SR command behavior so it only enables servo power   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    after SP command, not also after stepper movement          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.6 05/26/20 - Fixed a bug with the PC/PG command which caused some changes D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    not to take effect for up to 64K more milliseconds.        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //       11/10/20 - Fixed bug where S2 command wouldn't turn power on to RB1     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    servo output if it had been turned off.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.7.0 11/19/20 - No longer allow Rate to go negative (like from LM command)   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    inside ISR                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Removed AM command                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Added optional parameter <Clear> to all stepper motion       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    commands to allow explicit zeroing of accumulators         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Renamed internal parameters for some commands (LT/LM) for    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    clarity. Also queue structure members got renamed.         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Added optional absolute position values to HM command        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Added LT command, based on LM command                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Updated math in LM command based on Kinematics analysis      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Updated math in ISR (for LM/LT) based on Kinematics analysis D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Fixed bug where negative accelerations could cause delays before  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    last step.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  EM command now always clears accumulators                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Reduced effective pulse width for step pulses down to        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    between 1.6 and 2.3 uS.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.8.0 04/22/21 - Issue 151: Added QE command to return state of motor enables D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    and their microstep resolution                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Issue 152: Move EM command to motion queue                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Issue 153: Add optional parameter to ES command to disable   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    motors.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Fix bug in ES command that didn't send return packet         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.8.1 07/26/22 - Issue 180: Add CU,3,1 to turn on RED LED reporting of FIFO empty D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.8.2 05/05/23 - Add CU,50 to control automatic motor enable                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.9.0 11/2/22  - Issue 185 : Get LT and LM commands to allow accelerations    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    through zero (i.e. reverse direction mid-move)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Massive refactor of motion ISR to improve performance        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Proper formatting/indenting of entire EBB codebase for readability D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Turned all warnings/messages on in compiler, fixed all       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include <p18cxxx.h>                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include <usart.h>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include <ctype.h>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include <delays.h>                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include <math.h>                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include <string.h>                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "Usb\usb.h"                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "Usb\usb_function_cdc.h"                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "usb_config.h"                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "HardwareProfile.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "ubw.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "ebb.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "delays.h"                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "ebb_demo.h"                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "RCServo2.h"                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "ebb_print.h"                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Define this to enable the use of the C step (high) ISR. Undefine for          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // the assembly language version                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define USE_C_ISR                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This is the value that gets multiplied by Steps/Duration to compute           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // the StepAdd values.                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define OVERFLOW_MUL            (0x8000 / HIGH_ISR_TICKS_PER_MS)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define MAX_RC_DURATION         11890                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The number of individual addressable unsigned bytes that are available        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // in the SL and QL commands.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define SL_STORAGE_SIZE         32u                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           typedef enum                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             SOLENOID_OFF = 0,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             SOLENOID_ON,                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             SOLENOID_PWM                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           } SolenoidStateType;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This is the FIFO that stores the motion commands. It spans multiple RAM       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // banks from 0x600 through 0xDFF (length 0x800 or 2048d), and must only be      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // accessed via pointer.                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that no matter what COMMAND_FIFO_MAX_LENGTH is set to, we reserve the    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // entire 0x800 bytes of space in the FIFO_scn here. That prevents the linker    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // from putting variables after this section.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #pragma udata FIFO_scn                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           UINT8 CommandFIFO[COMMAND_FIFO_SIZE_BYTES];                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // These global variables are deliberately put into "Bank" 0 of RAM (the         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // access/near bank).                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // They are the small global variables that the 25KHz ISR has to access.         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // With them all being in bank 0, no bank switch instructions are needed         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // to access them.                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #pragma udata access ISR_access                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //static UINT8 TookStep;       // LSb set if a step was taken                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 AllDone;        // LSb set if this command is complete         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 isr_i;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 AxisActive[NUMBER_OF_STEPPERS];     // LSb set if an axis is not done stepping D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           near DriverConfigurationType DriverConfiguration;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // LSb set to enable RC Servo output for pen up/down                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 gUseRCPenServo;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // LSb set to enable red LED lit when FIFO is empty                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gRedLEDEmptyFIFO;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // LSb set when user presses the PRG or alternate PRG button                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static volatile near UINT8 ButtonPushed;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // LSb set to enable use of alternate PRG (pause) button                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static volatile near UINT8 UseAltPause;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bitfield used to keep track of what test modes are enabled/disabled           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 TestMode;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Used as temporary variable inside ISR for servo channel index                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 ISR_Channel;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Temporary holder for PortB value in ISR so we don't have to sample more than once D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 PortBTemp;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Global variables used for limit switch feature                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gLimitSwitchMask;      // 8-bit PortB mask                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gLimitSwitchTarget;    // 8-bit PortB target values          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gLimitSwitchTriggered; // Non-zero if limit switch trigger has fired D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Global variables for managing FIFO depth/indexes                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gFIFOLength;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gFIFOIn;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gFIFOOut;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Holds a local copy of the Command from CommandFIFO[gFIFOOut].Command          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 gFIFOCommand;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Current length of FIFO                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gCurrentFIFOLength;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Temporarily store FSR0 during command copy assembly (note these can be in any D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // bank)                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //UINT8 near isr_FSR0L_temp;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //UINT8 near isr_FSR0H_temp;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Pointer in RAM to the first byte of the next unplayed FIFO command            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           UINT8 near FIFO_out_ptr_high;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           UINT8 near FIFO_out_ptr_low;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // These values hold the global step position of each axis                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile static near INT32 globalStepCounter1;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile static near INT32 globalStepCounter2;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Pointer to a MoveCommandType element of the FIFO array                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           near MoveCommandType * FIFOPtr = (near MoveCommandType *)&CommandFIFO[0];        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Accumulator for each axis                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           near u32b4_t acc_union[2];                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // ISR globals used in test modes for keeping track of each move                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT32 gISRTickCountForThisCommand;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT32 gISRStepCount0ForThisCommand;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near INT32  gISRPosition0ForThisCommand;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT32 gISRStepCount1ForThisCommand;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near INT32  gISRPosition1ForThisCommand;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bank 1 is the "ISR Bank". By placing all variables that the ISR needs         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // access to either in the access bank (above) or in Bank 1, then the bank       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // select register can be kept pointing to Bank 1 and no bank switch instructions D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // are needed in the iSR.                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #pragma udata ISR_globals = 0x180                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           char * p1;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           char * p2;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Variables used during debug printing within ISR                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static u32b4_t xx;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static UINT8 nib;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The move command containing the currently executing move command in the ISR   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           MoveCommandType CurrentCommand;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static SolenoidStateType SolenoidState;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static unsigned int SolenoidDelay;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // track the latest state of the pen                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static PenStateType PenState;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static unsigned long NodeCount;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           unsigned char QC_ms_timer;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static UINT StoredEngraverPower;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Set TRUE to enable solenoid output for pen up/down                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           BOOL gUseSolenoid;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // When FALSE, we skip parameter checks for motor move commands so they can run faster D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           BOOL gLimitChecks;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // LSb set to enable all strings to use '\n' line endings, and use standardized  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // command reply format                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           UINT8 gStandardizedCommandFormat;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Temp storage in ISR for late ISR compensation value                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           UINT8 CurTime;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // These globals replace the local (stack) variables used during processing      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // and parsing of stepper motor commands. They also take the place of parameters D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // for the two low-level (process_low_level and process_simple) move functions.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Since we know that we can never be working on more than one of these commands D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // at the same time, and since we have enough global RAM space, it makes some    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // sense to make these static globals. This reduces the change of a stack        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // overflow.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static UINT32  gUInt32_1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static UINT32  gUInt32_2;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static UINT32  gUInt32_3;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_4;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_5;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_6;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_7;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_8;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_9;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_10;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_11;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // These next set of defines create local, meaningful names. They reference the  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // above globals, but in ways that make sense for the routine they are used in.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For HM                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gHM_StepRate    gUInt32_2                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gHM_Pos1        gInt32_6                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gHM_Pos2        gInt32_10                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For XM                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gXM_ASteps      gInt32_6                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gXM_BSteps      gInt32_10                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For simple_motor_move_fp                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gDurationMS     gUInt32_1                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gIntervals      gUInt32_2                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gClearAccs      gUInt32_3                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gRate1          gInt32_4                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gSteps1         gInt32_5                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gAccel1         gInt32_6                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gJerk1          gInt32_7                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gRate2          gInt32_8                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gSteps2         gInt32_9                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gAccel2         gInt32_10                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gJerk2          gInt32_11                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For simple_rate_move_fp()                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gSRM_Rate       gUInt32_2                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           /* List of functions which use (in some way) the above globals/defines           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           process_simple_motor_move_fp()                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             Inputs:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gDurationMS   UINT32  gUInt32_1 not modified                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps1       INT32   gInt32_5  modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps2       INT32   gInt32_9  modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gClearAccs    UINT32  gUInt32_3 not modified                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             Working values:                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gIntervals    UINT32  gUInt32_2 modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           process_simple_rate_move_fp()                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             Inputs:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSRM_Rate     UINT32  gUInt32_2 not modified                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps1       INT32   gInt32_5  modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps2       INT32   gInt32_9  modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gClearAccs    UINT32  gUInt32_3 not modified                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             Working values:                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               (none)                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           parse_XM_packet()                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             Working values:                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gDurationMS   UINT32  gUInt32_1 modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps1       INT32   gInt32_5  modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps2       INT32   gInt32_9  modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gClearAccs    UINT32  gUInt32_3 modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             Working values:                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gXM_ASteps    INT32   gInt32_6  modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gXM_BSteps    INT32   gInt32_10 modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           */                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // These globals are now set to be put anywhere the linker can find space for them D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #pragma udata                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static MoveCommandType gMoveTemp;     // Commands fill this then copy to FIFO    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Storage for the 32 bytes of "SL" command values                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static UINT8   gSL_Storage[32];                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Local function definitions                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static void clear_StepCounters(void);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static void process_low_level_move(BOOL TimedMove,  ExtractReturnType ClearRet); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static void process_simple_motor_move_fp(void);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static void clear_parmaeter_globals(void);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static void process_simple_rate_move_fp(void);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           extern void FIFO_COPY(void);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // High ISR                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #if defined(USE_C_ISR)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #pragma interrupt high_ISR                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b62   cfda     MOVFF     0xfda,0xfe4    void high_ISR(void)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b64   ffe4                                                                                                               
003b66   cfe9     MOVFF     0xfe9,0xfe4                                                                                     
003b68   ffe4                                                                                                               
003b6a   cfea     MOVFF     0xfea,0xfe4                                                                                     
003b6c   ffe4                                                                                                               
003b6e   cff3     MOVFF     0xff3,0xfe4                                                                                     
003b70   ffe4                                                                                                               
003b72   cff4     MOVFF     0xff4,0xfe4                                                                                     
003b74   ffe4                                                                                                               
003b76   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // 25KHz ISR fire. Note: For speed, we don't check that INTCONbits.TMR0IF is set D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // here. We assume it is, as it's the only interrupt that should be triggering D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // calls to high_ISR()                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Clear the interrupt                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b78   94f2     BCF       0xf2,0x2,0x0     INTCONbits.TMR0IF = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Load the current value of the timer (it will be above zero) so we know      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // how long it took from when the interrupt fired until we actually            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // serviced the interrupted.                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b7a   cfd6     MOVFF     0xfd6,0x1c6      CurTime = TMR0L;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b7c   f1c6                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Because the timer is a 'count up' timer, and because it generates an        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // interrupt when it rolls over at 0x00, our TIMER0_RELOAD value is effectively D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // a negative value. By adding CurTime to that reload value, we decrease the   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // amount of time we want to wait until the next ISR fires by the exact        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // amount that we were delayed by in getting to this ISR tick. Thus any        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // 'lateness' in this ISR tick is compensated for in the next tick, keeping    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // an overall steady 40uS between ticks even if one or two ISRs take too long  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // and delay the start of the next tick by some amount.                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b7e   0e8a     MOVLW     0x8a             TMR0L = TIMER0_RELOAD + CurTime;  // Reload for 25KHz ISR fire                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b80   0101     MOVLB     0x1                                                                                             
003b82   25c6     ADDWF     0xc6,0x0,0x1                                                                                    
003b84   6ed6     MOVWF     0xd6,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b86   b209     BTFSC     0x9,0x1,0x0      if (bittst(TestMode, TEST_MODE_GPIO_NUM))                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b88   828c     BSF       0x8c,0x1,0x0       LATDbits.LATD1 = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b8a   8000     BSF       0x0,0x0,0x0      bitsetzero(AllDone);      // Start every ISR assuming we are done with the current command - set bit 0 of AllDone D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Process a motor move command of any type                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // This is the main chunk of code for EBB : the step generation code in the 25KHz ISR. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // The first section determines if we need to take any steps this time through the ISR. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // It is broken into sections, one for each type of stepper motion command because  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // they each have different amounts of processing needed to determine if a step is  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // necessary or not.                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Then the second section is common to all stepper motion commands and handles D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the actual step pulse generation as well as direction bit control.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // The Active bits will be set if there is still motion left to                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // generate on an axis. They are set when the command is first loaded          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // into CurrentCommand and then cleared once all steps have been taken         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // (either in time or in step count). They are checked inside each             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // command's step processing (below) so that we only spend time working        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // on axis that have activity left                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Important assumptions:                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // There is only one bit set in the CurrentCommand.Command byte                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // A very complete mathematical analysis of the way the various stepper        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // commands are expected to work can be found here;                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // https://evilmadscience.s3.amazonaws.com/dl/ad/public/AxiDrawKinematics.pdf  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Here we handle the 'simple' (non accelerating) stepper commands.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // These three command (SM, XM and HM) do not use                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // acceleration and so that code is left out to save time. This is also        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the most common command used by the various PC softwares so we check        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // for it first.                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b8c   0e05     MOVLW     0x5              if (CurrentCommand.Command == COMMAND_SM_XM_HM_MOVE)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b8e   5d89     SUBWF     0x89,0x0,0x1                                                                                    
003b90   e13f     BNZ       0x3c10                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Direction bits need to be output before step bits. Since we know step bis D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // are clear at this point, it's safe to always output direction bits here   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // before we start messing with the step bits                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b92   5004     MOVF      0x4,0x0,0x0        if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b94   e104     BNZ       0x3b9e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // The Step and Direction bits are all output on the top four bits         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // of PortD. So we can be very efficient here and simply output those      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // four bits directly to port D.                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b96   0e5f     MOVLW     0x5f                 LATD = (PORTD & ~(DIR1_BIT | DIR2_BIT)) | CurrentCommand.m.sm.DirBits;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b98   1483     ANDWF     0x83,0x0,0x0                                                                                    
003b9a   118a     IORWF     0x8a,0x0,0x1                                                                                    
003b9c   6e8c     MOVWF     0x8c,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // If the test mode is active, count this tick as part of the move if there  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // are steps to take in either axis.                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b9e   a409     BTFSS     0x9,0x2,0x0        if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003ba0   d008     BRA       0x3bb2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003ba2   0e01     MOVLW     0x1                  if (bittstzero(AxisActive[0]) || bittstzero(AxisActive[1]))                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003ba4   1402     ANDWF     0x2,0x0,0x0                                                                                     
003ba6   e103     BNZ       0x3bae                                                                                          
003ba8   0e01     MOVLW     0x1                                                                                             
003baa   1403     ANDWF     0x3,0x0,0x0                                                                                     
003bac   e002     BZ        0x3bb2                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bae   ec5a     CALL      0x60b4,0x0             gISRTickCountForThisCommand++;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bb0   f030                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //// MOTOR 1     SM XM HM ////                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Only do this if there are steps left to take                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bb2   a002     BTFSS     0x2,0x0,0x0        if (bittstzero(AxisActive[0]))                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bb4   d012     BRA       0x3bda                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Add the rate to the accumulator and see if the MSb got set. If so       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // then take a step and record that the step was taken                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bb6   ec70     CALL      0x62e0,0x0           acc_union[0].value += CurrentCommand.m.sm.Rate[0].value;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bb8   f031                                                                                                               
0062e0   5190     MOVF      0x90,0x0,0x1                                                                                    
0062e2   261e     ADDWF     0x1e,0x1,0x0                                                                                    
0062e4   5191     MOVF      0x91,0x0,0x1                                                                                    
0062e6   221f     ADDWFC    0x1f,0x1,0x0                                                                                    
0062e8   5192     MOVF      0x92,0x0,0x1                                                                                    
0062ea   2220     ADDWFC    0x20,0x1,0x0                                                                                    
0062ec   5193     MOVF      0x93,0x0,0x1                                                                                    
0062ee   2221     ADDWFC    0x21,0x1,0x0                                                                                    
0062f0   0012     RETURN    0x0                                                                                             
003bba   ae21     BTFSS     0x21,0x7,0x0         if (acc_union[0].bytes.b4 & 0x80)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bbc   d00e     BRA       0x3bda                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bbe   9e21     BCF       0x21,0x7,0x0           acc_union[0].bytes.b4 &= 0x7F;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bc0   8d8a     BSF       0x8a,0x6,0x1           CurrentCommand.m.sm.DirBits |= STEP1_BIT;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bc2   ec60     CALL      0x60c0,0x0             CurrentCommand.m.sm.Steps[0]--;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bc4   f030                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bc6   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bc8   d004     BRA       0x3bd2                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bca   2a2a     INCF      0x2a,0x1,0x0             gISRStepCount0ForThisCommand++;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bcc   222b     ADDWFC    0x2b,0x1,0x0                                                                                    
003bce   222c     ADDWFC    0x2c,0x1,0x0                                                                                    
003bd0   222d     ADDWFC    0x2d,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // For these stepper motion commands zero steps left means               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // the axis is no longer active                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bd2   ec1a     CALL      0x6034,0x0             if (CurrentCommand.m.sm.Steps[0] == 0u)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bd4   f030                                                                                                               
003bd6   e101     BNZ       0x3bda                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bd8   9002     BCF       0x2,0x0,0x0              bitclrzero(AxisActive[0]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //// MOTOR 2     SM XM HM ////                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bda   a003     BTFSS     0x3,0x0,0x0        if (bittstzero(AxisActive[1]))                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bdc   d011     BRA       0x3c00                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bde   ec79     CALL      0x62f2,0x0           acc_union[1].value += CurrentCommand.m.sm.Rate[1].value;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003be0   f031                                                                                                               
0062f2   5194     MOVF      0x94,0x0,0x1                                                                                    
0062f4   2622     ADDWF     0x22,0x1,0x0                                                                                    
0062f6   5195     MOVF      0x95,0x0,0x1                                                                                    
0062f8   2223     ADDWFC    0x23,0x1,0x0                                                                                    
0062fa   5196     MOVF      0x96,0x0,0x1                                                                                    
0062fc   2224     ADDWFC    0x24,0x1,0x0                                                                                    
0062fe   5197     MOVF      0x97,0x0,0x1                                                                                    
006300   2225     ADDWFC    0x25,0x1,0x0                                                                                    
006302   0012     RETURN    0x0                                                                                             
003be2   ae25     BTFSS     0x25,0x7,0x0         if (acc_union[1].bytes.b4 & 0x80)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003be4   d00d     BRA       0x3c00                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003be6   9e25     BCF       0x25,0x7,0x0           acc_union[1].bytes.b4 &= 0x7F;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003be8   ec9d     CALL      0x613a,0x0             CurrentCommand.m.sm.DirBits |= STEP2_BIT;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00613a   898a                                                                                                               
003bea   f030     WORD2     0x30                   CurrentCommand.m.sm.Steps[1]--;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00613c   079c     DECF      0x9c,0x1,0x1                                                                                    
00613e   0e00     MOVLW     0x0                                                                                             
006140   5b9d     SUBWFB    0x9d,0x1,0x1                                                                                    
006142   5b9e     SUBWFB    0x9e,0x1,0x1                                                                                    
006144   5b9f     SUBWFB    0x9f,0x1,0x1                                                                                    
006146   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bec   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bee   d004     BRA       0x3bf8                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bf0   2a32     INCF      0x32,0x1,0x0             gISRStepCount1ForThisCommand++;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bf2   2233     ADDWFC    0x33,0x1,0x0                                                                                    
003bf4   2234     ADDWFC    0x34,0x1,0x0                                                                                    
003bf6   2235     ADDWFC    0x35,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bf8   ec69     CALL      0x60d2,0x0             if (CurrentCommand.m.sm.Steps[1] == 0u)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bfa   f030                                                                                                               
003bfc   e101     BNZ       0x3c00                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bfe   9003     BCF       0x3,0x0,0x0              bitclrzero(AxisActive[1]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // We want to allow for a one-ISR tick move, which requires us to check      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // to see if the move has been completed here (to load the next command      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // this tick rather than waiting for the next tick). This primarily gives    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // us simpler math when figuring out how long moves will take.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c00   0e01     MOVLW     0x1                if (bittstzero(AxisActive[0]) || bittstzero(AxisActive[1]))                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c02   1402     ANDWF     0x2,0x0,0x0                                                                                     
003c04   e151     BNZ       0x3ca8                                                                                          
003c06   0e01     MOVLW     0x1                                                                                             
003c08   1403     ANDWF     0x3,0x0,0x0                                                                                     
003c0a   e101     BNZ       0x3c0e                                                                                          
003c0c   d08b     BRA       0x3d24                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 bitclrzero(AllDone);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c0e   d04c     BRA       0x3ca8             goto OutputBits;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Low level Move (LM) : This one uses acceleration, so take that              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // into account.                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c10   0e06     MOVLW     0x6              if (CurrentCommand.Command == COMMAND_LM_MOVE)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c12   5d89     SUBWF     0x89,0x0,0x1                                                                                    
003c14   e14b     BNZ       0x3cac                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // If the test mode is active, count this tick as part of the move if there  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // are steps to take in either axis.                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c16   a409     BTFSS     0x9,0x2,0x0        if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c18   d008     BRA       0x3c2a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c1a   0e01     MOVLW     0x1                  if (bittstzero(AxisActive[0]) || bittstzero(AxisActive[1]))                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c1c   1402     ANDWF     0x2,0x0,0x0                                                                                     
003c1e   e103     BNZ       0x3c26                                                                                          
003c20   0e01     MOVLW     0x1                                                                                             
003c22   1403     ANDWF     0x3,0x0,0x0                                                                                     
003c24   e002     BZ        0x3c2a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c26   ec5a     CALL      0x60b4,0x0             gISRTickCountForThisCommand++;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c28   f030                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //// MOTOR 1   LM ////                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Only do this if there are steps left to take                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c2a   a002     BTFSS     0x2,0x0,0x0        if (bittstzero(AxisActive[0]))                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c2c   d01b     BRA       0x3c64                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c2e   ec17     CALL      0x5e2e,0x0           CurrentCommand.m.sm.Accel[0] += CurrentCommand.m.sm.Jerk[0];               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c30   f02f                                                                                                               
005e2e   51a0     MOVF      0xa0,0x0,0x1                                                                                    
005e30   27a8     ADDWF     0xa8,0x1,0x1                                                                                    
005e32   51a1     MOVF      0xa1,0x0,0x1                                                                                    
005e34   23a9     ADDWFC    0xa9,0x1,0x1                                                                                    
005e36   51a2     MOVF      0xa2,0x0,0x1                                                                                    
005e38   23aa     ADDWFC    0xaa,0x1,0x1                                                                                    
005e3a   51a3     MOVF      0xa3,0x0,0x1                                                                                    
005e3c   23ab     ADDWFC    0xab,0x1,0x1                                                                                    
005e3e   51a8     MOVF      0xa8,0x0,0x1         CurrentCommand.m.sm.Rate[0].value += CurrentCommand.m.sm.Accel[0];         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005e40   2790     ADDWF     0x90,0x1,0x1                                                                                    
005e42   51a9     MOVF      0xa9,0x0,0x1                                                                                    
005e44   2391     ADDWFC    0x91,0x1,0x1                                                                                    
005e46   51aa     MOVF      0xaa,0x0,0x1                                                                                    
005e48   2392     ADDWFC    0x92,0x1,0x1                                                                                    
005e4a   51ab     MOVF      0xab,0x0,0x1                                                                                    
005e4c   2393     ADDWFC    0x93,0x1,0x1                                                                                    
005e4e   ef70     GOTO      0x62e0               acc_union[0].value += CurrentCommand.m.sm.Rate[0].value;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005e50   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c32   ae21     BTFSS     0x21,0x7,0x0         if (acc_union[0].bytes.b4 & 0x80)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c34   d017     BRA       0x3c64                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c36   0e7f     MOVLW     0x7f                   acc_union[0].bytes.b4 = acc_union[0].bytes.b4 & 0x7F;                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c38   1421     ANDWF     0x21,0x0,0x0                                                                                    
003c3a   6e21     MOVWF     0x21,0x0                                                                                        
003c3c   8d8a     BSF       0x8a,0x6,0x1           CurrentCommand.m.sm.DirBits |= STEP1_BIT;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c3e   ec60     CALL      0x60c0,0x0             CurrentCommand.m.sm.Steps[0]--;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c40   f030                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c42   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c44   d004     BRA       0x3c4e                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c46   2a2a     INCF      0x2a,0x1,0x0             gISRStepCount0ForThisCommand++;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c48   222b     ADDWFC    0x2b,0x1,0x0                                                                                    
003c4a   222c     ADDWFC    0x2c,0x1,0x0                                                                                    
003c4c   222d     ADDWFC    0x2d,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Set the direction bit based on the sign of rate                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c4e   af93     BTFSS     0x93,0x7,0x1           if (CurrentCommand.m.sm.Rate[0].bytes.b4 & 0x80)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c50   d003     BRA       0x3c58                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c52   8f8a     BSF       0x8a,0x7,0x1             CurrentCommand.m.sm.DirBits |= DIR1_BIT;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c54   8e8c     BSF       0x8c,0x7,0x0             Dir1IO = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c56   d002     BRA       0x3c5c                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c58   9f8a     BCF       0x8a,0x7,0x1             CurrentCommand.m.sm.DirBits &= ~DIR1_BIT;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c5a   9e8c     BCF       0x8c,0x7,0x0             Dir1IO = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c5c   ec1a     CALL      0x6034,0x0             if (CurrentCommand.m.sm.Steps[0] == 0u)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c5e   f030                                                                                                               
003c60   e101     BNZ       0x3c64                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c62   9002     BCF       0x2,0x0,0x0              bitclrzero(AxisActive[0]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //// MOTOR 2    LM ////                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c64   a003     BTFSS     0x3,0x0,0x0        if (bittstzero(AxisActive[1]))                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c66   d01a     BRA       0x3c9c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c68   ec29     CALL      0x5e52,0x0           CurrentCommand.m.sm.Accel[1] += CurrentCommand.m.sm.Jerk[1];               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c6a   f02f                                                                                                               
005e52   51a4     MOVF      0xa4,0x0,0x1                                                                                    
005e54   27ac     ADDWF     0xac,0x1,0x1                                                                                    
005e56   51a5     MOVF      0xa5,0x0,0x1                                                                                    
005e58   23ad     ADDWFC    0xad,0x1,0x1                                                                                    
005e5a   51a6     MOVF      0xa6,0x0,0x1                                                                                    
005e5c   23ae     ADDWFC    0xae,0x1,0x1                                                                                    
005e5e   51a7     MOVF      0xa7,0x0,0x1                                                                                    
005e60   23af     ADDWFC    0xaf,0x1,0x1                                                                                    
005e62   51ac     MOVF      0xac,0x0,0x1         CurrentCommand.m.sm.Rate[1].value += CurrentCommand.m.sm.Accel[1];         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005e64   2794     ADDWF     0x94,0x1,0x1                                                                                    
005e66   51ad     MOVF      0xad,0x0,0x1                                                                                    
005e68   2395     ADDWFC    0x95,0x1,0x1                                                                                    
005e6a   51ae     MOVF      0xae,0x0,0x1                                                                                    
005e6c   2396     ADDWFC    0x96,0x1,0x1                                                                                    
005e6e   51af     MOVF      0xaf,0x0,0x1                                                                                    
005e70   2397     ADDWFC    0x97,0x1,0x1                                                                                    
005e72   ef79     GOTO      0x62f2               acc_union[1].value += CurrentCommand.m.sm.Rate[1].value;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005e74   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c6c   ae25     BTFSS     0x25,0x7,0x0         if (acc_union[1].bytes.b4 & 0x80)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c6e   d016     BRA       0x3c9c                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c70   0e7f     MOVLW     0x7f                   acc_union[1].bytes.b4 = acc_union[1].bytes.b4 & 0x7F;                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c72   1425     ANDWF     0x25,0x0,0x0                                                                                    
003c74   6e25     MOVWF     0x25,0x0                                                                                        
003c76   ec9d     CALL      0x613a,0x0             CurrentCommand.m.sm.DirBits |= STEP2_BIT;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c78   f030                                      CurrentCommand.m.sm.Steps[1]--;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c7a   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c7c   d004     BRA       0x3c86                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c7e   2a32     INCF      0x32,0x1,0x0             gISRStepCount1ForThisCommand++;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c80   2233     ADDWFC    0x33,0x1,0x0                                                                                    
003c82   2234     ADDWFC    0x34,0x1,0x0                                                                                    
003c84   2235     ADDWFC    0x35,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Set the direction bit based on the sign of rate                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c86   af97     BTFSS     0x97,0x7,0x1           if (CurrentCommand.m.sm.Rate[1].bytes.b4 & 0x80)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c88   d003     BRA       0x3c90                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c8a   8b8a     BSF       0x8a,0x5,0x1             CurrentCommand.m.sm.DirBits |= DIR2_BIT;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c8c   8a8c     BSF       0x8c,0x5,0x0             Dir2IO = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c8e   d002     BRA       0x3c94                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c90   9b8a     BCF       0x8a,0x5,0x1             CurrentCommand.m.sm.DirBits &= ~DIR2_BIT;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c92   9a8c     BCF       0x8c,0x5,0x0             Dir2IO = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c94   ec69     CALL      0x60d2,0x0             if (CurrentCommand.m.sm.Steps[1] == 0u)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c96   f030                                                                                                               
003c98   e101     BNZ       0x3c9c                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c9a   9003     BCF       0x3,0x0,0x0              bitclrzero(AxisActive[1]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // We want to allow for a one-ISR tick move, which requires us to check      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // to see if the move has been completed here (to load the next command      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // this tick rather than waiting for the next tick). This primarily gives    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // us simpler math when figuring out how long moves will take.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c9c   0e01     MOVLW     0x1                if (bittstzero(AxisActive[0]) || bittstzero(AxisActive[1]))                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c9e   1402     ANDWF     0x2,0x0,0x0                                                                                     
003ca0   e103     BNZ       0x3ca8                                                                                          
003ca2   0e01     MOVLW     0x1                                                                                             
003ca4   1403     ANDWF     0x3,0x0,0x0                                                                                     
003ca6   e03e     BZ        0x3d24                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003ca8   9000     BCF       0x0,0x0,0x0          bitclrzero(AllDone);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003caa   d03c     BRA       0x3d24             goto OutputBits;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // The Low level Timed (LT) command is pretty special. Instead of running      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // until all step counts are zero, it runs for a certain amount of 25Khz       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // ISR ticks (stored in .Steps[0]). Both axis continue to produce steps        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // until the time is used up. This affects how AxisActive is computed.         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Only AxisActive[0] is used for this command, not AxisActive[1].             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cac   0e07     MOVLW     0x7              if (CurrentCommand.Command == COMMAND_LT_MOVE)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cae   5d89     SUBWF     0x89,0x0,0x1                                                                                    
003cb0   e139     BNZ       0x3d24                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Has time run out for this command yet?                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cb2   a002     BTFSS     0x2,0x0,0x0        if (bittstzero(AxisActive[0]))                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cb4   d037     BRA       0x3d24                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // If the test mode is active, count this tick as part of the move if there D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // are steps to take.                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cb6   a409     BTFSS     0x9,0x2,0x0          if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cb8   d002     BRA       0x3cbe                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cba   ec5a     CALL      0x60b4,0x0             gISRTickCountForThisCommand++;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cbc   f030                                                                                                               
0060b4   2a26     INCF      0x26,0x1,0x0                                                                                    
0060b6   0e00     MOVLW     0x0                                                                                             
0060b8   2227     ADDWFC    0x27,0x1,0x0                                                                                    
0060ba   2228     ADDWFC    0x28,0x1,0x0                                                                                    
0060bc   2229     ADDWFC    0x29,0x1,0x0                                                                                    
0060be   0012     RETURN    0x0                                                                                             
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // A simple optimization: we only have one 'count' for LT, to know         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // when we're done, so we can directly clear AllDone here if we are        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // not yet done with this move.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cbe   9000     BCF       0x0,0x0,0x0          bitclrzero(AllDone);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Nope not done. So count this ISR tick, and then see if we need to take  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // a step                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cc0   ec60     CALL      0x60c0,0x0           CurrentCommand.m.sm.Steps[0]--;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cc2   f030                                                                                                               
0060c0   0798     DECF      0x98,0x1,0x1                                                                                    
0060c2   0e00     MOVLW     0x0                                                                                             
0060c4   5b99     SUBWFB    0x99,0x1,0x1                                                                                    
0060c6   5b9a     SUBWFB    0x9a,0x1,0x1                                                                                    
0060c8   5b9b     SUBWFB    0x9b,0x1,0x1                                                                                    
0060ca   0012     RETURN    0x0                                                                                             
003cc4   ec1a     CALL      0x6034,0x0           if (CurrentCommand.m.sm.Steps[0] == 0u)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cc6   f030                                                                                                               
003cc8   e101     BNZ       0x3ccc                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cca   9002     BCF       0x2,0x0,0x0            bitclrzero(AxisActive[0]);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 //// MOTOR 1   LT ////                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003ccc   ec17     CALL      0x5e2e,0x0           CurrentCommand.m.sm.Accel[0] += CurrentCommand.m.sm.Jerk[0];               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cce   f02f                                                                                                               
                                                 CurrentCommand.m.sm.Rate[0].value += CurrentCommand.m.sm.Accel[0];         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 acc_union[0].value += CurrentCommand.m.sm.Rate[0].value;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cd0   ae21     BTFSS     0x21,0x7,0x0         if (acc_union[0].bytes.b4 & 0x80)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cd2   d012     BRA       0x3cf8                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cd4   0e7f     MOVLW     0x7f                   acc_union[0].bytes.b4 = acc_union[0].bytes.b4 & 0x7F;                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cd6   1421     ANDWF     0x21,0x0,0x0                                                                                    
003cd8   6e21     MOVWF     0x21,0x0                                                                                        
003cda   8d8a     BSF       0x8a,0x6,0x1           CurrentCommand.m.sm.DirBits |= STEP1_BIT;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cdc   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cde   d005     BRA       0x3cea                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003ce0   2a2a     INCF      0x2a,0x1,0x0             gISRStepCount0ForThisCommand++;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003ce2   0e00     MOVLW     0x0                                                                                             
003ce4   222b     ADDWFC    0x2b,0x1,0x0                                                                                    
003ce6   222c     ADDWFC    0x2c,0x1,0x0                                                                                    
003ce8   222d     ADDWFC    0x2d,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Set the direction bit based on the sign of rate                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cea   af93     BTFSS     0x93,0x7,0x1           if (CurrentCommand.m.sm.Rate[0].bytes.b4 & 0x80)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cec   d003     BRA       0x3cf4                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cee   8f8a     BSF       0x8a,0x7,0x1             CurrentCommand.m.sm.DirBits |= DIR1_BIT;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cf0   8e8c     BSF       0x8c,0x7,0x0             Dir1IO = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cf2   d002     BRA       0x3cf8                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cf4   9f8a     BCF       0x8a,0x7,0x1             CurrentCommand.m.sm.DirBits &= ~DIR1_BIT;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cf6   9e8c     BCF       0x8c,0x7,0x0             Dir1IO = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 //// MOTOR 2    LT  ////                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cf8   ec29     CALL      0x5e52,0x0           CurrentCommand.m.sm.Accel[1] += CurrentCommand.m.sm.Jerk[1];               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cfa   f02f                                                                                                               
                                                 CurrentCommand.m.sm.Rate[1].value += CurrentCommand.m.sm.Accel[1];         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 acc_union[1].value += CurrentCommand.m.sm.Rate[1].value;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cfc   ae25     BTFSS     0x25,0x7,0x0         if (acc_union[1].bytes.b4 & 0x80)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003cfe   d012     BRA       0x3d24                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d00   0e7f     MOVLW     0x7f                   acc_union[1].bytes.b4 = acc_union[1].bytes.b4 & 0x7F;                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d02   1425     ANDWF     0x25,0x0,0x0                                                                                    
003d04   6e25     MOVWF     0x25,0x0                                                                                        
003d06   898a     BSF       0x8a,0x4,0x1           CurrentCommand.m.sm.DirBits |= STEP2_BIT;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d08   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d0a   d005     BRA       0x3d16                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d0c   2a32     INCF      0x32,0x1,0x0             gISRStepCount1ForThisCommand++;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d0e   0e00     MOVLW     0x0                                                                                             
003d10   2233     ADDWFC    0x33,0x1,0x0                                                                                    
003d12   2234     ADDWFC    0x34,0x1,0x0                                                                                    
003d14   2235     ADDWFC    0x35,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Set the direction bit based on the sign of rate                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d16   af97     BTFSS     0x97,0x7,0x1           if (CurrentCommand.m.sm.Rate[1].bytes.b4 & 0x80)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d18   d003     BRA       0x3d20                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d1a   8b8a     BSF       0x8a,0x5,0x1             CurrentCommand.m.sm.DirBits |= DIR2_BIT;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d1c   8a8c     BSF       0x8c,0x5,0x0             Dir2IO = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d1e   d002     BRA       0x3d24                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d20   9b8a     BCF       0x8a,0x5,0x1             CurrentCommand.m.sm.DirBits &= ~DIR2_BIT;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d22   9a8c     BCF       0x8c,0x5,0x0             Dir2IO = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // This next block of code (OutputBits:) is common to all of the above         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // stepper motion commands. Each of them either jumps here when they           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // are done or falls through in the case of the last command above.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // This block sets/clears step and direction GPIO bits if the command that just D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // ran needs to output something new. Also takes care of recording this        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // step properly.                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // NOTE: Even though it seems like a bad idea to have non-stepper              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // commands execute this block before they are caught below, doing it this     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // way saves a few instruction cycles for the commands where speed matters     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // most - the stepper commands.                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           OutputBits:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Now check to see if either stepper needs to actually output a step pulse    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d24   0e50     MOVLW     0x50             if ((CurrentCommand.m.sm.DirBits & (STEP1_BIT | STEP2_BIT)) != 0u)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d26   158a     ANDWF     0x8a,0x0,0x1                                                                                    
003d28   e04e     BZ        0x3dc6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d2a   5004     MOVF      0x4,0x0,0x0        if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d2c   e105     BNZ       0x3d38                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // The Step and Direction bits are all output on the top four bits         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // of PortD. So we can be very efficient here and simply output those      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // four bits directly to port D.                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d2e   0e0f     MOVLW     0xf                  LATD = (PORTD & ~(STEP1_BIT | STEP2_BIT | DIR1_BIT | DIR2_BIT)) | CurrentCommand.m.sm.DirBits; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d30   1483     ANDWF     0x83,0x0,0x0                                                                                    
003d32   118a     IORWF     0x8a,0x0,0x1                                                                                    
003d34   6e8c     MOVWF     0x8c,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d36   d00e     BRA       0x3d54             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set the DIR Bits                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d38   af8a     BTFSS     0x8a,0x7,0x1         if (bittst(CurrentCommand.m.sm.DirBits, DIR1_BIT_NUM))                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d3a   d002     BRA       0x3d40                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d3c   848b     BSF       0x8b,0x2,0x0           Dir1AltIO = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d3e   d001     BRA       0x3d42               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d40   948b     BCF       0x8b,0x2,0x0           Dir1AltIO = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d42   ab8a     BTFSS     0x8a,0x5,0x1         if (bittst(CurrentCommand.m.sm.DirBits, DIR2_BIT_NUM))                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d44   d002     BRA       0x3d4a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d46   8489     BSF       0x89,0x2,0x0           Dir2AltIO = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d48   d001     BRA       0x3d4c               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d4a   9489     BCF       0x89,0x2,0x0           Dir2AltIO = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set the STEP bits                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d4c   bd8a     BTFSC     0x8a,0x6,0x1         if (bittst(CurrentCommand.m.sm.DirBits, STEP1_BIT_NUM))                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d4e   8c8b     BSF       0x8b,0x6,0x0           Step1AltIO = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d50   b98a     BTFSC     0x8a,0x4,0x1         if (bittst(CurrentCommand.m.sm.DirBits, STEP2_BIT_NUM))                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d52   8a89     BSF       0x89,0x5,0x0           Step2AltIO = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // This next section not only counts the step(s) we are taking, but          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // also acts as a delay to keep the step bit set for a little while.         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d54   ad8a     BTFSS     0x8a,0x6,0x1       if (bittst(CurrentCommand.m.sm.DirBits, STEP1_BIT_NUM))                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d56   d019     BRA       0x3d8a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d58   af8a     BTFSS     0x8a,0x7,0x1         if (bittst(CurrentCommand.m.sm.DirBits, DIR1_BIT_NUM))                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d5a   d00c     BRA       0x3d74                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d5c   0616     DECF      0x16,0x1,0x0           globalStepCounter1--;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d5e   0e00     MOVLW     0x0                                                                                             
003d60   5a17     SUBWFB    0x17,0x1,0x0                                                                                    
003d62   5a18     SUBWFB    0x18,0x1,0x0                                                                                    
003d64   5a19     SUBWFB    0x19,0x1,0x0                                                                                    
003d66   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d68   d010     BRA       0x3d8a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d6a   062e     DECF      0x2e,0x1,0x0             gISRPosition0ForThisCommand--;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d6c   5a2f     SUBWFB    0x2f,0x1,0x0                                                                                    
003d6e   5a30     SUBWFB    0x30,0x1,0x0                                                                                    
003d70   5a31     SUBWFB    0x31,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d72   d00b     BRA       0x3d8a               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d74   2a16     INCF      0x16,0x1,0x0           globalStepCounter1++;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d76   0e00     MOVLW     0x0                                                                                             
003d78   2217     ADDWFC    0x17,0x1,0x0                                                                                    
003d7a   2218     ADDWFC    0x18,0x1,0x0                                                                                    
003d7c   2219     ADDWFC    0x19,0x1,0x0                                                                                    
003d7e   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d80   d004     BRA       0x3d8a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d82   2a2e     INCF      0x2e,0x1,0x0             gISRPosition0ForThisCommand++;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d84   222f     ADDWFC    0x2f,0x1,0x0                                                                                    
003d86   2230     ADDWFC    0x30,0x1,0x0                                                                                    
003d88   2231     ADDWFC    0x31,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d8a   a98a     BTFSS     0x8a,0x4,0x1       if (bittst(CurrentCommand.m.sm.DirBits, STEP2_BIT_NUM))                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d8c   d019     BRA       0x3dc0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d8e   ab8a     BTFSS     0x8a,0x5,0x1         if (bittst(CurrentCommand.m.sm.DirBits, DIR2_BIT_NUM))                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d90   d00c     BRA       0x3daa                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d92   061a     DECF      0x1a,0x1,0x0           globalStepCounter2--;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d94   0e00     MOVLW     0x0                                                                                             
003d96   5a1b     SUBWFB    0x1b,0x1,0x0                                                                                    
003d98   5a1c     SUBWFB    0x1c,0x1,0x0                                                                                    
003d9a   5a1d     SUBWFB    0x1d,0x1,0x0                                                                                    
003d9c   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d9e   d010     BRA       0x3dc0                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003da0   0636     DECF      0x36,0x1,0x0             gISRPosition1ForThisCommand--;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003da2   5a37     SUBWFB    0x37,0x1,0x0                                                                                    
003da4   5a38     SUBWFB    0x38,0x1,0x0                                                                                    
003da6   5a39     SUBWFB    0x39,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003da8   d00b     BRA       0x3dc0               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003daa   2a1a     INCF      0x1a,0x1,0x0           globalStepCounter2++;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003dac   0e00     MOVLW     0x0                                                                                             
003dae   221b     ADDWFC    0x1b,0x1,0x0                                                                                    
003db0   221c     ADDWFC    0x1c,0x1,0x0                                                                                    
003db2   221d     ADDWFC    0x1d,0x1,0x0                                                                                    
003db4   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003db6   d004     BRA       0x3dc0                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003db8   2a36     INCF      0x36,0x1,0x0             gISRPosition1ForThisCommand++;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003dba   2237     ADDWFC    0x37,0x1,0x0                                                                                    
003dbc   2238     ADDWFC    0x38,0x1,0x0                                                                                    
003dbe   2239     ADDWFC    0x39,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Clear the two step bits so they're empty for the next pass through ISR    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003dc0   0eaf     MOVLW     0xaf               CurrentCommand.m.sm.DirBits &= ~(STEP1_BIT | STEP2_BIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003dc2   178a     ANDWF     0x8a,0x1,0x1                                                                                    
                                               // We need to skip over all the rest of command checks, since we already     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // handled the command that is currently executing.                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003dc4   d0e4     BRA       0x3f8e             goto CheckForNextCommand;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           NonStepperCommands:                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Now check for all the other (non-stepper based) motion FIFO commands        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003dc6   0e02     MOVLW     0x2              if (CurrentCommand.Command == COMMAND_SERVO_MOVE)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003dc8   5d89     SUBWF     0x89,0x0,0x1                                                                                    
003dca   e158     BNZ       0x3e7c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Check to see if we should change the state of the pen                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003dcc   a005     BTFSS     0x5,0x0,0x0        if (bittstzero(gUseRCPenServo))                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003dce   d03a     BRA       0x3e44                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Precompute the channel, since we use it all over the place              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003dd0   05b3     DECF      0xb3,0x0,0x1         ISR_Channel = CurrentCommand.m.sm.ServoChannel - 1;                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003dd2   6e0a     MOVWF     0xa,0x0                                                                                         
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // This code below is the meat of the RCServo2_Move() function             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // We have to manually write it in here rather than calling                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // the function because a real function inside the ISR                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // causes the compiler to generate enormous amounts of setup/tear down     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // code and things run way too slowly.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // If the user is trying to turn off this channel's RC servo output        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003dd4   51b1     MOVF      0xb1,0x0,0x1         if (0u == CurrentCommand.m.sm.ServoPosition)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003dd6   11b2     IORWF     0xb2,0x0,0x1                                                                                    
003dd8   e11a     BNZ       0x3e0e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Turn off the PPS routing to the pin                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003dda   ec13     CALL      0x6026,0x0             *(gRC2RPORPtr + gRC2RPn[ISR_Channel]) = 0;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003ddc   f030                                                                                                               
003dde   50ef     MOVF      0xef,0x0,0x0                                                                                    
003de0   0100     MOVLB     0x0                                                                                             
003de2   6aea     CLRF      0xea,0x0                                                                                        
003de4   2580     ADDWF     0x80,0x0,0x1                                                                                    
003de6   6ee9     MOVWF     0xe9,0x0                                                                                        
003de8   5181     MOVF      0x81,0x0,0x1                                                                                    
003dea   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003dec   6aef     CLRF      0xef,0x0                                                                                        
                                                   // Clear everything else out for this channel                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003dee   ecb2     CALL      0x6364,0x0             gRC2Rate[ISR_Channel] = 0;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003df0   f031                                                                                                               
003df2   6aee     CLRF      0xee,0x0                                                                                        
003df4   6aed     CLRF      0xed,0x0                                                                                        
006364   dd57     RCALL     0x5e14                                                                                          
006366   0e75     MOVLW     0x75                                                                                            
006368   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00636a   0e00     MOVLW     0x0                                                                                             
00636c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00636e   0012     RETURN    0x0                                                                                             
003df6   ecb8     CALL      0x6370,0x0             gRC2Target[ISR_Channel] = 0;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003df8   f031                                                                                                               
003dfa   6aee     CLRF      0xee,0x0                                                                                        
003dfc   6aed     CLRF      0xed,0x0                                                                                        
006370   dd51     RCALL     0x5e14                                                                                          
006372   0e6d     MOVLW     0x6d                                                                                            
006374   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
006376   0e00     MOVLW     0x0                                                                                             
006378   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00637a   0012     RETURN    0x0                                                                                             
003dfe   ec13     CALL      0x6026,0x0             gRC2RPn[ISR_Channel] = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e00   f030                                                                                                               
003e02   6aef     CLRF      0xef,0x0                                                                                        
003e04   eccc     CALL      0x6398,0x0             gRC2Value[ISR_Channel] = 0;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e06   f031                                                                                                               
003e08   6aee     CLRF      0xee,0x0                                                                                        
003e0a   6aed     CLRF      0xed,0x0                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e0c   d01b     BRA       0x3e44               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Otherwise, set all of the values that start this RC servo moving      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e0e   ecb2     CALL      0x6364,0x0             gRC2Rate[ISR_Channel] = CurrentCommand.m.sm.ServoRate;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e10   f031                                                                                                               
003e12   c1b4     MOVFF     0x1b4,0xfee                                                                                     
003e14   ffee                                                                                                               
003e16   c1b5     MOVFF     0x1b5,0xfed                                                                                     
003e18   ffed                                                                                                               
003e1a   ecb8     CALL      0x6370,0x0             gRC2Target[ISR_Channel] = CurrentCommand.m.sm.ServoPosition;             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e1c   f031                                                                                                               
003e1e   c1b1     MOVFF     0x1b1,0xfee                                                                                     
003e20   ffee                                                                                                               
003e22   c1b2     MOVFF     0x1b2,0xfed                                                                                     
003e24   ffed                                                                                                               
003e26   ec13     CALL      0x6026,0x0             gRC2RPn[ISR_Channel] = CurrentCommand.m.sm.ServoRPn;                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e28   f030                                                                                                               
003e2a   c1b0     MOVFF     0x1b0,0xfef                                                                                     
003e2c   ffef                                                                                                               
006026   500a     MOVF      0xa,0x0,0x0                                                                                     
006028   6aea     CLRF      0xea,0x0                                                                                        
00602a   0f69     ADDLW     0x69                                                                                            
00602c   6ee9     MOVWF     0xe9,0x0                                                                                        
00602e   0e00     MOVLW     0x0                                                                                             
006030   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006032   0012     RETURN    0x0                                                                                             
003e2e   eccc     CALL      0x6398,0x0             if (gRC2Value[ISR_Channel] == 0u)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e30   f031                                                                                                               
003e32   50ee     MOVF      0xee,0x0,0x0                                                                                    
003e34   10ed     IORWF     0xed,0x0,0x0                                                                                    
003e36   e106     BNZ       0x3e44                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e38   eccc     CALL      0x6398,0x0               gRC2Value[ISR_Channel] = CurrentCommand.m.sm.ServoPosition;            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e3a   f031                                                                                                               
003e3c   c1b1     MOVFF     0x1b1,0xfee                                                                                     
003e3e   ffee                                                                                                               
003e40   c1b2     MOVFF     0x1b2,0xfed                                                                                     
003e42   ffed                                                                                                               
005e14   500a     MOVF      0xa,0x0,0x0                                                                                     
005e16   6ee9     MOVWF     0xe9,0x0                                                                                        
005e18   6aea     CLRF      0xea,0x0                                                                                        
005e1a   90d8     BCF       0xd8,0x0,0x0                                                                                    
005e1c   36e9     RLCF      0xe9,0x1,0x0                                                                                    
005e1e   36ea     RLCF      0xea,0x1,0x0                                                                                    
005e20   0012     RETURN    0x0                                                                                             
006180   0e61     MOVLW     0x61                                                                                            
006182   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
006184   0e00     MOVLW     0x0                                                                                             
006186   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006188   0012     RETURN    0x0                                                                                             
006398   dd3d     RCALL     0x5e14                                                                                          
00639a   efc0     GOTO      0x6180                                                                                          
00639c   f030                                                                                                               
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // If this servo is the pen servo (on g_servo2_RPn)                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e44   0100     MOVLB     0x0                if (CurrentCommand.m.sm.ServoRPn == g_servo2_RPn)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e46   518a     MOVF      0x8a,0x0,0x1                                                                                    
003e48   0101     MOVLB     0x1                                                                                             
003e4a   5db0     SUBWF     0xb0,0x0,0x1                                                                                    
003e4c   e117     BNZ       0x3e7c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Then set its new state based on the new position                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e4e   0100     MOVLB     0x0                  if (CurrentCommand.m.sm.ServoPosition == g_servo2_min)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e50   5184     MOVF      0x84,0x0,0x1                                                                                    
003e52   0101     MOVLB     0x1                                                                                             
003e54   19b1     XORWF     0xb1,0x0,0x1                                                                                    
003e56   e10c     BNZ       0x3e70                                                                                          
003e58   0100     MOVLB     0x0                                                                                             
003e5a   5185     MOVF      0x85,0x0,0x1                                                                                    
003e5c   0101     MOVLB     0x1                                                                                             
003e5e   19b2     XORWF     0xb2,0x0,0x1                                                                                    
003e60   e107     BNZ       0x3e70                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e62   0e01     MOVLW     0x1                    PenState = PEN_UP;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e64   6fbb     MOVWF     0xbb,0x1                                                                                        
003e66   6bb8     CLRF      0xb8,0x1               SolenoidState = SOLENOID_OFF;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e68   51c3     MOVF      0xc3,0x0,0x1           if (gUseSolenoid)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e6a   e008     BZ        0x3e7c                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e6c   988a     BCF       0x8a,0x4,0x0             PenUpDownIO = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e6e   d006     BRA       0x3e7c               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e70   6bbb     CLRF      0xbb,0x1               PenState = PEN_DOWN;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e72   0e01     MOVLW     0x1                    SolenoidState = SOLENOID_ON;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e74   6fb8     MOVWF     0xb8,0x1                                                                                        
003e76   51c3     MOVF      0xc3,0x0,0x1           if (gUseSolenoid)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e78   e001     BZ        0x3e7c                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e7a   888a     BSF       0x8a,0x4,0x0             PenUpDownIO = 1;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if (                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e88   0e02     MOVLW     0x2                (CurrentCommand.Command == COMMAND_SERVO_MOVE)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e8a   5d89     SUBWF     0x89,0x0,0x1                                                                                    
003e8c   e002     BZ        0x3e92                                                                                          
003e8e   0e00     MOVLW     0x0                                                                                             
003e90   d001     BRA       0x3e94                                                                                          
003e92   0e01     MOVLW     0x1                                                                                             
                                               |                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e7c   0589     DECF      0x89,0x0,0x1       (CurrentCommand.Command == COMMAND_DELAY)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e7e   e002     BZ        0x3e84                                                                                          
003e80   0e00     MOVLW     0x0                                                                                             
003e82   d001     BRA       0x3e86                                                                                          
003e84   0e01     MOVLW     0x1                                                                                             
003e86   6e5a     MOVWF     0x5a,0x0                                                                                        
003e94   105a     IORWF     0x5a,0x0,0x0     )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e96   e00e     BZ        0x3eb4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // NOTE: Intentional fall-through to COMMAND_DELAY here                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Because the only two commands that ever use DelayCounter are              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // COMMAND_DELAY and COMMAND_SERVO_MOVE. So we handle the servo stuff        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // above, and then let it fall through to the delay code below.              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Handle a delay                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e98   ec6e     CALL      0x60dc,0x0         if (CurrentCommand.m.sm.DelayCounter)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003e9a   f030                                                                                                               
003e9c   e101     BNZ       0x3ea0                                                                                          
003e9e   d077     BRA       0x3f8e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003ea0   078b     DECF      0x8b,0x1,0x1         CurrentCommand.m.sm.DelayCounter--;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003ea2   0e00     MOVLW     0x0                                                                                             
003ea4   5b8c     SUBWFB    0x8c,0x1,0x1                                                                                    
003ea6   5b8d     SUBWFB    0x8d,0x1,0x1                                                                                    
003ea8   5b8e     SUBWFB    0x8e,0x1,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003eaa   ec6e     CALL      0x60dc,0x0           if (CurrentCommand.m.sm.DelayCounter)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003eac   f030                                                                                                               
003eae   e06f     BZ        0x3f8e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003eb0   9000     BCF       0x0,0x0,0x0            bitclrzero(AllDone);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003eb2   d06d     BRA       0x3f8e             goto CheckForNextCommand;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003eb4   0e03     MOVLW     0x3              if (CurrentCommand.Command == COMMAND_SE)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003eb6   5d89     SUBWF     0x89,0x0,0x1                                                                                    
003eb8   e12a     BNZ       0x3f0e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Check to see if we should start or stop the engraver                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Now act on the State of the SE command                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003eba   518f     MOVF      0x8f,0x0,0x1       if (CurrentCommand.m.sm.SEState)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003ebc   e023     BZ        0x3f04                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set RB3 to StoredEngraverPower                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003ebe   c1b6     MOVFF     0x1b6,0x5a           CCPR1L = CurrentCommand.m.sm.SEPower >> 2;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003ec0   f05a                                                                                                               
003ec2   c1b7     MOVFF     0x1b7,0x5b                                                                                      
003ec4   f05b                                                                                                               
003ec6   90d8     BCF       0xd8,0x0,0x0                                                                                    
003ec8   325b     RRCF      0x5b,0x1,0x0                                                                                    
003eca   325a     RRCF      0x5a,0x1,0x0                                                                                    
003ecc   90d8     BCF       0xd8,0x0,0x0                                                                                    
003ece   325b     RRCF      0x5b,0x1,0x0                                                                                    
003ed0   325a     RRCF      0x5a,0x1,0x0                                                                                    
003ed2   505a     MOVF      0x5a,0x0,0x0                                                                                    
003ed4   6ebb     MOVWF     0xbb,0x0                                                                                        
003ed6   c1c1     MOVFF     0x1c1,0x5c           CCP1CON = (CCP1CON & 0b11001111) | ((StoredEngraverPower << 4) & 0b00110000); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003ed8   f05c                                                                                                               
003eda   c1c2     MOVFF     0x1c2,0x5d                                                                                      
003edc   f05d                                                                                                               
003ede   0e04     MOVLW     0x4                                                                                             
003ee0   90d8     BCF       0xd8,0x0,0x0                                                                                    
003ee2   365c     RLCF      0x5c,0x1,0x0                                                                                    
003ee4   365d     RLCF      0x5d,0x1,0x0                                                                                    
003ee6   04e8     DECF      0xe8,0x0,0x0                                                                                    
003ee8   e1fb     BNZ       0x3ee0                                                                                          
003eea   0e30     MOVLW     0x30                                                                                            
003eec   165c     ANDWF     0x5c,0x1,0x0                                                                                    
003eee   0e00     MOVLW     0x0                                                                                             
003ef0   165d     ANDWF     0x5d,0x1,0x0                                                                                    
003ef2   0ecf     MOVLW     0xcf                                                                                            
003ef4   14ba     ANDWF     0xba,0x0,0x0                                                                                    
003ef6   0100     MOVLB     0x0                                                                                             
003ef8   105c     IORWF     0x5c,0x0,0x0                                                                                    
003efa   6e5a     MOVWF     0x5a,0x0                                                                                        
003efc   c05d     MOVFF     0x5d,0x5b                                                                                       
003efe   f05b                                                                                                               
003f00   50e8     MOVF      0xe8,0x0,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f02   d003     BRA       0x3f0a             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set RB3 to low by setting PWM duty cycle to zero                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f04   6abb     CLRF      0xbb,0x0             CCPR1L = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f06   0ecf     MOVLW     0xcf                 CCP1CON = (CCP1CON & 0b11001111);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f08   14ba     ANDWF     0xba,0x0,0x0                                                                                    
003f0a   6eba     MOVWF     0xba,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // This is probably unnecessary, but it's critical to be sure to indicate that the current command is finished D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               bitsetzero(AllDone);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f0c   d03f     BRA       0x3f8c             goto CheckForNextCommand;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f0e   0e04     MOVLW     0x4              if (CurrentCommand.Command == COMMAND_EM)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f10   5d89     SUBWF     0x89,0x0,0x1                                                                                    
003f12   e13d     BNZ       0x3f8e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // As of version 2.8.0, we now have the EM command transplanted here into    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // the motion queue. This is so that changes to motor enable or microstep    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // resolution happen at predictable times rather than randomly.              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // We use CurrentCommand.m.sm.DirBits as "EA1" (the first parameter) and     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // CurrentCommand.m.sm.ServoRPn as "EA2" (the second parameter) since they're D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // both UINT8s.                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f14   518a     MOVF      0x8a,0x0,0x1       if (CurrentCommand.m.sm.DirBits > 0u)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f16   0800     SUBLW     0x0                                                                                             
003f18   e223     BC        0x3f60                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f1a   5004     MOVF      0x4,0x0,0x0          if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f1c   e102     BNZ       0x3f22                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f1e   908d     BCF       0x8d,0x0,0x0           Enable1IO = ENABLE_MOTOR;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f20   d001     BRA       0x3f24               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f22   928c     BCF       0x8c,0x1,0x0           Enable1AltIO = ENABLE_MOTOR;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f24   058a     DECF      0x8a,0x0,0x1         if (CurrentCommand.m.sm.DirBits == 1u)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f26   e103     BNZ       0x3f2e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f28   848d     BSF       0x8d,0x2,0x0           MS1_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f2a   828d     BSF       0x8d,0x1,0x0           MS2_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f2c   8c89     BSF       0x89,0x6,0x0           MS3_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f2e   0e02     MOVLW     0x2                  if (CurrentCommand.m.sm.DirBits == 2u)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f30   5d8a     SUBWF     0x8a,0x0,0x1                                                                                    
003f32   e103     BNZ       0x3f3a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f34   848d     BSF       0x8d,0x2,0x0           MS1_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f36   828d     BSF       0x8d,0x1,0x0           MS2_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f38   9c89     BCF       0x89,0x6,0x0           MS3_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f3a   0e03     MOVLW     0x3                  if (CurrentCommand.m.sm.DirBits == 3u)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f3c   5d8a     SUBWF     0x8a,0x0,0x1                                                                                    
003f3e   e103     BNZ       0x3f46                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f40   948d     BCF       0x8d,0x2,0x0           MS1_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f42   828d     BSF       0x8d,0x1,0x0           MS2_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f44   9c89     BCF       0x89,0x6,0x0           MS3_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f46   0e04     MOVLW     0x4                  if (CurrentCommand.m.sm.DirBits == 4u)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f48   5d8a     SUBWF     0x8a,0x0,0x1                                                                                    
003f4a   e103     BNZ       0x3f52                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f4c   848d     BSF       0x8d,0x2,0x0           MS1_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f4e   928d     BCF       0x8d,0x1,0x0           MS2_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f50   9c89     BCF       0x89,0x6,0x0           MS3_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f52   0e05     MOVLW     0x5                  if (CurrentCommand.m.sm.DirBits == 5u)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f54   5d8a     SUBWF     0x8a,0x0,0x1                                                                                    
003f56   e109     BNZ       0x3f6a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f58   948d     BCF       0x8d,0x2,0x0           MS1_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f5a   928d     BCF       0x8d,0x1,0x0           MS2_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f5c   9c89     BCF       0x89,0x6,0x0           MS3_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f5e   d005     BRA       0x3f6a             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f60   5004     MOVF      0x4,0x0,0x0          if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f62   e102     BNZ       0x3f68                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f64   808d     BSF       0x8d,0x0,0x0           Enable1IO = DISABLE_MOTOR;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f66   d001     BRA       0x3f6a               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f68   828c     BSF       0x8c,0x1,0x0           Enable1AltIO = DISABLE_MOTOR;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f6a   51b0     MOVF      0xb0,0x0,0x1       if (CurrentCommand.m.sm.ServoRPn > 0u)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f6c   0800     SUBLW     0x0                                                                                             
003f6e   e206     BC        0x3f7c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f70   5004     MOVF      0x4,0x0,0x0          if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f72   e102     BNZ       0x3f78                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f74   928b     BCF       0x8b,0x1,0x0           Enable2IO = ENABLE_MOTOR;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f76   d007     BRA       0x3f86               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f78   9289     BCF       0x89,0x1,0x0           Enable2AltIO = ENABLE_MOTOR;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f7a   d005     BRA       0x3f86             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f7c   5004     MOVF      0x4,0x0,0x0          if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f7e   e102     BNZ       0x3f84                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f80   828b     BSF       0x8b,0x1,0x0           Enable2IO = DISABLE_MOTOR;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f82   d001     BRA       0x3f86               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f84   8289     BSF       0x89,0x1,0x0           Enable2AltIO = DISABLE_MOTOR;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Always clear the step counts if motors are enabled/disabled or            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // resolution is changed.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // NOTE: This section is the same code as clear_StepCounters(), but since    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // we can't have any function calls in an ISR (or the ISR blows up in        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // space and speed) we have to copy the guts of that function here.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Clear out the global step counters                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f86   ec71     CALL      0x5ee2,0x0         globalStepCounter1 = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f88   f02f                                                                                                               
005ee2   6a16     CLRF      0x16,0x0                                                                                        
005ee4   6a17     CLRF      0x17,0x0                                                                                        
005ee6   6a18     CLRF      0x18,0x0                                                                                        
005ee8   6a19     CLRF      0x19,0x0                                                                                        
005eea   6a1a     CLRF      0x1a,0x0           globalStepCounter2 = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005eec   6a1b     CLRF      0x1b,0x0                                                                                        
005eee   6a1c     CLRF      0x1c,0x0                                                                                        
005ef0   6a1d     CLRF      0x1d,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Clear both step accumulators as well                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005ef2   6a1e     CLRF      0x1e,0x0           acc_union[0].value = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005ef4   6a1f     CLRF      0x1f,0x0                                                                                        
005ef6   6a20     CLRF      0x20,0x0                                                                                        
005ef8   6a21     CLRF      0x21,0x0                                                                                        
005efa   6a22     CLRF      0x22,0x0           acc_union[1].value = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005efc   6a23     CLRF      0x23,0x0                                                                                        
005efe   6a24     CLRF      0x24,0x0                                                                                        
005f00   6a25     CLRF      0x25,0x0                                                                                        
005f02   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // All EM command clear the limit switch trigger                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f8a   900e     BCF       0xe,0x0,0x0        bitclrzero(gLimitSwitchTriggered);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // This is probably unnecessary, but it's critical to be sure to indicate that the current command is finished D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f8c   8000     BSF       0x0,0x0,0x0        bitsetzero(AllDone);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If no bits in CurrentCommand.Command are set then AllDone will be true,     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // so we'll go on to the next command (if there is one)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           CheckForNextCommand:                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Deal with printing out internal ISR values                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Note that TEST_MODE_USART_ISR_BIT is set for both normal (only end of move) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // and full (every ISR tick) printing.                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f8e   a409     BTFSS     0x9,0x2,0x0      if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f90   d0fd     BRA       0x418c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f92   0e01     MOVLW     0x1                if (bittstzero(AllDone) || bittst(TestMode, TEST_MODE_USART_ISR_FULL_NUM))   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003f94   1400     ANDWF     0x0,0x0,0x0                                                                                     
003f96   e104     BNZ       0x3fa0                                                                                          
003f98   0e08     MOVLW     0x8                                                                                             
003f9a   1409     ANDWF     0x9,0x0,0x0                                                                                     
003f9c   e101     BNZ       0x3fa0                                                                                          
003f9e   d0f6     BRA       0x418c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // If this is the end of an LM move, then print out all the important values D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // of everything (now that global step positions have been taken into      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // account) for checking that our math is working right                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 if (                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003fbe   0e06     MOVLW     0x6                    (CurrentCommand.Command == COMMAND_LM_MOVE)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003fc0   5d89     SUBWF     0x89,0x0,0x1                                                                                    
003fc2   e002     BZ        0x3fc8                                                                                          
003fc4   0e00     MOVLW     0x0                                                                                             
003fc6   d001     BRA       0x3fca                                                                                          
003fc8   0e01     MOVLW     0x1                                                                                             
                                                   |                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003fb0   0e07     MOVLW     0x7                    (CurrentCommand.Command == COMMAND_LT_MOVE)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003fb2   5d89     SUBWF     0x89,0x0,0x1                                                                                    
003fb4   e002     BZ        0x3fba                                                                                          
003fb6   0e00     MOVLW     0x0                                                                                             
003fb8   d001     BRA       0x3fbc                                                                                          
003fba   0e01     MOVLW     0x1                                                                                             
003fbc   6e5a     MOVWF     0x5a,0x0                                                                                        
003fca   105a     IORWF     0x5a,0x0,0x0           |                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003fa0   0e05     MOVLW     0x5                    (CurrentCommand.Command == COMMAND_SM_XM_HM_MOVE)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003fa2   0101     MOVLB     0x1                                                                                             
003fa4   5d89     SUBWF     0x89,0x0,0x1                                                                                    
003fa6   e002     BZ        0x3fac                                                                                          
003fa8   0e00     MOVLW     0x0                                                                                             
003faa   d001     BRA       0x3fae                                                                                          
003fac   0e01     MOVLW     0x1                                                                                             
003fae   6e5b     MOVWF     0x5b,0x0                                                                                        
003fcc   105b     IORWF     0x5b,0x0,0x0         )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003fce   e101     BNZ       0x3fd2                                                                                          
003fd0   d0dd     BRA       0x418c                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Setting this bit when we have something to print out will cause the next D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // ISR to be rescheduled so we have as much time as we need to print     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003fd2   8e09     BSF       0x9,0x7,0x0            bitset(TestMode, TEST_MODE_PRINT_TRIGGER_NUM);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Move is complete, output "T:" (ISR ticks), "Steps:" (total steps from  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // this move) "C:" (accumulator value), "R:" (rate value), "Pos:"        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // (step position)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   /// TODO: This could use some MASSIVE cleanup - turn this into a buffered D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   /// ISR driven serial output for best efficiency. Or at the very least   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   /// make signed and unsigned printing macros.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //#define ISR_DEBUG_PRINT_ASCII 1                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #if ISR_DEBUG_PRINT_ASCII                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the total ISR ticks for this move (unsigned)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('T')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(gISRTickCountForThisCommand) // Macro for printing HEX value in ASCII D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the total steps made during this move (unsigned)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('S')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(gISRStepCount0ForThisCommand)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the accumulator1 value after all math is complete (unsigned) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('C')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(acc_union[0].value)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the rate1 value (signed)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('R')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(CurrentCommand.m.sm.Rate[0].value)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the current position for this command (signed)              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('P')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(gISRPosition0ForThisCommand);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the total steps made during this move (unsigned)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('S')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(gISRStepCount1ForThisCommand)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the accumulator2 value after all math is complete (unsigned) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('C')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(acc_union[1].value)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the rate2 value (signed)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('R')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(CurrentCommand.m.sm.Rate[1].value)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the current position2 for this command (signed)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('P')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(gISRPosition1ForThisCommand);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Print all values using raw binary                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the total ISR ticks for this move (unsigned)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003fd4   c026     MOVFF     0x26,0x184             BinPrint(gISRTickCountForThisCommand) // Macro for printing raw binary value D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003fd6   f184                                                                                                               
003fd8   c027     MOVFF     0x27,0x185                                                                                      
003fda   f185                                                                                                               
003fdc   c028     MOVFF     0x28,0x186                                                                                      
003fde   f186                                                                                                               
003fe0   c029     MOVFF     0x29,0x187                                                                                      
003fe2   f187                                                                                                               
003fe4   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
003fe6   d7fe     BRA       0x3fe4                                                                                          
003fe8   c187     MOVFF     0x187,0xfae                                                                                     
003fea   ffae                                                                                                               
003fec   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
003fee   d7fe     BRA       0x3fec                                                                                          
003ff0   c186     MOVFF     0x186,0xfae                                                                                     
003ff2   ffae                                                                                                               
003ff4   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
003ff6   d7fe     BRA       0x3ff4                                                                                          
003ff8   c185     MOVFF     0x185,0xfae                                                                                     
003ffa   ffae                                                                                                               
003ffc   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
003ffe   d7fe     BRA       0x3ffc                                                                                          
004000   c184     MOVFF     0x184,0xfae                                                                                     
004002   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the total steps1 made during this move (unsigned)           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004004   c02a     MOVFF     0x2a,0x184             BinPrint(gISRStepCount0ForThisCommand)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004006   f184                                                                                                               
004008   c02b     MOVFF     0x2b,0x185                                                                                      
00400a   f185                                                                                                               
00400c   c02c     MOVFF     0x2c,0x186                                                                                      
00400e   f186                                                                                                               
004010   c02d     MOVFF     0x2d,0x187                                                                                      
004012   f187                                                                                                               
004014   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
004016   d7fe     BRA       0x4014                                                                                          
004018   c187     MOVFF     0x187,0xfae                                                                                     
00401a   ffae                                                                                                               
00401c   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00401e   d7fe     BRA       0x401c                                                                                          
004020   c186     MOVFF     0x186,0xfae                                                                                     
004022   ffae                                                                                                               
004024   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
004026   d7fe     BRA       0x4024                                                                                          
004028   c185     MOVFF     0x185,0xfae                                                                                     
00402a   ffae                                                                                                               
00402c   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00402e   d7fe     BRA       0x402c                                                                                          
004030   c184     MOVFF     0x184,0xfae                                                                                     
004032   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the accumulator1 value after all math is complete (unsigned) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004034   c01e     MOVFF     0x1e,0x184             BinPrint(acc_union[0].value)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004036   f184                                                                                                               
004038   c01f     MOVFF     0x1f,0x185                                                                                      
00403a   f185                                                                                                               
00403c   c020     MOVFF     0x20,0x186                                                                                      
00403e   f186                                                                                                               
004040   c021     MOVFF     0x21,0x187                                                                                      
004042   f187                                                                                                               
004044   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
004046   d7fe     BRA       0x4044                                                                                          
004048   c187     MOVFF     0x187,0xfae                                                                                     
00404a   ffae                                                                                                               
00404c   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00404e   d7fe     BRA       0x404c                                                                                          
004050   c186     MOVFF     0x186,0xfae                                                                                     
004052   ffae                                                                                                               
004054   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
004056   d7fe     BRA       0x4054                                                                                          
004058   c185     MOVFF     0x185,0xfae                                                                                     
00405a   ffae                                                                                                               
00405c   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00405e   d7fe     BRA       0x405c                                                                                          
004060   c184     MOVFF     0x184,0xfae                                                                                     
004062   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the rate1 value (signed)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004064   c190     MOVFF     0x190,0x184            BinPrint(CurrentCommand.m.sm.Rate[0].value)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004066   f184                                                                                                               
004068   c191     MOVFF     0x191,0x185                                                                                     
00406a   f185                                                                                                               
00406c   c192     MOVFF     0x192,0x186                                                                                     
00406e   f186                                                                                                               
004070   c193     MOVFF     0x193,0x187                                                                                     
004072   f187                                                                                                               
004074   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
004076   d7fe     BRA       0x4074                                                                                          
004078   c187     MOVFF     0x187,0xfae                                                                                     
00407a   ffae                                                                                                               
00407c   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00407e   d7fe     BRA       0x407c                                                                                          
004080   c186     MOVFF     0x186,0xfae                                                                                     
004082   ffae                                                                                                               
004084   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
004086   d7fe     BRA       0x4084                                                                                          
004088   c185     MOVFF     0x185,0xfae                                                                                     
00408a   ffae                                                                                                               
00408c   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00408e   d7fe     BRA       0x408c                                                                                          
004090   c184     MOVFF     0x184,0xfae                                                                                     
004092   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the current position1 for this command (signed)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004094   c02e     MOVFF     0x2e,0x184             BinPrint(gISRPosition0ForThisCommand);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004096   f184                                                                                                               
004098   c02f     MOVFF     0x2f,0x185                                                                                      
00409a   f185                                                                                                               
00409c   c030     MOVFF     0x30,0x186                                                                                      
00409e   f186                                                                                                               
0040a0   c031     MOVFF     0x31,0x187                                                                                      
0040a2   f187                                                                                                               
0040a4   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0040a6   d7fe     BRA       0x40a4                                                                                          
0040a8   c187     MOVFF     0x187,0xfae                                                                                     
0040aa   ffae                                                                                                               
0040ac   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0040ae   d7fe     BRA       0x40ac                                                                                          
0040b0   c186     MOVFF     0x186,0xfae                                                                                     
0040b2   ffae                                                                                                               
0040b4   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0040b6   d7fe     BRA       0x40b4                                                                                          
0040b8   c185     MOVFF     0x185,0xfae                                                                                     
0040ba   ffae                                                                                                               
0040bc   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0040be   d7fe     BRA       0x40bc                                                                                          
0040c0   c184     MOVFF     0x184,0xfae                                                                                     
0040c2   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the total steps2 made during this move (unsigned)           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0040c4   c032     MOVFF     0x32,0x184             BinPrint(gISRStepCount1ForThisCommand)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0040c6   f184                                                                                                               
0040c8   c033     MOVFF     0x33,0x185                                                                                      
0040ca   f185                                                                                                               
0040cc   c034     MOVFF     0x34,0x186                                                                                      
0040ce   f186                                                                                                               
0040d0   c035     MOVFF     0x35,0x187                                                                                      
0040d2   f187                                                                                                               
0040d4   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0040d6   d7fe     BRA       0x40d4                                                                                          
0040d8   c187     MOVFF     0x187,0xfae                                                                                     
0040da   ffae                                                                                                               
0040dc   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0040de   d7fe     BRA       0x40dc                                                                                          
0040e0   c186     MOVFF     0x186,0xfae                                                                                     
0040e2   ffae                                                                                                               
0040e4   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0040e6   d7fe     BRA       0x40e4                                                                                          
0040e8   c185     MOVFF     0x185,0xfae                                                                                     
0040ea   ffae                                                                                                               
0040ec   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0040ee   d7fe     BRA       0x40ec                                                                                          
0040f0   c184     MOVFF     0x184,0xfae                                                                                     
0040f2   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the accumulator2 value after all math is complete (unsigned) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0040f4   c022     MOVFF     0x22,0x184             BinPrint(acc_union[1].value)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0040f6   f184                                                                                                               
0040f8   c023     MOVFF     0x23,0x185                                                                                      
0040fa   f185                                                                                                               
0040fc   c024     MOVFF     0x24,0x186                                                                                      
0040fe   f186                                                                                                               
004100   c025     MOVFF     0x25,0x187                                                                                      
004102   f187                                                                                                               
004104   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
004106   d7fe     BRA       0x4104                                                                                          
004108   c187     MOVFF     0x187,0xfae                                                                                     
00410a   ffae                                                                                                               
00410c   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00410e   d7fe     BRA       0x410c                                                                                          
004110   c186     MOVFF     0x186,0xfae                                                                                     
004112   ffae                                                                                                               
004114   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
004116   d7fe     BRA       0x4114                                                                                          
004118   c185     MOVFF     0x185,0xfae                                                                                     
00411a   ffae                                                                                                               
00411c   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00411e   d7fe     BRA       0x411c                                                                                          
004120   c184     MOVFF     0x184,0xfae                                                                                     
004122   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the rate2 value (signed)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004124   c194     MOVFF     0x194,0x184            BinPrint(CurrentCommand.m.sm.Rate[1].value)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004126   f184                                                                                                               
004128   c195     MOVFF     0x195,0x185                                                                                     
00412a   f185                                                                                                               
00412c   c196     MOVFF     0x196,0x186                                                                                     
00412e   f186                                                                                                               
004130   c197     MOVFF     0x197,0x187                                                                                     
004132   f187                                                                                                               
004134   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
004136   d7fe     BRA       0x4134                                                                                          
004138   c187     MOVFF     0x187,0xfae                                                                                     
00413a   ffae                                                                                                               
00413c   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00413e   d7fe     BRA       0x413c                                                                                          
004140   c186     MOVFF     0x186,0xfae                                                                                     
004142   ffae                                                                                                               
004144   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
004146   d7fe     BRA       0x4144                                                                                          
004148   c185     MOVFF     0x185,0xfae                                                                                     
00414a   ffae                                                                                                               
00414c   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00414e   d7fe     BRA       0x414c                                                                                          
004150   c184     MOVFF     0x184,0xfae                                                                                     
004152   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the current position2 for this command (signed)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004154   c036     MOVFF     0x36,0x184             BinPrint(gISRPosition1ForThisCommand);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004156   f184                                                                                                               
004158   c037     MOVFF     0x37,0x185                                                                                      
00415a   f185                                                                                                               
00415c   c038     MOVFF     0x38,0x186                                                                                      
00415e   f186                                                                                                               
004160   c039     MOVFF     0x39,0x187                                                                                      
004162   f187                                                                                                               
004164   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
004166   d7fe     BRA       0x4164                                                                                          
004168   c187     MOVFF     0x187,0xfae                                                                                     
00416a   ffae                                                                                                               
00416c   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00416e   d7fe     BRA       0x416c                                                                                          
004170   c186     MOVFF     0x186,0xfae                                                                                     
004172   ffae                                                                                                               
004174   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
004176   d7fe     BRA       0x4174                                                                                          
004178   c185     MOVFF     0x185,0xfae                                                                                     
00417a   ffae                                                                                                               
00417c   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00417e   d7fe     BRA       0x417c                                                                                          
004180   c184     MOVFF     0x184,0xfae                                                                                     
004182   ffae                                                                                                               
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004184   a2ad     BTFSS     0xad,0x1,0x0           PrintChar('\n')                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004186   d7fe     BRA       0x4184                                                                                          
004188   0e0a     MOVLW     0xa                                                                                             
00418a   6eae     MOVWF     0xae,0x0                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // It limit switch checking is enabled, check to see if a limit switch value   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // has been seen (CU,51 and CU,52)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00418c   500c     MOVF      0xc,0x0,0x0      if (gLimitSwitchMask)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00418e   e01c     BZ        0x41c8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004190   5081     MOVF      0x81,0x0,0x0       PortBTemp = PORTB;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004192   6e0b     MOVWF     0xb,0x0                                                                                         
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004194   50e8     MOVF      0xe8,0x0,0x0       if (((~(PortBTemp ^ gLimitSwitchTarget)) & gLimitSwitchMask) && !bittstzero(gLimitSwitchTriggered)) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004196   180d     XORWF     0xd,0x0,0x0                                                                                     
004198   1ce8     COMF      0xe8,0x0,0x0                                                                                    
00419a   140c     ANDWF     0xc,0x0,0x0                                                                                     
00419c   e015     BZ        0x41c8                                                                                          
00419e   0e01     MOVLW     0x1                                                                                             
0041a0   140e     ANDWF     0xe,0x0,0x0                                                                                     
0041a2   e112     BNZ       0x41c8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // At least one of the bits in PortB that we are looking at is in a state  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // now where it has 'triggered' and so we need to shut down the current    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // move, and remove all remaining commands from the FIFO                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0041a4   c00b     MOVFF     0xb,0xdc             gLimitSwitchPortB = PortBTemp;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0041a6   f0dc                                                                                                               
0041a8   800e     BSF       0xe,0x0,0x0          bitsetzero(gLimitSwitchTriggered);                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0041aa   6a02     CLRF      0x2,0x0              AxisActive[0] = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0041ac   6a03     CLRF      0x3,0x0              AxisActive[1] = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0041ae   8000     BSF       0x0,0x0,0x0          bitsetzero(AllDone);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0041b0   6a0f     CLRF      0xf,0x0              gFIFOLength = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0041b2   6a10     CLRF      0x10,0x0             gFIFOIn = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0041b4   6a11     CLRF      0x11,0x0             gFIFOOut = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Flush the whole FIFO by clearing each element's Command field           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0041b6   6a01     CLRF      0x1,0x0              for (isr_i=0; isr_i < COMMAND_FIFO_MAX_LENGTH; isr_i++)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0041b8   0e20     MOVLW     0x20                                                                                            
0041ba   5c01     SUBWF     0x1,0x0,0x0                                                                                     
0041bc   e205     BC        0x41c8                                                                                          
0041c4   2a01     INCF      0x1,0x1,0x0                                                                                     
0041c6   d7f8     BRA       0x41b8                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0041be   5001     MOVF      0x1,0x0,0x0            FIFOPtr[isr_i].Command = COMMAND_NONE;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0041c0   ec82     CALL      0x5f04,0x0                                                                                      
0041c2   f02f                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If we're done with our current command, load in the next one                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0041c8   a000     BTFSS     0x0,0x0,0x0      if (bittstzero(AllDone))                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0041ca   d0c0     BRA       0x434c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0041cc   0101     MOVLB     0x1                CurrentCommand.Command = COMMAND_NONE;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0041ce   6b89     CLRF      0x89,0x1                                                                                        
0041d0   500f     MOVF      0xf,0x0,0x0        if (gFIFOLength != 0u)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0041d2   e101     BNZ       0x41d6                                                                                          
0041d4   d0a3     BRA       0x431c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0041d6   b209     BTFSC     0x9,0x1,0x0          if (bittst(TestMode, TEST_MODE_GPIO_NUM))                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0041d8   808c     BSF       0x8c,0x0,0x0           LATDbits.LATD0 = 1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0041da   b006     BTFSC     0x6,0x0,0x0          if (bittstzero(gRedLEDEmptyFIFO))                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0041dc   948c     BCF       0x8c,0x2,0x0           mLED_2_Off()                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // If enabled, move stepper disable state to primed                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0041de   0100     MOVLB     0x0                  if (g_StepperDisableState != kSTEPPER_TIMEOUT_DISABLED)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0041e0   51a8     MOVF      0xa8,0x0,0x1                                                                                    
0041e2   e002     BZ        0x41e8                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0041e4   0e01     MOVLW     0x1                    g_StepperDisableState = kSTEPPER_TIMEOUT_PRIMED;                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0041e6   6fa8     MOVWF     0xa8,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //      FIFO_COPY();                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #if 1                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // memcpy() doesn't work because it introduces a function, which blows up the ISR (much longer, even best case, because of entry/exit code) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // memcpy((void *)&CurrentCommand, (void *)&FIFOPtr[gFIFOOut], sizeof(CurrentCommand)); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0041e8   0101     MOVLB     0x1                p1 = (char *)&CurrentCommand;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0041ea   0e89     MOVLW     0x89                                                                                            
0041ec   6f80     MOVWF     0x80,0x1                                                                                        
0041ee   0e01     MOVLW     0x1                                                                                             
0041f0   6f81     MOVWF     0x81,0x1                                                                                        
0041f2   5011     MOVF      0x11,0x0,0x0       p2 = (char *)&FIFOPtr[gFIFOOut];                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0041f4   0d2f     MULLW     0x2f                                                                                            
0041f6   0105     MOVLB     0x5                                                                                             
0041f8   51fe     MOVF      0xfe,0x0,0x1                                                                                    
0041fa   24f3     ADDWF     0xf3,0x0,0x0                                                                                    
0041fc   0101     MOVLB     0x1                                                                                             
0041fe   6f82     MOVWF     0x82,0x1                                                                                        
004200   0105     MOVLB     0x5                                                                                             
004202   51ff     MOVF      0xff,0x0,0x1                                                                                    
004204   20f4     ADDWFC    0xf4,0x0,0x0                                                                                    
004206   0101     MOVLB     0x1                                                                                             
004208   6f83     MOVWF     0x83,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00420a   6a01     CLRF      0x1,0x0            for (isr_i = 0; isr_i < 0x2Fu; isr_i++)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00420c   0e2f     MOVLW     0x2f                                                                                            
00420e   5c01     SUBWF     0x1,0x0,0x0                                                                                     
004210   e211     BC        0x4234                                                                                          
004230   2a01     INCF      0x1,0x1,0x0                                                                                     
004232   d7ec     BRA       0x420c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004212   c182     MOVFF     0x182,0xfe9          *p1 = *p2;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004214   ffe9                                                                                                               
004216   c183     MOVFF     0x183,0xfea                                                                                     
004218   ffea                                                                                                               
00421a   50ef     MOVF      0xef,0x0,0x0                                                                                    
00421c   c180     MOVFF     0x180,0xfe9                                                                                     
00421e   ffe9                                                                                                               
004220   c181     MOVFF     0x181,0xfea                                                                                     
004222   ffea                                                                                                               
004224   6eef     MOVWF     0xef,0x0                                                                                        
004226   2b80     INCF      0x80,0x1,0x1         p1++;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004228   0e00     MOVLW     0x0                                                                                             
00422a   2381     ADDWFC    0x81,0x1,0x1                                                                                    
00422c   2b82     INCF      0x82,0x1,0x1         p2++;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00422e   2383     ADDWFC    0x83,0x1,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           /*                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * gFIFOCommand = FIFOPtr[gFIFOOut].Command;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 CurrentCommand.Command        = FIFOPtr[gFIFOOut].Command;                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 CurrentCommand.m.sm.Rate[0]        = FIFOPtr[gFIFOOut].m.sm.Rate[0];       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 CurrentCommand.m.sm.Rate[1]        = FIFOPtr[gFIFOOut].m.sm.Rate[1];       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 CurrentCommand.m.sm.Steps[0]       = FIFOPtr[gFIFOOut].m.sm.Steps[0];      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 CurrentCommand.m.sm.Steps[1]       = FIFOPtr[gFIFOOut].m.sm.Steps[1];      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 CurrentCommand.m.sm.DirBits        = FIFOPtr[gFIFOOut].m.sm.DirBits;       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 CurrentCommand.m.sm.DelayCounter   = FIFOPtr[gFIFOOut].m.sm.DelayCounter;  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 CurrentCommand.m.sm.SEState        = FIFOPtr[gFIFOOut].m.sm.SEState;       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           */                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Instead of copying over the entire MoveCommandType every time, to save  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // time we will check which command is next in the FIFO, and then only     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // copy over those fields that the new command actually uses.              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // The order that we check these is the same as the main ISR check order   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // above, where we want to have the most common commands checked first     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // since they will then happen faster.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 gFIFOCommand = FIFOPtr[gFIFOOut].Command;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 if (gFIFOCommand == COMMAND_SM_XM_HM_MOVE)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.Command        = FIFOPtr[gFIFOOut].Command;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Rate[0]        = FIFOPtr[gFIFOOut].m.sm.Rate[0];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Rate[1]        = FIFOPtr[gFIFOOut].m.sm.Rate[1];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Steps[0]       = FIFOPtr[gFIFOOut].m.sm.Steps[0];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Steps[1]       = FIFOPtr[gFIFOOut].m.sm.Steps[1];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.DirBits        = FIFOPtr[gFIFOOut].m.sm.DirBits;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.DelayCounter   = FIFOPtr[gFIFOOut].m.sm.DelayCounter; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.SEState        = FIFOPtr[gFIFOOut].m.sm.SEState;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 else if (gFIFOCommand == COMMAND_LM_MOVE)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.Command        = FIFOPtr[gFIFOOut].Command;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Rate[0]        = FIFOPtr[gFIFOOut].m.sm.Rate[0];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Rate[1]        = FIFOPtr[gFIFOOut].m.sm.Rate[1];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Accel[0]       = FIFOPtr[gFIFOOut].m.sm.Accel[0];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Accel[1]       = FIFOPtr[gFIFOOut].m.sm.Accel[1];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Jerk[0]        = FIFOPtr[gFIFOOut].m.sm.Jerk[0];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Jerk[1]        = FIFOPtr[gFIFOOut].m.sm.Jerk[1];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Steps[0]       = FIFOPtr[gFIFOOut].m.sm.Steps[0];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Steps[1]       = FIFOPtr[gFIFOOut].m.sm.Steps[1];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.DirBits        = FIFOPtr[gFIFOOut].m.sm.DirBits;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.DelayCounter   = FIFOPtr[gFIFOOut].m.sm.DelayCounter; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.SEState        = FIFOPtr[gFIFOOut].m.sm.SEState;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 else if (gFIFOCommand == COMMAND_LT_MOVE)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.Command        = FIFOPtr[gFIFOOut].Command;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Rate[0]        = FIFOPtr[gFIFOOut].m.sm.Rate[0];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Rate[1]        = FIFOPtr[gFIFOOut].m.sm.Rate[1];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Accel[0]       = FIFOPtr[gFIFOOut].m.sm.Accel[0];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Accel[1]       = FIFOPtr[gFIFOOut].m.sm.Accel[1];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Jerk[0]        = FIFOPtr[gFIFOOut].m.sm.Jerk[0];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Jerk[1]        = FIFOPtr[gFIFOOut].m.sm.Jerk[1];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Steps[0]       = FIFOPtr[gFIFOOut].m.sm.Steps[0];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.DirBits        = FIFOPtr[gFIFOOut].m.sm.DirBits;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.DelayCounter   = FIFOPtr[gFIFOOut].m.sm.DelayCounter; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.SEState        = FIFOPtr[gFIFOOut].m.sm.SEState;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 else if (gFIFOCommand == COMMAND_SERVO_MOVE)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.Command        = FIFOPtr[gFIFOOut].Command;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.DelayCounter   = FIFOPtr[gFIFOOut].m.sm.DelayCounter; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.ServoPosition  = FIFOPtr[gFIFOOut].m.sm.ServoPosition; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.ServoRPn       = FIFOPtr[gFIFOOut].m.sm.ServoRPn;    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.ServoChannel   = FIFOPtr[gFIFOOut].m.sm.ServoChannel; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.ServoRate      = FIFOPtr[gFIFOOut].m.sm.ServoRate;   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 else if (gFIFOCommand == COMMAND_DELAY)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.Command        = FIFOPtr[gFIFOOut].Command;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.DelayCounter   = FIFOPtr[gFIFOOut].m.sm.DelayCounter; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 else if (gFIFOCommand == COMMAND_SE)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.Command        = FIFOPtr[gFIFOOut].Command;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.DelayCounter   = FIFOPtr[gFIFOOut].m.sm.DelayCounter; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.SEState        = FIFOPtr[gFIFOOut].m.sm.SEState;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.SEPower        = FIFOPtr[gFIFOOut].m.sm.SEPower;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 else if (gFIFOCommand == COMMAND_EM)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.Command       = FIFOPtr[gFIFOOut].Command;                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.DirBits       = FIFOPtr[gFIFOOut].m.sm.DirBits;      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.ServoRPn      = FIFOPtr[gFIFOOut].m.sm.ServoRPn;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // gFIFOCommand had a value that is not allowed                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004234   908c     BCF       0x8c,0x0,0x0       LATDbits.LATD0 = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Take care of clearing the step accumulators for the next move if        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // it's a motor move (of any type) - if the command requests it            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 if (                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004252   0e05     MOVLW     0x5                    (CurrentCommand.Command == COMMAND_SM_XM_HM_MOVE)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004254   5d89     SUBWF     0x89,0x0,0x1                                                                                    
004256   e002     BZ        0x425c                                                                                          
004258   0e00     MOVLW     0x0                                                                                             
00425a   d001     BRA       0x425e                                                                                          
00425c   0e01     MOVLW     0x1                                                                                             
                                                   |                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004244   0e06     MOVLW     0x6                    (CurrentCommand.Command == COMMAND_LM_MOVE)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004246   5d89     SUBWF     0x89,0x0,0x1                                                                                    
004248   e002     BZ        0x424e                                                                                          
00424a   0e00     MOVLW     0x0                                                                                             
00424c   d001     BRA       0x4250                                                                                          
00424e   0e01     MOVLW     0x1                                                                                             
004250   6e5a     MOVWF     0x5a,0x0                                                                                        
00425e   105a     IORWF     0x5a,0x0,0x0           |                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004236   0e07     MOVLW     0x7                    (CurrentCommand.Command == COMMAND_LT_MOVE)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004238   5d89     SUBWF     0x89,0x0,0x1                                                                                    
00423a   e002     BZ        0x4240                                                                                          
00423c   0e00     MOVLW     0x0                                                                                             
00423e   d001     BRA       0x4242                                                                                          
004240   0e01     MOVLW     0x1                                                                                             
004242   6e5b     MOVWF     0x5b,0x0                                                                                        
004260   105b     IORWF     0x5b,0x0,0x0         )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004262   e03a     BZ        0x42d8                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // These are used in TEST_MODE_USART_ISR_NUM to allow an arbitrary       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // value to be loaded into one or both accumulators for testing          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004264   a98f     BTFSS     0x8f,0x4,0x1           if (CurrentCommand.m.sm.SEState & SESTATE_ARBITRARY_ACC1_BIT)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004266   d008     BRA       0x4278                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004268   c18b     MOVFF     0x18b,0x1e               acc_union[0].value = CurrentCommand.m.sm.DelayCounter;                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00426a   f01e                                                                                                               
00426c   c18c     MOVFF     0x18c,0x1f                                                                                      
00426e   f01f                                                                                                               
004270   c18d     MOVFF     0x18d,0x20                                                                                      
004272   f020                                                                                                               
004274   c18e     MOVFF     0x18e,0x21                                                                                      
004276   f021                                                                                                               
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004278   ab8f     BTFSS     0x8f,0x5,0x1           if (CurrentCommand.m.sm.SEState & SESTATE_ARBITRARY_ACC2_BIT)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00427a   d008     BRA       0x428c                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00427c   c18b     MOVFF     0x18b,0x22               acc_union[1].value = CurrentCommand.m.sm.DelayCounter;                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00427e   f022                                                                                                               
004280   c18c     MOVFF     0x18c,0x23                                                                                      
004282   f023                                                                                                               
004284   c18d     MOVFF     0x18d,0x24                                                                                      
004286   f024                                                                                                               
004288   c18e     MOVFF     0x18e,0x25                                                                                      
00428a   f025                                                                                                               
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Use the SEState to determine which accumulators to clear.             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00428c   a18f     BTFSS     0x8f,0x0,0x1           if (CurrentCommand.m.sm.SEState & SESTATE_CLEAR_ACC1_BIT)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00428e   d004     BRA       0x4298                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004290   6a1e     CLRF      0x1e,0x0                 acc_union[0].value = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004292   6a1f     CLRF      0x1f,0x0                                                                                        
004294   6a20     CLRF      0x20,0x0                                                                                        
004296   6a21     CLRF      0x21,0x0                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004298   a38f     BTFSS     0x8f,0x1,0x1           if (CurrentCommand.m.sm.SEState & SESTATE_CLEAR_ACC2_BIT)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00429a   d004     BRA       0x42a4                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00429c   6a22     CLRF      0x22,0x0                 acc_union[1].value = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00429e   6a23     CLRF      0x23,0x0                                                                                        
0042a0   6a24     CLRF      0x24,0x0                                                                                        
0042a2   6a25     CLRF      0x25,0x0                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0042a4   a58f     BTFSS     0x8f,0x2,0x1           if (CurrentCommand.m.sm.SEState & SESTATE_NEGATE_ACC1_BIT)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0042a6   d005     BRA       0x42b2                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0042a8   681e     SETF      0x1e,0x0                 acc_union[0].value = 0x7FFFFFFFUL;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0042aa   681f     SETF      0x1f,0x0                                                                                        
0042ac   6820     SETF      0x20,0x0                                                                                        
0042ae   0e7f     MOVLW     0x7f                                                                                            
0042b0   6e21     MOVWF     0x21,0x0                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0042b2   a78f     BTFSS     0x8f,0x3,0x1           if (CurrentCommand.m.sm.SEState & SESTATE_NEGATE_ACC2_BIT)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0042b4   d005     BRA       0x42c0                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0042b6   6822     SETF      0x22,0x0                 acc_union[1].value = 0x7FFFFFFFUL;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0042b8   6823     SETF      0x23,0x0                                                                                        
0042ba   6824     SETF      0x24,0x0                                                                                        
0042bc   0e7f     MOVLW     0x7f                                                                                            
0042be   6e25     MOVWF     0x25,0x0                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Set the "Active" flags for this move based on steps for each axis     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0042c0   ec1a     CALL      0x6034,0x0             if (CurrentCommand.m.sm.Steps[0])                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0042c2   f030                                                                                                               
0042c4   e002     BZ        0x42ca                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0042c6   8002     BSF       0x2,0x0,0x0              bitsetzero(AxisActive[0]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0042c8   d001     BRA       0x42cc                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0042ca   9002     BCF       0x2,0x0,0x0              bitclrzero(AxisActive[0]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0042cc   ec69     CALL      0x60d2,0x0             if (CurrentCommand.m.sm.Steps[1])                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0042ce   f030                                                                                                               
0042d0   e002     BZ        0x42d6                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0042d2   8003     BSF       0x3,0x0,0x0              bitsetzero(AxisActive[1]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0042d4   d001     BRA       0x42d8                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0042d6   9003     BCF       0x3,0x0,0x0              bitclrzero(AxisActive[1]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0042d8   a409     BTFSS     0x9,0x2,0x0          if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0042da   d014     BRA       0x4304                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0042dc   6a26     CLRF      0x26,0x0               gISRTickCountForThisCommand = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0042de   6a27     CLRF      0x27,0x0                                                                                        
0042e0   6a28     CLRF      0x28,0x0                                                                                        
0042e2   6a29     CLRF      0x29,0x0                                                                                        
0042e4   6a2a     CLRF      0x2a,0x0               gISRStepCount0ForThisCommand = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0042e6   6a2b     CLRF      0x2b,0x0                                                                                        
0042e8   6a2c     CLRF      0x2c,0x0                                                                                        
0042ea   6a2d     CLRF      0x2d,0x0                                                                                        
0042ec   6a2e     CLRF      0x2e,0x0               gISRPosition0ForThisCommand = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0042ee   6a2f     CLRF      0x2f,0x0                                                                                        
0042f0   6a30     CLRF      0x30,0x0                                                                                        
0042f2   6a31     CLRF      0x31,0x0                                                                                        
0042f4   6a32     CLRF      0x32,0x0               gISRStepCount1ForThisCommand = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0042f6   6a33     CLRF      0x33,0x0                                                                                        
0042f8   6a34     CLRF      0x34,0x0                                                                                        
0042fa   6a35     CLRF      0x35,0x0                                                                                        
0042fc   6a36     CLRF      0x36,0x0               gISRPosition1ForThisCommand = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0042fe   6a37     CLRF      0x37,0x0                                                                                        
004300   6a38     CLRF      0x38,0x0                                                                                        
004302   6a39     CLRF      0x39,0x0                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Zero out command in FIFO we just copied, but leave the rest of the fields alone D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004304   5011     MOVF      0x11,0x0,0x0         FIFOPtr[gFIFOOut].Command = COMMAND_NONE;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004306   ec82     CALL      0x5f04,0x0                                                                                      
004308   f02f                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Increment gFIFO_Out                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00430a   2a11     INCF      0x11,0x1,0x0         gFIFOOut++;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00430c   5013     MOVF      0x13,0x0,0x0         if (gFIFOOut >= gCurrentFIFOLength)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00430e   5c11     SUBWF     0x11,0x0,0x0                                                                                    
004310   e301     BNC       0x4314                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004312   6a11     CLRF      0x11,0x0               gFIFOOut = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004314   500f     MOVF      0xf,0x0,0x0          if (gFIFOLength)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004316   e01a     BZ        0x434c                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004318   060f     DECF      0xf,0x1,0x0            gFIFOLength--;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00431a   d018     BRA       0x434c             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Current command is done, and the FIFO is completely empty.              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Start up stepper motor disable timeout (if enabled)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00431c   0100     MOVLB     0x0                  if (g_StepperDisableState == kSTEPPER_TIMEOUT_PRIMED)                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00431e   05a8     DECF      0xa8,0x0,0x1                                                                                    
004320   e10c     BNZ       0x433a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004322   0100     MOVLB     0x0                    g_StepperDisableSecondCounter = 1000u;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004324   0ee8     MOVLW     0xe8                                                                                            
004326   6fab     MOVWF     0xab,0x1                                                                                        
004328   0e03     MOVLW     0x3                                                                                             
00432a   6fac     MOVWF     0xac,0x1                                                                                        
00432c   c0a9     MOVFF     0xa9,0xad              g_StepperDisableCountdownS = g_StepperDisableTimeoutS;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00432e   f0ad                                                                                                               
004330   c0aa     MOVFF     0xaa,0xae                                                                                       
004332   f0ae                                                                                                               
004334   0100     MOVLB     0x0                    g_StepperDisableState = kSTEPPER_TIMEOUT_TIMING;                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004336   0e02     MOVLW     0x2                                                                                             
004338   6fa8     MOVWF     0xa8,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00433a   0101     MOVLB     0x1                  CurrentCommand.m.sm.DelayCounter = 0;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00433c   6b8b     CLRF      0x8b,0x1                                                                                        
00433e   6b8c     CLRF      0x8c,0x1                                                                                        
004340   6b8d     CLRF      0x8d,0x1                                                                                        
004342   6b8e     CLRF      0x8e,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004344   b006     BTFSC     0x6,0x0,0x0          if (bittstzero(gRedLEDEmptyFIFO))                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004346   848c     BSF       0x8c,0x2,0x0           mLED_2_On()                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004348   b209     BTFSC     0x9,0x1,0x0          if (bittst(TestMode, TEST_MODE_GPIO_NUM))                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00434a   8289     BSF       0x89,0x1,0x0           LATAbits.LATA1 = 1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Check for button being pushed                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00434c   ae80     BTFSS     0x80,0x7,0x0     if (!swProgram)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00434e   8007     BSF       0x7,0x0,0x0        bitsetzero(ButtonPushed);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004350   a008     BTFSS     0x8,0x0,0x0      if (bittstzero(UseAltPause))                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004352   d002     BRA       0x4358                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004354   a081     BTFSS     0x81,0x0,0x0       if (!PORTBbits.RB0)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004356   8007     BSF       0x7,0x0,0x0          bitsetzero(ButtonPushed);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // To give as much time for the step pulses to be high, we clear them as the   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // very last thing we do before leaving the ISR. It never hurts us to clear    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // these bits even if no step happened this ISR tick                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004358   5004     MOVF      0x4,0x0,0x0      if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00435a   e103     BNZ       0x4362                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00435c   9c8c     BCF       0x8c,0x6,0x0       Step1IO = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00435e   988c     BCF       0x8c,0x4,0x0       Step2IO = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004360   d002     BRA       0x4366           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004362   9c8b     BCF       0x8b,0x6,0x0       Step1AltIO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004364   9a89     BCF       0x89,0x5,0x0       Step2AltIO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004366   ae09     BTFSS     0x9,0x7,0x0      if (bittst(TestMode, TEST_MODE_PRINT_TRIGGER_NUM))                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004368   d004     BRA       0x4372                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Clear the interrupt as the last thing we do. This allows us to have       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // arbitrarily long interrupts to print debug information out                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00436a   94f2     BCF       0xf2,0x2,0x0       INTCONbits.TMR0IF = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00436c   0e8a     MOVLW     0x8a               TMR0L = TIMER0_RELOAD;  // Reload for 25KHz ISR fire                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00436e   6ed6     MOVWF     0xd6,0x0                                                                                        
004370   9e09     BCF       0x9,0x7,0x0        bitclr(TestMode, TEST_MODE_PRINT_TRIGGER_NUM);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004372   a209     BTFSS     0x9,0x1,0x0      if (bittst(TestMode, TEST_MODE_GPIO_NUM))                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004374   d003     BRA       0x437c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004376   9289     BCF       0x89,0x1,0x0       LATAbits.LATA1 = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004378   908c     BCF       0x8c,0x0,0x0       LATDbits.LATD0 = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00437a   928c     BCF       0x8c,0x1,0x0       LATDbits.LATD1 = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00437c   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00437e   cfe5     MOVFF     0xfe5,0xff4                                                                                     
004380   fff4                                                                                                               
004382   cfe5     MOVFF     0xfe5,0xff3                                                                                     
004384   fff3                                                                                                               
004386   cfe5     MOVFF     0xfe5,0xfea                                                                                     
004388   ffea                                                                                                               
00438a   cfe5     MOVFF     0xfe5,0xfe9                                                                                     
00438c   ffe9                                                                                                               
00438e   cfe5     MOVFF     0xfe5,0xfda                                                                                     
004390   ffda                                                                                                               
004392   0011     RETFIE    0x1                                                                                             
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If USE_C_ISR is not defined, then we want the assembly version of the ISR   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Zero out all global variables used for parameter passing between motion       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // parsing commands                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static void clear_parmaeter_globals(void)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004394   0101     MOVLB     0x1              gUInt32_1 = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004396   6bc7     CLRF      0xc7,0x1                                                                                        
004398   6bc8     CLRF      0xc8,0x1                                                                                        
00439a   6bc9     CLRF      0xc9,0x1                                                                                        
00439c   6bca     CLRF      0xca,0x1                                                                                        
00439e   ecc5     CALL      0x618a,0x0       gUInt32_2 = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0043a0   f030                                                                                                               
0043a2   6bcf     CLRF      0xcf,0x1         gUInt32_3 = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0043a4   6bd0     CLRF      0xd0,0x1                                                                                        
0043a6   6bd1     CLRF      0xd1,0x1                                                                                        
0043a8   6bd2     CLRF      0xd2,0x1                                                                                        
0043aa   6bd3     CLRF      0xd3,0x1         gInt32_4 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0043ac   6bd4     CLRF      0xd4,0x1                                                                                        
0043ae   6bd5     CLRF      0xd5,0x1                                                                                        
0043b0   6bd6     CLRF      0xd6,0x1                                                                                        
0043b2   6bd7     CLRF      0xd7,0x1         gInt32_5 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0043b4   6bd8     CLRF      0xd8,0x1                                                                                        
0043b6   6bd9     CLRF      0xd9,0x1                                                                                        
0043b8   6bda     CLRF      0xda,0x1                                                                                        
0043ba   6bdb     CLRF      0xdb,0x1         gInt32_6 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0043bc   6bdc     CLRF      0xdc,0x1                                                                                        
0043be   6bdd     CLRF      0xdd,0x1                                                                                        
0043c0   6bde     CLRF      0xde,0x1                                                                                        
0043c2   6bdf     CLRF      0xdf,0x1         gInt32_7 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0043c4   6be0     CLRF      0xe0,0x1                                                                                        
0043c6   6be1     CLRF      0xe1,0x1                                                                                        
0043c8   6be2     CLRF      0xe2,0x1                                                                                        
0043ca   6be3     CLRF      0xe3,0x1         gInt32_8 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0043cc   6be4     CLRF      0xe4,0x1                                                                                        
0043ce   6be5     CLRF      0xe5,0x1                                                                                        
0043d0   6be6     CLRF      0xe6,0x1                                                                                        
0043d2   6be7     CLRF      0xe7,0x1         gInt32_9 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0043d4   6be8     CLRF      0xe8,0x1                                                                                        
0043d6   6be9     CLRF      0xe9,0x1                                                                                        
0043d8   6bea     CLRF      0xea,0x1                                                                                        
0043da   6beb     CLRF      0xeb,0x1         gInt32_10 = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0043dc   6bec     CLRF      0xec,0x1                                                                                        
0043de   6bed     CLRF      0xed,0x1                                                                                        
0043e0   6bee     CLRF      0xee,0x1                                                                                        
0043e2   6bef     CLRF      0xef,0x1         gInt32_11 = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0043e4   6bf0     CLRF      0xf0,0x1                                                                                        
0043e6   6bf1     CLRF      0xf1,0x1                                                                                        
0043e8   6bf2     CLRF      0xf2,0x1                                                                                        
0043ea   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Init code                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0043ec   cfd9     MOVFF     0xfd9,0xfe6    void EBB_Init(void)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0043ee   ffe6                                                                                                               
0043f0   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0043f2   ffd9                                                                                                               
0043f4   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Initialize all Current Command values                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0043f6   6adf     CLRF      0xdf,0x0         for (i = 0; i < NUMBER_OF_STEPPERS; i++)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0043f8   0e02     MOVLW     0x2                                                                                             
0043fa   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0043fc   e22d     BC        0x4458                                                                                          
004454   2adf     INCF      0xdf,0x1,0x0                                                                                    
004456   d7d0     BRA       0x43f8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0043fe   50df     MOVF      0xdf,0x0,0x0       CurrentCommand.m.sm.Rate[i].value = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004400   0d04     MULLW     0x4                                                                                             
004402   cff3     MOVFF     0xff3,0xfe9                                                                                     
004404   ffe9                                                                                                               
004406   cff4     MOVFF     0xff4,0xfea                                                                                     
004408   ffea                                                                                                               
00440a   0e90     MOVLW     0x90                                                                                            
00440c   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00440e   0e01     MOVLW     0x1                                                                                             
004410   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004412   0e01     MOVLW     0x1                                                                                             
004414   6eee     MOVWF     0xee,0x0                                                                                        
004416   6aee     CLRF      0xee,0x0                                                                                        
004418   6aee     CLRF      0xee,0x0                                                                                        
00441a   6aee     CLRF      0xee,0x0                                                                                        
00441c   50df     MOVF      0xdf,0x0,0x0       CurrentCommand.m.sm.Steps[i] = 0;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00441e   0d04     MULLW     0x4                                                                                             
004420   cff3     MOVFF     0xff3,0xfe9                                                                                     
004422   ffe9                                                                                                               
004424   cff4     MOVFF     0xff4,0xfea                                                                                     
004426   ffea                                                                                                               
004428   0e98     MOVLW     0x98                                                                                            
00442a   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00442c   0e01     MOVLW     0x1                                                                                             
00442e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004430   6aee     CLRF      0xee,0x0                                                                                        
004432   6aee     CLRF      0xee,0x0                                                                                        
004434   6aee     CLRF      0xee,0x0                                                                                        
004436   6aee     CLRF      0xee,0x0                                                                                        
004438   50df     MOVF      0xdf,0x0,0x0       CurrentCommand.m.sm.Accel[i] = 0;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00443a   0d04     MULLW     0x4                                                                                             
00443c   cff3     MOVFF     0xff3,0xfe9                                                                                     
00443e   ffe9                                                                                                               
004440   cff4     MOVFF     0xff4,0xfea                                                                                     
004442   ffea                                                                                                               
004444   0ea8     MOVLW     0xa8                                                                                            
004446   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
004448   0e01     MOVLW     0x1                                                                                             
00444a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00444c   6aee     CLRF      0xee,0x0                                                                                        
00444e   6aee     CLRF      0xee,0x0                                                                                        
004450   6aee     CLRF      0xee,0x0                                                                                        
004452   6aee     CLRF      0xee,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004458   0101     MOVLB     0x1              CurrentCommand.Command = COMMAND_NONE;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00445a   6b89     CLRF      0x89,0x1                                                                                        
00445c   0101     MOVLB     0x1              CurrentCommand.m.sm.DirBits = 0;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00445e   6b8a     CLRF      0x8a,0x1                                                                                        
004460   0101     MOVLB     0x1              CurrentCommand.m.sm.DelayCounter = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004462   6b8b     CLRF      0x8b,0x1                                                                                        
004464   6b8c     CLRF      0x8c,0x1                                                                                        
004466   6b8d     CLRF      0x8d,0x1                                                                                        
004468   6b8e     CLRF      0x8e,0x1                                                                                        
00446a   0101     MOVLB     0x1              CurrentCommand.m.sm.ServoPosition = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00446c   6bb1     CLRF      0xb1,0x1                                                                                        
00446e   6bb2     CLRF      0xb2,0x1                                                                                        
004470   0101     MOVLB     0x1              CurrentCommand.m.sm.ServoRPn = 0;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004472   6bb0     CLRF      0xb0,0x1                                                                                        
004474   0101     MOVLB     0x1              CurrentCommand.m.sm.ServoChannel = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004476   6bb3     CLRF      0xb3,0x1                                                                                        
004478   0101     MOVLB     0x1              CurrentCommand.m.sm.ServoRate = 0;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00447a   6bb4     CLRF      0xb4,0x1                                                                                        
00447c   6bb5     CLRF      0xb5,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00447e   9006     BCF       0x6,0x0,0x0      bitclrzero(gRedLEDEmptyFIFO);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004480   6a09     CLRF      0x9,0x0          TestMode = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  PORTA = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004482   8092     BSF       0x92,0x0,0x0     RefRA0_IO_TRIS = INPUT_PIN;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  PORTB = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  INTCON2bits.RBPU = 0;   // Turn on weak-pull ups for port B                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  PORTC = 0;              // Start out low                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  TRISC = 0x80;           // Make portC output except for PortC bit 7, USB bus sense D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  PORTD = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  TRISD = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  PORTE = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  TRISE = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // And make sure to always use low priority for ADC                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004484   9c9f     BCF       0x9f,0x6,0x0     IPR1bits.ADIP = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Turn on AN0 (RA0) as analog input                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004486   0e01     MOVLW     0x1              AnalogConfigure(RA0_CUR_ADJ_ADC_CHANNEL,1);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004488   6ee6     MOVWF     0xe6,0x0                                                                                        
00448a   6ae6     CLRF      0xe6,0x0                                                                                        
00448c   ecc0     CALL      0x2780,0x0                                                                                      
00448e   f013                                                                                                               
004490   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004492   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                             // Turn on AN11 (V+) as analog input                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004494   0e01     MOVLW     0x1              AnalogConfigure(RA11_VPLUS_POWER_ADC_CHANNEL,1);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004496   6ee6     MOVWF     0xe6,0x0                                                                                        
004498   0e0b     MOVLW     0xb                                                                                             
00449a   6ee6     MOVWF     0xe6,0x0                                                                                        
00449c   ecc0     CALL      0x2780,0x0                                                                                      
00449e   f013                                                                                                               
0044a0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0044a2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044a4   848d     BSF       0x8d,0x2,0x0     MS1_IO = 1;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044a6   9496     BCF       0x96,0x2,0x0     MS1_IO_TRIS = OUTPUT_PIN;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044a8   828d     BSF       0x8d,0x1,0x0     MS2_IO = 1;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044aa   9296     BCF       0x96,0x1,0x0     MS2_IO_TRIS = OUTPUT_PIN;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044ac   8c89     BSF       0x89,0x6,0x0     MS3_IO = 1;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044ae   9c92     BCF       0x92,0x6,0x0     MS3_IO_TRIS = OUTPUT_PIN;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044b0   808d     BSF       0x8d,0x0,0x0     Enable1IO = 1;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044b2   9096     BCF       0x96,0x0,0x0     Enable1IO_TRIS = OUTPUT_PIN;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044b4   828b     BSF       0x8b,0x1,0x0     Enable2IO = 1;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044b6   9294     BCF       0x94,0x1,0x0     Enable2IO_TRIS = OUTPUT_PIN;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044b8   9c8c     BCF       0x8c,0x6,0x0     Step1IO = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044ba   9c95     BCF       0x95,0x6,0x0     Step1IO_TRIS = OUTPUT_PIN;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044bc   9e8c     BCF       0x8c,0x7,0x0     Dir1IO = 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044be   9e95     BCF       0x95,0x7,0x0     Dir1IO_TRIS = OUTPUT_PIN;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044c0   988c     BCF       0x8c,0x4,0x0     Step2IO = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044c2   9895     BCF       0x95,0x4,0x0     Step2IO_TRIS = OUTPUT_PIN;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044c4   9a8c     BCF       0x8c,0x5,0x0     Dir2IO = 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044c6   9a95     BCF       0x95,0x5,0x0     Dir2IO_TRIS = OUTPUT_PIN;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // For bug in VUSB divider resistor, set RC7 as output and set high            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Wait a little while to charge up                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Then set back as an input                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // The idea here is to get the Schmidt trigger input RC7 high before           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // we make it an input, thus getting it above the 2.65V ST threshold           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // And allowing VUSB to keep the logic level on the pin high at 2.5V           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #if defined(USE_USB_BUS_SENSE_IO)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044c8   9e94     BCF       0x94,0x7,0x0     tris_usb_bus_sense = OUTPUT_PIN; // See HardwareProfile.h                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044ca   8e82     BSF       0x82,0x7,0x0     USB_BUS_SENSE = 1;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044cc   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044ce   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044d0   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044d2   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044d4   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044d6   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044d8   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044da   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044dc   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044de   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044e0   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044e2   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044e4   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044e6   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044e8   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044ea   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044ec   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044ee   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044f0   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044f2   8e94     BSF       0x94,0x7,0x0     tris_usb_bus_sense = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044f4   9e82     BCF       0x82,0x7,0x0     USB_BUS_SENSE = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044f6   0101     MOVLB     0x1              gUseSolenoid = TRUE;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044f8   0e01     MOVLW     0x1                                                                                             
0044fa   6fc3     MOVWF     0xc3,0x1                                                                                        
0044fc   8005     BSF       0x5,0x0,0x0      bitsetzero(gUseRCPenServo);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set up pen up/down direction as output                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0044fe   988a     BCF       0x8a,0x4,0x0     PenUpDownIO = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004500   9893     BCF       0x93,0x4,0x0     PenUpDownIO_TRIS = OUTPUT_PIN;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set up RC Servo power control to be off                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004502   9689     BCF       0x89,0x3,0x0     RCServoPowerIO = RCSERVO_POWER_OFF;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004504   9692     BCF       0x92,0x3,0x0     RCServoPowerIO_TRIS = OUTPUT_PIN;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004506   0101     MOVLB     0x1              SolenoidState = SOLENOID_ON;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004508   0e01     MOVLW     0x1                                                                                             
00450a   6fb8     MOVWF     0xb8,0x1                                                                                        
00450c   6a04     CLRF      0x4,0x0          DriverConfiguration = PIC_CONTROLS_DRIVERS;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00450e   0101     MOVLB     0x1              PenState = PEN_UP;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004510   0e01     MOVLW     0x1                                                                                             
004512   6fbb     MOVWF     0xbb,0x1                                                                                        
004514   6adf     CLRF      0xdf,0x0         for (i=0; i < SL_STORAGE_SIZE; i++)                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004516   0e20     MOVLW     0x20                                                                                            
004518   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
00451a   e209     BC        0x452e                                                                                          
00452a   2adf     INCF      0xdf,0x1,0x0                                                                                    
00452c   d7f4     BRA       0x4516                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00451c   50df     MOVF      0xdf,0x0,0x0       gSL_Storage[i] = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00451e   6aea     CLRF      0xea,0x0                                                                                        
004520   0f58     ADDLW     0x58                                                                                            
004522   6ee9     MOVWF     0xe9,0x0                                                                                        
004524   0e01     MOVLW     0x1                                                                                             
004526   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004528   6aef     CLRF      0xef,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00452e   0101     MOVLB     0x1              NodeCount = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004530   6bbc     CLRF      0xbc,0x1                                                                                        
004532   6bbd     CLRF      0xbd,0x1                                                                                        
004534   6bbe     CLRF      0xbe,0x1                                                                                        
004536   6bbf     CLRF      0xbf,0x1                                                                                        
004538   6a07     CLRF      0x7,0x0          ButtonPushed = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00453a   0101     MOVLB     0x1              gStandardizedCommandFormat = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00453c   6bc5     CLRF      0xc5,0x1                                                                                        
00453e   0101     MOVLB     0x1              gLimitChecks = TRUE;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004540   0e01     MOVLW     0x1                                                                                             
004542   6fc4     MOVWF     0xc4,0x1                                                                                        
004544   6a0f     CLRF      0xf,0x0          gFIFOLength = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004546   6a10     CLRF      0x10,0x0         gFIFOIn = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004548   6a11     CLRF      0x11,0x0         gFIFOOut = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00454a   0e01     MOVLW     0x1              gCurrentFIFOLength = 1; // Default the FIFO length to 1 on boot                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00454c   6e13     MOVWF     0x13,0x0                                                                                        
                                             //isr_FSR0L_temp = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //isr_FSR0H_temp = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Start out FIFO out pointer on first element in FIFO array, which starts at  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // address 0x500                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00454e   0e05     MOVLW     0x5              FIFO_out_ptr_high = 0x05;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004550   6e14     MOVWF     0x14,0x0                                                                                        
004552   6a15     CLRF      0x15,0x0         FIFO_out_ptr_low  = 0x00;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Default RB0 to be an input, with the pull-up enabled, for use as alternate  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // PAUSE button (just like PRG)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Except for v1.1 hardware, use RB2                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004554   8093     BSF       0x93,0x0,0x0     TRISBbits.TRISB0 = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004556   9ef1     BCF       0xf1,0x7,0x0     INTCON2bits.RBPU = 0;       // Turn on all of PortB pull-ups                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004558   8008     BSF       0x8,0x0,0x0      bitsetzero(UseAltPause);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00455a   9693     BCF       0x93,0x3,0x0     TRISBbits.TRISB3 = 0;       // Make RB3 an output (for engraver)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00455c   9681     BCF       0x81,0x3,0x0     PORTBbits.RB3 = 0;          // And make sure it starts out off                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // These are ISR variables, can't set them to zero in their definitions or     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the linker puts them in a different bank and ISR expands with more MOVLB    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // instructions.                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00455e   6a0b     CLRF      0xb,0x0          PortBTemp = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004560   6a0c     CLRF      0xc,0x0          gLimitSwitchMask = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004562   6a0d     CLRF      0xd,0x0          gLimitSwitchTarget = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004564   900e     BCF       0xe,0x0,0x0      bitclrzero(gLimitSwitchTriggered);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Clear out global stepper positions                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004566   ecdf     CALL      0x5bbe,0x0       clear_StepCounters();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004568   f02d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Set up TMR0 for our 25KHz High ISR for stepping                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00456a   8cd5     BSF       0xd5,0x6,0x0     T0CONbits.T08BIT = 1;     // Set 8 bit mode                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00456c   9ad5     BCF       0xd5,0x5,0x0     T0CONbits.T0CS = 0;       // System clocked from Fosc/4                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00456e   96d5     BCF       0xd5,0x3,0x0     T0CONbits.PSA = 0;        // Use prescaler                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004570   94d5     BCF       0xd5,0x2,0x0     T0CONbits.T0PS2 = 0;      // Use 4:1 Prescale value                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004572   92d5     BCF       0xd5,0x1,0x0     T0CONbits.T0PS1 = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004574   80d5     BSF       0xd5,0x0,0x0     T0CONbits.T0PS0 = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004576   6ad6     CLRF      0xd6,0x0         TMR0L = 0x00;             // Give the timer some time before it fires the first time D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004578   8ed5     BSF       0xd5,0x7,0x0     T0CONbits.TMR0ON = 1;     // Turn the timer on                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00457a   84f1     BSF       0xf1,0x2,0x0     INTCON2bits.TMR0IP = 1;   // Use high priority interrupt for Timer 0           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00457c   94f2     BCF       0xf2,0x2,0x0     INTCONbits.TMR0IF = 0;    // Clear the interrupt                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00457e   8af2     BSF       0xf2,0x5,0x0     INTCONbits.TMR0IE = 1;    // Turn on the interrupt                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004580   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004582   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004584   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
004586   ffd9                                                                                                               
004588   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Stepper (mode) Configure command                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,1,0<CR> will use just solenoid output for pen up/down                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,1,1<CR> will use servo on RB1 for pen up/down                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,1,2<CR> will use servo on RB1 for pen up/down, but with ECCP2 (PWM) in hardware (default) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,2,0<CR> will make PIC control drivers (default)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,2,1<CR> will make PIC control external drivers using these pins            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    ENABLE1 = RD1                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    ENABLE2 = RA1                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    STEP1 = RC6                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    DIR1 = RC2                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    STEP2 = RA5                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    DIR2 = RA2                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,2,2<CR> will disconnect PIC from drivers and allow external step/dir source D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,4,<servo2_min><CR> will set <servo2_min> as the minimum value for the servo (1 to 65535) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,5,<servo2_max><CR> will set <servo2_max> as the maximum value for the servo (1 to 65535) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,6,<servo_min><CR> will set <servo_min> as the minimum value for the servo (1 to 11890) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,7,<servo_max><CR> will set <servo_max> as the maximum value for the servo (1 to 11890) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,8,<servo2_slots><CR> sets the number of slots for the servo2 system (1 to 24) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,9,<servo2_slotMS><CR> sets the number of ms in duration for each slot (1 to 6) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,10,<servo2_rate><CR> sets the rate of change for the servo (both up and down) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,11,<servo2_rate><CR> sets the pen up speed                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,12,<servo2_rate><CR> sets the pen down speed                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,13,1<CR> enables RB3 as parallel input to PRG button for pause detection   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,13,0<CR> disables RB3 as parallel input to PRG button for pause detection  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00458a   ecb4     CALL      0x5d68,0x0     void parse_SC_packet (void)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00458c   f02e                                                                                                               
00458e   0e03     MOVLW     0x3                                                                                             
004590   ec5d     CALL      0x5eba,0x0                                                                                      
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004592   f02f                                unsigned char Para1 = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             unsigned int Para2 = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004594   ec10     CALL      0x6220,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004596   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kUCHAR, &Para1, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004598   6ae6     CLRF      0xe6,0x0         extract_number(kUINT, &Para2, kREQUIRED);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00459a   ecbe     CALL      0x637c,0x0                                                                                      
00459c   f031                                                                                                               
00459e   ecde     CALL      0x63bc,0x0                                                                                      
0045a0   f031                                                                                                               
00637c   50d9     MOVF      0xd9,0x0,0x0                                                                                    
00637e   0f01     ADDLW     0x1                                                                                             
006380   6ee6     MOVWF     0xe6,0x0                                                                                        
006382   0e00     MOVLW     0x0                                                                                             
006384   20da     ADDWFC    0xda,0x0,0x0                                                                                    
006386   6ee6     MOVWF     0xe6,0x0                                                                                        
006388   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0045a2   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0045a4   5197     MOVF      0x97,0x0,0x1                                                                                    
0045a6   e001     BZ        0x45aa                                                                                          
0045a8   d0ab     BRA       0x4700                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Check for command to select which (solenoid/servo) gets used for pen        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0045aa   04df     DECF      0xdf,0x0,0x0     if (Para1 == 1u)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0045ac   e120     BNZ       0x45ee                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Use just solenoid                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0045ae   eccf     CALL      0x639e,0x0         if (Para2 == 0u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0045b0   f031                                                                                                               
0045b2   e107     BNZ       0x45c2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0045b4   0101     MOVLB     0x1                  gUseSolenoid = TRUE;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0045b6   0e01     MOVLW     0x1                                                                                             
0045b8   6fc3     MOVWF     0xc3,0x1                                                                                        
0045ba   9005     BCF       0x5,0x0,0x0          bitclrzero(gUseRCPenServo);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Turn off RC signal on Pen Servo output                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0045bc   ec85     CALL      0x5f0a,0x0           RCServo2_Move(0, g_servo2_RPn, 0, 0);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0045be   f02f                                                                                                               
005f0a   0e00     MOVLW     0x0                                                                                             
005f0c   6ee6     MOVWF     0xe6,0x0                                                                                        
005f0e   6ae6     CLRF      0xe6,0x0                                                                                        
005f10   6ee6     MOVWF     0xe6,0x0                                                                                        
005f12   6ae6     CLRF      0xe6,0x0                                                                                        
005f14   c08a     MOVFF     0x8a,0xfe6                                                                                      
005f16   ffe6                                                                                                               
005f18   6ee6     MOVWF     0xe6,0x0                                                                                        
005f1a   6ae6     CLRF      0xe6,0x0                                                                                        
005f1c   efc5     GOTO      0x638a                                                                                          
005f1e   f031                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Use just RC servo                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0045c0   d00e     BRA       0x45de             else if (Para2 == 1u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0045c2   ec11     CALL      0x5e22,0x0                                                                                      
0045c4   f02f                                                                                                               
0045c6   0e01     MOVLW     0x1                                                                                             
0045c8   18ee     XORWF     0xee,0x0,0x0                                                                                    
0045ca   e105     BNZ       0x45d6                                                                                          
0045cc   50ed     MOVF      0xed,0x0,0x0                                                                                    
0045ce   e103     BNZ       0x45d6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0045d0   0101     MOVLB     0x1                  gUseSolenoid = FALSE;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0045d2   6bc3     CLRF      0xc3,0x1                                                                                        
                                                 bitsetzero(gUseRCPenServo);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Use solenoid AND servo (default)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0045d4   d003     BRA       0x45dc             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0045d6   0101     MOVLB     0x1                  gUseSolenoid = TRUE;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0045d8   0e01     MOVLW     0x1                                                                                             
0045da   6fc3     MOVWF     0xc3,0x1                                                                                        
0045dc   8005     BSF       0x5,0x0,0x0          bitsetzero(gUseRCPenServo);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Send a new command to set the state of the servo/solenoid                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0045de   0e00     MOVLW     0x0                process_SP(PenState, 0);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0045e0   6ee6     MOVWF     0xe6,0x0                                                                                        
0045e2   6ae6     CLRF      0xe6,0x0                                                                                        
0045e4   c1bb     MOVFF     0x1bb,0xfe6                                                                                     
0045e6   ffe6                                                                                                               
0045e8   ec66     CALL      0x60cc,0x0                                                                                      
0045ea   f030                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Check for command to switch between built-in drivers and external drivers   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0045ec   d087     BRA       0x46fc           else if (Para1 == 2u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0045ee   0e02     MOVLW     0x2                                                                                             
0045f0   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0045f2   e12d     BNZ       0x464e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0045f4   eccf     CALL      0x639e,0x0         if (Para2 == 0u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0045f6   f031                                                                                                               
0045f8   e108     BNZ       0x460a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0045fa   6a04     CLRF      0x4,0x0              DriverConfiguration = PIC_CONTROLS_DRIVERS;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Connections to drivers become outputs                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0045fc   9096     BCF       0x96,0x0,0x0         Enable1IO_TRIS = OUTPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0045fe   9294     BCF       0x94,0x1,0x0         Enable2IO_TRIS = OUTPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004600   9c95     BCF       0x95,0x6,0x0         Step1IO_TRIS = OUTPUT_PIN;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004602   9e95     BCF       0x95,0x7,0x0         Dir1IO_TRIS = OUTPUT_PIN;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004604   9895     BCF       0x95,0x4,0x0         Step2IO_TRIS = OUTPUT_PIN;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004606   9a95     BCF       0x95,0x5,0x0         Dir2IO_TRIS = OUTPUT_PIN;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Alternate I/O pins become inputs                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Dir1AltIO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Dir2AltIO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Step1AltIO_TRIS = INPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Step2AltIO_TRIS = INPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Enable1AltIO_TRIS = INPUT_PIN;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Enable2AltIO_TRIS = INPUT_PIN;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004608   d01b     BRA       0x4640             else if (Para2 == 1u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00460a   ec11     CALL      0x5e22,0x0                                                                                      
00460c   f02f                                                                                                               
00460e   0e01     MOVLW     0x1                                                                                             
004610   18ee     XORWF     0xee,0x0,0x0                                                                                    
004612   e10c     BNZ       0x462c                                                                                          
004614   50ed     MOVF      0xed,0x0,0x0                                                                                    
004616   e10a     BNZ       0x462c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004618   0e01     MOVLW     0x1                  DriverConfiguration = PIC_CONTROLS_EXTERNAL;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00461a   ec7d     CALL      0x60fa,0x0                                                                                      
0060fa   6e04                                                                                                               
                                                 // Connections to drivers become inputs                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00461c   f030     WORD2     0x30                 Enable1IO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0060fc   8096     BSF       0x96,0x0,0x0                                                                                    
0060fe   8294     BSF       0x94,0x1,0x0         Enable2IO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
006100   8c95     BSF       0x95,0x6,0x0         Step1IO_TRIS = INPUT_PIN;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
006102   8e95     BSF       0x95,0x7,0x0         Dir1IO_TRIS = INPUT_PIN;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
006104   8895     BSF       0x95,0x4,0x0         Step2IO_TRIS = INPUT_PIN;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
006106   8a95     BSF       0x95,0x5,0x0         Dir2IO_TRIS = INPUT_PIN;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
006108   0012     RETURN    0x0                                                                                             
                                                 // Alternate I/O pins become outputs                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00461e   9494     BCF       0x94,0x2,0x0         Dir1AltIO_TRIS = OUTPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004620   9492     BCF       0x92,0x2,0x0         Dir2AltIO_TRIS = OUTPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004622   9c94     BCF       0x94,0x6,0x0         Step1AltIO_TRIS = OUTPUT_PIN;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004624   9a92     BCF       0x92,0x5,0x0         Step2AltIO_TRIS = OUTPUT_PIN;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004626   9295     BCF       0x95,0x1,0x0         Enable1AltIO_TRIS = OUTPUT_PIN;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004628   9292     BCF       0x92,0x1,0x0         Enable2AltIO_TRIS = OUTPUT_PIN;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00462a   d068     BRA       0x46fc             else if (Para2 == 2u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00462c   ec11     CALL      0x5e22,0x0                                                                                      
00462e   f02f                                                                                                               
004630   0e02     MOVLW     0x2                                                                                             
004632   18ee     XORWF     0xee,0x0,0x0                                                                                    
004634   e163     BNZ       0x46fc                                                                                          
004636   50ed     MOVF      0xed,0x0,0x0                                                                                    
004638   e161     BNZ       0x46fc                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00463a   0e02     MOVLW     0x2                  DriverConfiguration = EXTERNAL_CONTROLS_DRIVERS;                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00463c   ec7d     CALL      0x60fa,0x0                                                                                      
                                                 // Connections to drivers become inputs                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00463e   f030                                    Enable1IO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Enable2IO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Step1IO_TRIS = INPUT_PIN;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Dir1IO_TRIS = INPUT_PIN;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Step2IO_TRIS = INPUT_PIN;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Dir2IO_TRIS = INPUT_PIN;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Alternate I/O pins become inputs                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004640   8494     BSF       0x94,0x2,0x0         Dir1AltIO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004642   8492     BSF       0x92,0x2,0x0         Dir2AltIO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004644   8c94     BSF       0x94,0x6,0x0         Step1AltIO_TRIS = INPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004646   8a92     BSF       0x92,0x5,0x0         Step2AltIO_TRIS = INPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004648   8295     BSF       0x95,0x1,0x0         Enable1AltIO_TRIS = INPUT_PIN;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00464a   8292     BSF       0x92,0x1,0x0         Enable2AltIO_TRIS = INPUT_PIN;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                }                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set <min_servo> for Servo2 method                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00464c   d057     BRA       0x46fc           else if (Para1 == 4u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00464e   0e04     MOVLW     0x4                                                                                             
004650   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
004652   e107     BNZ       0x4662                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004654   0e01     MOVLW     0x1                g_servo2_min = Para2;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004656   cfdb     MOVFF     0xfdb,0x84                                                                                      
004658   f084                                                                                                               
00465a   0e02     MOVLW     0x2                                                                                             
00465c   cfdb     MOVFF     0xfdb,0x85                                                                                      
00465e   f085                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set <max_servo> for Servo2                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004660   d04d     BRA       0x46fc           else if (Para1 == 5u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004662   0e05     MOVLW     0x5                                                                                             
004664   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
004666   e107     BNZ       0x4676                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004668   0e01     MOVLW     0x1                g_servo2_max = Para2;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00466a   cfdb     MOVFF     0xfdb,0x82                                                                                      
00466c   f082                                                                                                               
00466e   0e02     MOVLW     0x2                                                                                             
004670   cfdb     MOVFF     0xfdb,0x83                                                                                      
004672   f083                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set <gRC2Slots>                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004674   d043     BRA       0x46fc           else if (Para1 == 8u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004676   0e08     MOVLW     0x8                                                                                             
004678   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
00467a   e10f     BNZ       0x469a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00467c   ec11     CALL      0x5e22,0x0         if (Para2 > MAX_RC2_SERVOS)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00467e   f02f                                                                                                               
004680   0e04     MOVLW     0x4                                                                                             
004682   80d8     BSF       0xd8,0x0,0x0                                                                                    
004684   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
004686   0e00     MOVLW     0x0                                                                                             
004688   54ed     SUBFWB    0xed,0x0,0x0                                                                                    
00468a   e203     BC        0x4692                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00468c   0e04     MOVLW     0x4                  Para2 = MAX_RC2_SERVOS;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00468e   eca4     CALL      0x6148,0x0                                                                                      
004690   f030                                                                                                               
006148   6ef3     MOVWF     0xf3,0x0                                                                                        
00614a   0e01     MOVLW     0x1                                                                                             
00614c   cff3     MOVFF     0xff3,0xfdb                                                                                     
00614e   ffdb                                                                                                               
006150   0e02     MOVLW     0x2                                                                                             
006152   6adb     CLRF      0xdb,0x0                                                                                        
006154   0012     RETURN    0x0                                                                                             
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004692   0e01     MOVLW     0x1                gRC2Slots = Para2;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004694   cfdb     MOVFF     0xfdb,0x7e                                                                                      
004696   f07e                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004698   d031     BRA       0x46fc           else if (Para1 == 9u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00469a   0e09     MOVLW     0x9                                                                                             
00469c   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
00469e   e10f     BNZ       0x46be                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0046a0   ec11     CALL      0x5e22,0x0         if (Para2 > 6u)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0046a2   f02f                                                                                                               
0046a4   0e06     MOVLW     0x6                                                                                             
0046a6   80d8     BSF       0xd8,0x0,0x0                                                                                    
0046a8   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
0046aa   0e00     MOVLW     0x0                                                                                             
0046ac   54ed     SUBFWB    0xed,0x0,0x0                                                                                    
0046ae   e203     BC        0x46b6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0046b0   0e06     MOVLW     0x6                  Para2 = 6;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0046b2   eca4     CALL      0x6148,0x0                                                                                      
0046b4   f030                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0046b6   0e01     MOVLW     0x1                gRC2SlotMS = Para2;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0046b8   cfdb     MOVFF     0xfdb,0x7f                                                                                      
0046ba   f07f                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0046bc   d01f     BRA       0x46fc           else if (Para1 == 10u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0046be   0e0a     MOVLW     0xa                                                                                             
0046c0   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0046c2   e103     BNZ       0x46ca                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0046c4   ecab     CALL      0x6156,0x0         g_servo2_rate_up = Para2;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0046c6   f030                                                                                                               
006156   0e01     MOVLW     0x1                                                                                             
006158   cfdb     MOVFF     0xfdb,0x86                                                                                      
00615a   f086                                                                                                               
00615c   0e02     MOVLW     0x2                                                                                             
00615e   cfdb     MOVFF     0xfdb,0x87                                                                                      
006160   f087                                                                                                               
006162   0012     RETURN    0x0                                                                                             
                                               g_servo2_rate_down = Para2;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0046c8   d009     BRA       0x46dc           else if (Para1 == 11u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0046ca   0e0b     MOVLW     0xb                                                                                             
0046cc   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0046ce   e103     BNZ       0x46d6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0046d0   ecab     CALL      0x6156,0x0         g_servo2_rate_up = Para2;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0046d2   f030                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0046d4   d013     BRA       0x46fc           else if (Para1 == 12u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0046d6   0e0c     MOVLW     0xc                                                                                             
0046d8   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0046da   e107     BNZ       0x46ea                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0046dc   0e01     MOVLW     0x1                g_servo2_rate_down = Para2;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0046de   cfdb     MOVFF     0xfdb,0x88                                                                                      
0046e0   f088                                                                                                               
0046e2   0e02     MOVLW     0x2                                                                                             
0046e4   cfdb     MOVFF     0xfdb,0x89                                                                                      
0046e6   f089                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0046e8   d009     BRA       0x46fc             else if (Para1 == 13u)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0046ea   0e0d     MOVLW     0xd                                                                                             
0046ec   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0046ee   e106     BNZ       0x46fc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0046f0   eccf     CALL      0x639e,0x0         if (Para2)                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0046f2   f031                                                                                                               
0046f4   e002     BZ        0x46fa                                                                                          
005e22   50d9     MOVF      0xd9,0x0,0x0                                                                                    
005e24   0f01     ADDLW     0x1                                                                                             
005e26   6ee9     MOVWF     0xe9,0x0                                                                                        
005e28   cfda     MOVFF     0xfda,0xfea                                                                                     
005e2a   ffea                                                                                                               
005e2c   0012     RETURN    0x0                                                                                             
00639e   dd41     RCALL     0x5e22                                                                                          
0063a0   50ee     MOVF      0xee,0x0,0x0                                                                                    
0063a2   10ed     IORWF     0xed,0x0,0x0                                                                                    
0063a4   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0046f6   8008     BSF       0x8,0x0,0x0          bitsetzero(UseAltPause);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0046f8   d001     BRA       0x46fc             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0046fa   9008     BCF       0x8,0x0,0x0          bitclrzero(UseAltPause);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0046fc   ecb9     CALL      0x5d72,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0046fe   f02e                                                                                                               
004700   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004702   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
004704   e202     BC        0x470a                                                                                          
004706   6ae1     CLRF      0xe1,0x0                                                                                        
004708   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00470a   efb2     GOTO      0x5d64                                                                                          
00470c   f02e                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Low Level Move command                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: LM,<Rate1>,<Steps1>,<Accel1>,<Rate2>,<Steps2>,<Accel2>,<ClearAccs><CR> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Is for doing low level moves with optional acceleration.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Rate1> and <Rate2> are signed 32-bit integers                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Negative values indicate movement in the opposite direction.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // They are the values added to the accumulator every 25KHz.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Steps1> and <Steps2> are signed 32-bit integers. Each axis will take         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <steps> steps and then stop.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Once both axis are done moving, the command is complete.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that as a legacy mode for v2.8.0 and below                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // software versions you can use the sign of the steps values to control the     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // initial direction of each axis.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Accel1> and <Accel2> are 32 bit signed integers. Their values are added to   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Rate1> and <Rate2> respectively every ISR tick.                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is optional. A value of 0 will do nothing. A value of 1 will      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // clear Motor 1's accumulator before starting the move. A value of 2 will       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // clear Motor 2's accumulator. And a value of 3 will clear both.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00470e   ece4     CALL      0x63c8,0x0     void parse_LM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004710   f031                                                                                                               
0063c8   dfc7     RCALL     0x6358                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ExtractReturnType ClearRet;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0063ca   d8b6     RCALL     0x6538           clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
006538   ecca     CALL      0x4394,0x0                                                                                      
00653a   f021                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00653c   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00653e   ec81     CALL      0x5d02,0x0                                                                                      
006540   f02e                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0063cc   0ed3     MOVLW     0xd3             extract_number(kLONG,  &gRate1,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0063ce   6ee6     MOVWF     0xe6,0x0                                                                                        
0063d0   0e01     MOVLW     0x1                                                                                             
0063d2   deef     RCALL     0x61b2                                                                                          
006542   6ae6     CLRF      0xe6,0x0                                                                                        
006544   0012     RETURN    0x0                                                                                             
0063d4   0ed7     MOVLW     0xd7             extract_number(kLONG,  &gSteps1,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0063d6   6ee6     MOVWF     0xe6,0x0                                                                                        
0063d8   0e01     MOVLW     0x1                                                                                             
0063da   d0bd     BRA       0x6556                                                                                          
006556   de2d     RCALL     0x61b2                                                                                          
006558   0edb     MOVLW     0xdb             extract_number(kLONG,  &gAccel1,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00655a   6ee6     MOVWF     0xe6,0x0                                                                                        
00655c   0e01     MOVLW     0x1                                                                                             
00655e   efd9     GOTO      0x61b2                                                                                          
006560   f030                                                                                                               
004712   0ee3     MOVLW     0xe3             extract_number(kLONG,  &gRate2,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004714   6ee6     MOVWF     0xe6,0x0                                                                                        
004716   0e01     MOVLW     0x1                                                                                             
004718   ec63     CALL      0x64c6,0x0                                                                                      
00471a   f032                                                                                                               
00471c   ec3a     CALL      0x6474,0x0       extract_number(kLONG,  &gSteps2,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00471e   f032                                                                                                               
                                             extract_number(kLONG,  &gAccel2,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004720   6edf     MOVWF     0xdf,0x0         ClearRet = extract_number(kULONG, &gClearAccs, kOPTIONAL);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004722   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004724   5197     MOVF      0x97,0x0,0x1                                                                                    
004726   e127     BNZ       0x4776                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004728   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00472a   51c4     MOVF      0xc4,0x0,0x1                                                                                    
00472c   e01d     BZ        0x4768                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Quickly eliminate obvious invalid parameter combinations,                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // like LM,1,0,2,0,0,0. Or LM,0,1,0,0,0,0,0 GH issue #78                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if (                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00472e   51d3     MOVF      0xd3,0x0,0x1           ((gRate1 == 0) && (gAccel1 == 0))                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004730   11d4     IORWF     0xd4,0x0,0x1                                                                                    
004732   11d5     IORWF     0xd5,0x0,0x1                                                                                    
004734   11d6     IORWF     0xd6,0x0,0x1                                                                                    
004736   e105     BNZ       0x4742                                                                                          
004738   51db     MOVF      0xdb,0x0,0x1                                                                                    
00473a   11dc     IORWF     0xdc,0x0,0x1                                                                                    
00473c   11dd     IORWF     0xdd,0x0,0x1                                                                                    
00473e   11de     IORWF     0xde,0x0,0x1                                                                                    
004740   e003     BZ        0x4748                                                                                          
                                                   ||                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004742   ece3     CALL      0x5fc6,0x0             (gSteps1 == 0)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004744   f02f                                                                                                               
004746   e110     BNZ       0x4768               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 &&                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004748   51e3     MOVF      0xe3,0x0,0x1           ((gRate2 == 0) && (gAccel2 == 0))                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00474a   11e4     IORWF     0xe4,0x0,0x1                                                                                    
00474c   11e5     IORWF     0xe5,0x0,0x1                                                                                    
00474e   11e6     IORWF     0xe6,0x0,0x1                                                                                    
004750   e105     BNZ       0x475c                                                                                          
004752   51eb     MOVF      0xeb,0x0,0x1                                                                                    
004754   11ec     IORWF     0xec,0x0,0x1                                                                                    
004756   11ed     IORWF     0xed,0x0,0x1                                                                                    
004758   11ee     IORWF     0xee,0x0,0x1                                                                                    
00475a   e003     BZ        0x4762                                                                                          
                                                   ||                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00475c   ece8     CALL      0x5fd0,0x0             (gSteps2 == 0)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00475e   f02f                                                                                                               
004760   e103     BNZ       0x4768               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004762   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004764   8d97     BSF       0x97,0x6,0x1                                                                                    
004766   d007     BRA       0x4776               return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // We don't need Intervals or Jerks, so set them to zero before calling low_level D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004768   ecc5     CALL      0x618a,0x0       gIntervals = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00476a   f030                                                                                                               
00476c   ecf9     CALL      0x5ff2,0x0       gJerk1 = 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00476e   f02f                                                                                                               
005ff2   6bdf     CLRF      0xdf,0x1                                                                                        
005ff4   6be0     CLRF      0xe0,0x1                                                                                        
005ff6   6be1     CLRF      0xe1,0x1                                                                                        
005ff8   6be2     CLRF      0xe2,0x1                                                                                        
005ffa   6bef     CLRF      0xef,0x1         gJerk2 = 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005ffc   6bf0     CLRF      0xf0,0x1                                                                                        
005ffe   6bf1     CLRF      0xf1,0x1                                                                                        
006000   6bf2     CLRF      0xf2,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004770   6ae6     CLRF      0xe6,0x0         process_low_level_move(FALSE, ClearRet);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004772   ec73     CALL      0x60e6,0x0                                                                                      
004774   f030                                                                                                               
006002   cfdf     MOVFF     0xfdf,0xfe6                                                                                     
006004   ffe6                                                                                                               
006006   0012     RETURN    0x0                                                                                             
004776   ef69     GOTO      0x5ed2         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004778   f02f                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Low Level third derivative Move command                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: L3,<Rate1>,<Steps1>,<Accel1>,<Jerk1>,<Rate2>,<Steps2>,<Accel2>,<Jerk2>,<ClearAccs><CR> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Is for doing low level moves with optional acceleration and jerk,             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Rate1> and <Rate2> are signed 32-bit integers                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Negative values indicate movement in the opposite direction.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // They are the values added to the accumulator every 25KHz.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Steps1> and <Steps2> are signed 32-bit integers. Each axis will take         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <steps> steps and then stop.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Once both axis are done moving, the command is complete.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Accel1> and <Accel2> are 32 bit signed integers. Their values are added to   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Rate1> and <Rate2> respectively every ISR tick.                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Jerk1> and <Jerk2> are applied to <Rate1> and <Rate2> every ISR tick.        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // See full EBB docs for more complete documentation.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that as a legacy mode for compatibility with v2.8.0 and below            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // software versions. You can use the sign of the steps values to control the    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // initial direction of each axis, but then <Rate> must not be negative.         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is optional. A value of 0 will do nothing. A value of 1 will      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // clear Motor 1's accumulator before starting the move. A value of 2 will       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // clear Motor 2's accumulator. And a value of 3 will clear both.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00477a   ece4     CALL      0x63c8,0x0     void parse_L3_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00477c   f031                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ExtractReturnType ClearRet;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kLONG,  &gRate1,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kLONG,  &gSteps1,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kLONG,  &gAccel1,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00477e   eca3     CALL      0x6546,0x0       extract_number(kLONG,  &gJerk1,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004780   f032                                                                                                               
006546   0edf     MOVLW     0xdf                                                                                            
006548   6ee6     MOVWF     0xe6,0x0                                                                                        
00654a   0e01     MOVLW     0x1                                                                                             
00654c   de32     RCALL     0x61b2                                                                                          
004782   ec63     CALL      0x64c6,0x0       extract_number(kLONG,  &gRate2,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004784   f032                                                                                                               
0064c6   de75     RCALL     0x61b2                                                                                          
00654e   0ee3     MOVLW     0xe3                                                                                            
006550   6ee6     MOVWF     0xe6,0x0                                                                                        
006552   0e01     MOVLW     0x1                                                                                             
006554   0012     RETURN    0x0                                                                                             
004786   ecee     CALL      0x63dc,0x0       extract_number(kLONG,  &gSteps2,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004788   f031                                                                                                               
0063dc   deea     RCALL     0x61b2                                                                                          
0064c8   0ee7     MOVLW     0xe7                                                                                            
0064ca   6ee6     MOVWF     0xe6,0x0                                                                                        
0064cc   0e01     MOVLW     0x1                                                                                             
0064ce   0012     RETURN    0x0                                                                                             
0063de   0eeb     MOVLW     0xeb             extract_number(kLONG,  &gAccel2,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0063e0   6ee6     MOVWF     0xe6,0x0                                                                                        
0063e2   0e01     MOVLW     0x1                                                                                             
0063e4   dee6     RCALL     0x61b2                                                                                          
0063e6   0eef     MOVLW     0xef             extract_number(kLONG,  &gJerk2,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0063e8   6ee6     MOVWF     0xe6,0x0                                                                                        
0063ea   0e01     MOVLW     0x1                                                                                             
0063ec   dee7     RCALL     0x61bc                                                                                          
0063ee   6edf     MOVWF     0xdf,0x0         ClearRet = extract_number(kULONG, &gClearAccs, kOPTIONAL);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00478a   e131     BNZ       0x47ee           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0063f0   0100     MOVLB     0x0                                                                                             
0063f2   5197     MOVF      0x97,0x0,0x1                                                                                    
0063f4   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00478c   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00478e   51c4     MOVF      0xc4,0x0,0x1                                                                                    
004790   e027     BZ        0x47e0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Quickly eliminate obvious invalid parameter combinations,                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // like L3,1,0,2,3,0,0,0,0. Or L3,0,1,0,0,0,0,0,0,0 GH issue #78             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if (                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004792   51d3     MOVF      0xd3,0x0,0x1           ((gRate1 == 0) && (gAccel1 == 0) && (gJerk1 == 0))                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004794   11d4     IORWF     0xd4,0x0,0x1                                                                                    
004796   11d5     IORWF     0xd5,0x0,0x1                                                                                    
004798   11d6     IORWF     0xd6,0x0,0x1                                                                                    
00479a   e10a     BNZ       0x47b0                                                                                          
00479c   51db     MOVF      0xdb,0x0,0x1                                                                                    
00479e   11dc     IORWF     0xdc,0x0,0x1                                                                                    
0047a0   11dd     IORWF     0xdd,0x0,0x1                                                                                    
0047a2   11de     IORWF     0xde,0x0,0x1                                                                                    
0047a4   e105     BNZ       0x47b0                                                                                          
0047a6   51df     MOVF      0xdf,0x0,0x1                                                                                    
0047a8   11e0     IORWF     0xe0,0x0,0x1                                                                                    
0047aa   11e1     IORWF     0xe1,0x0,0x1                                                                                    
0047ac   11e2     IORWF     0xe2,0x0,0x1                                                                                    
0047ae   e003     BZ        0x47b6                                                                                          
                                                   ||                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0047b0   ece3     CALL      0x5fc6,0x0             (gSteps1 == 0)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0047b2   f02f                                                                                                               
0047b4   e115     BNZ       0x47e0               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 &&                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0047b6   51e3     MOVF      0xe3,0x0,0x1           ((gRate2 == 0) && (gAccel2 == 0) && (gJerk1 == 0))                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0047b8   11e4     IORWF     0xe4,0x0,0x1                                                                                    
0047ba   11e5     IORWF     0xe5,0x0,0x1                                                                                    
0047bc   11e6     IORWF     0xe6,0x0,0x1                                                                                    
0047be   e10a     BNZ       0x47d4                                                                                          
0047c0   51eb     MOVF      0xeb,0x0,0x1                                                                                    
0047c2   11ec     IORWF     0xec,0x0,0x1                                                                                    
0047c4   11ed     IORWF     0xed,0x0,0x1                                                                                    
0047c6   11ee     IORWF     0xee,0x0,0x1                                                                                    
0047c8   e105     BNZ       0x47d4                                                                                          
0047ca   51df     MOVF      0xdf,0x0,0x1                                                                                    
0047cc   11e0     IORWF     0xe0,0x0,0x1                                                                                    
0047ce   11e1     IORWF     0xe1,0x0,0x1                                                                                    
0047d0   11e2     IORWF     0xe2,0x0,0x1                                                                                    
0047d2   e003     BZ        0x47da                                                                                          
                                                   ||                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0047d4   ece8     CALL      0x5fd0,0x0             (gSteps2 == 0)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0047d6   f02f                                                                                                               
0047d8   e103     BNZ       0x47e0               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0047da   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0047dc   8d97     BSF       0x97,0x6,0x1                                                                                    
0047de   d007     BRA       0x47ee               return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // We don't use Intervals, so set it to zero here                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0047e0   ecc5     CALL      0x618a,0x0       gIntervals = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0047e2   f030                                                                                                               
00618a   6bcb     CLRF      0xcb,0x1                                                                                        
00618c   6bcc     CLRF      0xcc,0x1                                                                                        
00618e   6bcd     CLRF      0xcd,0x1                                                                                        
006190   6bce     CLRF      0xce,0x1                                                                                        
006192   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0047e4   cfdf     MOVFF     0xfdf,0xfe6      process_low_level_move(FALSE, ClearRet);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0047e6   ffe6                                                                                                               
0047e8   6ae6     CLRF      0xe6,0x0                                                                                        
0047ea   ec73     CALL      0x60e6,0x0                                                                                      
0047ec   f030                                                                                                               
0047ee   ef69     GOTO      0x5ed2         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0047f0   f02f                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Low Level Timed third derivative Move command                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: L3,<Intervals>,<Rate1>,<Accel1>,<Jerk1>,<Rate2>,<Accel2>,<Jerk2>,<ClearAccs><CR> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This command is a modified version of the LM command. Instead of stepping for a certain number of steps D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // on each axis at a given rate (with an acceleration term for each as well), this command will step  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // for a certain duration, no matter the step count. The rate and acceleration of each axis are still D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // specified separately.                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that <Intervals> is a 32-bit unsigned int and is in units of ISR ticks.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Accel1> and <Accel2> are 32 bit signed ints                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Rate1> and <Rate2> are 32 bit signed ints                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Jerk1> and <Jerk2> are 32 bit signed ints                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The sign of <Rate1> and <Rate2> determine the direction that the axis will move. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // After the signs are taken into account for direction purposes, the Rate values D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // are converted to unsigned 31 bit numbers.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is optional. A value of 0 will do nothing. A value of 1 will clear Motor 1's accumulator before D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // starting the move. A value of 2 will clear Motor 2's accumulator. And a value of 3 will clear both. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0047f2   ecfb     CALL      0x63f6,0x0     void parse_T3_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0047f4   f031                                                                                                               
0063f6   dfb0     RCALL     0x6358                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ExtractReturnType ClearRet;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0063f8   defa     RCALL     0x61ee           clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kULONG, &gIntervals, kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0063fa   6ae6     CLRF      0xe6,0x0         extract_number(kLONG,  &gRate1,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0063fc   0ed3     MOVLW     0xd3                                                                                            
0063fe   6ee6     MOVWF     0xe6,0x0                                                                                        
006400   0e01     MOVLW     0x1                                                                                             
006402   d0a9     BRA       0x6556                                                                                          
                                             extract_number(kLONG,  &gAccel1,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0047f6   eca3     CALL      0x6546,0x0       extract_number(kLONG,  &gJerk1,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0047f8   f032                                                                                                               
0047fa   ecee     CALL      0x63dc,0x0       extract_number(kLONG,  &gRate2,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0047fc   f031                                                                                                               
                                             extract_number(kLONG,  &gAccel2,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kLONG,  &gJerk2,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ClearRet = extract_number(kULONG, &gClearAccs, kOPTIONAL);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0047fe   e111     BNZ       0x4822           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004800   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004802   51c4     MOVF      0xc4,0x0,0x1                                                                                    
004804   e006     BZ        0x4812                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Eliminate obvious invalid parameter combinations,                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // like LT,0,X,X,X,X,X                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004806   ec1f     CALL      0x603e,0x0         if (gIntervals == 0u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004808   f030                                                                                                               
00480a   e103     BNZ       0x4812                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00480c   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00480e   8d97     BSF       0x97,0x6,0x1                                                                                    
004810   d008     BRA       0x4822               return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // We don't use Steps so clear them here before calling low_level              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004812   ec24     CALL      0x6048,0x0       gSteps1 = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004814   f030                                                                                                               
006048   6bd7     CLRF      0xd7,0x1                                                                                        
00604a   6bd8     CLRF      0xd8,0x1                                                                                        
00604c   6bd9     CLRF      0xd9,0x1                                                                                        
00604e   6bda     CLRF      0xda,0x1                                                                                        
006050   6be7     CLRF      0xe7,0x1         gSteps2 = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
006052   6be8     CLRF      0xe8,0x1                                                                                        
006054   6be9     CLRF      0xe9,0x1                                                                                        
006056   6bea     CLRF      0xea,0x1                                                                                        
006058   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004816   cfdf     MOVFF     0xfdf,0xfe6      process_low_level_move(TRUE, ClearRet);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004818   ffe6                                                                                                               
00481a   0e01     MOVLW     0x1                                                                                             
00481c   6ee6     MOVWF     0xe6,0x0                                                                                        
00481e   ec73     CALL      0x60e6,0x0                                                                                      
004820   f030                                                                                                               
004822   ef69     GOTO      0x5ed2         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004824   f02f                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Low Level Timed Move command                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: LT,<Intervals>,<Rate1>,<Accel1>,<Rate2>,<Accel2>,<ClearAccs><CR>       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This command is a modified version of the LM command. Instead of stepping for a certain number of steps D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // on each axis at a given rate (with an acceleration term for each as well), this command will step  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // for a certain duration, no matter the step count. The rate and acceleration of each axis are still D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // specified separately.                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that <Intervals> is a 32-bit unsigned int and is in units of ISR ticks.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Accel1> and <Accel2> are 32 bit signed ints, and <Rate1> and <Rate2> are 32 bit signed ints.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The sign of <Rate1> and <Rate2> determine the direction that the axis will move. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // After the signs are taken into account for direction purposes, the Rate values D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // are converted to unsigned 31 bit numbers.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is optional. A value of 0 will do nothing. A value of 1 will clear Motor 1's accumulator before D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // starting the move. A value of 2 will clear Motor 2's accumulator. And a value of 3 will clear both. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004826   ecfb     CALL      0x63f6,0x0     void parse_LT_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004828   f031                                                                                                               
006358   dd07     RCALL     0x5d68                                                                                          
00635a   52e6     MOVF      0xe6,0x1,0x0                                                                                    
00635c   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ExtractReturnType ClearRet;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kULONG, &gIntervals, kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kLONG,  &gRate1,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kLONG,  &gAccel1,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00482a   0ee3     MOVLW     0xe3             extract_number(kLONG,  &gRate2,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00482c   6ee6     MOVWF     0xe6,0x0                                                                                        
00482e   0e01     MOVLW     0x1                                                                                             
004830   ec3a     CALL      0x6474,0x0                                                                                      
004832   f032                                                                                                               
006474   de9e     RCALL     0x61b2                                                                                          
0061bc   d961     RCALL     0x6480           extract_number(kLONG,  &gAccel2,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
006476   0eeb     MOVLW     0xeb                                                                                            
006478   6ee6     MOVWF     0xe6,0x0                                                                                        
00647a   0e01     MOVLW     0x1                                                                                             
00647c   efde     GOTO      0x61bc                                                                                          
00647e   f030                                                                                                               
006480   6ee6     MOVWF     0xe6,0x0                                                                                        
006482   0e06     MOVLW     0x6                                                                                             
006484   ece8     CALL      0x5bd0,0x0                                                                                      
006486   f02d                                                                                                               
004834   6edf     MOVWF     0xdf,0x0         ClearRet = extract_number(kULONG, &gClearAccs, kOPTIONAL);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0061be   6ee6     MOVWF     0xe6,0x0                                                                                        
0061c0   0ecf     MOVLW     0xcf                                                                                            
0061c2   6ee6     MOVWF     0xe6,0x0                                                                                        
0061c4   0e01     MOVLW     0x1                                                                                             
0061c6   ef95     GOTO      0x652a                                                                                          
0061c8   f032                                                                                                               
006488   0e01     MOVLW     0x1                                                                                             
00648a   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004836   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004838   5197     MOVF      0x97,0x0,0x1                                                                                    
00483a   e111     BNZ       0x485e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00483c   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00483e   51c4     MOVF      0xc4,0x0,0x1                                                                                    
004840   e006     BZ        0x484e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Eliminate obvious invalid parameter combinations,                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // like LT,0,X,X,X,X,X                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004842   ec1f     CALL      0x603e,0x0         if (gIntervals == 0u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004844   f030                                                                                                               
004846   e103     BNZ       0x484e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004848   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00484a   8d97     BSF       0x97,0x6,0x1                                                                                    
00484c   d008     BRA       0x485e               return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // We don't use Steps or Jerk, so set them to zero here                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00484e   ec24     CALL      0x6048,0x0       gSteps1 = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004850   f030                                                                                                               
                                             gSteps2 = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004852   ecf9     CALL      0x5ff2,0x0       gJerk1 = 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004854   f02f                                                                                                               
                                             gJerk2 = 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004856   0e01     MOVLW     0x1              process_low_level_move(TRUE, ClearRet);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004858   6ee6     MOVWF     0xe6,0x0                                                                                        
00485a   ec73     CALL      0x60e6,0x0                                                                                      
00485c   f030                                                                                                               
0060e6   ec31     CALL      0x4862,0x0                                                                                      
0060e8   f024                                                                                                               
0060ea   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0060ec   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0060ee   0012     RETURN    0x0                                                                                             
00485e   ef69     GOTO      0x5ed2         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004860   f02f                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Because the code for LM, L3, LT and T3 is really the same we call a common    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // processing function from all of them once their parameters are parsed into    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // variables.                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The caller must understand that this function changes some/all of the         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // global values used to pass in parameters. If it needs to preserve any         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // of those values it should make copies.                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This function takes input parameters in:                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gIntervals                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gRate1                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gRate2                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gSteps1                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gSteps2                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gAccel1                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gAccel2                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gJerk1                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gJerk2                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gClearAccs                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004862   ecb4     CALL      0x5d68,0x0     void process_low_level_move(BOOL TimedMove, ExtractReturnType ClearRet)          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004864   f02e                                                                                                               
004866   0e05     MOVLW     0x5                                                                                             
004868   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00486a   6ade     CLRF      0xde,0x0         INT32 RateTemp = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00486c   6ade     CLRF      0xde,0x0                                                                                        
00486e   6ade     CLRF      0xde,0x0                                                                                        
004870   6add     CLRF      0xdd,0x0                                                                                        
004872   52dd     MOVF      0xdd,0x1,0x0                                                                                    
004874   52dd     MOVF      0xdd,0x1,0x0                                                                                    
                                             BOOL NeedNegativeAccumulator;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If we have a triggered limit switch, then ignore this move command          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004876   b00e     BTFSC     0xe,0x0,0x0      if (bittstzero(gLimitSwitchTriggered))                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004878   d22d     BRA       0x4cd4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00487a   b409     BTFSC     0x9,0x2,0x0      if (!bittst(TestMode, TEST_MODE_USART_ISR_NUM))                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00487c   d008     BRA       0x488e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00487e   ec04     CALL      0x6008,0x0         if (gClearAccs > 3u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004880   f030                                                                                                               
004882   e205     BC        0x488e                                                                                          
006008   80d8     BSF       0xd8,0x0,0x0                                                                                    
00600a   0e03     MOVLW     0x3                                                                                             
00600c   0101     MOVLB     0x1                                                                                             
00600e   55cf     SUBFWB    0xcf,0x0,0x1                                                                                    
006010   0e00     MOVLW     0x0                                                                                             
006012   55d0     SUBFWB    0xd0,0x0,0x1                                                                                    
006014   0e00     MOVLW     0x0                                                                                             
006016   55d1     SUBFWB    0xd1,0x0,0x1                                                                                    
006018   0e00     MOVLW     0x0                                                                                             
00601a   55d2     SUBFWB    0xd2,0x0,0x1                                                                                    
00601c   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004884   0e03     MOVLW     0x3                  gClearAccs = 3;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004886   6fcf     MOVWF     0xcf,0x1                                                                                        
004888   6bd0     CLRF      0xd0,0x1                                                                                        
00488a   6bd1     CLRF      0xd1,0x1                                                                                        
00488c   6bd2     CLRF      0xd2,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If not a timed move, check for legacy opposite direction support            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00488e   0efe     MOVLW     0xfe             if (!TimedMove)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004890   50db     MOVF      0xdb,0x0,0x0                                                                                    
004892   e132     BNZ       0x48f8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Since we will only use the sign of Rate as the signal for initial         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // stepper direction, if the user has sent us negative step counts, we       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // apply a 'legacy' mode rule here : if steps are negative, make sure        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // rate is positive, then make steps positive and rate negative and invert   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // acceleration too to compensate. After this step, the sign of rate completely D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // controls the direction.                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004894   0101     MOVLB     0x1                if (gSteps1 < 0)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004896   0e80     MOVLW     0x80                                                                                            
004898   15da     ANDWF     0xda,0x0,0x1                                                                                    
00489a   e014     BZ        0x48c4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00489c   0e80     MOVLW     0x80                 if (gRate1 < 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00489e   15d6     ANDWF     0xd6,0x0,0x1                                                                                    
0048a0   e117     BNZ       0x48d0                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0048a2   0e00     MOVLW     0x0                    gSteps1 = -gSteps1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0048a4   ec95     CALL      0x632a,0x0                                                                                      
0048a6   f031                                                                                                               
00632a   6dd7     NEGF      0xd7,0x1                                                                                        
00632c   1fd8     COMF      0xd8,0x1,0x1                                                                                    
00632e   23d8     ADDWFC    0xd8,0x1,0x1                                                                                    
006330   1fd9     COMF      0xd9,0x1,0x1                                                                                    
006332   23d9     ADDWFC    0xd9,0x1,0x1                                                                                    
006334   1fda     COMF      0xda,0x1,0x1                                                                                    
006336   23da     ADDWFC    0xda,0x1,0x1                                                                                    
006338   0012     RETURN    0x0                                                                                             
0048a8   6dd3     NEGF      0xd3,0x1               gRate1 = -gRate1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0048aa   1fd4     COMF      0xd4,0x1,0x1                                                                                    
0048ac   23d4     ADDWFC    0xd4,0x1,0x1                                                                                    
0048ae   1fd5     COMF      0xd5,0x1,0x1                                                                                    
0048b0   23d5     ADDWFC    0xd5,0x1,0x1                                                                                    
0048b2   1fd6     COMF      0xd6,0x1,0x1                                                                                    
0048b4   23d6     ADDWFC    0xd6,0x1,0x1                                                                                    
0048b6   6ddb     NEGF      0xdb,0x1               gAccel1 = -gAccel1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0048b8   1fdc     COMF      0xdc,0x1,0x1                                                                                    
0048ba   23dc     ADDWFC    0xdc,0x1,0x1                                                                                    
0048bc   1fdd     COMF      0xdd,0x1,0x1                                                                                    
0048be   23dd     ADDWFC    0xdd,0x1,0x1                                                                                    
0048c0   1fde     COMF      0xde,0x1,0x1                                                                                    
0048c2   23de     ADDWFC    0xde,0x1,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0048c4   0e80     MOVLW     0x80               if (gSteps2 < 0)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0048c6   15ea     ANDWF     0xea,0x0,0x1                                                                                    
0048c8   e017     BZ        0x48f8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0048ca   0e80     MOVLW     0x80                 if (gRate2 < 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0048cc   15e6     ANDWF     0xe6,0x0,0x1                                                                                    
0048ce   e003     BZ        0x48d6                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0048d0   0100     MOVLB     0x0                    bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0048d2   8d97     BSF       0x97,0x6,0x1                                                                                    
0048d4   d1ff     BRA       0x4cd4                 return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0048d6   0e00     MOVLW     0x0                    gSteps2 = -gSteps2;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0048d8   ec9d     CALL      0x633a,0x0                                                                                      
0048da   f031                                                                                                               
00633a   6de7     NEGF      0xe7,0x1                                                                                        
00633c   1fe8     COMF      0xe8,0x1,0x1                                                                                    
00633e   23e8     ADDWFC    0xe8,0x1,0x1                                                                                    
006340   1fe9     COMF      0xe9,0x1,0x1                                                                                    
006342   23e9     ADDWFC    0xe9,0x1,0x1                                                                                    
006344   1fea     COMF      0xea,0x1,0x1                                                                                    
006346   23ea     ADDWFC    0xea,0x1,0x1                                                                                    
006348   0012     RETURN    0x0                                                                                             
0048dc   6de3     NEGF      0xe3,0x1               gRate2 = -gRate2;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0048de   1fe4     COMF      0xe4,0x1,0x1                                                                                    
0048e0   23e4     ADDWFC    0xe4,0x1,0x1                                                                                    
0048e2   1fe5     COMF      0xe5,0x1,0x1                                                                                    
0048e4   23e5     ADDWFC    0xe5,0x1,0x1                                                                                    
0048e6   1fe6     COMF      0xe6,0x1,0x1                                                                                    
0048e8   23e6     ADDWFC    0xe6,0x1,0x1                                                                                    
0048ea   6deb     NEGF      0xeb,0x1               gAccel2 = -gAccel2;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0048ec   1fec     COMF      0xec,0x1,0x1                                                                                    
0048ee   23ec     ADDWFC    0xec,0x1,0x1                                                                                    
0048f0   1fed     COMF      0xed,0x1,0x1                                                                                    
0048f2   23ed     ADDWFC    0xed,0x1,0x1                                                                                    
0048f4   1fee     COMF      0xee,0x1,0x1                                                                                    
0048f6   23ee     ADDWFC    0xee,0x1,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0048f8   0101     MOVLB     0x1              gMoveTemp.m.sm.DirBits = 0;       // Start by assuming motors start CW         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0048fa   6b2a     CLRF      0x2a,0x1                                                                                        
0048fc   6b2b     CLRF      0x2b,0x1         gMoveTemp.m.sm.DelayCounter = 0;  // No delay for motor moves                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0048fe   6b2c     CLRF      0x2c,0x1                                                                                        
004900   6b2d     CLRF      0x2d,0x1                                                                                        
004902   6b2e     CLRF      0x2e,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Subtract off half of the Accel term and add 1/6th of the Jerk before we add the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // move to the queue. Why? Because it makes the math cleaner (see LM command   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // documentation)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004904   c1db     MOVFF     0x1db,0x40       gRate1 = gRate1 - (gAccel1/2) + (gJerk1/6);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004906   f040                                                                                                               
004908   c1dc     MOVFF     0x1dc,0x41                                                                                      
00490a   f041                                                                                                               
00490c   c1dd     MOVFF     0x1dd,0x42                                                                                      
00490e   f042                                                                                                               
004910   c1de     MOVFF     0x1de,0x43                                                                                      
004912   f043                                                                                                               
004914   0e02     MOVLW     0x2                                                                                             
004916   ecbe     CALL      0x5f7c,0x0                                                                                      
004918   f02f                                                                                                               
00491a   5040     MOVF      0x40,0x0,0x0                                                                                    
00491c   0101     MOVLB     0x1                                                                                             
00491e   5dd3     SUBWF     0xd3,0x0,0x1                                                                                    
004920   6e4e     MOVWF     0x4e,0x0                                                                                        
004922   5041     MOVF      0x41,0x0,0x0                                                                                    
004924   59d4     SUBWFB    0xd4,0x0,0x1                                                                                    
004926   6e4f     MOVWF     0x4f,0x0                                                                                        
004928   5042     MOVF      0x42,0x0,0x0                                                                                    
00492a   59d5     SUBWFB    0xd5,0x0,0x1                                                                                    
00492c   6e50     MOVWF     0x50,0x0                                                                                        
00492e   5043     MOVF      0x43,0x0,0x0                                                                                    
004930   59d6     SUBWFB    0xd6,0x0,0x1                                                                                    
004932   6e51     MOVWF     0x51,0x0                                                                                        
004934   c1df     MOVFF     0x1df,0x40                                                                                      
004936   f040                                                                                                               
004938   c1e0     MOVFF     0x1e0,0x41                                                                                      
00493a   f041                                                                                                               
00493c   c1e1     MOVFF     0x1e1,0x42                                                                                      
00493e   f042                                                                                                               
004940   c1e2     MOVFF     0x1e2,0x43                                                                                      
004942   f043                                                                                                               
004944   0e06     MOVLW     0x6                                                                                             
004946   ecbe     CALL      0x5f7c,0x0                                                                                      
004948   f02f                                                                                                               
00494a   504e     MOVF      0x4e,0x0,0x0                                                                                    
00494c   2440     ADDWF     0x40,0x0,0x0                                                                                    
00494e   0101     MOVLB     0x1                                                                                             
004950   6fd3     MOVWF     0xd3,0x1                                                                                        
004952   504f     MOVF      0x4f,0x0,0x0                                                                                    
004954   2041     ADDWFC    0x41,0x0,0x0                                                                                    
004956   6fd4     MOVWF     0xd4,0x1                                                                                        
004958   5050     MOVF      0x50,0x0,0x0                                                                                    
00495a   2042     ADDWFC    0x42,0x0,0x0                                                                                    
00495c   6fd5     MOVWF     0xd5,0x1                                                                                        
00495e   5051     MOVF      0x51,0x0,0x0                                                                                    
004960   2043     ADDWFC    0x43,0x0,0x0                                                                                    
004962   6fd6     MOVWF     0xd6,0x1                                                                                        
004964   c1eb     MOVFF     0x1eb,0x40       gRate2 = gRate2 - (gAccel2/2) + (gJerk2/6);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004966   f040                                                                                                               
004968   c1ec     MOVFF     0x1ec,0x41                                                                                      
00496a   f041                                                                                                               
00496c   c1ed     MOVFF     0x1ed,0x42                                                                                      
00496e   f042                                                                                                               
004970   c1ee     MOVFF     0x1ee,0x43                                                                                      
004972   f043                                                                                                               
004974   0e02     MOVLW     0x2                                                                                             
004976   ecbe     CALL      0x5f7c,0x0                                                                                      
004978   f02f                                                                                                               
00497a   5040     MOVF      0x40,0x0,0x0                                                                                    
00497c   0101     MOVLB     0x1                                                                                             
00497e   5de3     SUBWF     0xe3,0x0,0x1                                                                                    
004980   6e4e     MOVWF     0x4e,0x0                                                                                        
004982   5041     MOVF      0x41,0x0,0x0                                                                                    
004984   59e4     SUBWFB    0xe4,0x0,0x1                                                                                    
004986   6e4f     MOVWF     0x4f,0x0                                                                                        
004988   5042     MOVF      0x42,0x0,0x0                                                                                    
00498a   59e5     SUBWFB    0xe5,0x0,0x1                                                                                    
00498c   6e50     MOVWF     0x50,0x0                                                                                        
00498e   5043     MOVF      0x43,0x0,0x0                                                                                    
004990   59e6     SUBWFB    0xe6,0x0,0x1                                                                                    
004992   6e51     MOVWF     0x51,0x0                                                                                        
004994   c1ef     MOVFF     0x1ef,0x40                                                                                      
004996   f040                                                                                                               
004998   c1f0     MOVFF     0x1f0,0x41                                                                                      
00499a   f041                                                                                                               
00499c   c1f1     MOVFF     0x1f1,0x42                                                                                      
00499e   f042                                                                                                               
0049a0   c1f2     MOVFF     0x1f2,0x43                                                                                      
0049a2   f043                                                                                                               
0049a4   0e06     MOVLW     0x6                                                                                             
0049a6   ecbe     CALL      0x5f7c,0x0                                                                                      
0049a8   f02f                                                                                                               
0049aa   504e     MOVF      0x4e,0x0,0x0                                                                                    
0049ac   2440     ADDWF     0x40,0x0,0x0                                                                                    
0049ae   0101     MOVLB     0x1                                                                                             
0049b0   6fe3     MOVWF     0xe3,0x1                                                                                        
0049b2   504f     MOVF      0x4f,0x0,0x0                                                                                    
0049b4   2041     ADDWFC    0x41,0x0,0x0                                                                                    
0049b6   6fe4     MOVWF     0xe4,0x1                                                                                        
0049b8   5050     MOVF      0x50,0x0,0x0                                                                                    
0049ba   2042     ADDWFC    0x42,0x0,0x0                                                                                    
0049bc   6fe5     MOVWF     0xe5,0x1                                                                                        
0049be   5051     MOVF      0x51,0x0,0x0                                                                                    
0049c0   2043     ADDWFC    0x43,0x0,0x0                                                                                    
0049c2   6fe6     MOVWF     0xe6,0x1                                                                                        
005f7c   6e45     MOVWF     0x45,0x0                                                                                        
005f7e   6a46     CLRF      0x46,0x0                                                                                        
005f80   6a47     CLRF      0x47,0x0                                                                                        
005f82   6a48     CLRF      0x48,0x0                                                                                        
005f84   ef2b     GOTO      0x7456                                                                                          
005f86   f03a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // We will use the SEState move parameter to hold a bitfield. This bitfield    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // will tell the ISR if the accumulators need any special treatment when       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the command is loaded. We can zero it, or set it to 2^31-1, leave           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // it alone, or set it to an arbitrary value (when testing).                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If clearing the accumulator, there are certain conditions which require     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // us to start the accumulator at 2^31-1, so we check for those                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // conditions and we use two bits in SEState to indicate this.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0049c4   0101     MOVLB     0x1              gMoveTemp.m.sm.SEState = 0;           // Start with all bits clear             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0049c6   6b2f     CLRF      0x2f,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Determine what to do with the accumulators in UART_ISR_NUM test mode.       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // In this test mode, we are outputting all of the relevant variables after    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // each move, over the debug UART pin, for collection by the HIL test          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // system for comparison to the correct values (which are pre-computed on      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the PC).                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // This test mode gives the user the ability to 'preload' the accumulators     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // before the move begins, thus allowing a test where you can simulate         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the move beginning with any arbitrary value of the accumulator. This is     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // critical as certain tests require this ability to correctly check the       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // math in those situations.                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // This ability is implemented by overloading the last parameter sent in       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // for this command, gClearAccs. This is an optional parameter. If the         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // parameter is not present, then in this test mode that fact is interpreted   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // as a command to clear both accumulators to zero before the move begins.     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // However, if any value is present for this parameter, then ClearRet will     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // be set to kEXTRACT_OK, and gClearAccs will hold the desired starting value  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // of the accumulators. When this is true, both accumulators are set to        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the value of gClearAccs before the move begins.                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Because this extra logic is only triggered when the test mode is active,    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // it does not impact normal operation at all.                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0049c8   a409     BTFSS     0x9,0x2,0x0      if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0049ca   d016     BRA       0x49f8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // If the ISR_BIT_NUM test mode is on, then interpret the Clear parameter    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // as the initial value for Axis1 accumulator. There is no way currently     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // to perform this same trick for Axis2.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // We got a Clear parameter                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0049cc   0efd     MOVLW     0xfd               if (ClearRet == kEXTRACT_OK)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0049ce   50db     MOVF      0xdb,0x0,0x0                                                                                    
0049d0   e10d     BNZ       0x49ec                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0049d2   892f     BSF       0x2f,0x4,0x1         gMoveTemp.m.sm.SEState |= SESTATE_ARBITRARY_ACC1_BIT;                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0049d4   8b2f     BSF       0x2f,0x5,0x1         gMoveTemp.m.sm.SEState |= SESTATE_ARBITRARY_ACC2_BIT;                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0049d6   c1cf     MOVFF     0x1cf,0x12b          gMoveTemp.m.sm.DelayCounter = gClearAccs;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0049d8   f12b                                                                                                               
0049da   c1d0     MOVFF     0x1d0,0x12c                                                                                     
0049dc   f12c                                                                                                               
0049de   c1d1     MOVFF     0x1d1,0x12d                                                                                     
0049e0   f12d                                                                                                               
0049e2   c1d2     MOVFF     0x1d2,0x12e                                                                                     
0049e4   f12e                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // We want to fall through to the 'normal' code that deals with            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // accumulator clearing (looking ahead and negating, etc.). Since we know  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // that we are setting the accumulators to a pre-calculated value and      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // have told the ISR this with the two SEState bits above, we can set      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // gClearAccs to zero, which will mean the 'normal' code below ignores     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // the accumulators and doesn't zero or negate them.                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0049e6   0101     MOVLB     0x1                  gClearAccs = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0049e8   6bcf     CLRF      0xcf,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0049ea   d003     BRA       0x49f2             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // But if we didn't get a Clear parameter AND we are in UART_ISR test      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // mode, then treat it as if the user wants  both accumulators cleared.    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // We're going to fall through to the 'normal' code below that handles     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // this situation, by setting gClearAccs to 0x03, which tells the code     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // to clear (or negate) both accumulators.                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0049ec   0101     MOVLB     0x1                  gClearAccs = 3;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0049ee   0e03     MOVLW     0x3                                                                                             
0049f0   6fcf     MOVWF     0xcf,0x1                                                                                        
0049f2   6bd0     CLRF      0xd0,0x1                                                                                        
0049f4   6bd1     CLRF      0xd1,0x1                                                                                        
0049f6   6bd2     CLRF      0xd2,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // 'Normal' accumulator clear/negate logic:                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Test mode not active, so just check Clear parameter bits 0 and 1            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // to see if user wants to start move with cleared accumulator. If so,         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // check for need to invert accumulator when move loaded into FIFO.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0049f8   c1cf     MOVFF     0x1cf,0x4e       if (gClearAccs & 0x01)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0049fa   f04e                                                                                                               
0049fc   0e01     MOVLW     0x1                                                                                             
0049fe   ec2d     CALL      0x605a,0x0                                                                                      
004a00   f030                                                                                                               
004a02   e041     BZ        0x4a86                                                                                          
00605a   164e     ANDWF     0x4e,0x1,0x0                                                                                    
00605c   6a4f     CLRF      0x4f,0x0                                                                                        
00605e   6a50     CLRF      0x50,0x0                                                                                        
006060   6a51     CLRF      0x51,0x0                                                                                        
006062   504e     MOVF      0x4e,0x0,0x0                                                                                    
006064   104f     IORWF     0x4f,0x0,0x0                                                                                    
006066   1050     IORWF     0x50,0x0,0x0                                                                                    
006068   1051     IORWF     0x51,0x0,0x0                                                                                    
00606a   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004a04   0e04     MOVLW     0x4                NeedNegativeAccumulator = FALSE;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004a06   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004a08   0edb     MOVLW     0xdb               RateTemp = gRate1 + gAccel1;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004a0a   6ee9     MOVWF     0xe9,0x0                                                                                        
004a0c   0e01     MOVLW     0x1                                                                                             
004a0e   6eea     MOVWF     0xea,0x0                                                                                        
004a10   0101     MOVLB     0x1                                                                                             
004a12   51d3     MOVF      0xd3,0x0,0x1                                                                                    
004a14   24ee     ADDWF     0xee,0x0,0x0                                                                                    
004a16   6e4e     MOVWF     0x4e,0x0                                                                                        
004a18   51d4     MOVF      0xd4,0x0,0x1                                                                                    
004a1a   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
004a1c   6e4f     MOVWF     0x4f,0x0                                                                                        
004a1e   51d5     MOVF      0xd5,0x0,0x1                                                                                    
004a20   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
004a22   6e50     MOVWF     0x50,0x0                                                                                        
004a24   51d6     MOVF      0xd6,0x0,0x1                                                                                    
004a26   eca0     CALL      0x5d40,0x0                                                                                      
004a28   f02e                                                                                                               
004a2a   e602     BN        0x4a30             if (RateTemp < 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004a2c   ec45     CALL      0x5e8a,0x0                                                                                      
004a2e   f02f                                                                                                               
004a30   e31d     BNC       0x4a6c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 NeedNegativeAccumulator = TRUE;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004a32   ecbb     CALL      0x5d76,0x0           if (RateTemp == 0)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004a34   f02e                                                                                                               
004a36   e11f     BNZ       0x4a76                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004a38   0edf     MOVLW     0xdf                   RateTemp = gAccel1 + gJerk1;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004a3a   6ee9     MOVWF     0xe9,0x0                                                                                        
004a3c   0e01     MOVLW     0x1                                                                                             
004a3e   6eea     MOVWF     0xea,0x0                                                                                        
004a40   51db     MOVF      0xdb,0x0,0x1                                                                                    
004a42   24ee     ADDWF     0xee,0x0,0x0                                                                                    
004a44   6e4e     MOVWF     0x4e,0x0                                                                                        
004a46   51dc     MOVF      0xdc,0x0,0x1                                                                                    
004a48   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
004a4a   6e4f     MOVWF     0x4f,0x0                                                                                        
004a4c   51dd     MOVF      0xdd,0x0,0x1                                                                                    
004a4e   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
004a50   6e50     MOVWF     0x50,0x0                                                                                        
004a52   51de     MOVF      0xde,0x0,0x1                                                                                    
004a54   eca0     CALL      0x5d40,0x0                                                                                      
004a56   f02e                                                                                                               
004a58   e602     BN        0x4a5e                 if (RateTemp < 0)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004a5a   ec45     CALL      0x5e8a,0x0                                                                                      
004a5c   f02f                                                                                                               
004a5e   e306     BNC       0x4a6c                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     NeedNegativeAccumulator = TRUE;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004a60   ecbb     CALL      0x5d76,0x0               if (RateTemp == 0)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004a62   f02e                                                                                                               
004a64   e108     BNZ       0x4a76                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004a66   0e80     MOVLW     0x80                       if (gJerk1 < 0)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004a68   15e2     ANDWF     0xe2,0x0,0x1                                                                                    
004a6a   e005     BZ        0x4a76                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004a6c   0e01     MOVLW     0x1                          NeedNegativeAccumulator = TRUE;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004a6e   6ef3     MOVWF     0xf3,0x0                                                                                        
004a70   0e04     MOVLW     0x4                                                                                             
004a72   cff3     MOVFF     0xff3,0xfdb                                                                                     
004a74   ffdb                                                                                                               
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004a76   0e04     MOVLW     0x4                if (NeedNegativeAccumulator)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004a78   50db     MOVF      0xdb,0x0,0x0                                                                                    
004a7a   e003     BZ        0x4a82                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004a7c   0101     MOVLB     0x1                  gMoveTemp.m.sm.SEState |= SESTATE_NEGATE_ACC1_BIT;                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004a7e   852f     BSF       0x2f,0x2,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004a80   d002     BRA       0x4a86             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004a82   0101     MOVLB     0x1                  gMoveTemp.m.sm.SEState |= SESTATE_CLEAR_ACC1_BIT;                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004a84   812f     BSF       0x2f,0x0,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004a86   c1cf     MOVFF     0x1cf,0x4e       if (gClearAccs & 0x02)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004a88   f04e                                                                                                               
004a8a   0e02     MOVLW     0x2                                                                                             
004a8c   ec2d     CALL      0x605a,0x0                                                                                      
004a8e   f030                                                                                                               
004a90   e03f     BZ        0x4b10                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004a92   0e04     MOVLW     0x4                NeedNegativeAccumulator = FALSE;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004a94   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004a96   ecca     CALL      0x6194,0x0         RateTemp = gRate2 + gAccel2;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004a98   f030                                                                                                               
004a9a   0101     MOVLB     0x1                                                                                             
004a9c   51e3     MOVF      0xe3,0x0,0x1                                                                                    
004a9e   24ee     ADDWF     0xee,0x0,0x0                                                                                    
004aa0   6e4e     MOVWF     0x4e,0x0                                                                                        
004aa2   51e4     MOVF      0xe4,0x0,0x1                                                                                    
004aa4   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
004aa6   6e4f     MOVWF     0x4f,0x0                                                                                        
004aa8   51e5     MOVF      0xe5,0x0,0x1                                                                                    
004aaa   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
004aac   6e50     MOVWF     0x50,0x0                                                                                        
004aae   51e6     MOVF      0xe6,0x0,0x1                                                                                    
004ab0   eca0     CALL      0x5d40,0x0                                                                                      
004ab2   f02e                                                                                                               
004ab4   e602     BN        0x4aba             if (RateTemp < 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004ab6   ec45     CALL      0x5e8a,0x0                                                                                      
004ab8   f02f                                                                                                               
004aba   e31d     BNC       0x4af6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 NeedNegativeAccumulator = TRUE;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004abc   ecbb     CALL      0x5d76,0x0           if (RateTemp == 0)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004abe   f02e                                                                                                               
004ac0   e11f     BNZ       0x4b00                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004ac2   0eef     MOVLW     0xef                   RateTemp = gAccel2 + gJerk2;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004ac4   6ee9     MOVWF     0xe9,0x0                                                                                        
004ac6   0e01     MOVLW     0x1                                                                                             
004ac8   6eea     MOVWF     0xea,0x0                                                                                        
004aca   51eb     MOVF      0xeb,0x0,0x1                                                                                    
004acc   24ee     ADDWF     0xee,0x0,0x0                                                                                    
004ace   6e4e     MOVWF     0x4e,0x0                                                                                        
004ad0   51ec     MOVF      0xec,0x0,0x1                                                                                    
004ad2   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
004ad4   6e4f     MOVWF     0x4f,0x0                                                                                        
004ad6   51ed     MOVF      0xed,0x0,0x1                                                                                    
004ad8   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
004ada   6e50     MOVWF     0x50,0x0                                                                                        
004adc   51ee     MOVF      0xee,0x0,0x1                                                                                    
004ade   eca0     CALL      0x5d40,0x0                                                                                      
004ae0   f02e                                                                                                               
005d40   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
005d42   6e51     MOVWF     0x51,0x0                                                                                        
005d44   c04e     MOVFF     0x4e,0xfdf                                                                                      
005d46   ffdf                                                                                                               
005d48   0e01     MOVLW     0x1                                                                                             
005d4a   c04f     MOVFF     0x4f,0xfdb                                                                                      
005d4c   ffdb                                                                                                               
005d4e   0e02     MOVLW     0x2                                                                                             
005d50   c050     MOVFF     0x50,0xfdb                                                                                      
005d52   ffdb                                                                                                               
005d54   0e03     MOVLW     0x3                                                                                             
005d56   c051     MOVFF     0x51,0xfdb                                                                                      
005d58   ffdb                                                                                                               
004ae2   e602     BN        0x4ae8                 if (RateTemp < 0)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004ae4   ec45     CALL      0x5e8a,0x0                                                                                      
004ae6   f02f                                                                                                               
004ae8   e306     BNC       0x4af6                                                                                          
005d5a   dbbe     RCALL     0x64d8                                                                                          
005d5c   90d8     BCF       0xd8,0x0,0x0                                                                                    
005d5e   50eb     MOVF      0xeb,0x0,0x0                                                                                    
005d60   0a00     XORLW     0x0                                                                                             
005d62   0012     RETURN    0x0                                                                                             
005e8a   0e00     MOVLW     0x0                                                                                             
005e8c   5cee     SUBWF     0xee,0x0,0x0                                                                                    
005e8e   0e00     MOVLW     0x0                                                                                             
005e90   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
005e92   0e00     MOVLW     0x0                                                                                             
005e94   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
005e96   0e00     MOVLW     0x0                                                                                             
005e98   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
005e9a   0012     RETURN    0x0                                                                                             
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     NeedNegativeAccumulator = TRUE;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004aea   ecbb     CALL      0x5d76,0x0               if (RateTemp == 0)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004aec   f02e                                                                                                               
004aee   e108     BNZ       0x4b00                                                                                          
005d76   da56     RCALL     0x6224                                                                                          
005d78   504e     MOVF      0x4e,0x0,0x0                                                                                    
005d7a   104f     IORWF     0x4f,0x0,0x0                                                                                    
005d7c   1050     IORWF     0x50,0x0,0x0                                                                                    
005d7e   1051     IORWF     0x51,0x0,0x0                                                                                    
005d80   0012     RETURN    0x0                                                                                             
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004af0   0e80     MOVLW     0x80                       if (gJerk2 < 0)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004af2   15f2     ANDWF     0xf2,0x0,0x1                                                                                    
004af4   e005     BZ        0x4b00                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004af6   0e01     MOVLW     0x1                          NeedNegativeAccumulator = TRUE;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004af8   6ef3     MOVWF     0xf3,0x0                                                                                        
004afa   0e04     MOVLW     0x4                                                                                             
004afc   cff3     MOVFF     0xff3,0xfdb                                                                                     
004afe   ffdb                                                                                                               
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004b00   0e04     MOVLW     0x4                if (NeedNegativeAccumulator)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004b02   50db     MOVF      0xdb,0x0,0x0                                                                                    
004b04   e003     BZ        0x4b0c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004b06   0101     MOVLB     0x1                  gMoveTemp.m.sm.SEState |= SESTATE_NEGATE_ACC2_BIT;                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004b08   872f     BSF       0x2f,0x3,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004b0a   d002     BRA       0x4b10             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004b0c   0101     MOVLB     0x1                  gMoveTemp.m.sm.SEState |= SESTATE_CLEAR_ACC2_BIT;                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004b0e   832f     BSF       0x2f,0x1,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004b10   0edf     MOVLW     0xdf             gAccel1 = gAccel1 - gJerk1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004b12   6ee9     MOVWF     0xe9,0x0                                                                                        
004b14   0e01     MOVLW     0x1                                                                                             
004b16   6eea     MOVWF     0xea,0x0                                                                                        
004b18   50ee     MOVF      0xee,0x0,0x0                                                                                    
004b1a   0101     MOVLB     0x1                                                                                             
004b1c   5ddb     SUBWF     0xdb,0x0,0x1                                                                                    
004b1e   6fdb     MOVWF     0xdb,0x1                                                                                        
004b20   50ee     MOVF      0xee,0x0,0x0                                                                                    
004b22   59dc     SUBWFB    0xdc,0x0,0x1                                                                                    
004b24   6fdc     MOVWF     0xdc,0x1                                                                                        
004b26   50ee     MOVF      0xee,0x0,0x0                                                                                    
004b28   59dd     SUBWFB    0xdd,0x0,0x1                                                                                    
004b2a   6fdd     MOVWF     0xdd,0x1                                                                                        
004b2c   50ee     MOVF      0xee,0x0,0x0                                                                                    
004b2e   59de     SUBWFB    0xde,0x0,0x1                                                                                    
004b30   6fde     MOVWF     0xde,0x1                                                                                        
004b32   0eef     MOVLW     0xef             gAccel2 = gAccel2 - gJerk2;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004b34   6ee9     MOVWF     0xe9,0x0                                                                                        
004b36   0e01     MOVLW     0x1                                                                                             
004b38   6eea     MOVWF     0xea,0x0                                                                                        
004b3a   50ee     MOVF      0xee,0x0,0x0                                                                                    
004b3c   5deb     SUBWF     0xeb,0x0,0x1                                                                                    
004b3e   6feb     MOVWF     0xeb,0x1                                                                                        
004b40   50ee     MOVF      0xee,0x0,0x0                                                                                    
004b42   59ec     SUBWFB    0xec,0x0,0x1                                                                                    
004b44   6fec     MOVWF     0xec,0x1                                                                                        
004b46   50ee     MOVF      0xee,0x0,0x0                                                                                    
004b48   59ed     SUBWFB    0xed,0x0,0x1                                                                                    
004b4a   6fed     MOVWF     0xed,0x1                                                                                        
004b4c   50ee     MOVF      0xee,0x0,0x0                                                                                    
004b4e   59ee     SUBWFB    0xee,0x0,0x1                                                                                    
004b50   6fee     MOVWF     0xee,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004b52   0100     MOVLB     0x0              if (gAutomaticMotorEnable == TRUE)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004b54   05d9     DECF      0xd9,0x0,0x1                                                                                    
004b56   e102     BNZ       0x4b5c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Enable both motors when we want to move them                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // (To be more logical this should happen in the ISR when this move          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // is loaded rather than here.)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004b58   908d     BCF       0x8d,0x0,0x0       Enable1IO = ENABLE_MOTOR;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004b5a   928b     BCF       0x8b,0x1,0x0       Enable2IO = ENABLE_MOTOR;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Load up the move structure with all needed values                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004b5c   c1d3     MOVFF     0x1d3,0x130      gMoveTemp.m.sm.Rate[0].value = gRate1;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004b5e   f130                                                                                                               
004b60   c1d4     MOVFF     0x1d4,0x131                                                                                     
004b62   f131                                                                                                               
004b64   c1d5     MOVFF     0x1d5,0x132                                                                                     
004b66   f132                                                                                                               
004b68   c1d6     MOVFF     0x1d6,0x133                                                                                     
004b6a   f133                                                                                                               
004b6c   0efe     MOVLW     0xfe             if (TimedMove)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004b6e   50db     MOVF      0xdb,0x0,0x0                                                                                    
004b70   e009     BZ        0x4b84                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004b72   c1cb     MOVFF     0x1cb,0x138        gMoveTemp.m.sm.Steps[0] = gIntervals;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004b74   f138                                                                                                               
004b76   c1cc     MOVFF     0x1cc,0x139                                                                                     
004b78   f139                                                                                                               
004b7a   c1cd     MOVFF     0x1cd,0x13a                                                                                     
004b7c   f13a                                                                                                               
004b7e   c1ce     MOVFF     0x1ce,0x13b                                                                                     
004b80   f13b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004b82   d002     BRA       0x4b88           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004b84   ec9a     CALL      0x5f34,0x0         gMoveTemp.m.sm.Steps[0] = gSteps1;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004b86   f02f                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004b88   c1db     MOVFF     0x1db,0x148      gMoveTemp.m.sm.Accel[0] = gAccel1;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004b8a   f148                                                                                                               
004b8c   c1dc     MOVFF     0x1dc,0x149                                                                                     
004b8e   f149                                                                                                               
004b90   c1dd     MOVFF     0x1dd,0x14a                                                                                     
004b92   f14a                                                                                                               
004b94   c1de     MOVFF     0x1de,0x14b                                                                                     
004b96   f14b                                                                                                               
004b98   c1df     MOVFF     0x1df,0x140      gMoveTemp.m.sm.Jerk[0] = gJerk1;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004b9a   f140                                                                                                               
004b9c   c1e0     MOVFF     0x1e0,0x141                                                                                     
004b9e   f141                                                                                                               
004ba0   c1e1     MOVFF     0x1e1,0x142                                                                                     
004ba2   f142                                                                                                               
004ba4   c1e2     MOVFF     0x1e2,0x143                                                                                     
004ba6   f143                                                                                                               
004ba8   c1e3     MOVFF     0x1e3,0x134      gMoveTemp.m.sm.Rate[1].value = gRate2;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004baa   f134                                                                                                               
004bac   c1e4     MOVFF     0x1e4,0x135                                                                                     
004bae   f135                                                                                                               
004bb0   c1e5     MOVFF     0x1e5,0x136                                                                                     
004bb2   f136                                                                                                               
004bb4   c1e6     MOVFF     0x1e6,0x137                                                                                     
004bb6   f137                                                                                                               
004bb8   0efe     MOVLW     0xfe             if (TimedMove)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004bba   50db     MOVF      0xdb,0x0,0x0                                                                                    
004bbc   e006     BZ        0x4bca                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004bbe   0101     MOVLB     0x1                gMoveTemp.m.sm.Steps[1] = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004bc0   6b3c     CLRF      0x3c,0x1                                                                                        
004bc2   6b3d     CLRF      0x3d,0x1                                                                                        
004bc4   6b3e     CLRF      0x3e,0x1                                                                                        
004bc6   6b3f     CLRF      0x3f,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004bc8   d002     BRA       0x4bce           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004bca   eca3     CALL      0x5f46,0x0         gMoveTemp.m.sm.Steps[1] = gSteps2;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004bcc   f02f                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004bce   c1eb     MOVFF     0x1eb,0x14c      gMoveTemp.m.sm.Accel[1] = gAccel2;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004bd0   f14c                                                                                                               
004bd2   c1ec     MOVFF     0x1ec,0x14d                                                                                     
004bd4   f14d                                                                                                               
004bd6   c1ed     MOVFF     0x1ed,0x14e                                                                                     
004bd8   f14e                                                                                                               
004bda   c1ee     MOVFF     0x1ee,0x14f                                                                                     
004bdc   f14f                                                                                                               
004bde   c1ef     MOVFF     0x1ef,0x144      gMoveTemp.m.sm.Jerk[1] = gJerk2;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004be0   f144                                                                                                               
004be2   c1f0     MOVFF     0x1f0,0x145                                                                                     
004be4   f145                                                                                                               
004be6   c1f1     MOVFF     0x1f1,0x146                                                                                     
004be8   f146                                                                                                               
004bea   c1f2     MOVFF     0x1f2,0x147                                                                                     
004bec   f147                                                                                                               
004bee   0efe     MOVLW     0xfe             if (TimedMove)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004bf0   50db     MOVF      0xdb,0x0,0x0                                                                                    
004bf2   e003     BZ        0x4bfa                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004bf4   0101     MOVLB     0x1                gMoveTemp.Command = COMMAND_LT_MOVE;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004bf6   0e07     MOVLW     0x7                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004bf8   d002     BRA       0x4bfe           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004bfa   0101     MOVLB     0x1                gMoveTemp.Command = COMMAND_LM_MOVE;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004bfc   0e06     MOVLW     0x6                                                                                             
004bfe   6f29     MOVWF     0x29,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004c00   aa09     BTFSS     0x9,0x5,0x0      if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_NUM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004c02   d05a     BRA       0x4cb8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Print the final values used by the ISR for this move                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004c04   ec71     CALL      0x64e2,0x0         ebb_print((far rom char *)"R1=");                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004c06   f032                                                                                                               
0064e2   0e14     MOVLW     0x14                                                                                            
0064e4   6e4e     MOVWF     0x4e,0x0                                                                                        
0064e6   0e80     MOVLW     0x80                                                                                            
0064e8   ecee     CALL      0x5bdc,0x0                                                                                      
0064ea   f02d                                                                                                               
004c08   eced     CALL      0x61da,0x0         ebb_print_int(gMoveTemp.m.sm.Rate[0].value);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004c0a   f030                                                                                                               
0064ec   efac     GOTO      0x5f58                                                                                          
0064ee   f02f                                                                                                               
004c0c   ec02     CALL      0x6404,0x0         ebb_print((far rom char *)" S1=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004c0e   f032                                                                                                               
006404   0e0f     MOVLW     0xf                                                                                             
006406   6e4e     MOVWF     0x4e,0x0                                                                                        
006408   0e80     MOVLW     0x80                                                                                            
00640a   ecee     CALL      0x5bdc,0x0                                                                                      
00640c   f02d                                                                                                               
00640e   c138     MOVFF     0x138,0xfe6        ebb_print_uint(gMoveTemp.m.sm.Steps[0]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
006410   ffe6                                                                                                               
006412   c139     MOVFF     0x139,0xfe6                                                                                     
006414   ffe6                                                                                                               
006416   c13a     MOVFF     0x13a,0xfe6                                                                                     
006418   ffe6                                                                                                               
00641a   c13b     MOVFF     0x13b,0xfe6                                                                                     
00641c   ffe6                                                                                                               
00641e   ef87     GOTO      0x5d0e                                                                                          
006420   f02e                                                                                                               
004c10   0e0a     MOVLW     0xa                ebb_print((far rom char *)" A1=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004c12   6e4e     MOVWF     0x4e,0x0                                                                                        
004c14   0e80     MOVLW     0x80                                                                                            
004c16   ecee     CALL      0x5bdc,0x0                                                                                      
004c18   f02d                                                                                                               
004c1a   c148     MOVFF     0x148,0xfe6        ebb_print_int(gMoveTemp.m.sm.Accel[0]);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004c1c   ffe6                                                                                                               
004c1e   c149     MOVFF     0x149,0xfe6                                                                                     
004c20   ffe6                                                                                                               
004c22   c14a     MOVFF     0x14a,0xfe6                                                                                     
004c24   ffe6                                                                                                               
004c26   c14b     MOVFF     0x14b,0xfe6                                                                                     
004c28   ffe6                                                                                                               
004c2a   eced     CALL      0x61da,0x0                                                                                      
004c2c   f030                                                                                                               
004c2e   0e05     MOVLW     0x5                ebb_print((far rom char *)" J1=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004c30   6e4e     MOVWF     0x4e,0x0                                                                                        
004c32   0e80     MOVLW     0x80                                                                                            
004c34   ecee     CALL      0x5bdc,0x0                                                                                      
004c36   f02d                                                                                                               
004c38   c140     MOVFF     0x140,0xfe6        ebb_print_int(gMoveTemp.m.sm.Jerk[0]);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004c3a   ffe6                                                                                                               
004c3c   c141     MOVFF     0x141,0xfe6                                                                                     
004c3e   ffe6                                                                                                               
004c40   c142     MOVFF     0x142,0xfe6                                                                                     
004c42   ffe6                                                                                                               
004c44   c143     MOVFF     0x143,0xfe6                                                                                     
004c46   ffe6                                                                                                               
004c48   eced     CALL      0x61da,0x0                                                                                      
004c4a   f030                                                                                                               
004c4c   ec78     CALL      0x64f0,0x0         ebb_print((far rom char *)" R2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004c4e   f032                                                                                                               
0064f0   0e00     MOVLW     0x0                                                                                             
0064f2   6e4e     MOVWF     0x4e,0x0                                                                                        
0064f4   0e80     MOVLW     0x80                                                                                            
0064f6   ecee     CALL      0x5bdc,0x0                                                                                      
0064f8   f02d                                                                                                               
004c50   eced     CALL      0x61da,0x0         ebb_print_int(gMoveTemp.m.sm.Rate[1].value);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004c52   f030                                                                                                               
0064fa   efb5     GOTO      0x5f6a                                                                                          
0064fc   f02f                                                                                                               
004c54   ec11     CALL      0x6422,0x0         ebb_print((far rom char *)" S2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004c56   f032                                                                                                               
006422   0efb     MOVLW     0xfb                                                                                            
006424   6e4e     MOVWF     0x4e,0x0                                                                                        
006426   0e7f     MOVLW     0x7f                                                                                            
006428   ecee     CALL      0x5bdc,0x0                                                                                      
00642a   f02d                                                                                                               
00642c   c13c     MOVFF     0x13c,0xfe6        ebb_print_uint(gMoveTemp.m.sm.Steps[1]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00642e   ffe6                                                                                                               
006430   c13d     MOVFF     0x13d,0xfe6                                                                                     
006432   ffe6                                                                                                               
006434   c13e     MOVFF     0x13e,0xfe6                                                                                     
006436   ffe6                                                                                                               
006438   c13f     MOVFF     0x13f,0xfe6                                                                                     
00643a   ffe6                                                                                                               
00643c   ef87     GOTO      0x5d0e                                                                                          
00643e   f02e                                                                                                               
004c58   0ef6     MOVLW     0xf6               ebb_print((far rom char *)" A2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004c5a   6e4e     MOVWF     0x4e,0x0                                                                                        
004c5c   0e7f     MOVLW     0x7f                                                                                            
004c5e   ecee     CALL      0x5bdc,0x0                                                                                      
004c60   f02d                                                                                                               
004c62   c14c     MOVFF     0x14c,0xfe6        ebb_print_int(gMoveTemp.m.sm.Accel[1]);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004c64   ffe6                                                                                                               
004c66   c14d     MOVFF     0x14d,0xfe6                                                                                     
004c68   ffe6                                                                                                               
004c6a   c14e     MOVFF     0x14e,0xfe6                                                                                     
004c6c   ffe6                                                                                                               
004c6e   c14f     MOVFF     0x14f,0xfe6                                                                                     
004c70   ffe6                                                                                                               
004c72   eced     CALL      0x61da,0x0                                                                                      
004c74   f030                                                                                                               
004c76   0ef1     MOVLW     0xf1               ebb_print((far rom char *)" J2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004c78   6e4e     MOVWF     0x4e,0x0                                                                                        
004c7a   0e7f     MOVLW     0x7f                                                                                            
004c7c   ecee     CALL      0x5bdc,0x0                                                                                      
004c7e   f02d                                                                                                               
004c80   c144     MOVFF     0x144,0xfe6        ebb_print_int(gMoveTemp.m.sm.Jerk[1]);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004c82   ffe6                                                                                                               
004c84   c145     MOVFF     0x145,0xfe6                                                                                     
004c86   ffe6                                                                                                               
004c88   c146     MOVFF     0x146,0xfe6                                                                                     
004c8a   ffe6                                                                                                               
004c8c   c147     MOVFF     0x147,0xfe6                                                                                     
004c8e   ffe6                                                                                                               
004c90   eced     CALL      0x61da,0x0                                                                                      
004c92   f030                                                                                                               
004c94   0eec     MOVLW     0xec               ebb_print((far rom char *)" SE=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004c96   6e4e     MOVWF     0x4e,0x0                                                                                        
004c98   0e7f     MOVLW     0x7f                                                                                            
004c9a   ecee     CALL      0x5bdc,0x0                                                                                      
004c9c   f02d                                                                                                               
004c9e   c12f     MOVFF     0x12f,0x4e         ebb_print_int(gMoveTemp.m.sm.SEState);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004ca0   f04e                                                                                                               
004ca2   6a4f     CLRF      0x4f,0x0                                                                                        
004ca4   6a50     CLRF      0x50,0x0                                                                                        
004ca6   6a51     CLRF      0x51,0x0                                                                                        
004ca8   c12f     MOVFF     0x12f,0xfe6                                                                                     
004caa   ffe6                                                                                                               
004cac   ec2d     CALL      0x645a,0x0                                                                                      
004cae   f032                                                                                                               
004cb0   eced     CALL      0x61da,0x0                                                                                      
004cb2   f030                                                                                                               
004cb4   ecc1     CALL      0x5d82,0x0         print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004cb6   f02e                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004cb8   bc09     BTFSC     0x9,0x6,0x0      if (!bittst(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM))                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004cba   d00a     BRA       0x4cd0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Spin here until there's space in the FIFO                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004cbc   5013     MOVF      0x13,0x0,0x0       while(gFIFOLength >= gCurrentFIFOLength)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004cbe   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
004cc0   e2fd     BC        0x4cbc                                                                                          
                                                 ;                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // If the limit switch feature has triggered, then ignore this move command  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Maybe the limit switch has become true between the top of this function   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // and here? Better check for it.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004cc2   b00e     BTFSC     0xe,0x0,0x0        if (!bittstzero(gLimitSwitchTriggered))                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004cc4   d005     BRA       0x4cd0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Now, quick copy over the computed command data to the command FIFO      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004cc6   ecf9     CALL      0x5bf2,0x0           FIFOPtr[gFIFOIn] = gMoveTemp;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004cc8   f02d                                                                                                               
                                                 gFIFOIn++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004cca   e301     BNC       0x4cce               if (gFIFOIn >= gCurrentFIFOLength)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004ccc   6a10     CLRF      0x10,0x0               gFIFOIn = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004cce   2a0f     INCF      0xf,0x1,0x0          gFIFOLength++;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004cd0   ecb9     CALL      0x5d72,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004cd2   f02e                                                                                                               
004cd4   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004cd6   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
004cd8   e202     BC        0x4cde                                                                                          
004cda   6ae1     CLRF      0xe1,0x0                                                                                        
004cdc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004cde   efb2     GOTO      0x5d64                                                                                          
004ce0   f02e                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The Stepper Motor command                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: SM,<move_duration>,<axis1_steps>,<axis2_steps>,<CleaAccs><CR>          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <move_duration> is 32 bit unsigned, indicating the number of milliseconds this move should take D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <axisX_steps> is a signed 32 bit number indicating how many steps (and what direction) the axis should take D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // NOTE1: <axis2_steps> is optional and can be left off                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is an optional value of 0, 1, 2 or 3.                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    0 will leave accumulators alone at the beginning of the move               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    1 will clear Motor1 accumulator and leave Motor2 accumulator               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    2 will clear Motor2 accumulator and leave Motor1 accumulator               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    3 will clear both Motor1 and Motor2 accumulators                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // If the EBB can not make the move in the specified time, it will take as long as it needs to at max speed D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // i.e. SM,1,1000 will not produce 1000steps in 1ms. Instead, it will take 40ms (25KHz max step rate) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // NOTE2: If you specify zero steps for the axis, then you effectively create a delay. Use for small D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // pauses before raising or lowering the pen, for example.                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_SM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004ce2   ec2c     CALL      0x6258,0x0       clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004ce4   f031                                                                                                               
006258   d96f     RCALL     0x6538                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00625a   0ec7     MOVLW     0xc7             extract_number(kULONG, &gDurationMS, kREQUIRED);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00625c   6ee6     MOVWF     0xe6,0x0                                                                                        
00625e   0e01     MOVLW     0x1                                                                                             
006260   d964     RCALL     0x652a                                                                                          
004ce6   0ed7     MOVLW     0xd7             extract_number(kLONG,  &gSteps1,  kREQUIRED);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004ce8   6ee6     MOVWF     0xe6,0x0                                                                                        
004cea   0e01     MOVLW     0x1                                                                                             
004cec   ec40     CALL      0x6480,0x0                                                                                      
004cee   f032                                                                                                               
006262   6ae6     CLRF      0xe6,0x0                                                                                        
006264   0012     RETURN    0x0                                                                                             
004cf0   6ee6     MOVWF     0xe6,0x0         extract_number(kLONG,  &gSteps2,  kOPTIONAL);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004cf2   0ee7     MOVLW     0xe7                                                                                            
004cf4   6ee6     MOVWF     0xe6,0x0                                                                                        
004cf6   0e01     MOVLW     0x1                                                                                             
004cf8   ecde     CALL      0x61bc,0x0                                                                                      
004cfa   f030                                                                                                               
                                             extract_number(kULONG, &gClearAccs, kOPTIONAL);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004cfc   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004cfe   5197     MOVF      0x97,0x0,0x1                                                                                    
004d00   e001     BZ        0x4d04                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004d02   0012     RETURN    0x0                return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Input parameters: gDurationMS, gSteps1, gSteps2, gClearAccs                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004d04   da8a     RCALL     0x521a           process_simple_motor_move_fp();                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004d06   efb9     GOTO      0x5d72           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004d08   f02e                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The Circle Move command                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: CM,<frequency>,<dest_x>,<dest_y>,<center_x>,<center_y>,<direction><CR> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <dest_x>,<dest_y>,<center_x>,<center_y> are required signed 16 bit numbers    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <frequency> is a required unsigned integer from 2 to 25000                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <direction> is a required 0 for CW or 1 for CCW                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is an optional 0, 1, 2 or 3                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <dest_x>,<dest_y> are the relative coordinates where the arc should end up    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <center_x>,<center_y> are the relative coordinates where the center of the arc is D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <rate> is the step frequency in steps/second                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <direction> specifies which direction the arc should take                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is the same as for SM                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004d0a   ecb4     CALL      0x5d68,0x0     void parse_CM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004d0c   f02e                                                                                                               
004d0e   0e25     MOVLW     0x25                                                                                            
004d10   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             /// TODO: This burden on the stack is huge - use globals for some of this      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004d12   6ade     CLRF      0xde,0x0         UINT16 frequency = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004d14   6add     CLRF      0xdd,0x0                                                                                        
004d16   0e02     MOVLW     0x2              INT32 dest_x = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004d18   6adb     CLRF      0xdb,0x0                                                                                        
004d1a   0e03     MOVLW     0x3                                                                                             
004d1c   6adb     CLRF      0xdb,0x0                                                                                        
004d1e   0e04     MOVLW     0x4                                                                                             
004d20   6adb     CLRF      0xdb,0x0                                                                                        
004d22   0e05     MOVLW     0x5                                                                                             
004d24   6adb     CLRF      0xdb,0x0                                                                                        
004d26   0e06     MOVLW     0x6              INT32 dest_y = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004d28   6adb     CLRF      0xdb,0x0                                                                                        
004d2a   0e07     MOVLW     0x7                                                                                             
004d2c   6adb     CLRF      0xdb,0x0                                                                                        
004d2e   0e08     MOVLW     0x8                                                                                             
004d30   6adb     CLRF      0xdb,0x0                                                                                        
004d32   0e09     MOVLW     0x9                                                                                             
004d34   6adb     CLRF      0xdb,0x0                                                                                        
004d36   0e0a     MOVLW     0xa              INT32 center_x = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004d38   6adb     CLRF      0xdb,0x0                                                                                        
004d3a   0e0b     MOVLW     0xb                                                                                             
004d3c   6adb     CLRF      0xdb,0x0                                                                                        
004d3e   0e0c     MOVLW     0xc                                                                                             
004d40   6adb     CLRF      0xdb,0x0                                                                                        
004d42   0e0d     MOVLW     0xd                                                                                             
004d44   6adb     CLRF      0xdb,0x0                                                                                        
004d46   0e0e     MOVLW     0xe              INT32 center_y = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004d48   6adb     CLRF      0xdb,0x0                                                                                        
004d4a   0e0f     MOVLW     0xf                                                                                             
004d4c   6adb     CLRF      0xdb,0x0                                                                                        
004d4e   0e10     MOVLW     0x10                                                                                            
004d50   6adb     CLRF      0xdb,0x0                                                                                        
004d52   0e11     MOVLW     0x11                                                                                            
004d54   6adb     CLRF      0xdb,0x0                                                                                        
004d56   0e12     MOVLW     0x12             UINT8 direction = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004d58   6adb     CLRF      0xdb,0x0                                                                                        
004d5a   0e13     MOVLW     0x13             UINT32 rate = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004d5c   6adb     CLRF      0xdb,0x0                                                                                        
004d5e   0e14     MOVLW     0x14                                                                                            
004d60   6adb     CLRF      0xdb,0x0                                                                                        
004d62   0e15     MOVLW     0x15                                                                                            
004d64   6adb     CLRF      0xdb,0x0                                                                                        
004d66   0e16     MOVLW     0x16                                                                                            
004d68   6adb     CLRF      0xdb,0x0                                                                                        
                                             UINT32 temp;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             INT16 sTemp16_1;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             INT16 sTemp16_2;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT32 radius;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT16 typ_seg_long;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004d6a   ecca     CALL      0x4394,0x0       clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004d6c   f021                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004d6e   ec68     CALL      0x64d0,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004d70   f032                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004d72   ecde     CALL      0x63bc,0x0       extract_number(kUINT,  &frequency,  kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004d74   f031                                                                                                               
004d76   6ae6     CLRF      0xe6,0x0         extract_number(kLONG,  &dest_x, kREQUIRED);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004d78   50d9     MOVF      0xd9,0x0,0x0                                                                                    
004d7a   0f02     ADDLW     0x2                                                                                             
004d7c   ec34     CALL      0x6468,0x0                                                                                      
004d7e   f032                                                                                                               
004d80   0f06     ADDLW     0x6              extract_number(kLONG,  &dest_y,  kREQUIRED);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004d82   ec34     CALL      0x6468,0x0                                                                                      
004d84   f032                                                                                                               
004d86   0f0a     ADDLW     0xa              extract_number(kLONG,  &center_x,  kREQUIRED);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004d88   ec34     CALL      0x6468,0x0                                                                                      
004d8a   f032                                                                                                               
004d8c   0f0e     ADDLW     0xe              extract_number(kLONG,  &center_y,  kREQUIRED);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004d8e   ec34     CALL      0x6468,0x0                                                                                      
004d90   f032                                                                                                               
006468   6ee6     MOVWF     0xe6,0x0                                                                                        
00646a   0e00     MOVLW     0x0                                                                                             
00646c   20da     ADDWFC    0xda,0x0,0x0                                                                                    
00646e   dea1     RCALL     0x61b2                                                                                          
004d92   0f12     ADDLW     0x12             extract_number(kUCHAR, &direction,  kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004d94   ec51     CALL      0x62a2,0x0                                                                                      
004d96   f031                                                                                                               
006470   50d9     MOVF      0xd9,0x0,0x0                                                                                    
006472   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004d98   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004d9a   51c4     MOVF      0xc4,0x0,0x1                                                                                    
004d9c   e101     BNZ       0x4da0                                                                                          
004d9e   d084     BRA       0x4ea8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // direction can only be 0 or 1                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004da0   0e12     MOVLW     0x12               if (direction > 1u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004da2   50db     MOVF      0xdb,0x0,0x0                                                                                    
004da4   0801     SUBLW     0x1                                                                                             
004da6   e202     BC        0x4dac                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004da8   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004daa   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Rate has to be from 1 to 25000                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004dac   cfde     MOVFF     0xfde,0x4e         if ((frequency < 1u) || (frequency > 25000u))                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004dae   f04e                                                                                                               
004db0   cfdd     MOVFF     0xfdd,0x4f                                                                                      
004db2   f04f                                                                                                               
004db4   0e01     MOVLW     0x1                                                                                             
004db6   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
004db8   0e00     MOVLW     0x0                                                                                             
004dba   584f     SUBWFB    0x4f,0x0,0x0                                                                                    
004dbc   e308     BNC       0x4dce                                                                                          
004dbe   ec6c     CALL      0x64d8,0x0                                                                                      
004dc0   f032                                                                                                               
004dc2   0ea8     MOVLW     0xa8                                                                                            
004dc4   80d8     BSF       0xd8,0x0,0x0                                                                                    
004dc6   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
004dc8   0e61     MOVLW     0x61                                                                                            
004dca   54ed     SUBFWB    0xed,0x0,0x0                                                                                    
004dcc   e202     BC        0x4dd2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004dce   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004dd0   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Check four positions for out of bounds                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004dd2   0e02     MOVLW     0x2                if ((dest_x > 32768) || (dest_x < -32768))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004dd4   cfdb     MOVFF     0xfdb,0x41                                                                                      
004dd6   f041                                                                                                               
004dd8   0e03     MOVLW     0x3                                                                                             
004dda   cfdb     MOVFF     0xfdb,0x42                                                                                      
004ddc   f042                                                                                                               
004dde   0e04     MOVLW     0x4                                                                                             
004de0   cfdb     MOVFF     0xfdb,0x43                                                                                      
004de2   f043                                                                                                               
004de4   0e05     MOVLW     0x5                                                                                             
004de6   eced     CALL      0x5fda,0x0                                                                                      
004de8   f02f                                                                                                               
004dea   e602     BN        0x4df0                                                                                          
004dec   ec3b     CALL      0x5e76,0x0                                                                                      
004dee   f02f                                                                                                               
004df0   e308     BNC       0x4e02                                                                                          
004df2   50d9     MOVF      0xd9,0x0,0x0                                                                                    
004df4   0f02     ADDLW     0x2                                                                                             
004df6   ec61     CALL      0x5ec2,0x0                                                                                      
004df8   f02f                                                                                                               
004dfa   e602     BN        0x4e00                                                                                          
004dfc   ec4e     CALL      0x5e9c,0x0                                                                                      
004dfe   f02f                                                                                                               
004e00   e202     BC        0x4e06                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004e02   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004e04   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004e06   0e06     MOVLW     0x6                if ((dest_y > 32768) || (dest_y < -32768))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004e08   cfdb     MOVFF     0xfdb,0x41                                                                                      
004e0a   f041                                                                                                               
004e0c   0e07     MOVLW     0x7                                                                                             
004e0e   cfdb     MOVFF     0xfdb,0x42                                                                                      
004e10   f042                                                                                                               
004e12   0e08     MOVLW     0x8                                                                                             
004e14   cfdb     MOVFF     0xfdb,0x43                                                                                      
004e16   f043                                                                                                               
004e18   0e09     MOVLW     0x9                                                                                             
004e1a   eced     CALL      0x5fda,0x0                                                                                      
004e1c   f02f                                                                                                               
004e1e   e602     BN        0x4e24                                                                                          
004e20   ec3b     CALL      0x5e76,0x0                                                                                      
004e22   f02f                                                                                                               
004e24   e308     BNC       0x4e36                                                                                          
004e26   50d9     MOVF      0xd9,0x0,0x0                                                                                    
004e28   0f06     ADDLW     0x6                                                                                             
004e2a   ec61     CALL      0x5ec2,0x0                                                                                      
004e2c   f02f                                                                                                               
004e2e   e602     BN        0x4e34                                                                                          
004e30   ec4e     CALL      0x5e9c,0x0                                                                                      
004e32   f02f                                                                                                               
004e34   e202     BC        0x4e3a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004e36   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004e38   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004e3a   0e0a     MOVLW     0xa                if ((center_x > 32768) || (center_x < -32768))                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004e3c   cfdb     MOVFF     0xfdb,0x41                                                                                      
004e3e   f041                                                                                                               
004e40   0e0b     MOVLW     0xb                                                                                             
004e42   cfdb     MOVFF     0xfdb,0x42                                                                                      
004e44   f042                                                                                                               
004e46   0e0c     MOVLW     0xc                                                                                             
004e48   cfdb     MOVFF     0xfdb,0x43                                                                                      
004e4a   f043                                                                                                               
004e4c   0e0d     MOVLW     0xd                                                                                             
004e4e   eced     CALL      0x5fda,0x0                                                                                      
004e50   f02f                                                                                                               
004e52   e602     BN        0x4e58                                                                                          
004e54   ec3b     CALL      0x5e76,0x0                                                                                      
004e56   f02f                                                                                                               
004e58   e308     BNC       0x4e6a                                                                                          
004e5a   50d9     MOVF      0xd9,0x0,0x0                                                                                    
004e5c   0f0a     ADDLW     0xa                                                                                             
004e5e   ec61     CALL      0x5ec2,0x0                                                                                      
004e60   f02f                                                                                                               
004e62   e602     BN        0x4e68                                                                                          
004e64   ec4e     CALL      0x5e9c,0x0                                                                                      
004e66   f02f                                                                                                               
004e68   e202     BC        0x4e6e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004e6a   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004e6c   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004e6e   0e0e     MOVLW     0xe                if ((center_y > 32768) || (center_y < -32768))                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004e70   cfdb     MOVFF     0xfdb,0x41                                                                                      
004e72   f041                                                                                                               
004e74   0e0f     MOVLW     0xf                                                                                             
004e76   cfdb     MOVFF     0xfdb,0x42                                                                                      
004e78   f042                                                                                                               
004e7a   0e10     MOVLW     0x10                                                                                            
004e7c   cfdb     MOVFF     0xfdb,0x43                                                                                      
004e7e   f043                                                                                                               
004e80   0e11     MOVLW     0x11                                                                                            
004e82   eced     CALL      0x5fda,0x0                                                                                      
004e84   f02f                                                                                                               
004e86   e602     BN        0x4e8c                                                                                          
004e88   ec3b     CALL      0x5e76,0x0                                                                                      
004e8a   f02f                                                                                                               
004e8c   e308     BNC       0x4e9e                                                                                          
004e8e   50d9     MOVF      0xd9,0x0,0x0                                                                                    
004e90   0f0e     ADDLW     0xe                                                                                             
004e92   ec61     CALL      0x5ec2,0x0                                                                                      
004e94   f02f                                                                                                               
004e96   e602     BN        0x4e9c                                                                                          
004e98   ec4e     CALL      0x5e9c,0x0                                                                                      
004e9a   f02f                                                                                                               
004e9c   e202     BC        0x4ea2                                                                                          
005e76   80d8     BSF       0xd8,0x0,0x0                                                                                    
005e78   0e00     MOVLW     0x0                                                                                             
005e7a   5441     SUBFWB    0x41,0x0,0x0                                                                                    
005e7c   0e80     MOVLW     0x80                                                                                            
005e7e   5442     SUBFWB    0x42,0x0,0x0                                                                                    
005e80   0e00     MOVLW     0x0                                                                                             
005e82   5443     SUBFWB    0x43,0x0,0x0                                                                                    
005e84   0e00     MOVLW     0x0                                                                                             
005e86   5444     SUBFWB    0x44,0x0,0x0                                                                                    
005e88   0012     RETURN    0x0                                                                                             
005e9c   0e00     MOVLW     0x0                                                                                             
005e9e   5cee     SUBWF     0xee,0x0,0x0                                                                                    
005ea0   0e80     MOVLW     0x80                                                                                            
005ea2   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
005ea4   0eff     MOVLW     0xff                                                                                            
005ea6   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
005ea8   0eff     MOVLW     0xff                                                                                            
005eaa   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
005eac   0012     RETURN    0x0                                                                                             
005ec2   6ee9     MOVWF     0xe9,0x0                                                                                        
005ec4   cfda     MOVFF     0xfda,0xfea                                                                                     
005ec6   ffea                                                                                                               
005ec8   80d8     BSF       0xd8,0x0,0x0                                                                                    
005eca   0e03     MOVLW     0x3                                                                                             
005ecc   50eb     MOVF      0xeb,0x0,0x0                                                                                    
005ece   0aff     XORLW     0xff                                                                                            
005ed0   0012     RETURN    0x0                                                                                             
005fda   cfdb     MOVFF     0xfdb,0x44                                                                                      
005fdc   f044                                                                                                               
005fde   3444     RLCF      0x44,0x0,0x0                                                                                    
005fe0   0e00     MOVLW     0x0                                                                                             
005fe2   1844     XORWF     0x44,0x0,0x0                                                                                    
005fe4   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004e9e   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004ea0   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Bail if a there is a parameter limit error                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004ea2   0100     MOVLB     0x0                if (error_byte)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004ea4   5197     MOVF      0x97,0x0,0x1                                                                                    
004ea6   e144     BNZ       0x4f30                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If we have a triggered limit switch, then ignore this move command          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004ea8   b00e     BTFSC     0xe,0x0,0x0      if (bittstzero(gLimitSwitchTriggered))                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004eaa   d042     BRA       0x4f30                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Print out input parameters for debugging                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004eac   aa09     BTFSS     0x9,0x5,0x0      if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_NUM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004eae   d039     BRA       0x4f22                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004eb0   0ee6     MOVLW     0xe6               ebb_print((far rom char *)"Freq=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004eb2   6e4e     MOVWF     0x4e,0x0                                                                                        
004eb4   0e7f     MOVLW     0x7f                                                                                            
004eb6   ecee     CALL      0x5bdc,0x0                                                                                      
004eb8   f02d                                                                                                               
004eba   cfde     MOVFF     0xfde,0x4e         ebb_print_int(frequency);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004ebc   f04e                                                                                                               
004ebe   cfdd     MOVFF     0xfdd,0x4f                                                                                      
004ec0   f04f                                                                                                               
004ec2   ec7e     CALL      0x5cfc,0x0                                                                                      
004ec4   f02e                                                                                                               
004ec6   0edd     MOVLW     0xdd               ebb_print((far rom char *)" Dest_X=");                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004ec8   6e4e     MOVWF     0x4e,0x0                                                                                        
004eca   0e7f     MOVLW     0x7f                                                                                            
004ecc   ecee     CALL      0x5bdc,0x0                                                                                      
004ece   f02d                                                                                                               
004ed0   50d9     MOVF      0xd9,0x0,0x0       ebb_print_int(dest_x);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004ed2   0f02     ADDLW     0x2                                                                                             
004ed4   ece1     CALL      0x63c2,0x0                                                                                      
004ed6   f031                                                                                                               
004ed8   0ed4     MOVLW     0xd4               ebb_print((far rom char *)" Dest_Y=");                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004eda   6e4e     MOVWF     0x4e,0x0                                                                                        
004edc   0e7f     MOVLW     0x7f                                                                                            
004ede   ecee     CALL      0x5bdc,0x0                                                                                      
004ee0   f02d                                                                                                               
004ee2   50d9     MOVF      0xd9,0x0,0x0       ebb_print_int(dest_y);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004ee4   0f06     ADDLW     0x6                                                                                             
004ee6   ece1     CALL      0x63c2,0x0                                                                                      
004ee8   f031                                                                                                               
004eea   0ec9     MOVLW     0xc9               ebb_print((far rom char *)" Center_X=");                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004eec   6e4e     MOVWF     0x4e,0x0                                                                                        
004eee   0e7f     MOVLW     0x7f                                                                                            
004ef0   ecee     CALL      0x5bdc,0x0                                                                                      
004ef2   f02d                                                                                                               
004ef4   50d9     MOVF      0xd9,0x0,0x0       ebb_print_int(center_x);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004ef6   0f0a     ADDLW     0xa                                                                                             
004ef8   ece1     CALL      0x63c2,0x0                                                                                      
004efa   f031                                                                                                               
004efc   0ebe     MOVLW     0xbe               ebb_print((far rom char *)" Center_Y=");                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004efe   6e4e     MOVWF     0x4e,0x0                                                                                        
004f00   0e7f     MOVLW     0x7f                                                                                            
004f02   ecee     CALL      0x5bdc,0x0                                                                                      
004f04   f02d                                                                                                               
004f06   50d9     MOVF      0xd9,0x0,0x0       ebb_print_int(center_y);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004f08   0f0e     ADDLW     0xe                                                                                             
004f0a   ece1     CALL      0x63c2,0x0                                                                                      
004f0c   f031                                                                                                               
004f0e   0eb2     MOVLW     0xb2               ebb_print((far rom char *)" Direction=");                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004f10   6e4e     MOVWF     0x4e,0x0                                                                                        
004f12   0e7f     MOVLW     0x7f                                                                                            
004f14   ecee     CALL      0x5bdc,0x0                                                                                      
004f16   f02d                                                                                                               
004f18   0e12     MOVLW     0x12               ebb_print_int(direction);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004f1a   ec5e     CALL      0x62bc,0x0                                                                                      
004f1c   f031                                                                                                               
004f1e   ecc1     CALL      0x5d82,0x0         print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004f20   f02e                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #if 1                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004f22   0e90     MOVLW     0x90             ebb_print((far rom char *)"CM command disabled in this build");                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004f24   6e4e     MOVWF     0x4e,0x0                                                                                        
004f26   0e7f     MOVLW     0x7f                                                                                            
004f28   ecd3     CALL      0x63a6,0x0                                                                                      
004f2a   f031                                                                                                               
                                             print_line_ending(kLE_REV);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Current "turtle" position, relative to arc center: x_t, y_t:                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.m.cm.x_t = -center_x;   // int32                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.m.cm.y_t = -center_y;   // int32                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Final ("target") position, relative to arc center: x_f, y_f                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.m.cm.x_f = dest_x - center_x; // int16                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.m.cm.y_f = dest_y - center_y; // int16                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Here's that square root.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // The argument, (center_x * center_x + center_y * center_y), is up to 31 bits. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             temp = (center_x * center_x) + (center_y * center_y);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             radius = Sqrt(temp);                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Next calculate the "m_alpha" factor. This finds the smallest integer value m_alpha, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //       such that 2^(2 * m_alpha + 3) >= radius                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //   Possible values of m_alpha: 0 - 6                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //       The radius can be as small as 5, such that 2^(2*0 + 3) = 8, already > radius 5. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //           -> m_alpha = 0 if radius = 5.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //       Since the radius can be as large as 32767, (2^15), 2*alpha + 3 = 15   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //           -> m_alpha = 6 if radius = 32767.                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Once m_alpha is computed, each straight subsegment around the circle spans an arc of D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //   alpha = 1/(2^m_alpha) radians between its vertices.                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Since m_alpha is in the range 0-6, each arc angle is between 0.9 and 57.3 degrees: D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //   At smallest radius, (1/2^0) = 1; angle between vertices is 1 radian (57.3). D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //   At largest radius, (1/2^6) = 1/64; angle between vertices is 1/64 =0.15625 radian, (0.9). D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Rather than computing alpha (usually fractional), we keep track of m_alpha, and use it D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //   with bit shifts.                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.m.cm.m_alpha = 0; // uint8                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             temp = 1 << ((2 * 0) + 3);  // left this way for clarity                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             while (temp < radius)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gMoveTemp.m.cm.m_alpha += 1;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               temp = (1 << ((2 * gMoveTemp.m.cm.m_alpha) + 3)); // temp is uint16 (use bit shift instead of power) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Next, compute what 1.5 * the typical subsegment length is.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If the final vertex is within this distance of the start, just use a single D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //   move between them, rather than an arc with multiple subsegments.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // The typical length of a subsegment around the circumference is:             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // (radius * angle_between_vertices_in_radians) = radius * alpha               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                   = radius * (1/2^m_alpha) = radius >> m_alpha D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // 0.5 times the length is radius >> (m_alpha + 1)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Thus 1.5 times the length is (radius >> m_alpha) + (radius >> (m_alpha + 1)): D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.m.cm.typ_seg = (radius >> gMoveTemp.m.cm.m_alpha);   // uint8        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             typ_seg_long = gMoveTemp.m.cm.typ_seg + (radius >> (gMoveTemp.m.cm.m_alpha + 1)); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Get absolute value of move length in X and Y                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             sTemp16_1 = (gMoveTemp.m.cm.x_t - gMoveTemp.m.cm.x_f);  // signed 32 = signed 16 - signed 16 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if (sTemp16_1 < 0)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               sTemp16_1 = -sTemp16_1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             sTemp16_2 = (gMoveTemp.m.cm.y_t - gMoveTemp.m.cm.y_f);  // signed 32 = signed 16 - signed 16 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if (sTemp16_2 < 0)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               sTemp16_2 = -sTemp16_2;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // And if both x and y move length are too small, then just do a simple        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // straight move by calling process_simple_rate_move_fp()                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if ((sTemp16_1 < (INT16)typ_seg_long) && (sTemp16_2 < (INT16)typ_seg_long))    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // This is a very short move; cannot make an arc here.                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Instead, process it like an SM or HM move with:                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //      step_dist_x = x_f - x_t                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //      step_dist_y = y_f - y_t                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //      And step frequency given by StepFreq.                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps1 = gMoveTemp.m.cm.x_f - gMoveTemp.m.cm.x_t;                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps2 = gMoveTemp.m.cm.y_f - gMoveTemp.m.cm.y_t;                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gHM_StepRate = frequency;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gClearAccs = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               process_simple_rate_move_fp();                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // After making our short straight line, we're done.                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               print_line_ending(kLE_OK_NORM);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #if 0                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                              # Next: Precompute VScaleK (Velocity Scaling Factor K):                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # This is a scaling factor that we will later use, in the ISR, to calculate the  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   correct velocity in each axis from the number of steps in each axis.     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # At a given vertex around the circle, the distance to the next vertex is (Dx, Dy). D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   The velocity at that vertex is (K * Dx, K * Dy), where the velocity scale factor K D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   is K = (Forward_velocity/typical_length_of_subsegment)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #        = (StepFreq * 2^31/ 25000) / (radius * alpha)                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #        = (StepFreq * 2^28/ 3125) / (radius >> m_alpha)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #        = (StepFreq * 2^28 << m_alpha ) / ( 3125 * radius)                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   (Here, we have noted that 25000 = 8 * 3125 = 3125 * 2^3)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # To keep the multiplication within the ISR as 16 x 16 bit, we need a final VScaleK D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   that can be represented by uint16 (without losing too many digits of precision). D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   Most of the special cases are to manage the great variation in K that is possible D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   because radius can range from 5-32767, and StepFreq can range from 1-25000. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               bits_left = 28                  # Counter for bits remaining to shift (int8) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               bits_left += m_alpha                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if (StepFreq >= 256):   # StepFreq is in range 256 - 25000                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                       # Possibly implement by checking that high byte != 0. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   StepFreq = StepFreq << 17                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   bits_left -= 17                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   # StepFreq now in range 3.35E7 - 3.27E9 (Almost 2^25 - Almost 2^32)      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                   # StepFreq is in range 1 - 255                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   StepFreq = StepFreq << 24                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   bits_left -= 24                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   # StepFreq now in range 1.67E7 - 4.27E9 (2^24 - Almost 2^32)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               denom = 3125 * radius # uint32                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   # denom is in range 1.67E7 - 4.27E9 (2^24 - Almost 2^32)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if (radius >= 256):     # Radius is in range 256 - 32767                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                       # Possibly implement by checking that high byte != 0. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   denom = denom >> 11                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   bits_left -= 11                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   # Denom now in range 3906 - 50000 (Almost 2^12 - Almost 2^16)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                   # Radius is in range 1 - 255                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   denom = denom >> 1                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   bits_left -= 1                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   # Denom now in range 1562 - 39843 (Almost 2^11 - Almost 2^16)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Now the "big" division operation -- just one, thankfully.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               VScaleK = int(StepFreq / denom) # (uint24?)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Largest possible VScaleK: 4.27E9 / 1562 = 2.733E6 (almost 2^22)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Smallest possible VScaleK: 1.67E7 / 50000 = 334 (almost 2^9)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if VScaleK > 65536:             # possibly check that high bytes are nonzero. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   VScaleK = VScaleK >> 4                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   bits_left += 4                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # VScaleK value range is now 334 - 42,703, all < 2^16.                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # ->  VScaleK can now be re-cast as a uint16.                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Finally, set up variables to manage "local" position in ISR.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               x_pos_last = x_t # int16 Variables to store last (16-bit) position value     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               y_pos_last = y_t # int16                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Scale X, Y values up by 65536. The step positions are 16-bit signed, but   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   we need additional resolution to avoid adding rounding errors since we   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   do compute each new position from the last position.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               x_t = x_t << 16                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               y_t = y_t << 16                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               -----------------------------------------                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # This concludes the "precomputation" stage. We now -- still in the "parsing" D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   stage -- compute the velocities and step counts for the first subsegment only. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # The nominal step distances to move are:                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   d_x = -1 * ( x_t >> (2 * m_alpha + 1)) - (y_t >> m_alpha)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   d_y = -1 * ( y_t >> (2 * m_alpha + 1)) + (x_t >> m_alpha)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # HOWEVER, right-shift division of negative integers isn't "clean" (e.g., -1 >> 1 == -1), D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   so we instead use several cases with positive integers and right shifts. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               alpha_shift = (m_alpha << 1) + 1                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if x_t < 0:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   x_1 = ( - x_t >> alpha_shift)                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   x_2 = -( - x_t >> m_alpha)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   x_1 = -( x_t >> alpha_shift)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   x_2 = ( x_t >> m_alpha)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if y_t < 0:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   y_1 = ( - y_t >> alpha_shift)                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   y_2 = -( - y_t >> m_alpha)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   y_1 = -( y_t >> alpha_shift)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   y_2 = ( y_t >> m_alpha)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if direction:                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   d_x = x_1 + y_2                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   d_y = y_1 - x_2                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   d_x = x_1 - y_2                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   d_y = y_1 + x_2                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Update 32-bit position values:                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               x_t += d_x                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               y_t += d_y                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Find new 16-bit position value.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # In firmware, take two high bytes of position; do not actually shift/divide. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               x_t_16 = x_t >> 16 # Psuedocode only;(DO NOT ACTUALLY SHIFT)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               y_t_16 = y_t >> 16 # Psuedocode only;(DO NOT ACTUALLY SHIFT)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Find Step count and directions.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               x_steps = x_t_16 - x_pos_last                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               y_steps = y_t_16 - y_pos_last                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if x_steps < 0:                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   stepdir_x = 0 # Set direction bits                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   x_stepcount = -x_steps                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   stepdir_x = 1 # Set direction bits                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   x_stepcount = x_steps                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if y_steps < 0:                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   stepdir_y = 0 # Set direction bits                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   y_stepcount = -y_steps                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   stepdir_y = 1 # Set direction bits                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   y_stepcount = y_steps                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Rate factors: Rate_x, Rate_y : 32-bit unsigned                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if bits_left >= 0:                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   Rate_x = (x_stepcount * VScaleK) << bits_left                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   Rate_y = (y_stepcount * VScaleK) << bits_left                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   Rate_x = (x_stepcount * VScaleK) >> -bits_left                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   Rate_y = (y_stepcount * VScaleK) >> -bits_left                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               x_pos_last = x_t_16                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               y_pos_last = y_t_16                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               Now, begin an SM/XM/HM type linear move with:                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   * stepdir_x, stepdir_y                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   * x_stepcount, y_stepcount                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   * Rate_x, Rate_y                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               In addition to the step/direction/rate values (normally in the FIFO),        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   I think we'll need the following values attached to this command:        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - VScaleK       # uint16                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - m_alpha       # uint8                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - bits_left     # int8                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - x_f           # int16                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - y_f           # int16                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - x_t           # int32                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - y_t           # int32                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - direction     # uint8                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - y_pos_last    # int16                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - x_pos_last    # int16                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - typ_seg       # uint8                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if (gAutomaticMotorEnable == TRUE)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Enable both motors when we want to move them                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               Enable1IO = ENABLE_MOTOR;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               Enable2IO = ENABLE_MOTOR;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // First, set the direction bits                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             /// For CM, how do we know which direction we need to move first?              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  if (gTmpSteps1 < 0)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  {                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///    gMoveTemp.m.sm.DirBits = gMoveTemp.m.sm.DirBits | DIR1_BIT;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///    gTmpSteps1 = -gTmpSteps1;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  }                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  if (gTmpSteps2 < 0)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  {                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///    gMoveTemp.m.sm.DirBits = gMoveTemp.m.sm.DirBits | DIR2_BIT;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///    gTmpSteps2 = -gTmpSteps2;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  }                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  gMoveTemp.m.sm.Rate[0].value = gTmpIntervals;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  gMoveTemp.m.sm.Steps[0] = gTmpSteps1;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  gMoveTemp.m.sm.Accel[0] = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  gMoveTemp.m.sm.Rate[1].value = gTmpIntervals;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  gMoveTemp.m.sm.Steps[1] = gTmpSteps2;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  gMoveTemp.m.sm.Accel[1] = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.Command = COMMAND_CM_OUTER_MOVE;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_BIT_NUM))                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print((far rom char *)"R1=");                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print_uint(gMoveTemp.m.sm.Rate[0].value);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print((far rom char *)" S1=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print_uint(gMoveTemp.m.sm.Steps[0]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print((far rom char *)" R2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print_uint(gMoveTemp.m.sm.Rate[1].value);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print((far rom char *)" S2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print_uint(gMoveTemp.m.sm.Steps[1]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Spin here until there's space in the FIFO                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             while(gFIFOLength >= gCurrentFIFOLength)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ;                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If the limit switch feature has triggered, then ignore this move command    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Maybe the limit switch has become true between the top of this function     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // and here? Better check for it.                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if (!bittstzero(gLimitSwitchTriggered))                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Now, quick copy over the computed command data to the command FIFO        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               FIFOPtr[gFIFOIn] = gMoveTemp;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gFIFOIn++;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if (gFIFOIn >= gCurrentFIFOLength)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 gFIFOIn = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gFIFOLength++;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004f2c   ecb9     CALL      0x5d72,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004f2e   f02e                                                                                                               
004f30   0e25     MOVLW     0x25           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004f32   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
004f34   e202     BC        0x4f3a                                                                                          
004f36   6ae1     CLRF      0xe1,0x0                                                                                        
004f38   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004f3a   efb2     GOTO      0x5d64                                                                                          
004f3c   f02e                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Home the motors                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // "HM,<StepFrequency>,<Pos1>,<Pos2><CR>"                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <StepFrequency> is the desired rate of the primary (larger) axis in steps/s.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   It is allowed to be from 1 to 25000.                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Pos1> and <Pos2> are both optional. If <Pos1> is present, <Pos2> must        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // also be present. If not present they are both assumed to be 0 (i.e.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // a true 'home' move). If present, they will instruct the EBB to perform        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // a move to the absolute position <Pos1>,<Pos2>.                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Pos1> and <Pos2> are both signed 32 bit integers. Values from                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // -2147483647 to 2147483647 are allowed for each.                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This command uses the current global step counts compute the number of        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // steps necessary to reach the target position. (either 0,0 or Pos1,Pos2)       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // There is a limitation to <Pos1> and <Pos2>. When they are each added          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // to the negative of the current global position to compute the number of       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // steps necessary to complete this HM move, the sum must not overflow a         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // signed 32 bit number. An overflow like this will generate an error.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that this situation is very unlikely to occur, as 0x7FFFFFFF steps       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // (the maximum number of steps a signed 32 bit int can represent) will take     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 23 hours to execute at the highest step rate (25Ks/s).                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The primary axis will be whichever one has to move more steps.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The secondary axis will be the non-primary axis.                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For this function, if <StepFrequency> is too high or too low, we don't error  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // out, we just use a legal value instead (25,000 or 1 s/s).                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // When parsing this command, we always wait until both the FIFO is empty and    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // the motion commands are finished. By waiting until both the FIFO (queue) and  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // motion commands are empty, we get an accurate picture of where the global     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // step position is.                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Once the move has been figured out, we call process_simple_rate_move_fp().    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Some global variables are used in this function instead of local ones:        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gHM_StepRate is used for StepRate                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gHM_Pos1 is used for Pos1                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gHM_Pos2 is used for Pos2                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gSteps1 is used as parameter for process_simple_rate_move                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gSteps2 is used as parameter for process_simple_rate_move                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004f3e   ecac     CALL      0x6358,0x0     void parse_HM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004f40   f031                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004f42   0e01     MOVLW     0x1              BOOL   CommandExecuting = TRUE;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004f44   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004f46   ecf7     CALL      0x61ee,0x0       clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004f48   f030                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract the three parameters                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kULONG, &gHM_StepRate, kREQUIRED);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004f4a   0e01     MOVLW     0x1              extract_number(kLONG,  &gHM_Pos1,     kOPTIONAL);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004f4c   6ee6     MOVWF     0xe6,0x0                                                                                        
004f4e   0edb     MOVLW     0xdb                                                                                            
004f50   6ee6     MOVWF     0xe6,0x0                                                                                        
004f52   0e01     MOVLW     0x1                                                                                             
004f54   ec40     CALL      0x6480,0x0                                                                                      
004f56   f032                                                                                                               
004f58   6ee6     MOVWF     0xe6,0x0         extract_number(kLONG,  &gHM_Pos2,     kOPTIONAL);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004f5a   0eeb     MOVLW     0xeb                                                                                            
004f5c   6ee6     MOVWF     0xe6,0x0                                                                                        
004f5e   0e01     MOVLW     0x1                                                                                             
004f60   ec40     CALL      0x6480,0x0                                                                                      
004f62   f032                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // StepRate must be from 1 to 25000                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004f64   0101     MOVLB     0x1              if (gHM_StepRate < 1u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004f66   5dcb     SUBWF     0xcb,0x0,0x1                                                                                    
004f68   0e00     MOVLW     0x0                                                                                             
004f6a   59cc     SUBWFB    0xcc,0x0,0x1                                                                                    
004f6c   0e00     MOVLW     0x0                                                                                             
004f6e   59cd     SUBWFB    0xcd,0x0,0x1                                                                                    
004f70   0e00     MOVLW     0x0                                                                                             
004f72   59ce     SUBWFB    0xce,0x0,0x1                                                                                    
004f74   e204     BC        0x4f7e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004f76   0e01     MOVLW     0x1                gHM_StepRate = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004f78   6fcb     MOVWF     0xcb,0x1                                                                                        
004f7a   6bcc     CLRF      0xcc,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004f7c   d009     BRA       0x4f90           else if (gHM_StepRate > 25000u)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004f7e   80d8     BSF       0xd8,0x0,0x0                                                                                    
004f80   0ea8     MOVLW     0xa8                                                                                            
004f82   ec85     CALL      0x610a,0x0                                                                                      
004f84   f030                                                                                                               
004f86   e206     BC        0x4f94                                                                                          
00610a   55cb     SUBFWB    0xcb,0x0,0x1                                                                                    
00610c   0e61     MOVLW     0x61                                                                                            
00610e   55cc     SUBFWB    0xcc,0x0,0x1                                                                                    
006110   0e00     MOVLW     0x0                                                                                             
006112   55cd     SUBFWB    0xcd,0x0,0x1                                                                                    
006114   0e00     MOVLW     0x0                                                                                             
006116   55ce     SUBFWB    0xce,0x0,0x1                                                                                    
006118   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004f88   0ea8     MOVLW     0xa8               gHM_StepRate = 25000;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004f8a   6fcb     MOVWF     0xcb,0x1                                                                                        
004f8c   0e61     MOVLW     0x61                                                                                            
004f8e   6fcc     MOVWF     0xcc,0x1                                                                                        
004f90   6bcd     CLRF      0xcd,0x1                                                                                        
004f92   6bce     CLRF      0xce,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Wait until FIFO is empty                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004f94   5013     MOVF      0x13,0x0,0x0     while(gFIFOLength >= gCurrentFIFOLength)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004f96   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
004f98   e2fd     BC        0x4f94                                                                                          
                                               ;                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Then wait for motion command to finish (if one's running)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004f9a   04df     DECF      0xdf,0x0,0x0     while (CommandExecuting == TRUE)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004f9c   e10a     BNZ       0x4fb2                                                                                          
004fb0   d7f4     BRA       0x4f9a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Need to turn off high priority interrupts briefly here to read out value that ISR uses D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004f9e   9ef2     BCF       0xf2,0x7,0x0       INTCONbits.GIEH = 0;    // Turn high priority interrupts off                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // See if there is either a delay or a command executing                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004fa0   0101     MOVLB     0x1                if ((CurrentCommand.m.sm.DelayCounter == 0u) && (CurrentCommand.Command == COMMAND_NONE)) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004fa2   ec6e     CALL      0x60dc,0x0                                                                                      
004fa4   f030                                                                                                               
004fa6   e103     BNZ       0x4fae                                                                                          
004fa8   5189     MOVF      0x89,0x0,0x1                                                                                    
004faa   e101     BNZ       0x4fae                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004fac   6adf     CLRF      0xdf,0x0             CommandExecuting = FALSE;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Re-enable interrupts                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004fae   8ef2     BSF       0xf2,0x7,0x0       INTCONbits.GIEH = 1;    // Turn high priority interrupts on                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Make a local copy of the things we care about. This is how far we need to move. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004fb2   c016     MOVFF     0x16,0x40        gSteps1 = -globalStepCounter1 + gHM_Pos1;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004fb4   f040                                                                                                               
004fb6   c017     MOVFF     0x17,0x41                                                                                       
004fb8   f041                                                                                                               
004fba   c018     MOVFF     0x18,0x42                                                                                       
004fbc   f042                                                                                                               
004fbe   c019     MOVFF     0x19,0x43                                                                                       
004fc0   f043                                                                                                               
004fc2   ec8d     CALL      0x611a,0x0                                                                                      
004fc4   f030                                                                                                               
004fc6   0101     MOVLB     0x1                                                                                             
004fc8   25db     ADDWF     0xdb,0x0,0x1                                                                                    
004fca   6fd7     MOVWF     0xd7,0x1                                                                                        
004fcc   503d     MOVF      0x3d,0x0,0x0                                                                                    
004fce   21dc     ADDWFC    0xdc,0x0,0x1                                                                                    
004fd0   6fd8     MOVWF     0xd8,0x1                                                                                        
004fd2   503e     MOVF      0x3e,0x0,0x0                                                                                    
004fd4   21dd     ADDWFC    0xdd,0x0,0x1                                                                                    
004fd6   6fd9     MOVWF     0xd9,0x1                                                                                        
004fd8   503f     MOVF      0x3f,0x0,0x0                                                                                    
004fda   21de     ADDWFC    0xde,0x0,0x1                                                                                    
004fdc   6fda     MOVWF     0xda,0x1                                                                                        
00611a   6845     SETF      0x45,0x0                                                                                        
00611c   6846     SETF      0x46,0x0                                                                                        
00611e   6847     SETF      0x47,0x0                                                                                        
006120   6848     SETF      0x48,0x0                                                                                        
006122   ecd2     CALL      0x8ba4,0x0                                                                                      
006124   f045                                                                                                               
006126   503c     MOVF      0x3c,0x0,0x0                                                                                    
006128   0012     RETURN    0x0                                                                                             
004fde   c01a     MOVFF     0x1a,0x40        gSteps2 = -globalStepCounter2 + gHM_Pos2;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
004fe0   f040                                                                                                               
004fe2   c01b     MOVFF     0x1b,0x41                                                                                       
004fe4   f041                                                                                                               
004fe6   c01c     MOVFF     0x1c,0x42                                                                                       
004fe8   f042                                                                                                               
004fea   c01d     MOVFF     0x1d,0x43                                                                                       
004fec   f043                                                                                                               
004fee   ec8d     CALL      0x611a,0x0                                                                                      
004ff0   f030                                                                                                               
004ff2   0101     MOVLB     0x1                                                                                             
004ff4   25eb     ADDWF     0xeb,0x0,0x1                                                                                    
004ff6   6fe7     MOVWF     0xe7,0x1                                                                                        
004ff8   503d     MOVF      0x3d,0x0,0x0                                                                                    
004ffa   21ec     ADDWFC    0xec,0x0,0x1                                                                                    
004ffc   6fe8     MOVWF     0xe8,0x1                                                                                        
004ffe   503e     MOVF      0x3e,0x0,0x0                                                                                    
005000   21ed     ADDWFC    0xed,0x0,0x1                                                                                    
005002   6fe9     MOVWF     0xe9,0x1                                                                                        
005004   503f     MOVF      0x3f,0x0,0x0                                                                                    
005006   21ee     ADDWFC    0xee,0x0,0x1                                                                                    
005008   6fea     MOVWF     0xea,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Always clear accumulators for this type of move                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00500a   6bcf     CLRF      0xcf,0x1         gClearAccs = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00500c   6bd0     CLRF      0xd0,0x1                                                                                        
00500e   6bd1     CLRF      0xd1,0x1                                                                                        
005010   6bd2     CLRF      0xd2,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set up these values as input parameters                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gSRM_Rate                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gSteps1                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gSteps2                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gClearAccs                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gSRM_Rate = gHM_StepRate;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005012   d811     RCALL     0x5036           process_simple_rate_move_fp();                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005014   ecb9     CALL      0x5d72,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005016   f02e                                                                                                               
005018   ef69     GOTO      0x5ed2         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00501a   f02f                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Test Rate                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Simple function to allow testing of the process_simple_rate_move_fp() command. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Simply take the parameters from the user and pass them on to the move.        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_TR_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00501c   ecf7     CALL      0x61ee,0x0       clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00501e   f030                                                                                                               
0061ee   d9a4     RCALL     0x6538                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract the three parameters                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0061f0   0ecb     MOVLW     0xcb             extract_number(kULONG, &gHM_StepRate, kREQUIRED);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0061f2   6ee6     MOVWF     0xe6,0x0                                                                                        
0061f4   0e01     MOVLW     0x1                                                                                             
0061f6   ef95     GOTO      0x652a                                                                                          
0061f8   f032                                                                                                               
00652a   6ee6     MOVWF     0xe6,0x0                                                                                        
00652c   0e07     MOVLW     0x7                                                                                             
00652e   efe8     GOTO      0x5bd0                                                                                          
006530   f02d                                                                                                               
005020   6ae6     CLRF      0xe6,0x0         extract_number(kLONG,  &gSteps1,      kREQUIRED);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005022   0ed7     MOVLW     0xd7                                                                                            
005024   6ee6     MOVWF     0xe6,0x0                                                                                        
005026   0e01     MOVLW     0x1                                                                                             
005028   ec63     CALL      0x64c6,0x0                                                                                      
00502a   f032                                                                                                               
00502c   ecde     CALL      0x61bc,0x0       extract_number(kLONG,  &gSteps2,      kREQUIRED);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00502e   f030                                                                                                               
                                             extract_number(kULONG, &gClearAccs,   kOPTIONAL);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set up these values as input parameters                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gHM_StepRate                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gSteps1                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gSteps2                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gClearAccs                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005030   d802     RCALL     0x5036           process_simple_rate_move_fp();                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005032   efb9     GOTO      0x5d72           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005034   f02e                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This is the generic function for processing simple moves which use a          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 'rate' input parameter rather than a duration. The 'rate' parameter           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // is applied to the axis that has more steps (primary axis). The other axis     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // (secondary axis) gets a rate which is appropriate to making a straight line.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // gHM_StepRate can be between 1 and 25000 inclusive                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // gSteps1 and gSteps2 are signed 32 bit numbers                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This function uses these as input parameters:                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gSRM_Rate   UINT32  not modified                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gSteps1     INT32   modified                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gSteps2     INT32   modified                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gClearAccs  UINT32  not modified                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005036   ec91     CALL      0x6322,0x0     void process_simple_rate_move_fp(void)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005038   f031                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             float tempF;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00503a   aa09     BTFSS     0x9,0x5,0x0      if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_NUM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00503c   d01b     BRA       0x5074                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00503e   0e8a     MOVLW     0x8a               ebb_print((far rom char *)"Rate=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005040   6e4e     MOVWF     0x4e,0x0                                                                                        
005042   0e7f     MOVLW     0x7f                                                                                            
005044   ecee     CALL      0x5bdc,0x0                                                                                      
005046   f02d                                                                                                               
005048   c1cb     MOVFF     0x1cb,0xfe6        ebb_print_uint(gHM_StepRate);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00504a   ffe6                                                                                                               
00504c   c1cc     MOVFF     0x1cc,0xfe6                                                                                     
00504e   ffe6                                                                                                               
005050   c1cd     MOVFF     0x1cd,0xfe6                                                                                     
005052   ffe6                                                                                                               
005054   c1ce     MOVFF     0x1ce,0xfe6                                                                                     
005056   ffe6                                                                                                               
005058   ec87     CALL      0x5d0e,0x0                                                                                      
00505a   f02e                                                                                                               
00505c   0e0f     MOVLW     0xf                ebb_print((far rom char *)" S1=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00505e   6e4e     MOVWF     0x4e,0x0                                                                                        
005060   0e80     MOVLW     0x80                                                                                            
005062   ecee     CALL      0x5bdc,0x0                                                                                      
005064   f02d                                                                                                               
005066   ec90     CALL      0x5f20,0x0         ebb_print_int(gSteps1);                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005068   f02f                                                                                                               
005f20   c1d7     MOVFF     0x1d7,0xfe6                                                                                     
005f22   ffe6                                                                                                               
005f24   c1d8     MOVFF     0x1d8,0xfe6                                                                                     
005f26   ffe6                                                                                                               
005f28   c1d9     MOVFF     0x1d9,0xfe6                                                                                     
005f2a   ffe6                                                                                                               
005f2c   c1da     MOVFF     0x1da,0xfe6                                                                                     
005f2e   ffe6                                                                                                               
005f30   efed     GOTO      0x61da                                                                                          
005f32   f030                                                                                                               
0061da   ec54     CALL      0x82a8,0x0                                                                                      
0061dc   f041                                                                                                               
0061de   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0061e0   d155     BRA       0x648c                                                                                          
00648c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00648e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006490   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006492   0012     RETURN    0x0                                                                                             
00506a   0efb     MOVLW     0xfb               ebb_print((far rom char *)" S2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00506c   6e4e     MOVWF     0x4e,0x0                                                                                        
00506e   0e7f     MOVLW     0x7f                                                                                            
005070   ec20     CALL      0x6440,0x0                                                                                      
005072   f032                                                                                                               
006440   ecee     CALL      0x5bdc,0x0                                                                                      
006442   f02d                                                                                                               
006444   c1e7     MOVFF     0x1e7,0xfe6        ebb_print_int(gSteps2);                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
006446   ffe6                                                                                                               
006448   c1e8     MOVFF     0x1e8,0xfe6                                                                                     
00644a   ffe6                                                                                                               
00644c   c1e9     MOVFF     0x1e9,0xfe6                                                                                     
00644e   ffe6                                                                                                               
006450   c1ea     MOVFF     0x1ea,0xfe6                                                                                     
006452   ffe6                                                                                                               
006454   dec2     RCALL     0x61da                                                                                          
006456   efc1     GOTO      0x5d82             print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
006458   f02e                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If we have a triggered limit switch, then ignore this move command          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005074   b00e     BTFSC     0xe,0x0,0x0      if (bittstzero(gLimitSwitchTriggered))                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005076   d0a3     BRA       0x51be                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // And check for a bad rate value                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005078   80d8     BSF       0xd8,0x0,0x0     if ((gHM_StepRate > 25000u) || (gHM_StepRate == 0u))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00507a   0ea8     MOVLW     0xa8                                                                                            
00507c   0101     MOVLB     0x1                                                                                             
00507e   ec85     CALL      0x610a,0x0                                                                                      
005080   f030                                                                                                               
005082   e303     BNC       0x508a                                                                                          
005084   ec1f     CALL      0x603e,0x0                                                                                      
005086   f030                                                                                                               
005088   e106     BNZ       0x5096                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00508a   0e6a     MOVLW     0x6a               ebb_print((far rom char *)"!0 Err: StepRate invalid value.");                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00508c   6e4e     MOVWF     0x4e,0x0                                                                                        
00508e   0e7f     MOVLW     0x7f                                                                                            
005090   ecd3     CALL      0x63a6,0x0                                                                                      
005092   f031                                                                                                               
                                               print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005094   d094     BRA       0x51be             return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If, for some reason, we're called with zero steps for both axis, then bail  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005096   ece3     CALL      0x5fc6,0x0       if ((gSteps1 == 0) && (gSteps2 == 0))                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005098   f02f                                                                                                               
00509a   e104     BNZ       0x50a4                                                                                          
00509c   ece8     CALL      0x5fd0,0x0                                                                                      
00509e   f02f                                                                                                               
0050a0   e101     BNZ       0x50a4                                                                                          
0050a2   d08d     BRA       0x51be                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0050a4   c1cf     MOVFF     0x1cf,0x12f      gMoveTemp.m.sm.SEState = (UINT8)gClearAccs;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0050a6   f12f                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0050a8   ec36     CALL      0x606c,0x0       gMoveTemp.m.sm.DelayCounter = 0;    // A rate move is never a delay, so clear  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0050aa   f030                                                                                                               
00606c   0101     MOVLB     0x1                                                                                             
00606e   6b2b     CLRF      0x2b,0x1                                                                                        
006070   6b2c     CLRF      0x2c,0x1                                                                                        
006072   6b2d     CLRF      0x2d,0x1                                                                                        
006074   6b2e     CLRF      0x2e,0x1                                                                                        
006076   6b2a     CLRF      0x2a,0x1         gMoveTemp.m.sm.DirBits = 0;         // Start with positive direction for both  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0050ac   e102     BNZ       0x50b2           if (gAutomaticMotorEnable == TRUE)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
006078   0100     MOVLB     0x0                                                                                             
00607a   05d9     DECF      0xd9,0x0,0x1                                                                                    
00607c   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Enable both motors when we want to move them                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0050ae   908d     BCF       0x8d,0x0,0x0       Enable1IO = ENABLE_MOTOR;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0050b0   928b     BCF       0x8b,0x1,0x0       Enable2IO = ENABLE_MOTOR;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // First, set the direction bits                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0050b2   0101     MOVLB     0x1              if (gSteps1 < 0)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0050b4   0e80     MOVLW     0x80                                                                                            
0050b6   15da     ANDWF     0xda,0x0,0x1                                                                                    
0050b8   e002     BZ        0x50be                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0050ba   ecc7     CALL      0x5f8e,0x0         gMoveTemp.m.sm.DirBits = gMoveTemp.m.sm.DirBits | DIR1_BIT;                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0050bc   f02f                                                                                                               
005f8e   0e80     MOVLW     0x80                                                                                            
005f90   0101     MOVLB     0x1                                                                                             
005f92   112a     IORWF     0x2a,0x0,0x1                                                                                    
005f94   6f2a     MOVWF     0x2a,0x1                                                                                        
005f96   0e00     MOVLW     0x0                gSteps1 = -gSteps1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005f98   0101     MOVLB     0x1                                                                                             
005f9a   ef95     GOTO      0x632a                                                                                          
005f9c   f031                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0050be   0e80     MOVLW     0x80             if (gSteps2 < 0)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0050c0   15ea     ANDWF     0xea,0x0,0x1                                                                                    
0050c2   e002     BZ        0x50c8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0050c4   eccf     CALL      0x5f9e,0x0         gMoveTemp.m.sm.DirBits = gMoveTemp.m.sm.DirBits | DIR2_BIT;                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0050c6   f02f                                                                                                               
005f9e   0e20     MOVLW     0x20                                                                                            
005fa0   0101     MOVLB     0x1                                                                                             
005fa2   112a     IORWF     0x2a,0x0,0x1                                                                                    
005fa4   6f2a     MOVWF     0x2a,0x1                                                                                        
005fa6   0e00     MOVLW     0x0                gSteps2 = -gSteps2;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005fa8   0101     MOVLB     0x1                                                                                             
005faa   ef9d     GOTO      0x633a                                                                                          
005fac   f031                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Both Steps values are now positive because our directions are set. From     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // now on we're dealing only with step counts and rates, no directions.        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Figure out which axis is major                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0050c8   0ed7     MOVLW     0xd7             if (gSteps1 >= gSteps2)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0050ca   6ee9     MOVWF     0xe9,0x0                                                                                        
0050cc   0e01     MOVLW     0x1                                                                                             
0050ce   6eea     MOVWF     0xea,0x0                                                                                        
0050d0   0e03     MOVLW     0x3                                                                                             
0050d2   50eb     MOVF      0xeb,0x0,0x0                                                                                    
0050d4   19ea     XORWF     0xea,0x0,0x1                                                                                    
0050d6   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
0050d8   d002     BRA       0x50de                                                                                          
0050da   35ea     RLCF      0xea,0x0,0x1                                                                                    
0050dc   d008     BRA       0x50ee                                                                                          
0050de   51e7     MOVF      0xe7,0x0,0x1                                                                                    
0050e0   5cee     SUBWF     0xee,0x0,0x0                                                                                    
0050e2   51e8     MOVF      0xe8,0x0,0x1                                                                                    
0050e4   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
0050e6   51e9     MOVF      0xe9,0x0,0x1                                                                                    
0050e8   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
0050ea   51ea     MOVF      0xea,0x0,0x1                                                                                    
0050ec   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
0050ee   e32a     BNC       0x5144                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Axis1 is major, Axis2 is minor                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Computing the gMoveTemp.m.sm.Rate value for the primary axis is simple.   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // gMoveTemp.m.sm.Rate is simply gHM_StepRate * 85899.34592.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0050f0   ece9     CALL      0x5dd2,0x0         gMoveTemp.m.sm.Rate[0].value = (INT32)((float)gHM_StepRate * 85899.34592f);  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0050f2   f02e                                                                                                               
0050f4   ec3f     CALL      0x607e,0x0                                                                                      
0050f6   f030                                                                                                               
005dd2   db70     RCALL     0x64b4                                                                                          
005dd4   ec50     CALL      0x72a0,0x0                                                                                      
005dd6   f039                                                                                                               
005dd8   da5b     RCALL     0x6290                                                                                          
005dda   0eac     MOVLW     0xac                                                                                            
005ddc   6e46     MOVWF     0x46,0x0                                                                                        
005dde   0ec5     MOVLW     0xc5                                                                                            
005de0   6e47     MOVWF     0x47,0x0                                                                                        
005de2   0ea7     MOVLW     0xa7                                                                                            
005de4   6e48     MOVWF     0x48,0x0                                                                                        
005de6   0e47     MOVLW     0x47                                                                                            
005de8   6e49     MOVWF     0x49,0x0                                                                                        
005dea   ecbe     CALL      0x737c,0x0                                                                                      
005dec   f039                                                                                                               
005dee   ef5f     GOTO      0x74be                                                                                          
005df0   f03a                                                                                                               
00607e   c040     MOVFF     0x40,0x130                                                                                      
006080   f130                                                                                                               
006082   c041     MOVFF     0x41,0x131                                                                                      
006084   f131                                                                                                               
006086   c042     MOVFF     0x42,0x132                                                                                      
006088   f132                                                                                                               
00608a   c043     MOVFF     0x43,0x133                                                                                      
00608c   f133                                                                                                               
00608e   0012     RETURN    0x0                                                                                             
006290   c041     MOVFF     0x41,0x4e                                                                                       
006292   f04e                                                                                                               
006294   c042     MOVFF     0x42,0x4f                                                                                       
006296   f04f                                                                                                               
006298   c043     MOVFF     0x43,0x50                                                                                       
00629a   f050                                                                                                               
00629c   c044     MOVFF     0x44,0x51                                                                                       
00629e   f051                                                                                                               
0062a0   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0050f8   0101     MOVLB     0x1                if (gSteps2 != 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0050fa   ece8     CALL      0x5fd0,0x0                                                                                      
0050fc   f02f                                                                                                               
0050fe   e01c     BZ        0x5138                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // We know secondary axis is non-zero move length, so compute it's rate    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // such that the ratio of primary steps/rate is the same as secondary      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // steps/rate.                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 //                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // The ratio of steps/rate will need to be the same for both axis          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // to make a straight line. So if S1 is axis1 steps, S2 is axis2 steps,    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // R1 is axis1 rate and R2 is axis2 rate, then                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // S1/R1 = S2/R2.                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // We know all but R2, so solving for R2 we get                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // R2 = (S2*R1)/S1                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // We break one of the EBB firmware rules here and use floating point      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // operations, as it is the perfect solution to maintaining as much        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // resolution as possible when computing the secondary rate. And it's not  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // even that slow - both the above primary rate multiply and the following D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // two multiplies and a divide, this whole function take less than 350 uS. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005100   ec33     CALL      0x6266,0x0           tempF = (float)gSteps2 * (float)gHM_StepRate;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005102   f031                                                                                                               
005104   ec97     CALL      0x5d2e,0x0                                                                                      
005106   f02e                                                                                                               
005d2e   ec52     CALL      0x72a4,0x0                                                                                      
005d30   f039                                                                                                               
005d32   daae     RCALL     0x6290                                                                                          
005d34   dbbf     RCALL     0x64b4                                                                                          
005d36   da61     RCALL     0x61fa                                                                                          
005d38   ecbe     CALL      0x737c,0x0                                                                                      
005d3a   f039                                                                                                               
005d3c   ef63     GOTO      0x62c6                                                                                          
005d3e   f031                                                                                                               
0064b4   c1cb     MOVFF     0x1cb,0x40                                                                                      
0064b6   f040                                                                                                               
0064b8   c1cc     MOVFF     0x1cc,0x41                                                                                      
0064ba   f041                                                                                                               
0064bc   c1cd     MOVFF     0x1cd,0x42                                                                                      
0064be   f042                                                                                                               
0064c0   c1ce     MOVFF     0x1ce,0x43                                                                                      
0064c2   f043                                                                                                               
0064c4   0012     RETURN    0x0                                                                                             
005108   ec3c     CALL      0x6278,0x0           tempF /= (float)gSteps1;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00510a   f031                                                                                                               
00510c   ec5d     CALL      0x5cba,0x0                                                                                      
00510e   f02e                                                                                                               
005cba   ec52     CALL      0x72a4,0x0                                                                                      
005cbc   f039                                                                                                               
005cbe   dae8     RCALL     0x6290                                                                                          
005cc0   dabb     RCALL     0x6238                                                                                          
005cc2   c051     MOVFF     0x51,0x49                                                                                       
005cc4   f049                                                                                                               
005cc6   ec6b     CALL      0x72d6,0x0                                                                                      
005cc8   f039                                                                                                               
005cca   db1c     RCALL     0x6304                                                                                          
006238   d94f     RCALL     0x64d8                                                                                          
00623a   cfee     MOVFF     0xfee,0x41                                                                                      
00623c   f041                                                                                                               
00623e   cfee     MOVFF     0xfee,0x42                                                                                      
006240   f042                                                                                                               
006242   cfee     MOVFF     0xfee,0x43                                                                                      
006244   f043                                                                                                               
006246   cfef     MOVFF     0xfef,0x44                                                                                      
006248   f044                                                                                                               
00624a   c04e     MOVFF     0x4e,0x46                                                                                       
00624c   f046                                                                                                               
00624e   c04f     MOVFF     0x4f,0x47                                                                                       
006250   f047                                                                                                               
006252   c050     MOVFF     0x50,0x48                                                                                       
006254   f048                                                                                                               
006256   0012     RETURN    0x0                                                                                             
006304   c044     MOVFF     0x44,0xfed                                                                                      
006306   ffed                                                                                                               
006308   c043     MOVFF     0x43,0xfed                                                                                      
00630a   ffed                                                                                                               
00630c   c042     MOVFF     0x42,0xfed                                                                                      
00630e   ffed                                                                                                               
006310   c041     MOVFF     0x41,0xfef                                                                                      
006312   ffef                                                                                                               
006314   0012     RETURN    0x0                                                                                             
0064d8   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
0064da   ffe9                                                                                                               
0064dc   cfda     MOVFF     0xfda,0xfea                                                                                     
0064de   ffea                                                                                                               
0064e0   0012     RETURN    0x0                                                                                             
005ccc   0eac     MOVLW     0xac                 tempF *= 85899.34592f;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005cce   6e4e     MOVWF     0x4e,0x0                                                                                        
005cd0   0ec5     MOVLW     0xc5                                                                                            
005cd2   6e4f     MOVWF     0x4f,0x0                                                                                        
005cd4   0ea7     MOVLW     0xa7                                                                                            
005cd6   6e50     MOVWF     0x50,0x0                                                                                        
005cd8   0e47     MOVLW     0x47                                                                                            
005cda   6e51     MOVWF     0x51,0x0                                                                                        
005cdc   daad     RCALL     0x6238                                                                                          
005cde   6e49     MOVWF     0x49,0x0                                                                                        
005ce0   ecbe     CALL      0x737c,0x0                                                                                      
005ce2   f039                                                                                                               
005ce4   db0f     RCALL     0x6304                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Limit check out results                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005110   e104     BNZ       0x511a               if (tempF < 1.0f)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005ce6   da9e     RCALL     0x6224                                                                                          
005ce8   6a46     CLRF      0x46,0x0                                                                                        
005cea   6a47     CLRF      0x47,0x0                                                                                        
005cec   0e80     MOVLW     0x80                                                                                            
005cee   6e48     MOVWF     0x48,0x0                                                                                        
005cf0   0e3f     MOVLW     0x3f                                                                                            
005cf2   daf4     RCALL     0x62dc                                                                                          
005cf4   ec9f     CALL      0x753e,0x0                                                                                      
005cf6   f03a                                                                                                               
005cf8   0a01     XORLW     0x1                                                                                             
005cfa   0012     RETURN    0x0                                                                                             
0062dc   6e49     MOVWF     0x49,0x0                                                                                        
0062de   d0da     BRA       0x6494                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005112   0101     MOVLB     0x1                    gMoveTemp.m.sm.Rate[1].value = 1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005114   0e01     MOVLW     0x1                                                                                             
005116   6f34     MOVWF     0x34,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005118   d011     BRA       0x513c               else if (tempF > 2147483647.0f)                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00511a   ecf9     CALL      0x5df2,0x0                                                                                      
00511c   f02e                                                                                                               
00511e   e107     BNZ       0x512e                                                                                          
005df2   da18     RCALL     0x6224                                                                                          
005df4   6a46     CLRF      0x46,0x0                                                                                        
005df6   6a47     CLRF      0x47,0x0                                                                                        
005df8   6a48     CLRF      0x48,0x0                                                                                        
005dfa   0e4f     MOVLW     0x4f                                                                                            
005dfc   da6f     RCALL     0x62dc                                                                                          
005dfe   ec96     CALL      0x752c,0x0                                                                                      
005e00   f03a                                                                                                               
005e02   0a01     XORLW     0x1                                                                                             
005e04   0012     RETURN    0x0                                                                                             
006224   d959     RCALL     0x64d8                                                                                          
006226   cfee     MOVFF     0xfee,0x4e                                                                                      
006228   f04e                                                                                                               
00622a   cfee     MOVFF     0xfee,0x4f                                                                                      
00622c   f04f                                                                                                               
00622e   cfee     MOVFF     0xfee,0x50                                                                                      
006230   f050                                                                                                               
006232   cfef     MOVFF     0xfef,0x51                                                                                      
006234   f051                                                                                                               
006236   0012     RETURN    0x0                                                                                             
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005120   0101     MOVLB     0x1                    gMoveTemp.m.sm.Rate[1].value = 2147483647u;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005122   6934     SETF      0x34,0x1                                                                                        
005124   6935     SETF      0x35,0x1                                                                                        
005126   6936     SETF      0x36,0x1                                                                                        
005128   0e7f     MOVLW     0x7f                                                                                            
00512a   6f37     MOVWF     0x37,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00512c   d034     BRA       0x5196               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00512e   ecd7     CALL      0x5fae,0x0             gMoveTemp.m.sm.Rate[1].value = (INT32)tempF;                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005130   f02f                                                                                                               
005132   ec48     CALL      0x6090,0x0                                                                                      
005134   f030                                                                                                               
005fae   cfde     MOVFF     0xfde,0x41                                                                                      
005fb0   f041                                                                                                               
005fb2   cfde     MOVFF     0xfde,0x42                                                                                      
005fb4   f042                                                                                                               
005fb6   cfde     MOVFF     0xfde,0x43                                                                                      
005fb8   f043                                                                                                               
005fba   cfdd     MOVFF     0xfdd,0x44                                                                                      
005fbc   f044                                                                                                               
005fbe   52dd     MOVF      0xdd,0x1,0x0                                                                                    
005fc0   52dd     MOVF      0xdd,0x1,0x0                                                                                    
005fc2   ef5f     GOTO      0x74be                                                                                          
005fc4   f03a                                                                                                               
006090   c040     MOVFF     0x40,0x134                                                                                      
006092   f134                                                                                                               
006094   c041     MOVFF     0x41,0x135                                                                                      
006096   f135                                                                                                               
006098   c042     MOVFF     0x42,0x136                                                                                      
00609a   f136                                                                                                               
00609c   c043     MOVFF     0x43,0x137                                                                                      
00609e   f137                                                                                                               
0060a0   0012     RETURN    0x0                                                                                             
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005136   d02f     BRA       0x5196             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Because we know Axis2 doesn't need to move, zero everything out         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005138   0101     MOVLB     0x1                  gMoveTemp.m.sm.Rate[1].value = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00513a   6b34     CLRF      0x34,0x1                                                                                        
00513c   6b35     CLRF      0x35,0x1                                                                                        
00513e   6b36     CLRF      0x36,0x1                                                                                        
005140   6b37     CLRF      0x37,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005142   d029     BRA       0x5196           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Axis2 is major, Axis1 is minor, other than that same as above             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005144   ece9     CALL      0x5dd2,0x0         gMoveTemp.m.sm.Rate[1].value = (INT32)((float)gHM_StepRate * 85899.34592f);  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005146   f02e                                                                                                               
005148   ec48     CALL      0x6090,0x0                                                                                      
00514a   f030                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00514c   0101     MOVLB     0x1                if (gSteps1 != 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00514e   ece3     CALL      0x5fc6,0x0                                                                                      
005150   f02f                                                                                                               
005152   e01c     BZ        0x518c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005154   ec3c     CALL      0x6278,0x0           tempF = (float)gSteps1 * (float)gHM_StepRate;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005156   f031                                                                                                               
005158   ec97     CALL      0x5d2e,0x0                                                                                      
00515a   f02e                                                                                                               
00515c   ec33     CALL      0x6266,0x0           tempF /= (float)gSteps2;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00515e   f031                                                                                                               
005160   ec5d     CALL      0x5cba,0x0                                                                                      
005162   f02e                                                                                                               
                                                 tempF *= 85899.34592f;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005164   e104     BNZ       0x516e               if (tempF < 1.0f)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005166   0101     MOVLB     0x1                    gMoveTemp.m.sm.Rate[0].value = 1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005168   0e01     MOVLW     0x1                                                                                             
00516a   6f30     MOVWF     0x30,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00516c   d011     BRA       0x5190               else if (tempF > 2147483647.0f)                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00516e   ecf9     CALL      0x5df2,0x0                                                                                      
005170   f02e                                                                                                               
005172   e107     BNZ       0x5182                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005174   0101     MOVLB     0x1                    gMoveTemp.m.sm.Rate[0].value = 2147483647u;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005176   6930     SETF      0x30,0x1                                                                                        
005178   6931     SETF      0x31,0x1                                                                                        
00517a   6932     SETF      0x32,0x1                                                                                        
00517c   0e7f     MOVLW     0x7f                                                                                            
00517e   6f33     MOVWF     0x33,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005180   d00a     BRA       0x5196               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005182   ecd7     CALL      0x5fae,0x0             gMoveTemp.m.sm.Rate[0].value = (INT32)tempF;                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005184   f02f                                                                                                               
005186   ec3f     CALL      0x607e,0x0                                                                                      
005188   f030                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00518a   d005     BRA       0x5196             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00518c   0101     MOVLB     0x1                  gMoveTemp.m.sm.Rate[0].value = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00518e   6b30     CLRF      0x30,0x1                                                                                        
005190   6b31     CLRF      0x31,0x1                                                                                        
005192   6b32     CLRF      0x32,0x1                                                                                        
005194   6b33     CLRF      0x33,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005196   eca5     CALL      0x634a,0x0       gMoveTemp.m.sm.Steps[0] = gSteps1;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005198   f031                                                                                                               
00634a   ddf4     RCALL     0x5f34                                                                                          
00634c   0101     MOVLB     0x1              gMoveTemp.m.sm.Accel[0] = 0;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00634e   6b48     CLRF      0x48,0x1                                                                                        
006350   6b49     CLRF      0x49,0x1                                                                                        
006352   6b4a     CLRF      0x4a,0x1                                                                                        
006354   6b4b     CLRF      0x4b,0x1                                                                                        
006356   0012     RETURN    0x0                                                                                             
00519a   eca3     CALL      0x5f46,0x0       gMoveTemp.m.sm.Steps[1] = gSteps2;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00519c   f02f                                                                                                               
00519e   ecb2     CALL      0x6164,0x0       gMoveTemp.m.sm.Accel[1] = 0;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0051a0   f030                                                                                                               
006164   6b4c     CLRF      0x4c,0x1                                                                                        
006166   6b4d     CLRF      0x4d,0x1                                                                                        
006168   6b4e     CLRF      0x4e,0x1                                                                                        
00616a   6b4f     CLRF      0x4f,0x1                                                                                        
00616c   0e05     MOVLW     0x5              gMoveTemp.Command = COMMAND_SM_XM_HM_MOVE;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00616e   6f29     MOVWF     0x29,0x1                                                                                        
006170   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0051a2   aa09     BTFSS     0x9,0x5,0x0      if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_NUM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0051a4   d002     BRA       0x51aa                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0051a6   ece5     CALL      0x61ca,0x0         ebb_print((far rom char *)"R1=");                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0051a8   f030                                                                                                               
0061ca   d98b     RCALL     0x64e2                                                                                          
0061cc   dda0     RCALL     0x5d0e             ebb_print_uint(gMoveTemp.m.sm.Rate[0].value);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0061ce   d91a     RCALL     0x6404             ebb_print((far rom char *)" S1=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print_uint(gMoveTemp.m.sm.Steps[0]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0061d0   d98f     RCALL     0x64f0             ebb_print((far rom char *)" R2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0061d2   dd9d     RCALL     0x5d0e             ebb_print_uint(gMoveTemp.m.sm.Rate[1].value);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0061d4   d926     RCALL     0x6422             ebb_print((far rom char *)" S2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print_uint(gMoveTemp.m.sm.Steps[1]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0061d6   efc1     GOTO      0x5d82             print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0061d8   f02e                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Spin here until there's space in the FIFO                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0051aa   5013     MOVF      0x13,0x0,0x0     while (gFIFOLength >= gCurrentFIFOLength)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0051ac   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
0051ae   e2fd     BC        0x51aa                                                                                          
                                             ;                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If the limit switch feature has triggered, then ignore this move command    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Maybe the limit switch has become true between the top of this function     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // and here? Better check for it.                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0051b0   b00e     BTFSC     0xe,0x0,0x0      if (!bittstzero(gLimitSwitchTriggered))                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0051b2   d005     BRA       0x51be                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Now, quick copy over the computed command data to the command FIFO        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0051b4   ecf9     CALL      0x5bf2,0x0         FIFOPtr[gFIFOIn] = gMoveTemp;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0051b6   f02d                                                                                                               
                                               gFIFOIn++;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0051b8   e301     BNC       0x51bc             if (gFIFOIn >= gCurrentFIFOLength)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0051ba   6a10     CLRF      0x10,0x0             gFIFOIn = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0051bc   2a0f     INCF      0xf,0x1,0x0        gFIFOLength++;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0051be   0e04     MOVLW     0x4            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0051c0   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0051c2   e202     BC        0x51c8                                                                                          
0051c4   6ae1     CLRF      0xe1,0x0                                                                                        
0051c6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0051c8   efb2     GOTO      0x5d64                                                                                          
0051ca   f02e                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The X Stepper Motor command                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: XM,<move_duration>,<axisA_steps>,<axisB_steps><CR>                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <move_duration> an unsigned 32 bit value indicating the number of milliseconds this move should take D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <axisA_steps> and <axisB_stetsp> are signed 32 bit numbers                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This command differs from the normal "SM" command in that it is designed to drive 'mixed-axis' geometry D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // machines like H-Bot and CoreXY. Using XM will effectively call SM with Axis1 = <axisA_steps> + <axisB_steps> and D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Axis2 = <axisA_steps> - <axisB_steps>.                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Because of this, the caller must make sure that <axisA_steps> + <axisB_steps> and <axisA_steps> - <axisB_steps> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // do not overflow or underflow a 32 bit signed value.                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Temporary globals used in this function                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gXM_ASteps will be used for ASteps                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gXM_BSteps will be used for BSteps                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_XM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0051cc   ec2c     CALL      0x6258,0x0       clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0051ce   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kULONG, &gDurationMS, kREQUIRED);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0051d0   0edb     MOVLW     0xdb             extract_number(kLONG, &gXM_ASteps, kREQUIRED);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0051d2   6ee6     MOVWF     0xe6,0x0                                                                                        
0051d4   0e01     MOVLW     0x1                                                                                             
0051d6   ec3a     CALL      0x6474,0x0                                                                                      
0051d8   f032                                                                                                               
0061b2   6ee6     MOVWF     0xe6,0x0                                                                                        
0061b4   0e06     MOVLW     0x6                                                                                             
0061b6   dd0c     RCALL     0x5bd0                                                                                          
0061b8   6ae6     CLRF      0xe6,0x0         extract_number(kLONG, &gXM_BSteps, kREQUIRED);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0061ba   0012     RETURN    0x0                                                                                             
                                             extract_number(kULONG, &gClearAccs, kOPTIONAL);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Do the math to convert to Axis1 and Axis2                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0051da   ecca     CALL      0x6194,0x0       gSteps1 = gXM_ASteps + gXM_BSteps;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0051dc   f030                                                                                                               
0051de   0101     MOVLB     0x1                                                                                             
0051e0   51db     MOVF      0xdb,0x0,0x1                                                                                    
0051e2   24ee     ADDWF     0xee,0x0,0x0                                                                                    
0051e4   6fd7     MOVWF     0xd7,0x1                                                                                        
0051e6   51dc     MOVF      0xdc,0x0,0x1                                                                                    
0051e8   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
0051ea   6fd8     MOVWF     0xd8,0x1                                                                                        
0051ec   51dd     MOVF      0xdd,0x0,0x1                                                                                    
0051ee   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
0051f0   6fd9     MOVWF     0xd9,0x1                                                                                        
0051f2   51de     MOVF      0xde,0x0,0x1                                                                                    
0051f4   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
0051f6   6fda     MOVWF     0xda,0x1                                                                                        
0051f8   ecca     CALL      0x6194,0x0       gSteps2 = gXM_ASteps - gXM_BSteps;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0051fa   f030                                                                                                               
0051fc   50ee     MOVF      0xee,0x0,0x0                                                                                    
0051fe   5ddb     SUBWF     0xdb,0x0,0x1                                                                                    
005200   6fe7     MOVWF     0xe7,0x1                                                                                        
005202   50ee     MOVF      0xee,0x0,0x0                                                                                    
005204   59dc     SUBWFB    0xdc,0x0,0x1                                                                                    
005206   6fe8     MOVWF     0xe8,0x1                                                                                        
005208   50ee     MOVF      0xee,0x0,0x0                                                                                    
00520a   59dd     SUBWFB    0xdd,0x0,0x1                                                                                    
00520c   6fe9     MOVWF     0xe9,0x1                                                                                        
00520e   50ee     MOVF      0xee,0x0,0x0                                                                                    
005210   59de     SUBWFB    0xde,0x0,0x1                                                                                    
005212   6fea     MOVWF     0xea,0x1                                                                                        
006194   0eeb     MOVLW     0xeb                                                                                            
006196   6ee9     MOVWF     0xe9,0x0                                                                                        
006198   0e01     MOVLW     0x1                                                                                             
00619a   6eea     MOVWF     0xea,0x0                                                                                        
00619c   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Input parameters: gDurationMS, gSteps1, gSteps2, gClearAccs                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005214   d802     RCALL     0x521a           process_simple_motor_move_fp();                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005216   efb9     GOTO      0x5d72           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005218   f02e                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Main stepper move function. This is the reason EBB exists.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Duration> is a 32 bit unsigned int, the number of mS that the move should take D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <A1Stp> and <A2Stp> are the Axis 1 and Axis 2 number of steps to take in      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  <Duration> mS, as 32 bit signed values, where the sign determines the motor  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  direction.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> clears the accumulators (both if 3, none if 0)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This function waits until there is room in the FIFO before placing            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // the data in the FIFO.                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Duration>, <A1Stp> and <A2Stp> can accept any values. However, if a step     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // rate of more than 25kHz is asked for, it will be capped at 25kHz. And if      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // a step rate of less than 0.00001164 Hz it will be set to 0.00001164 Hz.       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that if used as a delay, the duration value is capped at 100000ms.       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Because we are now using global values to pass in parameters to this          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // function, and because this function will modify the values 'passed in' to it  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // the caller should make copies of any parameter values that it requires        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // after the call.                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This function uses these as input parameters:                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gTmpDurationMS    UINT32 not modified                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gTmpSteps1        INT32  modified                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gTmpSteps2        INT32  modified                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gTmpClearAccs     UINT32 modified                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Working values:                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gTmpIntervals     UINT32 modified                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00521a   ec91     CALL      0x6322,0x0     static void process_simple_motor_move_fp(void)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00521c   f031                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             float tempF;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If we have a triggered limit switch, then ignore this move command          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00521e   b00e     BTFSC     0xe,0x0,0x0      if (bittstzero(gLimitSwitchTriggered))                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005220   d100     BRA       0x5422                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005222   aa09     BTFSS     0x9,0x5,0x0      if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_NUM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005224   d01b     BRA       0x525c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005226   0e60     MOVLW     0x60               ebb_print((far rom char *)"Duration=");                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005228   6e4e     MOVWF     0x4e,0x0                                                                                        
00522a   0e7f     MOVLW     0x7f                                                                                            
00522c   ecee     CALL      0x5bdc,0x0                                                                                      
00522e   f02d                                                                                                               
005230   c1c7     MOVFF     0x1c7,0xfe6        ebb_print_uint(gDurationMS);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005232   ffe6                                                                                                               
005234   c1c8     MOVFF     0x1c8,0xfe6                                                                                     
005236   ffe6                                                                                                               
005238   c1c9     MOVFF     0x1c9,0xfe6                                                                                     
00523a   ffe6                                                                                                               
00523c   c1ca     MOVFF     0x1ca,0xfe6                                                                                     
00523e   ffe6                                                                                                               
005240   ec87     CALL      0x5d0e,0x0                                                                                      
005242   f02e                                                                                                               
005244   0e5a     MOVLW     0x5a               ebb_print((far rom char *)" SA1=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005246   6e4e     MOVWF     0x4e,0x0                                                                                        
005248   0e7f     MOVLW     0x7f                                                                                            
00524a   ecee     CALL      0x5bdc,0x0                                                                                      
00524c   f02d                                                                                                               
00524e   ec90     CALL      0x5f20,0x0         ebb_print_int(gSteps1);                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005250   f02f                                                                                                               
005252   0e54     MOVLW     0x54               ebb_print((far rom char *)" SA2=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005254   6e4e     MOVWF     0x4e,0x0                                                                                        
005256   0e7f     MOVLW     0x7f                                                                                            
005258   ec20     CALL      0x6440,0x0                                                                                      
00525a   f032                                                                                                               
                                               ebb_print_int(gSteps2);                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00525c   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00525e   51c4     MOVF      0xc4,0x0,0x1                                                                                    
005260   e010     BZ        0x5282                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Check for invalid duration                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005262   51c7     MOVF      0xc7,0x0,0x1       if (gDurationMS == 0u)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005264   11c8     IORWF     0xc8,0x0,0x1                                                                                    
005266   11c9     IORWF     0xc9,0x0,0x1                                                                                    
005268   11ca     IORWF     0xca,0x0,0x1                                                                                    
00526a   e102     BNZ       0x5270                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00526c   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00526e   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005270   ec04     CALL      0x6008,0x0         if (gClearAccs > 3u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005272   f030                                                                                                               
005274   e202     BC        0x527a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005276   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005278   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00527a   0100     MOVLB     0x0                if (error_byte)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00527c   5197     MOVF      0x97,0x0,0x1                                                                                    
00527e   e001     BZ        0x5282                                                                                          
005280   d0d0     BRA       0x5422                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005282   c1cf     MOVFF     0x1cf,0x12f      gMoveTemp.m.sm.SEState = (UINT8)gClearAccs;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005284   f12f                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Check for delay                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005286   0101     MOVLB     0x1              if (gSteps1 == 0 && gSteps2 == 0)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005288   ece3     CALL      0x5fc6,0x0                                                                                      
00528a   f02f                                                                                                               
00528c   e131     BNZ       0x52f0                                                                                          
00528e   ece8     CALL      0x5fd0,0x0                                                                                      
005290   f02f                                                                                                               
005292   e12e     BNZ       0x52f0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005294   0101     MOVLB     0x1                gMoveTemp.Command = COMMAND_DELAY;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005296   0e01     MOVLW     0x1                                                                                             
005298   6f29     MOVWF     0x29,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Delays over 100000ms long are capped at 100000ms.                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00529a   0ea0     MOVLW     0xa0               if (gDurationMS >= 100000u)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00529c   0101     MOVLB     0x1                                                                                             
00529e   5dc7     SUBWF     0xc7,0x0,0x1                                                                                    
0052a0   0e86     MOVLW     0x86                                                                                            
0052a2   59c8     SUBWFB    0xc8,0x0,0x1                                                                                    
0052a4   0e01     MOVLW     0x1                                                                                             
0052a6   59c9     SUBWFB    0xc9,0x0,0x1                                                                                    
0052a8   0e00     MOVLW     0x0                                                                                             
0052aa   59ca     SUBWFB    0xca,0x0,0x1                                                                                    
0052ac   e307     BNC       0x52bc                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0052ae   0ea0     MOVLW     0xa0                 gDurationMS = 100000u;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0052b0   6fc7     MOVWF     0xc7,0x1                                                                                        
0052b2   0e86     MOVLW     0x86                                                                                            
0052b4   6fc8     MOVWF     0xc8,0x1                                                                                        
0052b6   0e01     MOVLW     0x1                                                                                             
0052b8   6fc9     MOVWF     0xc9,0x1                                                                                        
0052ba   6bca     CLRF      0xca,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0052bc   c1c7     MOVFF     0x1c7,0x12b        gMoveTemp.m.sm.DelayCounter = HIGH_ISR_TICKS_PER_MS * gDurationMS;           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0052be   f12b                                                                                                               
0052c0   c1c8     MOVFF     0x1c8,0x12c                                                                                     
0052c2   f12c                                                                                                               
0052c4   c1c9     MOVFF     0x1c9,0x12d                                                                                     
0052c6   f12d                                                                                                               
0052c8   c1ca     MOVFF     0x1ca,0x12e                                                                                     
0052ca   f12e                                                                                                               
0052cc   0e19     MOVLW     0x19                                                                                            
0052ce   6e45     MOVWF     0x45,0x0                                                                                        
0052d0   6a46     CLRF      0x46,0x0                                                                                        
0052d2   6a47     CLRF      0x47,0x0                                                                                        
0052d4   6a48     CLRF      0x48,0x0                                                                                        
0052d6   ec51     CALL      0x60a2,0x0                                                                                      
0052d8   f030                                                                                                               
0052da   ecd2     CALL      0x8ba4,0x0                                                                                      
0052dc   f045                                                                                                               
0052de   c03c     MOVFF     0x3c,0x12b                                                                                      
0052e0   f12b                                                                                                               
0052e2   c03d     MOVFF     0x3d,0x12c                                                                                      
0052e4   f12c                                                                                                               
0052e6   c03e     MOVFF     0x3e,0x12d                                                                                      
0052e8   f12d                                                                                                               
0052ea   c03f     MOVFF     0x3f,0x12e                                                                                      
0052ec   f12e                                                                                                               
0060a2   c1c7     MOVFF     0x1c7,0x40                                                                                      
0060a4   f040                                                                                                               
0060a6   c1c8     MOVFF     0x1c8,0x41                                                                                      
0060a8   f041                                                                                                               
0060aa   c1c9     MOVFF     0x1c9,0x42                                                                                      
0060ac   f042                                                                                                               
0060ae   c1ca     MOVFF     0x1ca,0x43                                                                                      
0060b0   f043                                                                                                               
0060b2   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0052ee   d08d     BRA       0x540a           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0052f0   ec36     CALL      0x606c,0x0         gMoveTemp.m.sm.DelayCounter = 0; // No delay for motor moves                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0052f2   f030                                                                                                               
                                               gMoveTemp.m.sm.DirBits = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0052f4   e102     BNZ       0x52fa             if (gAutomaticMotorEnable == TRUE)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Enable both motors when we want to move them                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0052f6   908d     BCF       0x8d,0x0,0x0         Enable1IO = ENABLE_MOTOR;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0052f8   928b     BCF       0x8b,0x1,0x0         Enable2IO = ENABLE_MOTOR;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // First, set the direction bits                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0052fa   0101     MOVLB     0x1                if (gSteps1 < 0)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0052fc   0e80     MOVLW     0x80                                                                                            
0052fe   15da     ANDWF     0xda,0x0,0x1                                                                                    
005300   e002     BZ        0x5306                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005302   ecc7     CALL      0x5f8e,0x0           gMoveTemp.m.sm.DirBits = gMoveTemp.m.sm.DirBits | DIR1_BIT;                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005304   f02f                                                                                                               
                                                 gSteps1 = -gSteps1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005306   0e80     MOVLW     0x80               if (gSteps2 < 0)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005308   15ea     ANDWF     0xea,0x0,0x1                                                                                    
00530a   e002     BZ        0x5310                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00530c   eccf     CALL      0x5f9e,0x0           gMoveTemp.m.sm.DirBits = gMoveTemp.m.sm.DirBits | DIR2_BIT;                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00530e   f02f                                                                                                               
                                                 gSteps2 = -gSteps2;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // As an optimization, pre-compute the common term used for both axes        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005310   0e0a     MOVLW     0xa                tempF = 85899345.92f / (float)gDurationMS;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005312   6e4e     MOVWF     0x4e,0x0                                                                                        
005314   0ed7     MOVLW     0xd7                                                                                            
005316   6e4f     MOVWF     0x4f,0x0                                                                                        
005318   0ea3     MOVLW     0xa3                                                                                            
00531a   6e50     MOVWF     0x50,0x0                                                                                        
00531c   0e4c     MOVLW     0x4c                                                                                            
00531e   6e51     MOVWF     0x51,0x0                                                                                        
005320   ec51     CALL      0x60a2,0x0                                                                                      
005322   f030                                                                                                               
005324   ecfd     CALL      0x61fa,0x0                                                                                      
005326   f030                                                                                                               
005328   ec6b     CALL      0x72d6,0x0                                                                                      
00532a   f039                                                                                                               
00532c   ec63     CALL      0x62c6,0x0                                                                                      
00532e   f031                                                                                                               
0061fa   ec50     CALL      0x72a0,0x0                                                                                      
0061fc   f039                                                                                                               
0061fe   c041     MOVFF     0x41,0x52                                                                                       
006200   f052                                                                                                               
006202   c042     MOVFF     0x42,0x53                                                                                       
006204   f053                                                                                                               
006206   c043     MOVFF     0x43,0x54                                                                                       
006208   f054                                                                                                               
00620a   c044     MOVFF     0x44,0x55                                                                                       
00620c   f055                                                                                                               
00620e   c041     MOVFF     0x41,0x46                                                                                       
006210   f046                                                                                                               
006212   c042     MOVFF     0x42,0x47                                                                                       
006214   f047                                                                                                               
006216   c043     MOVFF     0x43,0x48                                                                                       
006218   f048                                                                                                               
00621a   c044     MOVFF     0x44,0x49                                                                                       
00621c   f049                                                                                                               
00621e   d13a     BRA       0x6494                                                                                          
0062c6   c041     MOVFF     0x41,0xfde                                                                                      
0062c8   ffde                                                                                                               
0062ca   c042     MOVFF     0x42,0xfde                                                                                      
0062cc   ffde                                                                                                               
0062ce   c043     MOVFF     0x43,0xfde                                                                                      
0062d0   ffde                                                                                                               
0062d2   c044     MOVFF     0x44,0xfdd                                                                                      
0062d4   ffdd                                                                                                               
0062d6   52dd     MOVF      0xdd,0x1,0x0                                                                                    
0062d8   52dd     MOVF      0xdd,0x1,0x0                                                                                    
0062da   0012     RETURN    0x0                                                                                             
006494   c04e     MOVFF     0x4e,0x41                                                                                       
006496   f041                                                                                                               
006498   c04f     MOVFF     0x4f,0x42                                                                                       
00649a   f042                                                                                                               
00649c   c050     MOVFF     0x50,0x43                                                                                       
00649e   f043                                                                                                               
0064a0   c051     MOVFF     0x51,0x44                                                                                       
0064a2   f044                                                                                                               
0064a4   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005330   0101     MOVLB     0x1                if (gSteps1 != 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005332   ece3     CALL      0x5fc6,0x0                                                                                      
005334   f02f                                                                                                               
005336   e027     BZ        0x5386                                                                                          
005fc6   51d7     MOVF      0xd7,0x0,0x1                                                                                    
005fc8   11d8     IORWF     0xd8,0x0,0x1                                                                                    
005fca   11d9     IORWF     0xd9,0x0,0x1                                                                                    
005fcc   11da     IORWF     0xda,0x0,0x1                                                                                    
005fce   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // We need the Rate values for the ISR. We have the duration and the       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // number of steps. Use the formula:                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // rate = (steps/duration)*85899.34592                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Rearranging a bit, we can also use:                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // rate = steps * ((85899.34592 * 1000)/duration)                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005338   ec3c     CALL      0x6278,0x0           gIntervals = (UINT32)((float)(gSteps1) * tempF);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00533a   f031                                                                                                               
00533c   ecc4     CALL      0x5d88,0x0                                                                                      
00533e   f02e                                                                                                               
005d88   ec52     CALL      0x72a4,0x0                                                                                      
005d8a   f039                                                                                                               
005d8c   0e00     MOVLW     0x0                                                                                             
005d8e   cfdf     MOVFF     0xfdf,0x46                                                                                      
005d90   f046                                                                                                               
005d92   0e01     MOVLW     0x1                                                                                             
005d94   cfdb     MOVFF     0xfdb,0x47                                                                                      
005d96   f047                                                                                                               
005d98   0e02     MOVLW     0x2                                                                                             
005d9a   cfdb     MOVFF     0xfdb,0x48                                                                                      
005d9c   f048                                                                                                               
005d9e   0e03     MOVLW     0x3                                                                                             
005da0   cfdb     MOVFF     0xfdb,0x49                                                                                      
005da2   f049                                                                                                               
005da4   ecbe     CALL      0x737c,0x0                                                                                      
005da6   f039                                                                                                               
005da8   ec5f     CALL      0x74be,0x0                                                                                      
005daa   f03a                                                                                                               
005dac   c040     MOVFF     0x40,0x1cb                                                                                      
005dae   f1cb                                                                                                               
005db0   c041     MOVFF     0x41,0x1cc                                                                                      
005db2   f1cc                                                                                                               
005db4   c042     MOVFF     0x42,0x1cd                                                                                      
005db6   f1cd                                                                                                               
005db8   c043     MOVFF     0x43,0x1ce                                                                                      
005dba   f1ce                                                                                                               
006278   c1d7     MOVFF     0x1d7,0x40                                                                                      
00627a   f040                                                                                                               
00627c   c1d8     MOVFF     0x1d8,0x41                                                                                      
00627e   f041                                                                                                               
006280   c1d9     MOVFF     0x1d9,0x42                                                                                      
006282   f042                                                                                                               
006284   c1da     MOVFF     0x1da,0x43                                                                                      
006286   f043                                                                                                               
006288   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005340   e20b     BC        0x5358               if (gIntervals > 0x80000000u)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005dbc   80d8     BSF       0xd8,0x0,0x0                                                                                    
005dbe   0e00     MOVLW     0x0                                                                                             
005dc0   0101     MOVLB     0x1                                                                                             
005dc2   5440     SUBFWB    0x40,0x0,0x0                                                                                    
005dc4   0e00     MOVLW     0x0                                                                                             
005dc6   5441     SUBFWB    0x41,0x0,0x0                                                                                    
005dc8   0e00     MOVLW     0x0                                                                                             
005dca   5442     SUBFWB    0x42,0x0,0x0                                                                                    
005dcc   0e80     MOVLW     0x80                                                                                            
005dce   5443     SUBFWB    0x43,0x0,0x0                                                                                    
005dd0   0012     RETURN    0x0                                                                                             
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005342   51c4     MOVF      0xc4,0x0,0x1           if (gLimitChecks)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005344   e004     BZ        0x534e                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005346   0e30     MOVLW     0x30                     ebb_print((far rom char *)"!0 Err: <axis1> step rate too high.");      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005348   6e4e     MOVWF     0x4e,0x0                                                                                        
00534a   0e7f     MOVLW     0x7f                                                                                            
                                                     print_line_ending(kLE_REV);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00534c   d03f     BRA       0x53cc                   return;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00534e   6bcb     CLRF      0xcb,0x1               gIntervals = 0x80000000;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005350   6bcc     CLRF      0xcc,0x1                                                                                        
005352   6bcd     CLRF      0xcd,0x1                                                                                        
005354   0e80     MOVLW     0x80                                                                                            
005356   6fce     MOVWF     0xce,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005358   ec1f     CALL      0x603e,0x0           if (gIntervals == 0u)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00535a   f030                                                                                                               
00535c   e10b     BNZ       0x5374                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00535e   51c4     MOVF      0xc4,0x0,0x1           if (gLimitChecks)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005360   e004     BZ        0x536a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005362   0e0c     MOVLW     0xc                      ebb_print((far rom char *)"!0 Err: <axis1> step rate too slow.");      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005364   6e4e     MOVWF     0x4e,0x0                                                                                        
005366   0e7f     MOVLW     0x7f                                                                                            
                                                     print_line_ending(kLE_REV);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005368   d031     BRA       0x53cc                   return;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00536a   0e01     MOVLW     0x1                    gIntervals = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00536c   6fcb     MOVWF     0xcb,0x1                                                                                        
00536e   6bcc     CLRF      0xcc,0x1                                                                                        
005370   6bcd     CLRF      0xcd,0x1                                                                                        
005372   6bce     CLRF      0xce,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005374   c1cb     MOVFF     0x1cb,0x130          gMoveTemp.m.sm.Rate[0].value = gIntervals;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005376   f130                                                                                                               
005378   c1cc     MOVFF     0x1cc,0x131                                                                                     
00537a   f131                                                                                                               
00537c   c1cd     MOVFF     0x1cd,0x132                                                                                     
00537e   f132                                                                                                               
005380   c1ce     MOVFF     0x1ce,0x133                                                                                     
005382   f133                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005384   d005     BRA       0x5390             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005386   0101     MOVLB     0x1                  gMoveTemp.m.sm.Rate[0].value = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005388   6b30     CLRF      0x30,0x1                                                                                        
00538a   6b31     CLRF      0x31,0x1                                                                                        
00538c   6b32     CLRF      0x32,0x1                                                                                        
00538e   6b33     CLRF      0x33,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005390   eca5     CALL      0x634a,0x0         gMoveTemp.m.sm.Steps[0] = (UINT32)gSteps1;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005392   f031                                                                                                               
005f34   c1d7     MOVFF     0x1d7,0x138                                                                                     
005f36   f138                                                                                                               
005f38   c1d8     MOVFF     0x1d8,0x139                                                                                     
005f3a   f139                                                                                                               
005f3c   c1d9     MOVFF     0x1d9,0x13a                                                                                     
005f3e   f13a                                                                                                               
005f40   c1da     MOVFF     0x1da,0x13b                                                                                     
005f42   f13b                                                                                                               
005f44   0012     RETURN    0x0                                                                                             
                                               gMoveTemp.m.sm.Accel[0] = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005394   0101     MOVLB     0x1                if (gSteps2 != 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005396   ece8     CALL      0x5fd0,0x0                                                                                      
005398   f02f                                                                                                               
00539a   e029     BZ        0x53ee                                                                                          
005fd0   51e7     MOVF      0xe7,0x0,0x1                                                                                    
005fd2   11e8     IORWF     0xe8,0x0,0x1                                                                                    
005fd4   11e9     IORWF     0xe9,0x0,0x1                                                                                    
005fd6   11ea     IORWF     0xea,0x0,0x1                                                                                    
005fd8   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00539c   ec33     CALL      0x6266,0x0           gIntervals = (UINT32)((float)(gSteps2) * tempF);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00539e   f031                                                                                                               
0053a0   ecc4     CALL      0x5d88,0x0                                                                                      
0053a2   f02e                                                                                                               
006266   c1e7     MOVFF     0x1e7,0x40                                                                                      
006268   f040                                                                                                               
00626a   c1e8     MOVFF     0x1e8,0x41                                                                                      
00626c   f041                                                                                                               
00626e   c1e9     MOVFF     0x1e9,0x42                                                                                      
006270   f042                                                                                                               
006272   c1ea     MOVFF     0x1ea,0x43                                                                                      
006274   f043                                                                                                               
006276   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0053a4   e20b     BC        0x53bc               if (gIntervals > 0x80000000u)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0053a6   51c4     MOVF      0xc4,0x0,0x1           if (gLimitChecks)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0053a8   e004     BZ        0x53b2                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0053aa   0ee8     MOVLW     0xe8                     ebb_print((far rom char *)"!0 Err: <axis2> step rate too high.");      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0053ac   6e4e     MOVWF     0x4e,0x0                                                                                        
0053ae   0e7e     MOVLW     0x7e                                                                                            
                                                     print_line_ending(kLE_REV);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0053b0   d00d     BRA       0x53cc                   return;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0053b2   6bcb     CLRF      0xcb,0x1               gIntervals = 0x80000000;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0053b4   6bcc     CLRF      0xcc,0x1                                                                                        
0053b6   6bcd     CLRF      0xcd,0x1                                                                                        
0053b8   0e80     MOVLW     0x80                                                                                            
0053ba   6fce     MOVWF     0xce,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0053bc   ec1f     CALL      0x603e,0x0           if (gIntervals == 0u)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0053be   f030                                                                                                               
0053c0   e10d     BNZ       0x53dc                                                                                          
00603e   51cb     MOVF      0xcb,0x0,0x1                                                                                    
006040   11cc     IORWF     0xcc,0x0,0x1                                                                                    
006042   11cd     IORWF     0xcd,0x0,0x1                                                                                    
006044   11ce     IORWF     0xce,0x0,0x1                                                                                    
006046   0012     RETURN    0x0                                                                                             
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0053c2   51c4     MOVF      0xc4,0x0,0x1           if (gLimitChecks)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0053c4   e006     BZ        0x53d2                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0053c6   0ec4     MOVLW     0xc4                     ebb_print((far rom char *)"!0 Err: <axis2> step rate too slow.");      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0053c8   6e4e     MOVWF     0x4e,0x0                                                                                        
0053ca   0e7e     MOVLW     0x7e                                                                                            
0053cc   ecd3     CALL      0x63a6,0x0                                                                                      
0053ce   f031                                                                                                               
0063a6   dc1a     RCALL     0x5bdc                                                                                          
0063a8   efc1     GOTO      0x5d82                   print_line_ending(kLE_REV);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0063aa   f02e                                                                                                               
0053d0   d028     BRA       0x5422                   return;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0053d2   0e01     MOVLW     0x1                    gIntervals = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0053d4   6fcb     MOVWF     0xcb,0x1                                                                                        
0053d6   6bcc     CLRF      0xcc,0x1                                                                                        
0053d8   6bcd     CLRF      0xcd,0x1                                                                                        
0053da   6bce     CLRF      0xce,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0053dc   c1cb     MOVFF     0x1cb,0x134          gMoveTemp.m.sm.Rate[1].value = gIntervals;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0053de   f134                                                                                                               
0053e0   c1cc     MOVFF     0x1cc,0x135                                                                                     
0053e2   f135                                                                                                               
0053e4   c1cd     MOVFF     0x1cd,0x136                                                                                     
0053e6   f136                                                                                                               
0053e8   c1ce     MOVFF     0x1ce,0x137                                                                                     
0053ea   f137                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0053ec   d005     BRA       0x53f8             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0053ee   0101     MOVLB     0x1                  gMoveTemp.m.sm.Rate[1].value = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0053f0   6b34     CLRF      0x34,0x1                                                                                        
0053f2   6b35     CLRF      0x35,0x1                                                                                        
0053f4   6b36     CLRF      0x36,0x1                                                                                        
0053f6   6b37     CLRF      0x37,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0053f8   eca3     CALL      0x5f46,0x0         gMoveTemp.m.sm.Steps[1] = (UINT32)gSteps2;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0053fa   f02f                                                                                                               
005f46   c1e7     MOVFF     0x1e7,0x13c                                                                                     
005f48   f13c                                                                                                               
005f4a   c1e8     MOVFF     0x1e8,0x13d                                                                                     
005f4c   f13d                                                                                                               
005f4e   c1e9     MOVFF     0x1e9,0x13e                                                                                     
005f50   f13e                                                                                                               
005f52   c1ea     MOVFF     0x1ea,0x13f                                                                                     
005f54   f13f                                                                                                               
005f56   0012     RETURN    0x0                                                                                             
0053fc   0101     MOVLB     0x1                gMoveTemp.m.sm.Accel[1] = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0053fe   ecb2     CALL      0x6164,0x0                                                                                      
005400   f030                                                                                                               
                                               gMoveTemp.Command = COMMAND_SM_XM_HM_MOVE;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005402   aa09     BTFSS     0x9,0x5,0x0        if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_NUM))                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005404   d002     BRA       0x540a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005406   ece5     CALL      0x61ca,0x0           ebb_print((far rom char *)"R1=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005408   f030                                                                                                               
005bdc   6e4f     MOVWF     0x4f,0x0                                                                                        
005bde   6a50     CLRF      0x50,0x0                                                                                        
005be0   c04e     MOVFF     0x4e,0xfe6                                                                                      
005be2   ffe6                                                                                                               
005be4   6ee6     MOVWF     0xe6,0x0                                                                                        
005be6   c050     MOVFF     0x50,0xfe6                                                                                      
005be8   ffe6                                                                                                               
005bea   ece1     CALL      0x81c2,0x0                                                                                      
005bec   f040                                                                                                               
005bee   ef46     GOTO      0x648c                                                                                          
005bf0   f032                                                                                                               
005f58   c130     MOVFF     0x130,0xfe6          ebb_print_uint(gMoveTemp.m.sm.Rate[0].value);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005f5a   ffe6                                                                                                               
005f5c   c131     MOVFF     0x131,0xfe6                                                                                     
005f5e   ffe6                                                                                                               
005f60   c132     MOVFF     0x132,0xfe6                                                                                     
005f62   ffe6                                                                                                               
005f64   c133     MOVFF     0x133,0xfe6                                                                                     
005f66   ffe6                                                                                                               
005f68   0012     RETURN    0x0                                                                                             
                                                 ebb_print((far rom char *)" S1=");                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 ebb_print_uint(gMoveTemp.m.sm.Steps[0]);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 ebb_print((far rom char *)" R2=");                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005f6a   c134     MOVFF     0x134,0xfe6          ebb_print_uint(gMoveTemp.m.sm.Rate[1].value);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005f6c   ffe6                                                                                                               
005f6e   c135     MOVFF     0x135,0xfe6                                                                                     
005f70   ffe6                                                                                                               
005f72   c136     MOVFF     0x136,0xfe6                                                                                     
005f74   ffe6                                                                                                               
005f76   c137     MOVFF     0x137,0xfe6                                                                                     
005f78   ffe6                                                                                                               
005f7a   0012     RETURN    0x0                                                                                             
                                                 ebb_print((far rom char *)" S2=");                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 ebb_print_uint(gMoveTemp.m.sm.Steps[1]);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 print_line_ending(kLE_REV);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00540a   bc09     BTFSC     0x9,0x6,0x0      if (!bittst(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM))                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00540c   d00a     BRA       0x5422                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Spin here until there's space in the FIFO                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00540e   5013     MOVF      0x13,0x0,0x0       while(gFIFOLength >= gCurrentFIFOLength)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005410   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
005412   e2fd     BC        0x540e                                                                                          
                                               ;                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // If the limit switch feature has triggered, then ignore this move command  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Maybe the limit switch has become true between the top of this function   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // and here? Better check for it.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005414   b00e     BTFSC     0xe,0x0,0x0        if (!bittstzero(gLimitSwitchTriggered))                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005416   d005     BRA       0x5422                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Now, quick copy over the computed command data to the command FIFO      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005418   ecf9     CALL      0x5bf2,0x0           FIFOPtr[gFIFOIn] = gMoveTemp;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00541a   f02d                                                                                                               
005bf2   5010     MOVF      0x10,0x0,0x0                                                                                    
005bf4   db4a     RCALL     0x628a                                                                                          
005bf6   c129     MOVFF     0x129,0xfee                                                                                     
005bf8   ffee                                                                                                               
005bfa   c12a     MOVFF     0x12a,0xfee                                                                                     
005bfc   ffee                                                                                                               
005bfe   c12b     MOVFF     0x12b,0xfee                                                                                     
005c00   ffee                                                                                                               
005c02   c12c     MOVFF     0x12c,0xfee                                                                                     
005c04   ffee                                                                                                               
005c06   c12d     MOVFF     0x12d,0xfee                                                                                     
005c08   ffee                                                                                                               
005c0a   c12e     MOVFF     0x12e,0xfee                                                                                     
005c0c   ffee                                                                                                               
005c0e   c12f     MOVFF     0x12f,0xfee                                                                                     
005c10   ffee                                                                                                               
005c12   c130     MOVFF     0x130,0xfee                                                                                     
005c14   ffee                                                                                                               
005c16   c131     MOVFF     0x131,0xfee                                                                                     
005c18   ffee                                                                                                               
005c1a   c132     MOVFF     0x132,0xfee                                                                                     
005c1c   ffee                                                                                                               
005c1e   c133     MOVFF     0x133,0xfee                                                                                     
005c20   ffee                                                                                                               
005c22   c134     MOVFF     0x134,0xfee                                                                                     
005c24   ffee                                                                                                               
005c26   c135     MOVFF     0x135,0xfee                                                                                     
005c28   ffee                                                                                                               
005c2a   c136     MOVFF     0x136,0xfee                                                                                     
005c2c   ffee                                                                                                               
005c2e   c137     MOVFF     0x137,0xfee                                                                                     
005c30   ffee                                                                                                               
005c32   c138     MOVFF     0x138,0xfee                                                                                     
005c34   ffee                                                                                                               
005c36   c139     MOVFF     0x139,0xfee                                                                                     
005c38   ffee                                                                                                               
005c3a   c13a     MOVFF     0x13a,0xfee                                                                                     
005c3c   ffee                                                                                                               
005c3e   c13b     MOVFF     0x13b,0xfee                                                                                     
005c40   ffee                                                                                                               
005c42   c13c     MOVFF     0x13c,0xfee                                                                                     
005c44   ffee                                                                                                               
005c46   c13d     MOVFF     0x13d,0xfee                                                                                     
005c48   ffee                                                                                                               
005c4a   c13e     MOVFF     0x13e,0xfee                                                                                     
005c4c   ffee                                                                                                               
005c4e   c13f     MOVFF     0x13f,0xfee                                                                                     
005c50   ffee                                                                                                               
005c52   c140     MOVFF     0x140,0xfee                                                                                     
005c54   ffee                                                                                                               
005c56   c141     MOVFF     0x141,0xfee                                                                                     
005c58   ffee                                                                                                               
005c5a   c142     MOVFF     0x142,0xfee                                                                                     
005c5c   ffee                                                                                                               
005c5e   c143     MOVFF     0x143,0xfee                                                                                     
005c60   ffee                                                                                                               
005c62   c144     MOVFF     0x144,0xfee                                                                                     
005c64   ffee                                                                                                               
005c66   c145     MOVFF     0x145,0xfee                                                                                     
005c68   ffee                                                                                                               
005c6a   c146     MOVFF     0x146,0xfee                                                                                     
005c6c   ffee                                                                                                               
005c6e   c147     MOVFF     0x147,0xfee                                                                                     
005c70   ffee                                                                                                               
005c72   c148     MOVFF     0x148,0xfee                                                                                     
005c74   ffee                                                                                                               
005c76   c149     MOVFF     0x149,0xfee                                                                                     
005c78   ffee                                                                                                               
005c7a   c14a     MOVFF     0x14a,0xfee                                                                                     
005c7c   ffee                                                                                                               
005c7e   c14b     MOVFF     0x14b,0xfee                                                                                     
005c80   ffee                                                                                                               
005c82   c14c     MOVFF     0x14c,0xfee                                                                                     
005c84   ffee                                                                                                               
005c86   c14d     MOVFF     0x14d,0xfee                                                                                     
005c88   ffee                                                                                                               
005c8a   c14e     MOVFF     0x14e,0xfee                                                                                     
005c8c   ffee                                                                                                               
005c8e   c14f     MOVFF     0x14f,0xfee                                                                                     
005c90   ffee                                                                                                               
005c92   c150     MOVFF     0x150,0xfee                                                                                     
005c94   ffee                                                                                                               
005c96   c151     MOVFF     0x151,0xfee                                                                                     
005c98   ffee                                                                                                               
005c9a   c152     MOVFF     0x152,0xfee                                                                                     
005c9c   ffee                                                                                                               
005c9e   c153     MOVFF     0x153,0xfee                                                                                     
005ca0   ffee                                                                                                               
005ca2   c154     MOVFF     0x154,0xfee                                                                                     
005ca4   ffee                                                                                                               
005ca6   c155     MOVFF     0x155,0xfee                                                                                     
005ca8   ffee                                                                                                               
005caa   c156     MOVFF     0x156,0xfee                                                                                     
005cac   ffee                                                                                                               
005cae   c157     MOVFF     0x157,0xfee                                                                                     
005cb0   ffee                                                                                                               
005cb2   2a10     INCF      0x10,0x1,0x0         gFIFOIn++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00541c   e301     BNC       0x5420               if (gFIFOIn >= gCurrentFIFOLength)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005cb4   5013     MOVF      0x13,0x0,0x0                                                                                    
005cb6   5c10     SUBWF     0x10,0x0,0x0                                                                                    
005cb8   0012     RETURN    0x0                                                                                             
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00541e   6a10     CLRF      0x10,0x0               gFIFOIn = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005420   2a0f     INCF      0xf,0x1,0x0          gFIFOLength++;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005422   0e04     MOVLW     0x4            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005424   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005426   e202     BC        0x542c                                                                                          
005428   6ae1     CLRF      0xe1,0x0                                                                                        
00542a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00542c   efb2     GOTO      0x5d64                                                                                          
00542e   f02e                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // E-Stop                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: ES,<disable_motors><CR>                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: <command_interrupted><CR>OK<CR>                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This command will abort any in-progress motor move command.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // It will also clear out any pending command(s) in the FIFO.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <disable_motors> This parameter is optional. If present, and if it is a 1,    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  then both stepper drivers will be disabled as part of the command. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  If this parameter is not present or is not equal to 1, then  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  the motors will not be disabled. (added in v2.8.0)           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <command_interrupted> = 0 if no FIFO or in-progress move commands were interrupted, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                         1 if a motor move command was in progress or in the FIFO D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005430   ecb4     CALL      0x5d68,0x0     void parse_ES_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005432   f02e                                                                                                               
005434   0e03     MOVLW     0x3                                                                                             
005436   ec56     CALL      0x62ac,0x0                                                                                      
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005438   f031                                UINT8 disable_motors = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 command_interrupted = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the value.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00543a   ecb9     CALL      0x6172,0x0       extract_number(kUCHAR, &disable_motors, kOPTIONAL);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00543c   f030                                                                                                               
00543e   dbc8     RCALL     0x5bd0                                                                                          
006172   0e01     MOVLW     0x1                                                                                             
006174   6ee6     MOVWF     0xe6,0x0                                                                                        
006176   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
006178   ffe6                                                                                                               
00617a   cfda     MOVFF     0xfda,0xfe6                                                                                     
00617c   ffe6                                                                                                               
00617e   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005440   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005442   5197     MOVF      0x97,0x0,0x1                                                                                    
005444   e13c     BNZ       0x54be                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Need to turn off high priority interrupts briefly here to mess with ISR command parameters D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005446   9ef2     BCF       0xf2,0x7,0x0     INTCONbits.GIEH = 0;  // Turn high priority interrupts off                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             (                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005448   0e05     MOVLW     0x5                CurrentCommand.Command == COMMAND_SM_XM_HM_MOVE                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00544a   0101     MOVLB     0x1                ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00544c   5d89     SUBWF     0x89,0x0,0x1                                                                                    
005450   0e06     MOVLW     0x6                CurrentCommand.Command == COMMAND_LM_MOVE                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00544e   e006     BZ        0x545c             ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005452   5d89     SUBWF     0x89,0x0,0x1                                                                                    
005454   e003     BZ        0x545c                                                                                          
005456   0e07     MOVLW     0x7                CurrentCommand.Command == COMMAND_LT_MOVE                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005458   5d89     SUBWF     0x89,0x0,0x1     )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00545a   e103     BNZ       0x5462                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00545c   52de     MOVF      0xde,0x1,0x0       command_interrupted = 1;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00545e   0e01     MOVLW     0x1                                                                                             
005460   6edd     MOVWF     0xdd,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005462   500f     MOVF      0xf,0x0,0x0      if (gFIFOLength != 0u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005464   e003     BZ        0x546c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005466   52de     MOVF      0xde,0x1,0x0       command_interrupted = 1;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005468   0e01     MOVLW     0x1                                                                                             
00546a   6edd     MOVWF     0xdd,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Clear the currently executing motion command                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00546c   6b89     CLRF      0x89,0x1         CurrentCommand.Command = COMMAND_NONE;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Clear out the entire FIFO                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00546e   0e02     MOVLW     0x2              for (i = 0; i < COMMAND_FIFO_MAX_LENGTH; i++)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005470   6adb     CLRF      0xdb,0x0                                                                                        
005472   0e20     MOVLW     0x20                                                                                            
005474   6ef3     MOVWF     0xf3,0x0                                                                                        
005476   0e02     MOVLW     0x2                                                                                             
005478   cfdb     MOVFF     0xfdb,0xff4                                                                                     
00547a   fff4                                                                                                               
00547c   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00547e   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
005480   e207     BC        0x5490                                                                                          
00548a   0e02     MOVLW     0x2                                                                                             
00548c   2adb     INCF      0xdb,0x1,0x0                                                                                    
00548e   d7f1     BRA       0x5472                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005482   0e02     MOVLW     0x2                FIFOPtr[i].Command = COMMAND_NONE;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005484   50db     MOVF      0xdb,0x0,0x0                                                                                    
005486   ec82     CALL      0x5f04,0x0                                                                                      
005488   f02f                                                                                                               
005f04   d9c2     RCALL     0x628a                                                                                          
005f06   6aef     CLRF      0xef,0x0                                                                                        
005f08   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005490   6a10     CLRF      0x10,0x0         gFIFOIn = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005492   6a11     CLRF      0x11,0x0         gFIFOOut = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005494   6a0f     CLRF      0xf,0x0          gFIFOLength = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005496   04df     DECF      0xdf,0x0,0x0     if (disable_motors == 1u)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005498   e109     BNZ       0x54ac                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00549a   5004     MOVF      0x4,0x0,0x0        if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00549c   e103     BNZ       0x54a4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00549e   808d     BSF       0x8d,0x0,0x0         Enable1IO = DISABLE_MOTOR;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0054a0   828b     BSF       0x8b,0x1,0x0         Enable2IO = DISABLE_MOTOR;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0054a2   d004     BRA       0x54ac             else if (DriverConfiguration == PIC_CONTROLS_EXTERNAL)                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0054a4   0404     DECF      0x4,0x0,0x0                                                                                     
0054a6   e102     BNZ       0x54ac                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0054a8   828c     BSF       0x8c,0x1,0x0         Enable1AltIO = DISABLE_MOTOR;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0054aa   8289     BSF       0x89,0x1,0x0         Enable2AltIO = DISABLE_MOTOR;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Re-enable interrupts                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0054ac   8ef2     BSF       0xf2,0x7,0x0     INTCONbits.GIEH = 1;    // Turn high priority interrupts on                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0054ae   ec53     CALL      0x64a6,0x0       ebb_print_uint(command_interrupted);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0054b0   f032                                                                                                               
0064a6   0e01     MOVLW     0x1                                                                                             
0064a8   cfdb     MOVFF     0xfdb,0x4e                                                                                      
0064aa   f04e                                                                                                               
0064ac   6a4f     CLRF      0x4f,0x0                                                                                        
0064ae   de99     RCALL     0x61e2                                                                                          
0064b0   efaf     GOTO      0x635e                                                                                          
0064b2   f031                                                                                                               
0054b2   b1c5     BTFSC     0xc5,0x0,0x1     if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0054b4   d002     BRA       0x54ba                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0054b6   ecc1     CALL      0x5d82,0x0         print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0054b8   f02e                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0054ba   ecb9     CALL      0x5d72,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0054bc   f02e                                                                                                               
0054be   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0054c0   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0054c2   e202     BC        0x54c8                                                                                          
0054c4   6ae1     CLRF      0xe1,0x0                                                                                        
0054c6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0054c8   efb2     GOTO      0x5d64                                                                                          
0054ca   f02e                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query Pen                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QP<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: 0 for down, 1 for up, then OK<CR>                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_QP_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0054cc   ec5a     CALL      0x62b4,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0054ce   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0054d0   c1bb     MOVFF     0x1bb,0x4e       ebb_print_uint(PenState);                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0054d2   f04e                                                                                                               
0054d4   6a4f     CLRF      0x4f,0x0                                                                                        
0054d6   6a50     CLRF      0x50,0x0                                                                                        
0054d8   6a51     CLRF      0x51,0x0                                                                                        
0054da   ae4e     BTFSS     0x4e,0x7,0x0                                                                                    
0054dc   d003     BRA       0x54e4                                                                                          
0054de   684f     SETF      0x4f,0x0                                                                                        
0054e0   6850     SETF      0x50,0x0                                                                                        
0054e2   6851     SETF      0x51,0x0                                                                                        
0054e4   c04e     MOVFF     0x4e,0xfe6                                                                                      
0054e6   ffe6                                                                                                               
0054e8   ec2d     CALL      0x645a,0x0                                                                                      
0054ea   f032                                                                                                               
0054ec   ecaf     CALL      0x635e,0x0                                                                                      
0054ee   f031                                                                                                               
0054f0   b1c5     BTFSC     0xc5,0x0,0x1     if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0054f2   d002     BRA       0x54f8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0054f4   ecc1     CALL      0x5d82,0x0         print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0054f6   f02e                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0054f8   efb9     GOTO      0x5d72           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0054fa   f02e                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query motor Enables and resolution                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QE<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: <motor1_state>,<motor2_state><CR>OK<CR>                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Where <motor1_state> and <motor2_state> are one of the following values:      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 0 = Motor is disabled                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1 = Motor is enabled and step resolution is full steps                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2 = Motor is enabled and step resolution is 1/2 steps                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 4 = Motor is enabled and step resolution is 1/4 steps                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 8 = Motor is enabled and step resolution is 1/8 steps                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 16 = Motor is enabled and step resolution is 1/16 steps                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0054fc   ecb4     CALL      0x5d68,0x0     void parse_QE_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0054fe   f02e                                                                                                               
005500   0e03     MOVLW     0x3                                                                                             
005502   ec56     CALL      0x62ac,0x0                                                                                      
005d68   cfd9                                                                                                               
005d6a   ffe6     WORD2     0xfe6                                                                                           
005d6c   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
005d6e   ffd9                                                                                                               
005d70   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005504   f031     WORD2     0x31             UINT8 motor1_state = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 motor2_state = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 temp;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005506   5084     MOVF      0x84,0x0,0x0     if (MS1_IO_PORT == 0u && MS2_IO_PORT == 0u && MS3_IO_PORT == 0u)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005508   0b04     ANDLW     0x4                                                                                             
00550a   e108     BNZ       0x551c                                                                                          
00550c   5084     MOVF      0x84,0x0,0x0                                                                                    
00550e   0b02     ANDLW     0x2                                                                                             
005510   e105     BNZ       0x551c                                                                                          
005512   5080     MOVF      0x80,0x0,0x0                                                                                    
005514   0b40     ANDLW     0x40                                                                                            
005516   e102     BNZ       0x551c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005518   0e01     MOVLW     0x1                temp = 1;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00551a   d023     BRA       0x5562           else if (MS1_IO_PORT == 1u && MS2_IO_PORT == 0u && MS3_IO_PORT == 0u)          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00551c   5084     MOVF      0x84,0x0,0x0                                                                                    
00551e   0b04     ANDLW     0x4                                                                                             
005520   e009     BZ        0x5534                                                                                          
005522   5084     MOVF      0x84,0x0,0x0                                                                                    
005524   0b02     ANDLW     0x2                                                                                             
005526   e106     BNZ       0x5534                                                                                          
005528   5080     MOVF      0x80,0x0,0x0                                                                                    
00552a   0b40     ANDLW     0x40                                                                                            
00552c   e103     BNZ       0x5534                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00552e   0e02     MOVLW     0x2                temp = 2;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005530   6ef3     MOVWF     0xf3,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005532   d019     BRA       0x5566           else if (MS1_IO_PORT == 0u && MS2_IO_PORT == 1u && MS3_IO_PORT == 0u)          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005534   5084     MOVF      0x84,0x0,0x0                                                                                    
005536   0b04     ANDLW     0x4                                                                                             
005538   e108     BNZ       0x554a                                                                                          
00553a   5084     MOVF      0x84,0x0,0x0                                                                                    
00553c   0b02     ANDLW     0x2                                                                                             
00553e   e005     BZ        0x554a                                                                                          
005540   5080     MOVF      0x80,0x0,0x0                                                                                    
005542   0b40     ANDLW     0x40                                                                                            
005544   e102     BNZ       0x554a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005546   0e04     MOVLW     0x4                temp = 4;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005548   d00c     BRA       0x5562           else if (MS1_IO_PORT == 1u && MS2_IO_PORT == 1u && MS3_IO_PORT == 0u)          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00554a   5084     MOVF      0x84,0x0,0x0                                                                                    
00554c   0b04     ANDLW     0x4                                                                                             
00554e   e008     BZ        0x5560                                                                                          
005550   5084     MOVF      0x84,0x0,0x0                                                                                    
005552   0b02     ANDLW     0x2                                                                                             
005554   e005     BZ        0x5560                                                                                          
005556   5080     MOVF      0x80,0x0,0x0                                                                                    
005558   0b40     ANDLW     0x40                                                                                            
00555a   e102     BNZ       0x5560                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00555c   0e08     MOVLW     0x8                temp = 8;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00555e   d001     BRA       0x5562           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005560   0e10     MOVLW     0x10               temp = 16;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005562   6ef3     MOVWF     0xf3,0x0                                                                                        
005564   0e02     MOVLW     0x2                                                                                             
005566   cff3     MOVFF     0xff3,0xfdb                                                                                     
005568   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00556a   5004     MOVF      0x4,0x0,0x0      if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00556c   e108     BNZ       0x557e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00556e   b084     BTFSC     0x84,0x0,0x0       if (Enable1IO_PORT == ENABLE_MOTOR)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005570   d003     BRA       0x5578                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005572   0e02     MOVLW     0x2                  motor1_state = temp;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005574   50db     MOVF      0xdb,0x0,0x0                                                                                    
005576   6edf     MOVWF     0xdf,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005578   b282     BTFSC     0x82,0x1,0x0       if (Enable2IO_PORT == ENABLE_MOTOR)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00557a   d010     BRA       0x559c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 motor2_state = temp;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00557c   d009     BRA       0x5590           else if (DriverConfiguration == PIC_CONTROLS_EXTERNAL)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00557e   0404     DECF      0x4,0x0,0x0                                                                                     
005580   e10d     BNZ       0x559c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005582   b283     BTFSC     0x83,0x1,0x0       if (Enable1AltIO_PORT == ENABLE_MOTOR)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005584   d003     BRA       0x558c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005586   0e02     MOVLW     0x2                  motor1_state = temp;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005588   50db     MOVF      0xdb,0x0,0x0                                                                                    
00558a   6edf     MOVWF     0xdf,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00558c   b280     BTFSC     0x80,0x1,0x0       if (Enable2AltIO_PORT == ENABLE_MOTOR)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00558e   d006     BRA       0x559c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005590   0e02     MOVLW     0x2                  motor2_state = temp;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005592   50db     MOVF      0xdb,0x0,0x0                                                                                    
005594   6ee7     MOVWF     0xe7,0x0                                                                                        
005596   0e01     MOVLW     0x1                                                                                             
005598   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
00559a   ffdb                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00559c   cfdf     MOVFF     0xfdf,0x4e       ebb_print_uint(motor1_state);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00559e   f04e                                                                                                               
0055a0   6a4f     CLRF      0x4f,0x0                                                                                        
0055a2   ecf1     CALL      0x61e2,0x0                                                                                      
0055a4   f030                                                                                                               
0055a6   dbb3     RCALL     0x5d0e                                                                                          
0055a8   ec6b     CALL      0x5ed6,0x0       ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0055aa   f02f                                                                                                               
0055ac   ec53     CALL      0x64a6,0x0       ebb_print_uint(motor2_state);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0055ae   f032                                                                                                               
0055b0   a1c5     BTFSS     0xc5,0x0,0x1     if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0055b2   dbe7     RCALL     0x5d82             print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0055b4   dbde     RCALL     0x5d72           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0055b6   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0055b8   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0055ba   e202     BC        0x55c0                                                                                          
0055bc   6ae1     CLRF      0xe1,0x0                                                                                        
0055be   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0055c0   d3d1     BRA       0x5d64                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Toggle Pen                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: TP,<duration><CR>                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: OK<CR>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <duration> is optional, and defaults to 0mS                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Just toggles state of pen arm, then delays for the optional <duration>        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Duration is in units of 1ms                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0055c2   dbd2     RCALL     0x5d68         void parse_TP_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0055c4   0e02     MOVLW     0x2                                                                                             
0055c6   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0055c8   6ade     CLRF      0xde,0x0         UINT16 CommandDuration = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0055ca   6add     CLRF      0xdd,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0055cc   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0055ce   db99     RCALL     0x5d02                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0055d0   ecb9     CALL      0x6172,0x0       extract_number (kUINT, &CommandDuration, kOPTIONAL);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0055d2   f030                                                                                                               
0055d4   ecde     CALL      0x63bc,0x0                                                                                      
0055d6   f031                                                                                                               
0063bc   0e03     MOVLW     0x3                                                                                             
0063be   efe8     GOTO      0x5bd0                                                                                          
0063c0   f02d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0055d8   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0055da   5197     MOVF      0x97,0x0,0x1                                                                                    
0055dc   e10e     BNZ       0x55fa                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0055de   0101     MOVLB     0x1              if (PenState == PEN_UP)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0055e0   05bb     DECF      0xbb,0x0,0x1                                                                                    
0055e2   e104     BNZ       0x55ec                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0055e4   eccf     CALL      0x619e,0x0         process_SP(PEN_DOWN, CommandDuration);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0055e6   f030                                                                                                               
0055e8   6ae6     CLRF      0xe6,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0055ea   d004     BRA       0x55f4           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0055ec   eccf     CALL      0x619e,0x0         process_SP(PEN_UP, CommandDuration);                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0055ee   f030                                                                                                               
0055f0   0e01     MOVLW     0x1                                                                                             
0055f2   6ee6     MOVWF     0xe6,0x0                                                                                        
0055f4   ec66     CALL      0x60cc,0x0                                                                                      
0055f6   f030                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0055f8   dbbc     RCALL     0x5d72           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0055fa   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0055fc   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0055fe   e202     BC        0x5604                                                                                          
005600   6ae1     CLRF      0xe1,0x0                                                                                        
005602   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005604   d3af     BRA       0x5d64                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Set Pen                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: SP,<State>,<Duration>,<PortB_Pin><CR>                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <State> is 0 (for goto servo_max) or 1 (for goto servo_min)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Duration> is how long to wait before the next command in the motion control  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //      FIFO should start. (defaults to 0mS)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //      Note that the units of this parameter is either 1ms                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <PortB_Pin> Is a value from 0 to 7 and allows you to re-assign the Pen        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //      RC Servo output to different PortB pins.                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This is a command that the user can send from the PC to set the pen state.    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that there is only one pen RC servo output - if you use the <PortB_Pin>  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // parameter, then that new pin becomes the pen RC servo output. This command    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // does not allow for multiple servo signals at the same time from port B pins.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Use the S2 command for that.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This function will use the values for <serv_min>, <servo_max>,                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <servo_rate_up> and <servo_rate_down> (SC,4 SC,5, SC,11, SC,10 commands)      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // when it schedules the servo command.                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Internally, the parse_SP_packet() function makes a call to                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // process_SP() function to actually make the change in the servo output.        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005606   ec8b     CALL      0x6316,0x0     void parse_SP_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005608   f031                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 State = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT16 CommandDuration = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00560a   ecf3     CALL      0x5fe6,0x0       UINT8 Pin = DEFAULT_EBB_SERVO_PORTB_PIN;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00560c   f02f                                                                                                               
                                             ExtractReturnType Ret;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00560e   ec86     CALL      0x650c,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005610   f032                                                                                                               
00650c   de89     RCALL     0x6220                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kUCHAR, &State, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00650e   dc7b     RCALL     0x5e06           extract_number(kUINT, &CommandDuration, kOPTIONAL);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
006510   efde     GOTO      0x63bc                                                                                          
006512   f031                                                                                                               
005612   ec8a     CALL      0x6514,0x0       Ret = extract_number(kUCHAR, &Pin, kOPTIONAL);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005614   f032                                                                                                               
005616   ec78     CALL      0x60f0,0x0                                                                                      
005618   f030                                                                                                               
006514   0e01     MOVLW     0x1                                                                                             
006516   6ee6     MOVWF     0xe6,0x0                                                                                        
006518   50d9     MOVF      0xd9,0x0,0x0                                                                                    
00651a   0f03     ADDLW     0x3                                                                                             
00651c   ef51     GOTO      0x62a2                                                                                          
00651e   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00561a   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00561c   5197     MOVF      0x97,0x0,0x1                                                                                    
00561e   e123     BNZ       0x5666                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Error check                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005620   0e03     MOVLW     0x3              if (Pin > 7u)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005622   50db     MOVF      0xdb,0x0,0x0                                                                                    
005624   0807     SUBLW     0x7                                                                                             
005626   e202     BC        0x562c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005628   ecf3     CALL      0x5fe6,0x0         Pin = DEFAULT_EBB_SERVO_PORTB_PIN;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00562a   f02f                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00562c   50df     MOVF      0xdf,0x0,0x0     if (State > 1u)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00562e   0801     SUBLW     0x1                                                                                             
005630   e202     BC        0x5636                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005632   0e01     MOVLW     0x1                State = 1;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005634   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set the PRn of the Pen Servo output                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Add 3 to get from PORTB pin number to RPn number                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005636   0e03     MOVLW     0x3              if (g_servo2_RPn != (Pin + 3))                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005638   50db     MOVF      0xdb,0x0,0x0                                                                                    
00563a   0f03     ADDLW     0x3                                                                                             
00563c   0100     MOVLB     0x0                                                                                             
00563e   5d8a     SUBWF     0x8a,0x0,0x1                                                                                    
005640   e007     BZ        0x5650                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // if we are changing which pin the pen servo is on, we need to cancel       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // the servo output on the old channel first                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005642   ec85     CALL      0x5f0a,0x0         RCServo2_Move(0, g_servo2_RPn, 0, 0);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005644   f02f                                                                                                               
                                               // Now record the new RPn                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005646   0e03     MOVLW     0x3                g_servo2_RPn = Pin + 3;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005648   50db     MOVF      0xdb,0x0,0x0                                                                                    
00564a   0f03     ADDLW     0x3                                                                                             
00564c   0100     MOVLB     0x0                                                                                             
00564e   6f8a     MOVWF     0x8a,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Execute the servo state change                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005650   0e01     MOVLW     0x1              process_SP(State, CommandDuration);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005652   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
005654   ffe6                                                                                                               
005656   0e02     MOVLW     0x2                                                                                             
005658   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
00565a   ffe6                                                                                                               
00565c   cfdf     MOVFF     0xfdf,0xfe6                                                                                     
00565e   ffe6                                                                                                               
005660   ec66     CALL      0x60cc,0x0                                                                                      
005662   f030                                                                                                               
0060cc   ec39     CALL      0x5672,0x0                                                                                      
0060ce   f02b                                                                                                               
0060d0   d1dd     BRA       0x648c                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005664   db86     RCALL     0x5d72           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005666   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005668   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00566a   e202     BC        0x5670                                                                                          
00566c   6ae1     CLRF      0xe1,0x0                                                                                        
00566e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005670   d379     BRA       0x5d64                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Internal use function -                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Perform a state change on the pen RC servo output. Move it up or move it down D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <NewState> is either PEN_UP or PEN_DOWN.                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <CommandDuration> is the number of milliseconds to wait before executing the  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //      next command in the motion control FIFO                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This function uses the g_servo2_min, max, rate_up, rate_down variables        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // to schedule an RC Servo change with the RCServo2_Move() function.             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005672   ec91     CALL      0x6322,0x0     void process_SP(PenStateType NewState, UINT16 CommandDuration)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005674   f031                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT16 Position;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT16 Rate;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005676   0efe     MOVLW     0xfe             if (NewState == PEN_UP)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005678   04db     DECF      0xdb,0x0,0x0                                                                                    
00567a   e10b     BNZ       0x5692                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00567c   c084     MOVFF     0x84,0xfde         Position = g_servo2_min;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00567e   ffde                                                                                                               
005680   c085     MOVFF     0x85,0xfdd                                                                                      
005682   ffdd                                                                                                               
005684   0e02     MOVLW     0x2                Rate = g_servo2_rate_up;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005686   c086     MOVFF     0x86,0xfdb                                                                                      
005688   ffdb                                                                                                               
00568a   0e03     MOVLW     0x3                                                                                             
00568c   c087     MOVFF     0x87,0xfdb                                                                                      
00568e   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005690   d00a     BRA       0x56a6           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005692   c082     MOVFF     0x82,0xfde         Position = g_servo2_max;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005694   ffde                                                                                                               
005696   c083     MOVFF     0x83,0xfdd                                                                                      
005698   ffdd                                                                                                               
00569a   0e02     MOVLW     0x2                Rate = g_servo2_rate_down;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00569c   c088     MOVFF     0x88,0xfdb                                                                                      
00569e   ffdb                                                                                                               
0056a0   0e03     MOVLW     0x3                                                                                             
0056a2   c089     MOVFF     0x89,0xfdb                                                                                      
0056a4   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0056a6   8689     BSF       0x89,0x3,0x0     RCServoPowerIO = RCSERVO_POWER_ON;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0056a8   c0d5     MOVFF     0xd5,0xd1        gRCServoPoweroffCounterMS = gRCServoPoweroffCounterReloadMS;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0056aa   f0d1                                                                                                               
0056ac   c0d6     MOVFF     0xd6,0xd2                                                                                       
0056ae   f0d2                                                                                                               
0056b0   c0d7     MOVFF     0xd7,0xd3                                                                                       
0056b2   f0d3                                                                                                               
0056b4   c0d8     MOVFF     0xd8,0xd4                                                                                       
0056b6   f0d4                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Now schedule the movement with the RCServo2 function                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0056b8   0efc     MOVLW     0xfc             RCServo2_Move(Position, g_servo2_RPn, Rate, CommandDuration);                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0056ba   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0056bc   ffe6                                                                                                               
0056be   0efd     MOVLW     0xfd                                                                                            
0056c0   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0056c2   ffe6                                                                                                               
0056c4   0e02     MOVLW     0x2                                                                                             
0056c6   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0056c8   ffe6                                                                                                               
0056ca   0e03     MOVLW     0x3                                                                                             
0056cc   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0056ce   ffe6                                                                                                               
0056d0   c08a     MOVFF     0x8a,0xfe6                                                                                      
0056d2   ffe6                                                                                                               
0056d4   eccf     CALL      0x619e,0x0                                                                                      
0056d6   f030                                                                                                               
0056d8   ecc5     CALL      0x638a,0x0                                                                                      
0056da   f031                                                                                                               
00619e   cfde     MOVFF     0xfde,0xfe6                                                                                     
0061a0   ffe6                                                                                                               
0061a2   cfdd     MOVFF     0xfdd,0xfe6                                                                                     
0061a4   ffe6                                                                                                               
0061a6   0012     RETURN    0x0                                                                                             
00638a   ec50     CALL      0x78a0,0x0                                                                                      
00638c   f03c                                                                                                               
00638e   6e4e     MOVWF     0x4e,0x0                                                                                        
006390   0e07     MOVLW     0x7                                                                                             
006392   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
006394   504e     MOVF      0x4e,0x0,0x0                                                                                    
006396   0012     RETURN    0x0                                                                                             
0056dc   0e04     MOVLW     0x4            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0056de   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0056e0   e202     BC        0x56e6                                                                                          
0056e2   6ae1     CLRF      0xe1,0x0                                                                                        
0056e4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0056e6   d33e     BRA       0x5d64                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Enable Motor                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: EM,<EnableAxis1>,<EnableAxis2><CR>                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Everything after EnableAxis1 is optional                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Each parameter can have a value of                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    0 to disable that motor driver                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // FOR OLD DRIVER CHIP (A3967) - can do separate enables for each axis           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    1 to enable the driver in 1/8th step mode                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    2 to enable the driver in 1/4 step mode                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    3 to enable the driver in 1/2 step mode                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    4 to enable the driver in full step mode                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // FOR NEW DRIVER CHIP (A4988/A4983)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // (only first parameter applies, and it applies to both drivers)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    1 to enable the driver in 1/16th step mode                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    2 to enable the driver in 1/8 step mode                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    3 to enable the driver in 1/4 step mode                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    4 to enable the driver in 1/2 step mode                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    5 to enable the driver in full step mode                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // If you disable a motor, it goes 'limp' (we clear the ENABLE pin on that motor's D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // driver chip)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that when using 0 or 1 for a parameter, you can use both axis even       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // on a 'new' driver chip board. (i.e. EM,0,1 will disable motor 1 and enable 2) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that the MSx lines do not come to any headers, so even when an external  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // source is controlling the drivers, the PIC still needs to control the         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // MSx lines.                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // As of 2.7.0 : We always clear out the step accumulators when the EM command   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // As of 2.8.0 : This command is now handled as part of the motion queue         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   is executed.                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0056e8   ec91     CALL      0x6322,0x0     void parse_EM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0056ea   f031                                                                                                               
006322   dd22     RCALL     0x5d68                                                                                          
006324   0e04     MOVLW     0x4                                                                                             
006326   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
006328   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             unsigned char EA1, EA2;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ExtractReturnType RetVal1, RetVal2;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0056ec   ec10     CALL      0x6220,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0056ee   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0056f0   6ee7     MOVWF     0xe7,0x0         RetVal1 = extract_number (kUCHAR, &EA1, kREQUIRED);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0056f2   0e02     MOVLW     0x2                                                                                             
0056f4   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0056f6   ffdb                                                                                                               
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0056f8   0100     MOVLB     0x0              if (error_byte || kEXTRACT_OK != RetVal1)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0056fa   5197     MOVF      0x97,0x0,0x1                                                                                    
0056fc   e12b     BNZ       0x5754                                                                                          
0056fe   0e02     MOVLW     0x2                                                                                             
005700   50db     MOVF      0xdb,0x0,0x0                                                                                    
005702   e128     BNZ       0x5754                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005704   ec8f     CALL      0x631e,0x0       RetVal2 = extract_number (kUCHAR, &EA2, kOPTIONAL);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005706   f031                                                                                                               
005708   6ee7     MOVWF     0xe7,0x0                                                                                        
00570a   0e03     MOVLW     0x3                                                                                             
00570c   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
00570e   ffdb                                                                                                               
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005710   0100     MOVLB     0x0              if (error_byte || kEXTRACT_OK != RetVal2)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005712   5197     MOVF      0x97,0x0,0x1                                                                                    
005714   e11f     BNZ       0x5754                                                                                          
005716   0e03     MOVLW     0x3                                                                                             
005718   50db     MOVF      0xdb,0x0,0x0                                                                                    
00571a   e11c     BNZ       0x5754                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00571c   bc09     BTFSC     0x9,0x6,0x0      if (!bittst(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM))                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00571e   d019     BRA       0x5752                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Trial: Spin here until there's space in the fifo                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005720   5013     MOVF      0x13,0x0,0x0       while(gFIFOLength >= gCurrentFIFOLength)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005722   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
005724   e2fd     BC        0x5720                                                                                          
                                                 ;                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Set up the motion queue command                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005726   ec0f     CALL      0x601e,0x0       FIFOPtr[gFIFOIn].m.sm.DirBits = EA1;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005728   f030                                                                                                               
00572a   cfdf     MOVFF     0xfdf,0xfef                                                                                     
00572c   ffef                                                                                                               
00601e   5010     MOVF      0x10,0x0,0x0                                                                                    
006020   d934     RCALL     0x628a                                                                                          
006022   52ee     MOVF      0xee,0x1,0x0                                                                                    
006024   0012     RETURN    0x0                                                                                             
00628a   0d2f     MULLW     0x2f                                                                                            
00628c   0105     MOVLB     0x5                                                                                             
00628e   d137     BRA       0x64fe                                                                                          
00572e   db6f     RCALL     0x5e0e           FIFOPtr[gFIFOIn].m.sm.ServoRPn = EA2;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005730   52ee     MOVF      0xee,0x1,0x0                                                                                    
005732   0e26     MOVLW     0x26                                                                                            
005734   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
005736   0e00     MOVLW     0x0                                                                                             
005738   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00573a   0e01     MOVLW     0x1                                                                                             
00573c   cfdb     MOVFF     0xfdb,0xfef                                                                                     
00573e   ffef                                                                                                               
005740   db66     RCALL     0x5e0e           FIFOPtr[gFIFOIn].Command = COMMAND_EM;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005742   0e04     MOVLW     0x4                                                                                             
005744   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005746   2a10     INCF      0x10,0x1,0x0       gFIFOIn++;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005748   5013     MOVF      0x13,0x0,0x0       if (gFIFOIn >= gCurrentFIFOLength)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00574a   5c10     SUBWF     0x10,0x0,0x0                                                                                    
00574c   e301     BNC       0x5750                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00574e   6a10     CLRF      0x10,0x0             gFIFOIn = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005750   2a0f     INCF      0xf,0x1,0x0        gFIFOLength++;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005752   db0f     RCALL     0x5d72           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005754   0e04     MOVLW     0x4            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005756   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005758   e202     BC        0x575e                                                                                          
00575a   6ae1     CLRF      0xe1,0x0                                                                                        
00575c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00575e   d302     BRA       0x5d64                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Node counter increment                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: NI<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_NI_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005760   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005762   dacf     RCALL     0x5d02                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005764   0efe     MOVLW     0xfe             if (NodeCount < 0xFFFFFFFEUL)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005766   0101     MOVLB     0x1                                                                                             
005768   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
00576a   0eff     MOVLW     0xff                                                                                            
00576c   59bd     SUBWFB    0xbd,0x0,0x1                                                                                    
00576e   0eff     MOVLW     0xff                                                                                            
005770   59be     SUBWFB    0xbe,0x0,0x1                                                                                    
005772   0eff     MOVLW     0xff                                                                                            
005774   59bf     SUBWFB    0xbf,0x0,0x1                                                                                    
005776   e205     BC        0x5782                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005778   2bbc     INCF      0xbc,0x1,0x1       NodeCount++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00577a   0e00     MOVLW     0x0                                                                                             
00577c   23bd     ADDWFC    0xbd,0x1,0x1                                                                                    
00577e   23be     ADDWFC    0xbe,0x1,0x1                                                                                    
005780   23bf     ADDWFC    0xbf,0x1,0x1                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005782   efb9     GOTO      0x5d72           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005784   f02e                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Node counter Decrement                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: ND<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_ND_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005786   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005788   dabc     RCALL     0x5d02                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00578a   0101     MOVLB     0x1              if (NodeCount)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00578c   51bc     MOVF      0xbc,0x0,0x1                                                                                    
00578e   11bd     IORWF     0xbd,0x0,0x1                                                                                    
005790   11be     IORWF     0xbe,0x0,0x1                                                                                    
005792   11bf     IORWF     0xbf,0x0,0x1                                                                                    
005794   e005     BZ        0x57a0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005796   07bc     DECF      0xbc,0x1,0x1       NodeCount--;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005798   0e00     MOVLW     0x0                                                                                             
00579a   5bbd     SUBWFB    0xbd,0x1,0x1                                                                                    
00579c   5bbe     SUBWFB    0xbe,0x1,0x1                                                                                    
00579e   5bbf     SUBWFB    0xbf,0x1,0x1                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0057a0   efb9     GOTO      0x5d72           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0057a2   f02e                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Set Node counter                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: SN,<value><CR>                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <value> is a 4 byte unsigned value                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0057a4   dae1     RCALL     0x5d68         void parse_SN_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0057a6   0e05     MOVLW     0x5                                                                                             
0057a8   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             unsigned long Temp;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ExtractReturnType RetVal;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0057aa   ec68     CALL      0x64d0,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0057ac   f032                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0057ae   0e07     MOVLW     0x7              RetVal = extract_number(kULONG, &Temp, kREQUIRED);                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0057b0   da0f     RCALL     0x5bd0                                                                                          
0057b2   ec78     CALL      0x60f0,0x0                                                                                      
0057b4   f030                                                                                                               
0057b6   50db     MOVF      0xdb,0x0,0x0     if (kEXTRACT_OK == RetVal)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0057b8   e10b     BNZ       0x57d0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0057ba   cfdf     MOVFF     0xfdf,0x1bc        NodeCount = Temp;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0057bc   f1bc                                                                                                               
0057be   0e01     MOVLW     0x1                                                                                             
0057c0   cfdb     MOVFF     0xfdb,0x1bd                                                                                     
0057c2   f1bd                                                                                                               
0057c4   0e02     MOVLW     0x2                                                                                             
0057c6   cfdb     MOVFF     0xfdb,0x1be                                                                                     
0057c8   f1be                                                                                                               
0057ca   0e03     MOVLW     0x3                                                                                             
0057cc   cfdb     MOVFF     0xfdb,0x1bf                                                                                     
0057ce   f1bf                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0057d0   dad0     RCALL     0x5d72           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0057d2   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0057d4   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0057d6   e202     BC        0x57dc                                                                                          
0057d8   6ae1     CLRF      0xe1,0x0                                                                                        
0057da   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0057dc   d2c3     BRA       0x5d64                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query Node counter                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QN<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: <NodeCount><CR>                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // OK<CR>                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_QN_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0057de   ec5a     CALL      0x62b4,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0057e0   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0057e2   c1bc     MOVFF     0x1bc,0xfe6      ebb_print_uint(NodeCount);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0057e4   ffe6                                                                                                               
0057e6   c1bd     MOVFF     0x1bd,0xfe6                                                                                     
0057e8   ffe6                                                                                                               
0057ea   c1be     MOVFF     0x1be,0xfe6                                                                                     
0057ec   ffe6                                                                                                               
0057ee   c1bf     MOVFF     0x1bf,0xfe6                                                                                     
0057f0   ffe6                                                                                                               
0057f2   ecaf     CALL      0x635e,0x0                                                                                      
0057f4   f031                                                                                                               
0057f6   a1c5     BTFSS     0xc5,0x0,0x1     if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0057f8   dbc7     RCALL     0x5f88             print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0057fa   efb9     GOTO      0x5d72           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0057fc   f02e                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Set Layer                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: SL,<Value>[,<Index>]<CR>                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Where <Value> is an unsigned 8-bit decimal number and                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Index> is an optional parameter from 0 to 31. If not present then            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <index> is assumed to be 0.                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Store <Value> in <Index> (variable space) in RAM                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Retrieve the values using the QL command                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0057fe   dab4     RCALL     0x5d68         void parse_SL_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005800   0e02     MOVLW     0x2                                                                                             
005802   ec90     CALL      0x6520,0x0                                                                                      
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005804   f032                                UINT8 Value = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 Index = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005806   ec10     CALL      0x6220,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005808   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kUCHAR, &Value, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00580a   ec8f     CALL      0x631e,0x0       extract_number(kUCHAR, &Index, kOPTIONAL);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00580c   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00580e   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005810   5197     MOVF      0x97,0x0,0x1                                                                                    
005812   e10c     BNZ       0x582c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005814   0e01     MOVLW     0x1              if (Index > (SL_STORAGE_SIZE - 1))                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005816   50db     MOVF      0xdb,0x0,0x0                                                                                    
005818   081f     SUBLW     0x1f                                                                                            
00581a   e203     BC        0x5822                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00581c   52de     MOVF      0xde,0x1,0x0       Index = (SL_STORAGE_SIZE - 1);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00581e   0e1f     MOVLW     0x1f                                                                                            
005820   6edd     MOVWF     0xdd,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005822   ec95     CALL      0x612a,0x0       gSL_Storage[Index] = Value;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005824   f030                                                                                                               
005826   cfdf     MOVFF     0xfdf,0xfef                                                                                     
005828   ffef                                                                                                               
00612a   0e01     MOVLW     0x1                                                                                             
00612c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00612e   6aea     CLRF      0xea,0x0                                                                                        
006130   0f58     ADDLW     0x58                                                                                            
006132   6ee9     MOVWF     0xe9,0x0                                                                                        
006134   0e01     MOVLW     0x1                                                                                             
006136   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006138   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00582a   daa3     RCALL     0x5d72           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00582c   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00582e   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005830   e202     BC        0x5836                                                                                          
005832   6ae1     CLRF      0xe1,0x0                                                                                        
005834   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005836   d296     BRA       0x5d64                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query Layer                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QL[,<Index>]<CR>                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: QL,<ValueAtIndex><CR>                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Where <Index> is an optional parameter from 0 to 31                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // If not present, <Index> is set to 0                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The <ValueAtIndex> is an unsigned byte which was previously stored at <Index> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005838   da97     RCALL     0x5d68         void parse_QL_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00583a   0e02     MOVLW     0x2                                                                                             
00583c   ec56     CALL      0x62ac,0x0                                                                                      
0062ac   d939                                                                                                               
006520   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00583e   f031     WORD2     0x31             UINT8 Value = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
006522   6adf     CLRF      0xdf,0x0                                                                                        
006524   0e01     MOVLW     0x1              UINT8 Index = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
006526   6adb     CLRF      0xdb,0x0                                                                                        
006528   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0062ae   6ee6     MOVWF     0xe6,0x0         print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0062b0   ef81     GOTO      0x5d02                                                                                          
0062b2   f02e                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005840   ec8f     CALL      0x631e,0x0       extract_number(kUCHAR, &Index, kOPTIONAL);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005842   f031                                                                                                               
00631e   dd73     RCALL     0x5e06                                                                                          
006320   d108     BRA       0x6532                                                                                          
006532   0e01     MOVLW     0x1                                                                                             
006534   efe8     GOTO      0x5bd0                                                                                          
006536   f02d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005844   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005846   5197     MOVF      0x97,0x0,0x1                                                                                    
005848   e113     BNZ       0x5870                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00584a   0e01     MOVLW     0x1              if (Index > (SL_STORAGE_SIZE - 1))                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00584c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00584e   081f     SUBLW     0x1f                                                                                            
005850   e203     BC        0x5858                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005852   52de     MOVF      0xde,0x1,0x0       Index = (SL_STORAGE_SIZE - 1);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005854   0e1f     MOVLW     0x1f                                                                                            
005856   6edd     MOVWF     0xdd,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005858   ec95     CALL      0x612a,0x0       ebb_print_uint(gSL_Storage[Index]);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00585a   f030                                                                                                               
00585c   cfef     MOVFF     0xfef,0x4e                                                                                      
00585e   f04e                                                                                                               
005860   6a4f     CLRF      0x4f,0x0                                                                                        
005862   ecf1     CALL      0x61e2,0x0                                                                                      
005864   f030                                                                                                               
005866   ecaf     CALL      0x635e,0x0                                                                                      
005868   f031                                                                                                               
0061e2   6a50     CLRF      0x50,0x0                                                                                        
0061e4   6a51     CLRF      0x51,0x0                                                                                        
0061e6   c04e     MOVFF     0x4e,0xfe6                                                                                      
0061e8   ffe6                                                                                                               
0061ea   ef2d     GOTO      0x645a                                                                                          
0061ec   f032                                                                                                               
00645a   c04f     MOVFF     0x4f,0xfe6                                                                                      
00645c   ffe6                                                                                                               
00645e   c050     MOVFF     0x50,0xfe6                                                                                      
006460   ffe6                                                                                                               
006462   c051     MOVFF     0x51,0xfe6                                                                                      
006464   ffe6                                                                                                               
006466   0012     RETURN    0x0                                                                                             
00586a   a1c5     BTFSS     0xc5,0x0,0x1     if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00586c   db8d     RCALL     0x5f88             print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00586e   da81     RCALL     0x5d72           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005870   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005872   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005874   e202     BC        0x587a                                                                                          
005876   6ae1     CLRF      0xe1,0x0                                                                                        
005878   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00587a   d274     BRA       0x5d64                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query Button                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QB<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: <HasButtonBeenPushedSinceLastQB><CR> (0 or 1)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // OK<CR>                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void  parse_QB_packet(void)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00587c   ec5a     CALL      0x62b4,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00587e   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005880   5007     MOVF      0x7,0x0,0x0      ebb_print_uint(ButtonPushed);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005882   6e4e     MOVWF     0x4e,0x0                                                                                        
005884   6a4f     CLRF      0x4f,0x0                                                                                        
005886   6a50     CLRF      0x50,0x0                                                                                        
005888   6a51     CLRF      0x51,0x0                                                                                        
00588a   6ee6     MOVWF     0xe6,0x0                                                                                        
00588c   ec2d     CALL      0x645a,0x0                                                                                      
00588e   f032                                                                                                               
005890   ecaf     CALL      0x635e,0x0                                                                                      
005892   f031                                                                                                               
005d0e   ec38     CALL      0x8270,0x0                                                                                      
005d10   f041                                                                                                               
005d12   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005d14   d3bb     BRA       0x648c                                                                                          
00635e   dcd7     RCALL     0x5d0e                                                                                          
005894   a1c5     BTFSS     0xc5,0x0,0x1     if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
006360   0101     MOVLB     0x1                                                                                             
006362   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005896   db78     RCALL     0x5f88             print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005898   b007     BTFSC     0x7,0x0,0x0      if (bittstzero(ButtonPushed))                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00589a   9007     BCF       0x7,0x0,0x0        bitclrzero(ButtonPushed);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00589c   efb9     GOTO      0x5d72           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00589e   f02e                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query Current                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QC<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: <voltage_on_REF_RA0_net>,<voltage_on_v+_net><CR>                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Both values have a range of 0 to 1023 (10-bit ADC)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The ADC is set up with 0V = 0 and 3.3V = 1023                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For the REF_RA0 (current adjustment pot) a value of 0V-ADC (0 counts) = 46mA  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // and a value of 2.58V-ADC (800 counts) = 1.35A                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For the V+ net a value of 0V-ADC (0 counts) = 0V on V+                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // and a value of 2.79V-ADC (870 counts) = 31.4V on V+                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // REF_RA0 comes in on AN0 (RA0)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // V+ comes in on AN11 (RC2)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_QC_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Since access to ISR_A_FIFO[] is not protected in any way from ISR and       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // mainline code accessing at the same time, we will just wait for             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the cycle of ADC readings to finish before we spit out our value.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058a0   bc9d     BTFSC     0x9d,0x6,0x0     while (PIE1bits.ADIE);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058a2   d7fe     BRA       0x58a0                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Print out our results                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058a4   ec5a     CALL      0x62b4,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058a6   f031                                                                                                               
0058a8   c100     MOVFF     0x100,0x4e       ebb_print_int(ISR_A_FIFO[0]);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058aa   f04e                                                                                                               
0058ac   c101     MOVFF     0x101,0x4f                                                                                      
0058ae   f04f                                                                                                               
0058b0   da25     RCALL     0x5cfc                                                                                          
0058b2   db11     RCALL     0x5ed6           ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058b4   c116     MOVFF     0x116,0x4e       ebb_print_int(ISR_A_FIFO[11]);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058b6   f04e                                                                                                               
0058b8   c117     MOVFF     0x117,0x4f                                                                                      
0058ba   f04f                                                                                                               
0058bc   da1f     RCALL     0x5cfc                                                                                          
0058be   0101     MOVLB     0x1              if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058c0   a1c5     BTFSS     0xc5,0x0,0x1                                                                                    
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058c2   db62     RCALL     0x5f88             print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058c4   efb9     GOTO      0x5d72           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058c6   f02e                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query General                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QG<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: <status><NL><CR>                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <status> is a 16 bit value, printed as a hexadecimal number "00" to "FF".     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Each bit in the byte represents the status of a single bit of information in the EBB. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 0 : Motion FIFO status (0 = FIFO empty, 1 = FIFO not empty)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 1 : Motor2 status (0 = not moving, 1 = moving)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 2 : Motor1 status (0 = not moving, 1 = moving)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 3 : CommandExecuting (0 = no command currently executing, 1 = a command is currently executing) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 4 : Pen status (0 = up, 1 = down)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 5 : PRG button status (0 = not pressed since last query, 1 = pressed since last query) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 6 : Power Lost (1 = V+ went below g_PowerMonitorThresholdADC, 0 = it did not) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 7 : gLimitSwitchTriggered                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Just like the QB command, the PRG button status is cleared (after being printed) if pressed since last QB/QG command D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058c8   ecac     CALL      0x6358,0x0     void parse_QG_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058ca   f031                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058cc   d8d3     RCALL     0x5a74           UINT8 result = process_QM();                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058ce   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058d0   ec5a     CALL      0x62b4,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058d2   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // process_QM() gives us the low 4 bits of our output result.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058d4   0e0f     MOVLW     0xf              result = result & 0x0F;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058d6   14df     ANDWF     0xdf,0x0,0x0                                                                                    
0058d8   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058da   0101     MOVLB     0x1              if (PenState)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058dc   51bb     MOVF      0xbb,0x0,0x1                                                                                    
0058de   e003     BZ        0x58e6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058e0   0e10     MOVLW     0x10               result = result | (1 << 4);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058e2   10df     IORWF     0xdf,0x0,0x0                                                                                    
0058e4   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058e6   a007     BTFSS     0x7,0x0,0x0      if (bittstzero(ButtonPushed))                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058e8   d003     BRA       0x58f0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058ea   0e20     MOVLW     0x20               result = result | (1 << 5);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058ec   10df     IORWF     0xdf,0x0,0x0                                                                                    
0058ee   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058f0   0100     MOVLB     0x0              if (g_PowerDropDetected)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058f2   51a7     MOVF      0xa7,0x0,0x1                                                                                    
0058f4   e004     BZ        0x58fe                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058f6   0e40     MOVLW     0x40               result = result | (1 << 6);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058f8   10df     IORWF     0xdf,0x0,0x0                                                                                    
0058fa   6edf     MOVWF     0xdf,0x0                                                                                        
0058fc   6ba7     CLRF      0xa7,0x1           g_PowerDropDetected = FALSE;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0058fe   a00e     BTFSS     0xe,0x0,0x0      if (bittstzero(gLimitSwitchTriggered))                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005900   d003     BRA       0x5908                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005902   0e80     MOVLW     0x80               result = result | (1 << 7);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005904   10df     IORWF     0xdf,0x0,0x0                                                                                    
005906   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005908   0e02     MOVLW     0x2              ebb_print_hex(result, 2);                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00590a   6ee6     MOVWF     0xe6,0x0                                                                                        
00590c   cfdf     MOVFF     0xfdf,0x4e                                                                                      
00590e   f04e                                                                                                               
005910   6a4f     CLRF      0x4f,0x0                                                                                        
005912   ecf1     CALL      0x61e2,0x0                                                                                      
005914   f030                                                                                                               
005916   ecfe     CALL      0x81fc,0x0                                                                                      
005918   f040                                                                                                               
00591a   6e52     MOVWF     0x52,0x0                                                                                        
00591c   0e05     MOVLW     0x5                                                                                             
00591e   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
005920   5052     MOVF      0x52,0x0,0x0                                                                                    
005922   db32     RCALL     0x5f88           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005f88   0e01     MOVLW     0x1                                                                                             
005f8a   6ee6     MOVWF     0xe6,0x0                                                                                        
005f8c   d213     BRA       0x63b4                                                                                          
0063b4   ecb0     CALL      0x1f60,0x0                                                                                      
0063b6   f00f                                                                                                               
0063b8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0063ba   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Reset the button pushed flag                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005924   b007     BTFSC     0x7,0x0,0x0      if (bittstzero(ButtonPushed))                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005926   9007     BCF       0x7,0x0,0x0        bitclrzero(ButtonPushed);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005928   d2d4     BRA       0x5ed2         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005ed2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005ed4   d26b     BRA       0x63ac                                                                                          
0063ac   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0063ae   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0063b0   ffd9                                                                                                               
0063b2   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Set Engraver                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: SE,<state>,<power>,<use_motion_queue><CR>                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <state> is 0 for off and 1 for on (required)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <power> is 10 bit PWM power level (optional). 0 = 0%, 1023 = 100%             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <use_motion_queue> if 1 then put this command in motion queue (optional))     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // We boot up with <power> at 0                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The engraver motor is always assumed to be on RB3                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // So our init routine will map ECCP1                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Timer0 is stepper                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Timer1 is unused                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Timer2 and ECCP1 is engraver PWM                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Timer3 and ECCP2 is RC servo2 output                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Timer4 is 1ms ISR                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00592a   ec8b     CALL      0x6316,0x0     void parse_SE_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00592c   f031                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 State = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT16 Power = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00592e   0e03     MOVLW     0x3              UINT8 SEUseMotionQueue = FALSE;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005930   6adb     CLRF      0xdb,0x0                                                                                        
                                             ExtractReturnType PowerExtract;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005932   ec86     CALL      0x650c,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005934   f032                                                                                                               
005d02   6ae6     CLRF      0xe6,0x0                                                                                        
005d04   ec92     CALL      0x1f24,0x0                                                                                      
005d06   f00f                                                                                                               
005d08   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005d0a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005d0c   0012     RETURN    0x0                                                                                             
006220   d957     RCALL     0x64d0                                                                                          
0064d0   6ae6     CLRF      0xe6,0x0                                                                                        
0064d2   dc17     RCALL     0x5d02                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005eae   6ae6     CLRF      0xe6,0x0         extract_number(kUCHAR, &State, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005eb0   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
005eb2   ffe6                                                                                                               
005eb4   cfda     MOVFF     0xfda,0xfe6                                                                                     
005eb6   ffe6                                                                                                               
005eb8   0012     RETURN    0x0                                                                                             
006222   d187     BRA       0x6532                                                                                          
0064d4   ef57     GOTO      0x5eae                                                                                          
0064d6   f02f                                                                                                               
005936   dbdc     RCALL     0x60f0           PowerExtract = extract_number(kUINT, &Power, kOPTIONAL);                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005e06   0e01     MOVLW     0x1                                                                                             
005e08   6ee6     MOVWF     0xe6,0x0                                                                                        
005e0a   efbe     GOTO      0x637c                                                                                          
005e0c   f031                                                                                                               
005938   ec8a     CALL      0x6514,0x0       extract_number(kUCHAR, &SEUseMotionQueue, kOPTIONAL);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00593a   f032                                                                                                               
005bd0   6ee6     MOVWF     0xe6,0x0                                                                                        
005bd2   ecb9     CALL      0x3172,0x0                                                                                      
005bd4   f018                                                                                                               
005bd6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005bd8   ef46     GOTO      0x648c                                                                                          
005bda   f032                                                                                                               
0062a2   6ee6     MOVWF     0xe6,0x0                                                                                        
0062a4   0e00     MOVLW     0x0                                                                                             
0062a6   20da     ADDWFC    0xda,0x0,0x0                                                                                    
0062a8   6ee6     MOVWF     0xe6,0x0                                                                                        
0062aa   d143     BRA       0x6532                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00593c   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00593e   5197     MOVF      0x97,0x0,0x1                                                                                    
005940   e001     BZ        0x5944                                                                                          
005942   d092     BRA       0x5a68                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Limit check                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005944   da6e     RCALL     0x5e22           if (Power > 1023u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005946   0eff     MOVLW     0xff                                                                                            
005948   80d8     BSF       0xd8,0x0,0x0                                                                                    
00594a   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
00594c   0e03     MOVLW     0x3                                                                                             
00594e   54ed     SUBFWB    0xed,0x0,0x0                                                                                    
005950   e205     BC        0x595c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005952   0e01     MOVLW     0x1                Power = 1023;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005954   68db     SETF      0xdb,0x0                                                                                        
005956   0e03     MOVLW     0x3                                                                                             
005958   ecd4     CALL      0x61a8,0x0                                                                                      
00595a   f030                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00595c   50df     MOVF      0xdf,0x0,0x0     if (State > 1u)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00595e   0801     SUBLW     0x1                                                                                             
005960   e202     BC        0x5966                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005962   0e01     MOVLW     0x1                State = 1;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005964   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005966   0e03     MOVLW     0x3              if (SEUseMotionQueue > 1u)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005968   50db     MOVF      0xdb,0x0,0x0                                                                                    
00596a   0801     SUBLW     0x1                                                                                             
00596c   e201     BC        0x5970                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00596e   db3b     RCALL     0x5fe6             SEUseMotionQueue = 1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set to %50 if no Power parameter specified, otherwise use parameter         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005970   04df     DECF      0xdf,0x0,0x0     if (State == 1u && PowerExtract == kEXTRACT_MISSING_PARAMETER)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005972   e109     BNZ       0x5986                                                                                          
005974   0e04     MOVLW     0x4                                                                                             
005976   50db     MOVF      0xdb,0x0,0x0                                                                                    
005978   0803     SUBLW     0x3                                                                                             
00597a   e105     BNZ       0x5986                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00597c   0101     MOVLB     0x1                StoredEngraverPower = 512;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00597e   6bc1     CLRF      0xc1,0x1                                                                                        
005980   0e02     MOVLW     0x2                                                                                             
005982   6fc2     MOVWF     0xc2,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005984   d006     BRA       0x5992           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005986   0e01     MOVLW     0x1                StoredEngraverPower = Power;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005988   cfdb     MOVFF     0xfdb,0x1c1                                                                                     
00598a   f1c1                                                                                                               
00598c   0e02     MOVLW     0x2                                                                                             
00598e   cfdb     MOVFF     0xfdb,0x1c2                                                                                     
005990   f1c2                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If we're not on, then turn us on                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005992   b4ca     BTFSC     0xca,0x2,0x0     if (T2CONbits.TMR2ON != 1u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005994   d015     BRA       0x59c0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Set up PWM for Engraver control                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // We will use ECCP1 and Timer2 for the engraver PWM output on RB3           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Our PWM will operate at about 40Khz.                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Set our reload value                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005996   68cb     SETF      0xcb,0x0           PR2 = 0xFF;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Initialize Timer2                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // The prescaler will be at 1                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005998   0efc     MOVLW     0xfc               T2CONbits.T2CKPS = 0b00;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00599a   14ca     ANDWF     0xca,0x0,0x0                                                                                    
00599c   0900     IORLW     0x0                                                                                             
00599e   6eca     MOVWF     0xca,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Do not generate an interrupt                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0059a0   929d     BCF       0x9d,0x1,0x0       PIE1bits.TMR2IE = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0059a2   010f     MOVLB     0xf                TCLKCONbits.T3CCP1 = 1;       // ECCP1 uses Timer1/2 and ECCP2 uses Timer3/4 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0059a4   8152     BSF       0x52,0x0,0x1                                                                                    
0059a6   9352     BCF       0x52,0x1,0x1       TCLKCONbits.T3CCP2 = 0;       // ECCP1 uses Timer1/2 and ECCP2 uses Timer3/4 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0059a8   0ef0     MOVLW     0xf0               CCP1CONbits.CCP1M = 0b1100;   // Set EECP1 as PWM mode                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0059aa   14ba     ANDWF     0xba,0x0,0x0                                                                                    
0059ac   090c     IORLW     0xc                                                                                             
0059ae   6eba     MOVWF     0xba,0x0                                                                                        
0059b0   0e3f     MOVLW     0x3f               CCP1CONbits.P1M = 0b00;       // Enhanced PWM mode: single output            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0059b2   14ba     ANDWF     0xba,0x0,0x0                                                                                    
0059b4   0900     IORLW     0x0                                                                                             
0059b6   6eba     MOVWF     0xba,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Set up output routing to go to RB3 (RP6)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0059b8   010e     MOVLB     0xe                RPOR6 = 14;                   // 14 is CCP1/P1A - ECCP1 PWM Output Channel A D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0059ba   0e0e     MOVLW     0xe                                                                                             
0059bc   6fcc     MOVWF     0xcc,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0059be   84ca     BSF       0xca,0x2,0x0       T2CONbits.TMR2ON = 1;         // Turn it on                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Acting on the state is only done if the SE command is not put on the motion queue D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0059c0   0e03     MOVLW     0x3              if (!SEUseMotionQueue)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0059c2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0059c4   e12a     BNZ       0x5a1a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Now act on the State                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0059c6   50df     MOVF      0xdf,0x0,0x0       if (State)                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0059c8   e023     BZ        0x5a10                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set RB3 to StoredEngraverPower                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0059ca   c1c1     MOVFF     0x1c1,0x4e           CCPR1L = StoredEngraverPower >> 2;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0059cc   f04e                                                                                                               
0059ce   c1c2     MOVFF     0x1c2,0x4f                                                                                      
0059d0   f04f                                                                                                               
0059d2   90d8     BCF       0xd8,0x0,0x0                                                                                    
0059d4   324f     RRCF      0x4f,0x1,0x0                                                                                    
0059d6   324e     RRCF      0x4e,0x1,0x0                                                                                    
0059d8   90d8     BCF       0xd8,0x0,0x0                                                                                    
0059da   324f     RRCF      0x4f,0x1,0x0                                                                                    
0059dc   324e     RRCF      0x4e,0x1,0x0                                                                                    
0059de   504e     MOVF      0x4e,0x0,0x0                                                                                    
0059e0   6ebb     MOVWF     0xbb,0x0                                                                                        
0059e2   c1c1     MOVFF     0x1c1,0x50           CCP1CON = (CCP1CON & 0b11001111) | ((StoredEngraverPower << 4) & 0b00110000); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0059e4   f050                                                                                                               
0059e6   c1c2     MOVFF     0x1c2,0x51                                                                                      
0059e8   f051                                                                                                               
0059ea   0e04     MOVLW     0x4                                                                                             
0059ec   90d8     BCF       0xd8,0x0,0x0                                                                                    
0059ee   3650     RLCF      0x50,0x1,0x0                                                                                    
0059f0   3651     RLCF      0x51,0x1,0x0                                                                                    
0059f2   04e8     DECF      0xe8,0x0,0x0                                                                                    
0059f4   e1fb     BNZ       0x59ec                                                                                          
0059f6   0e30     MOVLW     0x30                                                                                            
0059f8   1650     ANDWF     0x50,0x1,0x0                                                                                    
0059fa   0e00     MOVLW     0x0                                                                                             
0059fc   1651     ANDWF     0x51,0x1,0x0                                                                                    
0059fe   0ecf     MOVLW     0xcf                                                                                            
005a00   14ba     ANDWF     0xba,0x0,0x0                                                                                    
005a02   0100     MOVLB     0x0                                                                                             
005a04   1050     IORWF     0x50,0x0,0x0                                                                                    
005a06   6e4e     MOVWF     0x4e,0x0                                                                                        
005a08   c051     MOVFF     0x51,0x4f                                                                                       
005a0a   f04f                                                                                                               
005a0c   50e8     MOVF      0xe8,0x0,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a0e   d003     BRA       0x5a16             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set RB3 to low by setting PWM duty cycle to zero                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a10   6abb     CLRF      0xbb,0x0             CCPR1L = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a12   0ecf     MOVLW     0xcf                 CCP1CON = (CCP1CON & 0b11001111);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a14   14ba     ANDWF     0xba,0x0,0x0                                                                                    
005a16   6eba     MOVWF     0xba,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a18   d026     BRA       0x5a66           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a1a   bc09     BTFSC     0x9,0x6,0x0        if (!bittst(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM))                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a1c   d024     BRA       0x5a66                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Trial: Spin here until there's space in the FIFO                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a1e   5013     MOVF      0x13,0x0,0x0         while(gFIFOLength >= gCurrentFIFOLength)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a20   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
005a22   e2fd     BC        0x5a1e                                                                                          
                                                   ;                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set up the motion queue command                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a24   dafc     RCALL     0x601e             FIFOPtr[gFIFOIn].m.sm.SEPower = StoredEngraverPower;                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a26   0e2c     MOVLW     0x2c                                                                                            
005a28   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
005a2a   0e00     MOVLW     0x0                                                                                             
005a2c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
005a2e   c1c1     MOVFF     0x1c1,0xfee                                                                                     
005a30   ffee                                                                                                               
005a32   c1c2     MOVFF     0x1c2,0xfed                                                                                     
005a34   ffed                                                                                                               
005a36   d9eb     RCALL     0x5e0e             FIFOPtr[gFIFOIn].m.sm.DelayCounter = 0;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a38   52ee     MOVF      0xee,0x1,0x0                                                                                    
005a3a   52ee     MOVF      0xee,0x1,0x0                                                                                    
005a3c   6aee     CLRF      0xee,0x0                                                                                        
005a3e   6aee     CLRF      0xee,0x0                                                                                        
005a40   6aee     CLRF      0xee,0x0                                                                                        
005a42   6aee     CLRF      0xee,0x0                                                                                        
005a44   d9e4     RCALL     0x5e0e             FIFOPtr[gFIFOIn].m.sm.SEState = State;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a46   52ee     MOVF      0xee,0x1,0x0                                                                                    
005a48   0e05     MOVLW     0x5                                                                                             
005a4a   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
005a4c   0e00     MOVLW     0x0                                                                                             
005a4e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
005a50   cfdf     MOVFF     0xfdf,0xfef                                                                                     
005a52   ffef                                                                                                               
005e0e   5010     MOVF      0x10,0x0,0x0                                                                                    
005e10   0d2f     MULLW     0x2f                                                                                            
005e12   d375     BRA       0x64fe                                                                                          
0064fe   51fe     MOVF      0xfe,0x0,0x1                                                                                    
006500   24f3     ADDWF     0xf3,0x0,0x0                                                                                    
006502   6ee9     MOVWF     0xe9,0x0                                                                                        
006504   51ff     MOVF      0xff,0x0,0x1                                                                                    
006506   20f4     ADDWFC    0xf4,0x0,0x0                                                                                    
006508   6eea     MOVWF     0xea,0x0                                                                                        
00650a   0012     RETURN    0x0                                                                                             
005a54   d9dc     RCALL     0x5e0e             FIFOPtr[gFIFOIn].Command = COMMAND_SE;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a56   0e03     MOVLW     0x3                                                                                             
005a58   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a5a   2a10     INCF      0x10,0x1,0x0         gFIFOIn++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a5c   5013     MOVF      0x13,0x0,0x0         if (gFIFOIn >= gCurrentFIFOLength)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a5e   5c10     SUBWF     0x10,0x0,0x0                                                                                    
005a60   e301     BNC       0x5a64                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a62   6a10     CLRF      0x10,0x0               gFIFOIn = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a64   2a0f     INCF      0xf,0x1,0x0          gFIFOLength++;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a66   d985     RCALL     0x5d72           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a68   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a6a   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005a6c   e202     BC        0x5a72                                                                                          
005a6e   6ae1     CLRF      0xe1,0x0                                                                                        
005a70   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005a72   d178     BRA       0x5d64                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Do the work of the QM command so we can use this same code for QM and         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // for QG commands.                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a74   d979     RCALL     0x5d68         UINT8 process_QM(void)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a76   0e04     MOVLW     0x4                                                                                             
005a78   da20     RCALL     0x5eba                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 CommandExecuting = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 Motor1Running = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 Motor2Running = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a7a   0e03     MOVLW     0x3              UINT8 FIFOStatus = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a7c   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Need to turn off high priority interrupts briefly here to read out value that ISR uses D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a7e   9ef2     BCF       0xf2,0x7,0x0     INTCONbits.GIEH = 0;  // Turn high priority interrupts off                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Create our output values to print back to the PC                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a80   0101     MOVLB     0x1              if (CurrentCommand.m.sm.DelayCounter != 0u)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a82   db2c     RCALL     0x60dc                                                                                          
005a84   e002     BZ        0x5a8a                                                                                          
0060dc   518b     MOVF      0x8b,0x0,0x1                                                                                    
0060de   118c     IORWF     0x8c,0x0,0x1                                                                                    
0060e0   118d     IORWF     0x8d,0x0,0x1                                                                                    
0060e2   118e     IORWF     0x8e,0x0,0x1                                                                                    
0060e4   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a86   0e01     MOVLW     0x1                CommandExecuting = 1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a88   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a8a   5189     MOVF      0x89,0x0,0x1     if (CurrentCommand.Command != COMMAND_NONE)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a8c   e002     BZ        0x5a92                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a8e   0e01     MOVLW     0x1                CommandExecuting = 1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a90   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a92   500f     MOVF      0xf,0x0,0x0      if (gFIFOLength)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a94   e006     BZ        0x5aa2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a96   0e01     MOVLW     0x1                CommandExecuting = 1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a98   6edf     MOVWF     0xdf,0x0                                                                                        
005a9a   6ef3     MOVWF     0xf3,0x0           FIFOStatus = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005a9c   0e03     MOVLW     0x3                                                                                             
005a9e   cff3     MOVFF     0xff3,0xfdb                                                                                     
005aa0   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005aa2   50df     MOVF      0xdf,0x0,0x0     if (CommandExecuting && CurrentCommand.m.sm.Steps[0] != 0u)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005aa4   e005     BZ        0x5ab0                                                                                          
005aa6   dac6     RCALL     0x6034                                                                                          
005aa8   e003     BZ        0x5ab0                                                                                          
006034   5198     MOVF      0x98,0x0,0x1                                                                                    
006036   1199     IORWF     0x99,0x0,0x1                                                                                    
006038   119a     IORWF     0x9a,0x0,0x1                                                                                    
00603a   119b     IORWF     0x9b,0x0,0x1                                                                                    
00603c   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005aaa   52de     MOVF      0xde,0x1,0x0       Motor1Running = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005aac   0e01     MOVLW     0x1                                                                                             
005aae   6edd     MOVWF     0xdd,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005ab0   50df     MOVF      0xdf,0x0,0x0     if (CommandExecuting && CurrentCommand.m.sm.Steps[1] != 0u)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005ab2   e004     BZ        0x5abc                                                                                          
005ab4   db0e     RCALL     0x60d2                                                                                          
005ab6   e002     BZ        0x5abc                                                                                          
0060d2   519c     MOVF      0x9c,0x0,0x1                                                                                    
0060d4   119d     IORWF     0x9d,0x0,0x1                                                                                    
0060d6   119e     IORWF     0x9e,0x0,0x1                                                                                    
0060d8   119f     IORWF     0x9f,0x0,0x1                                                                                    
0060da   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005ab8   0e01     MOVLW     0x1                Motor2Running = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005aba   db76     RCALL     0x61a8                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Re-enable interrupts                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005abc   8ef2     BSF       0xf2,0x7,0x0     INTCONbits.GIEH = 1;  // Turn high priority interrupts on                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005abe   0e03     MOVLW     0x3              return ((CommandExecuting << 3) | (Motor1Running << 2) | (Motor2Running << 1) | FIFOStatus); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005ac0   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
005ac2   ffe6                                                                                                               
005ac4   0e02     MOVLW     0x2                                                                                             
005ac6   50db     MOVF      0xdb,0x0,0x0                                                                                    
005ac8   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
005aca   6e4f     MOVWF     0x4f,0x0                                                                                        
005acc   0e01     MOVLW     0x1                                                                                             
005ace   50db     MOVF      0xdb,0x0,0x0                                                                                    
005ad0   0d04     MULLW     0x4                                                                                             
005ad2   cff3     MOVFF     0xff3,0x4e                                                                                      
005ad4   f04e                                                                                                               
005ad6   50df     MOVF      0xdf,0x0,0x0                                                                                    
005ad8   0d08     MULLW     0x8                                                                                             
005ada   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005adc   104e     IORWF     0x4e,0x0,0x0                                                                                    
005ade   104f     IORWF     0x4f,0x0,0x0                                                                                    
005ae0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005ae2   10e7     IORWF     0xe7,0x0,0x0                                                                                    
005ae4   6e4e     MOVWF     0x4e,0x0       }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005ae6   0e04     MOVLW     0x4                                                                                             
005ae8   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005aea   e202     BC        0x5af0                                                                                          
005aec   6ae1     CLRF      0xe1,0x0                                                                                        
005aee   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005af0   6ee1     MOVWF     0xe1,0x0                                                                                        
005af2   504e     MOVF      0x4e,0x0,0x0                                                                                    
005af4   efd6     GOTO      0x63ac                                                                                          
005af6   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QM command                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For Query Motor - returns the current status of each motor                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QM takes no parameters, so usage is just QM<CR>                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QM returns:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QM,<CommandExecutingStatus>,<Motor1Satus>,<Motor2Status><CR>                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // where:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   <CommandExecutingStatus>: 0 if no 'motion command' is executing, > 0 if some 'motion command' is executing D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   <Motor1Status>: 0 if motor 1 is idle, 1 if motor is moving                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   <Motor2Status>: 0 if motor 2 is idle, 1 if motor is moving                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // As of version 2.4.4, there is now a fourth parameter at the end of the reply packet. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QM,<CommandExecutingStatus>,<Motor1Satus>,<Motor2Status>,<FIFOStatus><CR>     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Where <FIFOStatus> is either 1 (if there are any commands in the FIFO) or 0 (if the FIFO is empty) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005af8   ec8b     CALL      0x6316,0x0     void parse_QM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005afa   f031                                                                                                               
005eba   db32     RCALL     0x6520                                                                                          
006316   dd28     RCALL     0x5d68                                                                                          
006318   0e05     MOVLW     0x5                                                                                             
00631a   ef5d     GOTO      0x5eba                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00631c   f02f                                UINT8 CommandExecuting = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 Motor1Running = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005ebc   0e02     MOVLW     0x2              UINT8 Motor2Running = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005ebe   6adb     CLRF      0xdb,0x0                                                                                        
005ec0   0012     RETURN    0x0                                                                                             
005afc   0e03     MOVLW     0x3              UINT8 FIFOStatus = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005afe   6adb     CLRF      0xdb,0x0                                                                                        
005b00   dfb9     RCALL     0x5a74           UINT8 result = process_QM();                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b02   daf6     RCALL     0x60f0                                                                                          
0060f0   6ee7     MOVWF     0xe7,0x0                                                                                        
0060f2   0e04     MOVLW     0x4                                                                                             
0060f4   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0060f6   ffdb                                                                                                               
0060f8   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b04   0e01     MOVLW     0x1              print_command(TRUE, TRUE);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b06   6ee6     MOVWF     0xe6,0x0                                                                                        
005b08   6ee6     MOVWF     0xe6,0x0                                                                                        
005b0a   ec92     CALL      0x1f24,0x0                                                                                      
005b0c   f00f                                                                                                               
005b0e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005b10   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b12   0e04     MOVLW     0x4              if (result & 0x01)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b14   b0db     BTFSC     0xdb,0x0,0x0                                                                                    
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b16   da67     RCALL     0x5fe6             FIFOStatus = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005fe6   0e01     MOVLW     0x1                                                                                             
005fe8   6ef3     MOVWF     0xf3,0x0                                                                                        
005fea   0e03     MOVLW     0x3                                                                                             
005fec   cff3     MOVFF     0xff3,0xfdb                                                                                     
005fee   ffdb                                                                                                               
005ff0   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b18   0e04     MOVLW     0x4              if (result & 0x02)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b1a   a2db     BTFSS     0xdb,0x1,0x0                                                                                    
005b1c   d002     BRA       0x5b22                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b1e   0e01     MOVLW     0x1                Motor2Running = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b20   db43     RCALL     0x61a8                                                                                          
0061a8   6ef3     MOVWF     0xf3,0x0                                                                                        
0061aa   0e02     MOVLW     0x2                                                                                             
0061ac   cff3     MOVFF     0xff3,0xfdb                                                                                     
0061ae   ffdb                                                                                                               
0061b0   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b22   0e04     MOVLW     0x4              if (result & 0x04)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b24   a4db     BTFSS     0xdb,0x2,0x0                                                                                    
005b26   d003     BRA       0x5b2e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b28   52de     MOVF      0xde,0x1,0x0       Motor1Running = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b2a   0e01     MOVLW     0x1                                                                                             
005b2c   6edd     MOVWF     0xdd,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b2e   0e04     MOVLW     0x4              if (result & 0x08)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b30   a6db     BTFSS     0xdb,0x3,0x0                                                                                    
005b32   d002     BRA       0x5b38                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b34   0e01     MOVLW     0x1                CommandExecuting = 1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b36   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b38   cfdf     MOVFF     0xfdf,0x4e       ebb_print_int(CommandExecuting);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b3a   f04e                                                                                                               
005b3c   6a4f     CLRF      0x4f,0x0                                                                                        
005b3e   d8de     RCALL     0x5cfc                                                                                          
005b40   d9ca     RCALL     0x5ed6           ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005ed6   0e2c     MOVLW     0x2c                                                                                            
005ed8   6ee6     MOVWF     0xe6,0x0                                                                                        
005eda   ec2c     CALL      0x1858,0x0                                                                                      
005edc   f00c                                                                                                               
005ede   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005ee0   0012     RETURN    0x0                                                                                             
005b42   0e01     MOVLW     0x1              ebb_print_int(Motor1Running);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b44   dbbb     RCALL     0x62bc                                                                                          
005b46   d9c7     RCALL     0x5ed6           ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b48   0e02     MOVLW     0x2              ebb_print_int(Motor2Running);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b4a   dbb8     RCALL     0x62bc                                                                                          
005b4c   d9c4     RCALL     0x5ed6           ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b4e   0e03     MOVLW     0x3              ebb_print_int(FIFOStatus);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b50   dbb5     RCALL     0x62bc                                                                                          
005cfc   da72     RCALL     0x61e2                                                                                          
005cfe   efed     GOTO      0x61da                                                                                          
005d00   f030                                                                                                               
0062bc   cfdb     MOVFF     0xfdb,0x4e                                                                                      
0062be   f04e                                                                                                               
0062c0   6a4f     CLRF      0x4f,0x0                                                                                        
0062c2   ef7e     GOTO      0x5cfc                                                                                          
0062c4   f02e                                                                                                               
005b52   d917     RCALL     0x5d82           print_line_ending(kLE_REV);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b54   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b56   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005b58   e202     BC        0x5b5e                                                                                          
005b5a   6ae1     CLRF      0xe1,0x0                                                                                        
005b5c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005b5e   d102     BRA       0x5d64                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QS command                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For Query Step position - returns the current x and y global step positions   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QS takes no parameters, so usage is just CS<CR>                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QS returns:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QS,<global_step1_position>,<global_step2_position><CR>                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // where:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   <global_step1_position>: signed 32 bit value, current global motor 1 step position D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   <global_step2_position>: signed 32 bit value, current global motor 2 step position D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b60   d903     RCALL     0x5d68         void parse_QS_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b62   0e08     MOVLW     0x8                                                                                             
005b64   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             INT32 step1, step2;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b66   dba6     RCALL     0x62b4           print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0062b4   0e01     MOVLW     0x1                                                                                             
0062b6   6ee6     MOVWF     0xe6,0x0                                                                                        
0062b8   ef81     GOTO      0x5d02                                                                                          
0062ba   f02e                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Need to turn off high priority interrupts briefly here to read out value that ISR uses D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b68   9ef2     BCF       0xf2,0x7,0x0     INTCONbits.GIEH = 0;  // Turn high priority interrupts off                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Make a local copy of the things we care about                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b6a   c016     MOVFF     0x16,0xfdf       step1 = globalStepCounter1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b6c   ffdf                                                                                                               
005b6e   0e01     MOVLW     0x1                                                                                             
005b70   c017     MOVFF     0x17,0xfdb                                                                                      
005b72   ffdb                                                                                                               
005b74   0e02     MOVLW     0x2                                                                                             
005b76   c018     MOVFF     0x18,0xfdb                                                                                      
005b78   ffdb                                                                                                               
005b7a   0e03     MOVLW     0x3                                                                                             
005b7c   c019     MOVFF     0x19,0xfdb                                                                                      
005b7e   ffdb                                                                                                               
005b80   0e04     MOVLW     0x4              step2 = globalStepCounter2;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b82   c01a     MOVFF     0x1a,0xfdb                                                                                      
005b84   ffdb                                                                                                               
005b86   0e05     MOVLW     0x5                                                                                             
005b88   c01b     MOVFF     0x1b,0xfdb                                                                                      
005b8a   ffdb                                                                                                               
005b8c   0e06     MOVLW     0x6                                                                                             
005b8e   c01c     MOVFF     0x1c,0xfdb                                                                                      
005b90   ffdb                                                                                                               
005b92   0e07     MOVLW     0x7                                                                                             
005b94   c01d     MOVFF     0x1d,0xfdb                                                                                      
005b96   ffdb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Re-enable interrupts                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b98   8ef2     BSF       0xf2,0x7,0x0     INTCONbits.GIEH = 1;  // Turn high priority interrupts on                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b9a   cfd9     MOVFF     0xfd9,0xfe9      ebb_print_int(step1);                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005b9c   ffe9                                                                                                               
005b9e   d8bb     RCALL     0x5d16                                                                                          
005ba0   d99a     RCALL     0x5ed6           ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005ba2   50d9     MOVF      0xd9,0x0,0x0     ebb_print_int(step2);                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005ba4   0f04     ADDLW     0x4                                                                                             
005ba6   ece1     CALL      0x63c2,0x0                                                                                      
005ba8   f031                                                                                                               
005d16   cfda     MOVFF     0xfda,0xfea                                                                                     
005d18   ffea                                                                                                               
005d1a   cfee     MOVFF     0xfee,0xfe6                                                                                     
005d1c   ffe6                                                                                                               
005d1e   cfee     MOVFF     0xfee,0xfe6                                                                                     
005d20   ffe6                                                                                                               
005d22   cfee     MOVFF     0xfee,0xfe6                                                                                     
005d24   ffe6                                                                                                               
005d26   cfef     MOVFF     0xfef,0xfe6                                                                                     
005d28   ffe6                                                                                                               
005d2a   efed     GOTO      0x61da                                                                                          
005d2c   f030                                                                                                               
0063c2   6ee9     MOVWF     0xe9,0x0                                                                                        
0063c4   ef8b     GOTO      0x5d16                                                                                          
0063c6   f02e                                                                                                               
005baa   0101     MOVLB     0x1              if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005bac   a1c5     BTFSS     0xc5,0x0,0x1                                                                                    
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005bae   d8e9     RCALL     0x5d82             print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005d82   0e02     MOVLW     0x2                                                                                             
005d84   6ee6     MOVWF     0xe6,0x0                                                                                        
005d86   d316     BRA       0x63b4                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005bb0   d8e0     RCALL     0x5d72           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005bb2   0e08     MOVLW     0x8            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005bb4   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005bb6   e202     BC        0x5bbc                                                                                          
005bb8   6ae1     CLRF      0xe1,0x0                                                                                        
005bba   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005bbc   d0d3     BRA       0x5d64                                                                                          
005d64   6ee1     MOVWF     0xe1,0x0                                                                                        
005d66   d322     BRA       0x63ac                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Perform the actual clearing of the step counters (used from several places)   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void clear_StepCounters(void)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Need to turn off high priority interrupts briefly here to read out value that ISR uses D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005bbe   9ef2     BCF       0xf2,0x7,0x0     INTCONbits.GIEH = 0;  // Turn high priority interrupts off                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Clear out the global step counters                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005bc0   d990     RCALL     0x5ee2           globalStepCounter1 = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             globalStepCounter2 = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Clear both step accumulators as well                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             acc_union[0].value = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             acc_union[1].value = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Re-enable interrupts                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005bc2   8ef2     BSF       0xf2,0x7,0x0     INTCONbits.GIEH = 1;  // Turn high priority interrupts on                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005bc4   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // CS command                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For Clear Stepper position - zeros out both step1 and step2 global positions  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // CS takes no parameters, so usage is just CS<CR>                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QS returns:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // OK<CR>                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note, as of 2.7.0 this also clears out the step accumulators as well          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_CS_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005bc6   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005bc8   d89c     RCALL     0x5d02                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005bca   dff9     RCALL     0x5bbe           clear_StepCounters();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005bcc   efb9     GOTO      0x5d72           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
005bce   f02e                                                                                                               
005d72   6ae6     CLRF      0xe6,0x0                                                                                        
005d74   d31f     BRA       0x63b4                                                                                          
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           /*********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                UBW Firmware                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * FileName:        main.c                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Company:         Schmalz Haus LLC                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Author:          Brian Schmalz                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Based on original files by Microchip Inc. in MAL USB example.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Software License Agreement                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Copyright (c) 2014-2023, Brian Schmalz of Schmalz Haus LLC                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * All rights reserved.                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Redistribution and use in source and binary forms, with or                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * without modification, are permitted provided that the following               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * conditions are met:                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * 1. Redistributions of source code must retain the above                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * disclaimer.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * 2. Redistributions in binary form must reproduce the above                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * disclaimer in the documentation and/or other materials                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * provided with the distribution.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * 3. Neither the name of the copyright holder nor the names of                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * its contributors may be used to endorse or promote products                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * derived from this software without specific prior written                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * permission.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * SUCH DAMAGE.                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            */                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** INCLUDES *******************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #include "Usb\usb.h"                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #include "Usb\usb_function_cdc.h"                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #include "HardwareProfile.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if !defined (PROGRAMMABLE_WITH_USB_HID_BOOTLOADER)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config WDTEN = OFF          // WDT disabled (enabled by SWDTEN bit)    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config PLLDIV = 2           // Divide by 2 (8 MHz internal oscillator) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config STVREN = ON          // stack overflow/underflow reset enabled  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config XINST = OFF          // Extended instruction set disabled       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config CPUDIV = OSC1        // No CPU system clock divide              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config CP0 = OFF            // Program memory is not code-protected    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config OSC = INTOSCPLL      // Internal oscillator, PLL enabled, PLL used by USB, RA6 and RA7 for I/O use D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config T1DIG = ON           // Sec Osc clock source may be selected    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config LPT1OSC = ON         // high power Timer1 mode                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config FCMEN = OFF          // Fail-Safe Clock Monitor disabled        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config IESO = OFF           // Two-Speed Start-up disabled             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config WDTPS = 32768        // 1:32768                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config DSWDTOSC = INTOSCREF // DSWDT uses INTOSC/INTRC as clock        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config RTCOSC = T1OSCREF    // RTCC uses T1OSC/T1CKI as clock          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config DSBOREN = OFF        // Zero-Power BOR disabled in Deep Sleep   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config DSWDTEN = OFF        // Disabled                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config DSWDTPS = 8192       // 1:8,192 (8.5 seconds)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config IOL1WAY = OFF        // IOLOCK bit can be set and cleared       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config MSSP7B_EN = MSK7     // 7 Bit address masking                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config WPFP = PAGE_1        // Write Protect Program Flash Page 0      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config WPEND = PAGE_0       // Start protection at page 0              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config WPCFG = OFF          // Write/Erase last page protect Disabled  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config WPDIS = OFF          // WPFP[5:0], WPEND, and WPCFG bits ignored  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** I N C L U D E S **********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #include "usb_config.h"                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #include "UBW.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** V A R I A B L E S ********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #pragma udata                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           static void InitializeSystem(void);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBDeviceTasks(void);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** VECTOR REMAPPING ***********************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // On PIC18 devices, addresses 0x00, 0x08, and 0x18 are used for                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // the reset, high priority interrupt, and low priority interrupt                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // vectors.  However, the current Microchip USB bootloader                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // examples are intended to occupy addresses 0x00-0x7FF or                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // 0x00-0xFFF depending on which bootloader is used.  Therefore,                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // the bootloader code remaps these vectors to new locations                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // as indicated below.  This remapping is only necessary if you                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // wish to program the hex file generated from this project with                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // the USB bootloader.  If no bootloader is used, edit the                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // usb_config.h file and comment out the following defines:                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           //#define PROGRAMMABLE_WITH_USB_HID_BOOTLOADER                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           //#define PROGRAMMABLE_WITH_USB_LEGACY_CUSTOM_CLASS_BOOTLOADER                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(PROGRAMMABLE_WITH_USB_HID_BOOTLOADER)                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_RESET_VECTOR_ADDRESS           0x1000                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_HIGH_INTERRUPT_VECTOR_ADDRESS  0x1008                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_LOW_INTERRUPT_VECTOR_ADDRESS   0x1018                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #elif defined(PROGRAMMABLE_WITH_USB_MCHPUSB_BOOTLOADER)                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_RESET_VECTOR_ADDRESS           0x800                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_HIGH_INTERRUPT_VECTOR_ADDRESS  0x808                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_LOW_INTERRUPT_VECTOR_ADDRESS   0x818                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_RESET_VECTOR_ADDRESS           0x00                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_HIGH_INTERRUPT_VECTOR_ADDRESS  0x08                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_LOW_INTERRUPT_VECTOR_ADDRESS 0x18                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(PROGRAMMABLE_WITH_USB_HID_BOOTLOADER) || defined(PROGRAMMABLE_WITH_USB_MCHPUSB_BOOTLOADER) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           extern void _startup (void);        // See c018i.c in your C18 compiler dir      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #pragma code REMAPPED_RESET_VECTOR = REMAPPED_RESET_VECTOR_ADDRESS               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void _reset (void)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
001000   efb0     GOTO      0x8d60           _asm goto _startup _endasm                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
001002   f046                                                                                                               
001004   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #pragma code REMAPPED_HIGH_INTERRUPT_VECTOR = REMAPPED_HIGH_INTERRUPT_VECTOR_ADDRESS D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void Remapped_High_ISR (void)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
001008   efb1     GOTO      0x3b62            _asm goto high_ISR _endasm                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00100a   f01d                                                                                                               
00100c   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #pragma code REMAPPED_LOW_INTERRUPT_VECTOR = REMAPPED_LOW_INTERRUPT_VECTOR_ADDRESS D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void Remapped_Low_ISR (void)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
001018   ef28     GOTO      0x1050            _asm goto low_ISR _endasm                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00101a   f008                                                                                                               
00101c   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** D E C L A R A T I O N S **************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #pragma code                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void main(void)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        Main program entry point.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void main(void)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0085d0   ece3     CALL      0x13c6,0x0       fill_stack();                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0085d2   f009                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0085d4   d805     RCALL     0x85e0           InitializeSystem();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0085de   d7fb     BRA       0x85d6           while(1)                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(USB_INTERRUPT)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               if(USB_BUS_SENSE && (USBGetDeviceState() == DETACHED_STATE))                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 USBDeviceAttach();                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(USB_POLLING)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               // Check bus status and service USB interrupts.                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0085d6   ec17     CALL      0x662e,0x0         USBDeviceTasks(); // Interrupt or polling method.  If using polling, must call D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0085d8   f033                                                                                                               
                                                                 // this function periodically.  This function will take care D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // of processing and responding to SETUP transactions      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // (such as during the enumeration process when you first  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // plug in).  USB hosts require that USB devices should accept D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // and process SETUP packets in a timely fashion.  Therefore, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // when using polling, this function should be called      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // frequently (such as once about every 100 microseconds) at any D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // time that a SETUP packet might reasonably be expected to D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // be sent by the host to your device.  In most cases, the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // USBDeviceTasks() function does not take very long to    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // execute (~50 instruction cycles) before it returns.     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               // Application-specific tasks.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               // Application related code may be added here, or in the ProcessIO() function. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0085da   ec10     CALL      0x1620,0x0         ProcessIO();                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0085dc   f00b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        static void InitializeSystem(void)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        InitializeSystem is a centralize initialization routine.     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  All required USB initialization routines are called from     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  here.                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  User application initialization routine should also be       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  called from here.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0085e0   cfd9     MOVFF     0xfd9,0xfe6    static void InitializeSystem(void)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0085e2   ffe6                                                                                                               
0085e4   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0085e6   ffd9                                                                                                               
0085e8   0e02     MOVLW     0x2                                                                                             
0085ea   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             unsigned int pll_startup_counter; //Used for software delay while PLL is starting up D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Configure all I/O pins to use digital input buffers.  The PIC18F87J50 Family devices D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // use the ANCONx registers to control this, which is different from other devices which D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // use the ADCON1 register for this purpose.                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0085ec   010f     MOVLB     0xf              ANCON0 = 0xFF;                  // Default all pins to digital                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0085ee   6948     SETF      0x48,0x1                                                                                        
0085f0   6949     SETF      0x49,0x1         ANCON1 = 0xFF;                  // Default all pins to digital                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0085f2   0e60     MOVLW     0x60             OSCCON = 0x60;                  // Clock switch to primary clock source.  May not have been running D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0085f4   6ed3     MOVWF     0xd3,0x0                                                                                        
                                                                             // from this if the bootloader is called from the application firmware. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // On the PIC18F46J50 Family of USB microcontrollers, the PLL will not power up and be enabled D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // by default, even if a PLL enabled oscillator configuration is selected (such as HS+PLL). D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // This allows the device to power up at a lower initial operating frequency, which can be D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // advantageous when powered from a source which is not guaranteed to be adequate for 48MHz D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // operation.  On these devices, user firmware needs to manually set the OSCTUNE<PLLEN> bit to D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // power up the PLL.                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0085f6   8c9b     BSF       0x9b,0x6,0x0     OSCTUNEbits.PLLEN = 1;  // Enable the PLL and wait 2+ms until the PLL locks before enabling USB module D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0085f8   0e58     MOVLW     0x58             pll_startup_counter = 600;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0085fa   6ede     MOVWF     0xde,0x0                                                                                        
0085fc   0e02     MOVLW     0x2                                                                                             
0085fe   6edd     MOVWF     0xdd,0x0                                                                                        
008600   cfdf     MOVFF     0xfdf,0x4e       while(pll_startup_counter--)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008602   f04e                                                                                                               
008604   06df     DECF      0xdf,0x1,0x0                                                                                    
008606   0e01     MOVLW     0x1                                                                                             
008608   cfdb     MOVFF     0xfdb,0x4f                                                                                      
00860a   f04f                                                                                                               
00860c   e201     BC        0x8610                                                                                          
00860e   06db     DECF      0xdb,0x1,0x0                                                                                    
008610   504e     MOVF      0x4e,0x0,0x0                                                                                    
008612   104f     IORWF     0x4f,0x0,0x0                                                                                    
008614   e1f5     BNZ       0x8600                                                                                          
                                               ;                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Device switches over automatically to PLL output after PLL is locked and ready. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  The USB specifications require that USB peripheral devices must never source D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  current onto the Vbus pin.  Additionally, USB peripherals should not source D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  current on D+ or D- when the host/hub is not actively powering the Vbus line. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  When designing a self powered (as opposed to bus powered) USB peripheral   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  device, the firmware should make sure not to turn on the USB module and D+ D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  or D- pull up resistor unless Vbus is actively powered.  Therefore, the    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  firmware needs some means to detect when Vbus is being powered by the host. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  A 5V tolerant I/O pin can be connected to Vbus (through a resistor), and   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  can be used to detect when Vbus is high (host actively powering), or low   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  (host is shut down or otherwise not supplying power).  The USB firmware    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  can then periodically poll this I/O pin to know when it is okay to turn on D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  the USB module/D+/D- pull up resistor.  When designing a purely bus powered D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  peripheral device, it is not possible to source current on D+ or D- when the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  host is not actively providing power on Vbus. Therefore, implementing this D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  bus sense feature is optional.  This firmware can be made to use this bus  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  sense feature by making sure "USE_USB_BUS_SENSE_IO" has been defined in the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  HardwareProfile.h file.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(USE_USB_BUS_SENSE_IO)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008616   8e94     BSF       0x94,0x7,0x0     tris_usb_bus_sense = INPUT_PIN; // See HardwareProfile.h                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  If the host PC sends a GetStatus (device) request, the firmware must respond D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  and let the host know if the USB peripheral device is currently bus powered D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  or self powered.  See chapter 9 in the official USB specifications for details D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  regarding this request.  If the peripheral device is capable of being both D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  self and bus powered, it should not return a hard coded value for this request. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  Instead, firmware should check if it is currently self or bus powered, and D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  respond accordingly.  If the hardware has been configured like demonstrated D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  on the PICDEM FS USB Demo Board, an I/O pin can be polled to determine the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  currently selected power source.  On the PICDEM FS USB Demo Board, "RA2"   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  is used for this purpose.  If using this feature, make sure "USE_SELF_POWER_SENSE_IO" D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  has been defined in HardwareProfile.h, and that an appropriate I/O pin has been mapped D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  to it in HardwareProfile.h.                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(USE_SELF_POWER_SENSE_IO)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             tris_self_power = INPUT_PIN;  // See HardwareProfile.h                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008618   ec55     CALL      0x14aa,0x0       UserInit();                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00861a   f00a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00861c   ecb1     CALL      0x6562,0x0       USBDeviceInit();  // usb_device.c.  Initializes USB module SFRs and firmware   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00861e   f032                                                                                                               
                                                               // variables to known states.                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008620   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008622   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
008624   e202     BC        0x862a                                                                                          
008626   6ae1     CLRF      0xe1,0x0                                                                                        
008628   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00862a   6ee1     MOVWF     0xe1,0x0                                                                                        
00862c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00862e   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
008630   ffd9                                                                                                               
008632   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // ****************************************************************************************************** D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // ************** USB Callback Functions **************************************************************** D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // ****************************************************************************************************** D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // The USB firmware stack will call the callback functions USBCBxxx() in response to certain USB related D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // events.  For example, if the host PC is powering down, it will stop sending out Start of Frame (SOF) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // packets to your device.  In response to this, all USB devices are supposed to decrease their power D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // consumption from the USB Vbus to <2.5mA each.  The USB module detects this condition (which according D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // to the USB specifications is 3+ms of no bus activity/SOF packets) and then calls the USBCBSuspend() D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // function.  You should modify these callback functions to take appropriate actions for each of these D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // conditions.  For example, in the USBCBSuspend(), you may wish to add code that will decrease power D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // consumption from Vbus to <2.5mA (such as by clock switching, turning off LEDs, putting the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // microcontroller to sleep, etc.).  Then, in the USBCBWakeFromSuspend() function, you may then wish to D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // add code that undoes the power saving things done in the USBCBSuspend() function. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // The USBCBSendResume() function is special, in that the USB stack will not automatically call this D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // function.  This function is meant to be called from the application firmware instead.  See the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // additional comments near the function.                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBSuspend(void)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        Call back that is invoked when a USB suspend is detected     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBSuspend(void)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Example power saving code.  Insert appropriate code here for the desired    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // application behavior.  If the microcontroller will be put to sleep, a       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // process similar to that shown below may be used:                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // ConfigureIOPinsForLowPower();                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // SaveStateOfAllInterruptEnableBits();                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // DisableAllInterruptEnableBits();                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // EnableOnlyTheInterruptsWhichWillBeUsedToWakeTheMicro(); // should enable at least USBActivityIF as a wake source D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Sleep();                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // RestoreStateOfAllPreviouslySavedInterruptEnableBits();  // Preferably, this should be done in the USBCBWakeFromSuspend() function instead. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // RestoreIOPinsToNormal();                                // Preferably, this should be done in the USBCBWakeFromSuspend() function instead. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // IMPORTANT NOTE: Do not clear the USBActivityIF (ACTVIF) bit here.  This bit is  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // cleared inside the usb_device.c file.  Clearing USBActivityIF here will cause  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // things to not work as intended.                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(__C30__)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             USBSleepOnSuspend();                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008634   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBWakeFromSuspend(void)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        The host may put USB peripheral devices in low power         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  suspend mode (by "sending" 3+ms of idle).  Once in suspend   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  mode, the host may wake the device back up by sending non-   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  idle state signaling.                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  This call back is invoked when a wakeup from USB suspend     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  is detected.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBWakeFromSuspend(void)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // If clock switching or other power savings measures were taken when          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // executing the USBCBSuspend() function, now would be a good time to          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // switch back to normal full power run mode conditions.  The host allows      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // a few milliseconds of wakeup time, after which the device must be           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // fully back to normal, and capable of receiving and processing USB           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // packets.  In order to do this, the USB module must receive proper           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // clocking (IE: 48MHz clock must be available to SIE for full speed USB       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // operation).                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008636   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCB_SOF_Handler(void)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        The USB host sends out a SOF packet to full-speed            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  devices every 1 ms. This interrupt may be useful             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  for isochronous pipes. End designers should                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  implement callback routine as necessary.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCB_SOF_Handler(void)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // No need to clear UIRbits.SOFIF to 0 here.                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Callback caller is already doing that.                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008638   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*******************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBErrorHandler(void)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        The purpose of this callback is mainly for                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  debugging during development. Check UEIR to see              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  which error causes the interrupt.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBErrorHandler(void)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // No need to clear UEIR to 0 here.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Callback caller is already doing that.                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Typically, user firmware does not need to do anything special               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // if a USB error occurs.  For example, if the host sends an OUT               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // packet to your device, but the packet gets corrupted (ex:                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // because of a bad connection, or the user unplugs the                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // USB cable during the transmission) this will typically set                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // one or more USB error interrupt flags.  Nothing specific                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // needs to be done however, since the SIE will automatically                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // send a "NAK" packet to the host.  In response to this, the                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // host will normally retry to send the packet again, and no                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // data loss occurs.  The system will typically recover                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // automatically, without the need for application firmware                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // intervention.                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Nevertheless, this callback function is provided, such as                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // for debugging purposes.                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00863a   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*******************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBCheckOtherReq(void)                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        When SETUP packets arrive from the host, some                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  firmware must process the request and respond                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  appropriately to fulfill the request.  Some of               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  the SETUP packets will be for standard                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  USB "chapter 9" (as in, fulfilling chapter 9 of              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  the official USB specifications) requests, while             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  others may be specific to the USB device class               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  that is being implemented.  For example, a HID               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  class device needs to be able to respond to                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  "GET REPORT" type of requests.  This                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  is not a standard USB chapter 9 request, and                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  therefore not handled by usb_device.c.  Instead              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  this request should be handled by class specific             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  firmware, such as that contained in usb_function_hid.c.      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBCheckOtherReq(void)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00863c   ef7f     GOTO      0x7afe           USBCheckCDCRequest();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00863e   f03d                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*******************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBStdSetDscHandler(void)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        The USBCBStdSetDscHandler() callback function is             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  called when a SETUP, bRequest: SET_DESCRIPTOR request        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  arrives.  Typically SET_DESCRIPTOR requests are              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  not used in most applications, and it is                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  optional to support this type of request.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBStdSetDscHandler(void)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Must claim session ownership if supporting this request                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008640   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*******************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBInitEP(void)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        This function is called when the device becomes              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  initialized, which occurs after the host sends a             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  SET_CONFIGURATION (wValue not = 0) request.  This            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  callback function should initialize the endpoints            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  for the device's usage according to the current              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  configuration.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBInitEP(void)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008642   efcd     GOTO      0x7b9a           CDCInitEP();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008644   f03d                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBSendResume(void)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        The USB specifications allow some types of USB               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  peripheral devices to wake up a host PC (such                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  as if it is in a low power suspend to RAM state).            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  This can be a very useful feature in some                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  USB applications, such as an Infrared remote                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  control receiver.  If a user presses the "power"             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  button on a remote control, it is nice that the              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  IR receiver can detect this signaling, and then              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  send a USB "command" to the PC to wake up.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  The USBCBSendResume() "callback" function is used            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  to send this special USB signaling which wakes               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  up the PC.  This function may be called by                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  application firmware to wake up the PC.  This                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  function will only be able to wake up the host if            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  all of the below are true:                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  1.  The USB driver used on the host PC supports              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      the remote wakeup capability.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  2.  The USB configuration descriptor indicates               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      the device is remote wakeup capable in the               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      bmAttributes field.                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  3.  The USB host PC is currently sleeping,                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      and has previously sent your device a SET                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      FEATURE setup packet which "armed" the                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      remote wakeup capability.                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  If the host has not armed the device to perform remote wakeup, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  then this function will return without actually performing a D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  remote wakeup sequence.  This is the required behavior,      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  as a USB device that has not been armed to perform remote    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  wakeup must not drive remote wakeup signaling onto the bus;  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  doing so will cause USB compliance testing failure.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  This callback should send a RESUME signal that               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  has the period of 1-15ms.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            This function does nothing and returns quickly, if the USB   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  bus and host are not in a suspended condition, or are        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  otherwise not in a remote wakeup ready state.  Therefore, it D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  is safe to optionally call this function regularly, ex:      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  anytime application stimulus occurs, as the function will    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  have no effect, until the bus really is in a state ready     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  to accept remote wakeup.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  When this function executes, it may perform clock switching, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  depending upon the application specific code in              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  USBCBWakeFromSuspend().  This is needed, since the USB       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  bus will no longer be suspended by the time this function    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  returns.  Therefore, the USB module will need to be ready    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  to receive traffic from the host.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  The modifiable section in this routine may be changed        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  to meet the application needs. Current implementation        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  temporary blocks other functions from executing for a        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  period of ~3-15 ms depending on the core frequency.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  According to USB 2.0 specification section 7.1.7.7,          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  "The remote wakeup device must hold the resume signaling     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  for at least 1 ms but for no more than 15 ms."               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  The idea here is to use a delay counter loop, using a        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  common value that would work over a wide range of core       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  frequencies.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  That value selected is 1800. See table below:                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  ==========================================================   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  Core Freq(MHz)      MIP         RESUME Signal Period (ms)    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  ==========================================================   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      48              12          1.05                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                       4              1           12.6                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  ==========================================================   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  * These timing could be incorrect when using code            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                    optimization or extended instruction mode,                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                    or when having other interrupts enabled.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                    Make sure to verify using the MPLAB SIM's Stopwatch        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                    and verify the actual signal on an oscilloscope.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBSendResume(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             static WORD delay_count;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // First verify that the host has armed us to perform remote wakeup.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // It does this by sending a SET_FEATURE request to enable remote wakeup,      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // usually just before the host goes to standby mode (note: it will only       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // send this SET_FEATURE request if the configuration descriptor declares      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // the device as remote wakeup capable, AND, if the feature is enabled         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // on the host (ex: on Windows based hosts, in the device manager              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // properties page for the USB device, power management tab, the               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // "Allow this device to bring the computer out of standby." check box         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // should be checked).                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008646   0105     MOVLB     0x5              if (USBGetRemoteWakeupStatus() == TRUE)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008648   05df     DECF      0xdf,0x0,0x1                                                                                    
00864a   e11e     BNZ       0x8688                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               // Verify that the USB bus is in fact suspended, before we send              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               // remote wakeup signaling.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00864c   0105     MOVLB     0x5                if (USBIsBusSuspended() == TRUE)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00864e   05e0     DECF      0xe0,0x0,0x1                                                                                    
008650   e11b     BNZ       0x8688                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 USBMaskInterrupts();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // Clock switch to settings consistent with normal USB operation.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008652   dff1     RCALL     0x8636               USBCBWakeFromSuspend();                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008654   9265     BCF       0x65,0x1,0x0         USBSuspendControl = 0;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008656   0105     MOVLB     0x5                  USBBusIsSuspended = FALSE;  // So we don't execute this code again,        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008658   6be0     CLRF      0xe0,0x1                                                                                        
                                                                             // until a new suspend condition is detected.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // Section 7.1.7.7 of the USB 2.0 specifications indicates a USB           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // device must continuously see 5ms+ of idle on the bus, before it sends   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // remote wakeup signaling.  One way to be certain that this parameter     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // gets met, is to add a 2ms+ blocking delay here (2ms plus at             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // least 3ms from bus idle to USBIsBusSuspended() == TRUE, yields          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // 5ms+ total delay since start of idle).                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00865a   0102     MOVLB     0x2                  delay_count = 3600U;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00865c   0e10     MOVLW     0x10                                                                                            
00865e   6ffe     MOVWF     0xfe,0x1                                                                                        
008660   0e0e     MOVLW     0xe                                                                                             
008662   6fff     MOVWF     0xff,0x1                                                                                        
                                                 do                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008664   07fe     DECF      0xfe,0x1,0x1           delay_count--;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008666   0e00     MOVLW     0x0                                                                                             
008668   5bff     SUBWFB    0xff,0x1,0x1                                                                                    
00866a   51fe     MOVF      0xfe,0x0,0x1         }while(delay_count);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00866c   11ff     IORWF     0xff,0x0,0x1                                                                                    
00866e   e1fa     BNZ       0x8664                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // Now drive the resume K-state signaling onto the USB bus.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008670   8465     BSF       0x65,0x2,0x0         USBResumeControl = 1;       // Start RESUME signaling                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008672   0e08     MOVLW     0x8                  delay_count = 1800U;        // Set RESUME line for 1-13 ms                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008674   6ffe     MOVWF     0xfe,0x1                                                                                        
008676   0e07     MOVLW     0x7                                                                                             
008678   6fff     MOVWF     0xff,0x1                                                                                        
                                                 do                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00867a   07fe     DECF      0xfe,0x1,0x1           delay_count--;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00867c   0e00     MOVLW     0x0                                                                                             
00867e   5bff     SUBWFB    0xff,0x1,0x1                                                                                    
008680   51fe     MOVF      0xfe,0x0,0x1         }while(delay_count);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008682   11ff     IORWF     0xff,0x0,0x1                                                                                    
008684   e1fa     BNZ       0x867a                                                                                          
008686   9465     BCF       0x65,0x2,0x0         USBResumeControl = 0;       // Finished driving resume signaling           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 USBUnmaskInterrupts();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008688   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*******************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBEP0DataReceived(void)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    ENABLE_EP0_DATA_RECEIVED_CALLBACK must be                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  defined already (in usb_config.h)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        This function is called whenever a EP0 data                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  packet is received.  This gives the user (and                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  thus the various class examples a way to get                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  data that is received via the control endpoint.              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  This function needs to be used in conjunction                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  with the USBCBCheckOtherReq() function since                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  the USBCBCheckOtherReq() function is the application's       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  method for getting the initial control transfer              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  before the data arrives.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(ENABLE_EP0_DATA_RECEIVED_CALLBACK)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBEP0DataReceived(void)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*******************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        BOOL USER_USB_CALLBACK_EVENT_HANDLER(                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                        USB_EVENT event, void *pdata, WORD size)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           USB_EVENT event - the type of event                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  void *pdata - pointer to the event data                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  WORD size - size of the event data                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        This function is called from the USB stack to                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  notify a user application that a USB event                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  occurred.  This callback is in interrupt context             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  when the USB_INTERRUPT option is selected.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00868a   cfd9     MOVFF     0xfd9,0xfe6    BOOL USER_USB_CALLBACK_EVENT_HANDLER(USB_EVENT event, void *pdata, WORD size)    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00868c   ffe6                                                                                                               
00868e   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
008690   ffd9                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008692   0efd     MOVLW     0xfd             switch(event)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008694   cfdb     MOVFF     0xfdb,0x42                                                                                      
008696   f042                                                                                                               
008698   0efe     MOVLW     0xfe                                                                                            
00869a   cfdb     MOVFF     0xfdb,0x43                                                                                      
00869c   f043                                                                                                               
00869e   0e05     MOVLW     0x5                                                                                             
0086a0   1842     XORWF     0x42,0x0,0x0                                                                                    
0086a2   e101     BNZ       0x86a6                                                                                          
0086a4   5043     MOVF      0x43,0x0,0x0                                                                                    
0086a6   e036     BZ        0x8714                                                                                          
0086a8   68e8     SETF      0xe8,0x0                                                                                        
0086aa   1842     XORWF     0x42,0x0,0x0                                                                                    
0086ac   e102     BNZ       0x86b2                                                                                          
0086ae   0e7f     MOVLW     0x7f                                                                                            
0086b0   1843     XORWF     0x43,0x0,0x0                                                                                    
0086b2   e02f     BZ        0x8712                                                                                          
0086b4   0e03     MOVLW     0x3                                                                                             
0086b6   1842     XORWF     0x42,0x0,0x0                                                                                    
0086b8   e101     BNZ       0x86bc                                                                                          
0086ba   5043     MOVF      0x43,0x0,0x0                                                                                    
0086bc   e028     BZ        0x870e                                                                                          
0086be   0e02     MOVLW     0x2                                                                                             
0086c0   1842     XORWF     0x42,0x0,0x0                                                                                    
0086c2   e101     BNZ       0x86c6                                                                                          
0086c4   5043     MOVF      0x43,0x0,0x0                                                                                    
0086c6   e021     BZ        0x870a                                                                                          
0086c8   0e01     MOVLW     0x1                                                                                             
0086ca   1842     XORWF     0x42,0x0,0x0                                                                                    
0086cc   e101     BNZ       0x86d0                                                                                          
0086ce   5043     MOVF      0x43,0x0,0x0                                                                                    
0086d0   e01a     BZ        0x8706                                                                                          
0086d2   0e74     MOVLW     0x74                                                                                            
0086d4   1842     XORWF     0x42,0x0,0x0                                                                                    
0086d6   e101     BNZ       0x86da                                                                                          
0086d8   5043     MOVF      0x43,0x0,0x0                                                                                    
0086da   e013     BZ        0x8702                                                                                          
0086dc   0e75     MOVLW     0x75                                                                                            
0086de   1842     XORWF     0x42,0x0,0x0                                                                                    
0086e0   e101     BNZ       0x86e4                                                                                          
0086e2   5043     MOVF      0x43,0x0,0x0                                                                                    
0086e4   e00c     BZ        0x86fe                                                                                          
0086e6   0e73     MOVLW     0x73                                                                                            
0086e8   1842     XORWF     0x42,0x0,0x0                                                                                    
0086ea   e101     BNZ       0x86ee                                                                                          
0086ec   5043     MOVF      0x43,0x0,0x0                                                                                    
0086ee   e005     BZ        0x86fa                                                                                          
0086f0   0e72     MOVLW     0x72                                                                                            
0086f2   1842     XORWF     0x42,0x0,0x0                                                                                    
0086f4   e10f     BNZ       0x8714                                                                                          
0086f6   5043     MOVF      0x43,0x0,0x0                                                                                    
0086f8   d00d     BRA       0x8714                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_TRANSFER:                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // Add application specific callback task or callback function here if desired. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_SOF:                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0086fa   df9e     RCALL     0x8638               USBCB_SOF_Handler();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0086fc   d00b     BRA       0x8714               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_SUSPEND:                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0086fe   df9a     RCALL     0x8634               USBCBSuspend();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008700   d009     BRA       0x8714               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_RESUME:                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008702   df99     RCALL     0x8636               USBCBWakeFromSuspend();                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008704   d007     BRA       0x8714               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_CONFIGURED:                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008706   df9d     RCALL     0x8642               USBCBInitEP();                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008708   d005     BRA       0x8714               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_SET_DESCRIPTOR:                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00870a   df9a     RCALL     0x8640               USBCBStdSetDscHandler();                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00870c   d003     BRA       0x8714               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_EP0_REQUEST:                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00870e   df96     RCALL     0x863c               USBCBCheckOtherReq();                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008710   d001     BRA       0x8714               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_BUS_ERROR:                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008712   df93     RCALL     0x863a               USBCBErrorHandler();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_TRANSFER_TERMINATED:                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // Add application specific callback task or callback function here if desired. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // The EVENT_TRANSFER_TERMINATED event occurs when the host performs a CLEAR D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // FEATURE (endpoint halt) request on an application endpoint which was    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // previously armed (UOWN was = 1).  Here would be a good place to:        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // 1.  Determine which endpoint the transaction that just got terminated was  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 //     on, by checking the handle value in the *pdata.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // 2.  Re-arm the endpoint if desired (typically would be the case for OUT  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 //     endpoints).                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               default:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008714   0e01     MOVLW     0x1              return TRUE;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008716   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008718   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00871a   ffd9                                                                                                               
00871c   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** EOF main.c ***************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                EiBotBoard Firmware                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * FileName:        RCServo2.c                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Company:         Schmalz Haus LLC                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Author:          Brian Schmalz                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Based on original files by Microchip Inc. in MAL USB example.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Software License Agreement                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Copyright (c) 2014-2023, Brian Schmalz of Schmalz Haus LLC                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * All rights reserved.                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Redistribution and use in source and binary forms, with or                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * without modification, are permitted provided that the following               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * conditions are met:                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * 1. Redistributions of source code must retain the above                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * disclaimer.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * 2. Redistributions in binary form must reproduce the above                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * disclaimer in the documentation and/or other materials                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * provided with the distribution.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * 3. Neither the name of the copyright holder nor the names of                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * its contributors may be used to endorse or promote products                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * derived from this software without specific prior written                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * permission.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * SUCH DAMAGE.                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            */                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           /*                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * This module implements the RC Servo outputs, method 2                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Started by Brian Schmalz (www.schmalzhaus.com) on 8/22/09                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * For the Egg Bot Firmware                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * There are several parts of this file. It is written in a modular              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * way to ease incorporation into different UBW (www.schmalzhaus.com/UBW)        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * hardware builds. Because we don't want to have any function calls in the ISR, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * the part of the ISR that this module contributes is implemented as a big      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * macro. There is a section for the API calls (for other modules) to turn       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * on/off RC method 2 and to set values and configure outputs. Then there is the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * user command section that handles parsing user input. This module (the .c and D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * .h files) should be able to be dropped into any UBW firmware that is 'module  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * aware' with minimal changes. There is also an init section that gets called   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * on bootup.                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * MODULE THEORY                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * The idea is that we want to generate between zero and eight RC servo outputs.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * We want a maximum of resolution in their timing, and a minimum of CPU and ISR D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * overhead. We want maximum flexibility with respect to which pins receive the  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * output pulses. This 'method 2' only works with PICs that have the PPS         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * (Peripheral Pin Select) hardware. Using this method, we will be able to       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * generate servo output pulses (positive going) on up to eight output pins      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * (selectable using PPS), with times from 0ms to 3ms, at a repetition rate of   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * 24ms. The resolution of the pulse will be 83ns (Fosc/4). So a value of 0 will D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * represent 0ms pulse, and 36000 will represent 3ms.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * On UBW firmware, TIMER1 generates an interrupt every 1ms. This interrupt is   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * used to schedule the four RC servo outputs. Every 3 fires of this ISR, we     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * check to see if we need to set the next RC output pin. If so, we select the   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * proper pin using the PPS, set it high, record what state we are now in, and   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * then set up TMR3 and ECCP2 to fire after X 83ns ticks of TMR3. ECCP2 will     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * wait until TMR3 fires, then will set the output pin low. This method allows   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * us to choose any of the PPS pins as outputs, and only requires CPU time every D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * 3 ms to start off the pulses.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * As of version 2.2.0, we have changed the way that the S2 command works.       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Under the hood, ALL servo commands are now handled by the motion engine       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * ISR. This means that the S2 command now simply fills in a data structure      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * and puts it in the motion queue. The motion engine ISR pulls it off the       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * queue and then 'executes' the command. (All it does there is transfer the     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * proper values to the data structures that the actual RC servo ISR uses to     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * update the various output pins for each servo pulse.) But the key here is     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * that the S2 command no longer takes effect immediately - RC servo commands    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * are now handled in the same way that SM commands are handled. Which means     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * they can be queued up and delays added, etc.                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * The other effect of this change is that the normal SP pen up/pen down         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * commands are now just normal S2 commands in disguise.                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            */                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include <p18cxxx.h>                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include <ctype.h>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "GenericTypeDefs.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "Compiler.h"                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "ebb.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "UBW.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "RCServo2.h"                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "HardwareProfile.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "ebb.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #pragma udata RC2Servo_globals = 0x060                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Counts from 0 to gRC2SlotMS                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT8  gRC2msCounter;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Current RC servo position in 83uS units for each channel                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 gRC2Value[MAX_RC2_SERVOS];                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // RPn pin associated with this channel                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT8  gRC2RPn[MAX_RC2_SERVOS];                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Target position for this channel in 83uS units                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 gRC2Target[MAX_RC2_SERVOS];                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Amount of change from Value to Target each 24ms                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 gRC2Rate[MAX_RC2_SERVOS];                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT8  gRC2Ptr;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // How many RC servos can we currently simultaneously service (default 8)        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT8  gRC2Slots;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // How many 1ms ISR ticks before switching to the next channel (default 3)       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT8  gRC2SlotMS;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Pointer into PPS output registers                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           far ram UINT8 * gRC2RPORPtr;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // These are the min, max, up rate, down rate, and RPn for the Pen Servo         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // They can be changed by using SC,x commands.                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 g_servo2_max;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 g_servo2_min;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 g_servo2_rate_up;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 g_servo2_rate_down;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT8  g_servo2_RPn;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           /*                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           The idea with RCServo2 is to use the ECCP2 module and timer 3.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           We divide time into 24ms periods. Inside each 24ms period, we                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           can fire up to 8 RC servo's pulses (slots). Each pulse can be between            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           0ms and 3ms long, controlled entirely by the ECCP2 hardware,                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           so there is no jitter in the high time of the pulse.                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           We want to go from 0ms to 3ms so we can accommodate RC servos                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           who need really short or really long pulses to reach the                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           physical extremes of its motion.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           This RCServo2 method will only be available on the 18F45J50 based                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           EggBotBoards, because it requires the PPS (peripheral pin select)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           facility to be possible.                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           Timer3 will be configured to clock at Fosc/4 = 12MHz.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           At this rate, a 1ms high pulse would need a CCPR2 value of 12,000.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           Variables:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           gRC2msCounter - counts from 0 to 2, in ms, to know when to fire each servo       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           gRC2Ptr - index into gRC2Value and gRC2Pin arrays = next RC servo to fire        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           gRC2Value - uint array of values (times) to load into Timer3                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           gRC2Pin - what PPS pin is affected by this RC servo slot.                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           gRC2RPORPtr - a RAM pointer into the RPORxx register                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           If a slot's gRC2Value[] = 0, then that slot is disabled and its pin will be low. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           The value in gRC2Pin is the PPS RPx pin number that this slot controls           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           /*                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Module Init Function                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Put a call to this function inside the UserInit() call in UBW.c               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            */                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007706   d9da     RCALL     0x7abc         void RCServo2_Init(void)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007708   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             unsigned char i;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00770a   0100     MOVLB     0x0              gRC2msCounter = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00770c   6b60     CLRF      0x60,0x1                                                                                        
00770e   6b7d     CLRF      0x7d,0x1         gRC2Ptr = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007710   6adf     CLRF      0xdf,0x0         for (i=0; i < MAX_RC2_SERVOS; i++)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007712   0e04     MOVLW     0x4                                                                                             
007714   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
007716   e214     BC        0x7740                                                                                          
00773c   2adf     INCF      0xdf,0x1,0x0                                                                                    
00773e   d7e9     BRA       0x7712                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007718   d9cb     RCALL     0x7ab0             gRC2Value[i] = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00771a   0e61     MOVLW     0x61                                                                                            
00771c   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00771e   0e00     MOVLW     0x0                                                                                             
007720   d9d6     RCALL     0x7ace                                                                                          
007722   50df     MOVF      0xdf,0x0,0x0       gRC2RPn[i] = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007724   d9ba     RCALL     0x7a9a                                                                                          
007726   6aef     CLRF      0xef,0x0                                                                                        
007728   d9c3     RCALL     0x7ab0             gRC2Target[i] = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00772a   0e6d     MOVLW     0x6d                                                                                            
00772c   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00772e   0e00     MOVLW     0x0                                                                                             
007730   d9ce     RCALL     0x7ace                                                                                          
007732   d9be     RCALL     0x7ab0             gRC2Rate[i] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007734   0e75     MOVLW     0x75                                                                                            
007736   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007738   0e00     MOVLW     0x0                                                                                             
00773a   d9c9     RCALL     0x7ace                                                                                          
007ab0   6aea     CLRF      0xea,0x0                                                                                        
007ab2   34df     RLCF      0xdf,0x0,0x0                                                                                    
007ab4   0bfe     ANDLW     0xfe                                                                                            
007ab6   36ea     RLCF      0xea,0x1,0x0                                                                                    
007ab8   6ee9     MOVWF     0xe9,0x0                                                                                        
007aba   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Initialize the RPOR pointer                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007740   0100     MOVLB     0x0              gRC2RPORPtr = &RPOR0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007742   0ec6     MOVLW     0xc6                                                                                            
007744   6f80     MOVWF     0x80,0x1                                                                                        
007746   0e0e     MOVLW     0xe                                                                                             
007748   6f81     MOVWF     0x81,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Set up TIMER3                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00774a   0e3f     MOVLW     0x3f             T3CONbits.TMR3CS = 0b00;        // Use Fosc/4 as input                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00774c   1479     ANDWF     0x79,0x0,0x0                                                                                    
00774e   0900     IORLW     0x0                                                                                             
007750   6e79     MOVWF     0x79,0x0                                                                                        
007752   0ecf     MOVLW     0xcf             T3CONbits.T3CKPS = 0b00;        // Prescale is 1:1                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007754   1479     ANDWF     0x79,0x0,0x0                                                                                    
007756   0900     IORLW     0x0                                                                                             
007758   6e79     MOVWF     0x79,0x0                                                                                        
00775a   8279     BSF       0x79,0x1,0x0     T3CONbits.RD16 = 1;             // Enable 16 bit mode                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00775c   6a7b     CLRF      0x7b,0x0         TMR3H = 0;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00775e   6a7a     CLRF      0x7a,0x0         TMR3L = 0;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007760   9079     BCF       0x79,0x0,0x0     T3CONbits.TMR3ON = 0;           // Keep timer off for now                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007762   010f     MOVLB     0xf              TCLKCONbits.T3CCP1 = 1;         // ECCP1 uses Timer1/2 and ECCP2 uses Timer3/4 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007764   8152     BSF       0x52,0x0,0x1                                                                                    
007766   9352     BCF       0x52,0x1,0x1     TCLKCONbits.T3CCP2 = 0;         // ECCP1 uses Timer1/2 and ECCP2 uses Timer3/4 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007768   0ef0     MOVLW     0xf0             CCP2CONbits.CCP2M = 0b1001;     // Set EECP2 as compare, clear output on match D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00776a   14b4     ANDWF     0xb4,0x0,0x0                                                                                    
00776c   0909     IORLW     0x9                                                                                             
00776e   6eb4     MOVWF     0xb4,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // We start out with 8 slots because that is good for RC servos (3ms * 8 = 24ms) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007770   0100     MOVLB     0x0              gRC2Slots = INITAL_RC2_SLOTS;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007772   0e04     MOVLW     0x4                                                                                             
007774   6f7e     MOVWF     0x7e,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // We start out with 3ms slot duration because it's good for RC servos         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007776   0e03     MOVLW     0x3              gRC2SlotMS = 3;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007778   6f7f     MOVWF     0x7f,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Start with some reasonable default values for min and max                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00777a   0ec6     MOVLW     0xc6             g_servo2_max = 15302;           // max = down (SC,5,15302)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00777c   6f82     MOVWF     0x82,0x1                                                                                        
00777e   0e3b     MOVLW     0x3b                                                                                            
007780   6f83     MOVWF     0x83,0x1                                                                                        
007782   0e25     MOVLW     0x25             g_servo2_min = 22565;           // min = up (SC,4,22565)                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007784   6f84     MOVWF     0x84,0x1                                                                                        
007786   0e58     MOVLW     0x58                                                                                            
007788   6f85     MOVWF     0x85,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00778a   0e04     MOVLW     0x4              g_servo2_RPn = DEFAULT_EBB_SERVO_RPN;   // Always start out with RP4 as the output (just for this test version of code) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00778c   6f8a     MOVWF     0x8a,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00778e   0e90     MOVLW     0x90             g_servo2_rate_up = 400;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007790   6f86     MOVWF     0x86,0x1                                                                                        
007792   0e01     MOVLW     0x1                                                                                             
007794   6f87     MOVWF     0x87,0x1                                                                                        
007796   0e90     MOVLW     0x90             g_servo2_rate_down = 400;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007798   6f88     MOVWF     0x88,0x1                                                                                        
00779a   0e01     MOVLW     0x1                                                                                             
00779c   6f89     MOVWF     0x89,0x1                                                                                        
00779e   0e00     MOVLW     0x0              process_SP(PEN_UP, 0);          // Start servo up                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0077a0   6ee6     MOVWF     0xe6,0x0                                                                                        
0077a2   6ae6     CLRF      0xe6,0x0                                                                                        
0077a4   0e01     MOVLW     0x1                                                                                             
0077a6   6ee6     MOVWF     0xe6,0x0                                                                                        
0077a8   ec39     CALL      0x5672,0x0                                                                                      
0077aa   f02b                                                                                                               
0077ac   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0077ae   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0077b0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0077b2   9689     BCF       0x89,0x3,0x0     RCServoPowerIO = RCSERVO_POWER_OFF;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0077b4   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0077b6   d187     BRA       0x7ac6                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Return the current channel that is associated with the PPS output pin         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // RPn. If there is no channel yet assigned for this RPn, then pick the          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // next available one. If there are none available, then return channel 0        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // (which is considered an error.)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Remember, channels are from 1 through 8 (Normally - can be increased with     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // SC,8 command). Channel 0 is the 'error' channel.                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0077b8   d981     RCALL     0x7abc         UINT8 RCServo2_get_channel_from_RPn(UINT8 RPn)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0077ba   52e6     MOVF      0xe6,0x1,0x0                                                                                    
007abc   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
007abe   ffe6                                                                                                               
007ac0   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
007ac2   ffd9                                                                                                               
007ac4   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Search through the existing channels, and see if our RPn is there           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0077bc   6adf     CLRF      0xdf,0x0         for (i=0; i < MAX_RC2_SERVOS; i++)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0077be   0e04     MOVLW     0x4                                                                                             
0077c0   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0077c2   e20a     BC        0x77d8                                                                                          
0077d4   2adf     INCF      0xdf,0x1,0x0                                                                                    
0077d6   d7f3     BRA       0x77be                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0077c4   50df     MOVF      0xdf,0x0,0x0       if (gRC2RPn[i] == RPn)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0077c6   d969     RCALL     0x7a9a                                                                                          
0077c8   cfef     MOVFF     0xfef,0x4e                                                                                      
0077ca   f04e                                                                                                               
0077cc   0efe     MOVLW     0xfe                                                                                            
0077ce   50db     MOVF      0xdb,0x0,0x0                                                                                    
0077d0   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
0077d2   e00a     BZ        0x77e8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // Found it! Return the channel number                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 return (i + 1);                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // We have not found it, so we need to allocate a new channel for this RPn     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0077d8   6adf     CLRF      0xdf,0x0         for (i=0; i < MAX_RC2_SERVOS; i++)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0077da   0e04     MOVLW     0x4                                                                                             
0077dc   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0077de   e208     BC        0x77f0                                                                                          
0077ec   2adf     INCF      0xdf,0x1,0x0                                                                                    
0077ee   d7f5     BRA       0x77da                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0077e0   50df     MOVF      0xdf,0x0,0x0       if (gRC2RPn[i] == 0u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0077e2   d95b     RCALL     0x7a9a                                                                                          
0077e4   50ef     MOVF      0xef,0x0,0x0                                                                                    
0077e6   e102     BNZ       0x77ec                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // Found one that's free! Return the channel number                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0077e8   28df     INCF      0xdf,0x0,0x0         return (i + 1u);                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0077ea   d003     BRA       0x77f2                                                                                          
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // We do not have room for another channel, so return an error                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0077f0   0e00     MOVLW     0x0              return 0;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0077f2   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0077f4   d168     BRA       0x7ac6                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Servo method 2 enable command                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // S2,<duration>,<output_pin>,<rate>,<delay><CR>                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //  will set RC output <channel> for <duration> on output pin <output_pin>       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //  <duration> can be 0 (output off) to 32,000 (3ms on time)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      (a 0 for <duration> de-allocates the channel for this output_pin)        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //  <output_pin> is an RPn pin number (0 through 24)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //  <rate> is the rate to change (optional, defaults to 0 = instant)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //  <delay> is the number of milliseconds to delay the start of the next command D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      (optional, defaults to 0 = instant)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0077f6   d962     RCALL     0x7abc         void RCServo2_S2_command (void)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0077f8   0e07     MOVLW     0x7                                                                                             
0077fa   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0077fc   6ade     CLRF      0xde,0x0         UINT16 Duration = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0077fe   6add     CLRF      0xdd,0x0                                                                                        
007800   0e02     MOVLW     0x2              UINT8 Pin = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007802   6adb     CLRF      0xdb,0x0                                                                                        
007804   0e03     MOVLW     0x3              UINT16 Rate = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007806   6adb     CLRF      0xdb,0x0                                                                                        
007808   0e04     MOVLW     0x4                                                                                             
00780a   6adb     CLRF      0xdb,0x0                                                                                        
00780c   0e05     MOVLW     0x5              UINT16 Delay = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00780e   6adb     CLRF      0xdb,0x0                                                                                        
007810   0e06     MOVLW     0x6                                                                                             
007812   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007814   0e01     MOVLW     0x1              extract_number (kUINT, &Duration, kOPTIONAL);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007816   6ee6     MOVWF     0xe6,0x0                                                                                        
007818   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
00781a   ffe6                                                                                                               
00781c   cfda     MOVFF     0xfda,0xfe6                                                                                     
00781e   ffe6                                                                                                               
007820   0e03     MOVLW     0x3                                                                                             
007822   d92e     RCALL     0x7a80                                                                                          
007824   0f02     ADDLW     0x2              extract_number (kUCHAR, &Pin, kOPTIONAL);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007826   d957     RCALL     0x7ad6                                                                                          
007828   0e01     MOVLW     0x1                                                                                             
00782a   d92a     RCALL     0x7a80                                                                                          
00782c   0f03     ADDLW     0x3              extract_number (kUINT, &Rate, kOPTIONAL);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00782e   d953     RCALL     0x7ad6                                                                                          
007830   0e03     MOVLW     0x3                                                                                             
007832   d926     RCALL     0x7a80                                                                                          
007a80   d82f     RCALL     0x7ae0                                                                                          
007834   0f05     ADDLW     0x5              extract_number (kUINT, &Delay, kOPTIONAL);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007836   d94f     RCALL     0x7ad6                                                                                          
007838   0e03     MOVLW     0x3                                                                                             
00783a   d952     RCALL     0x7ae0                                                                                          
007a82   0e01     MOVLW     0x1                                                                                             
007a84   6ee6     MOVWF     0xe6,0x0                                                                                        
007a86   50d9     MOVF      0xd9,0x0,0x0                                                                                    
007a88   0012     RETURN    0x0                                                                                             
007ad6   6ee6     MOVWF     0xe6,0x0                                                                                        
007ad8   0e00     MOVLW     0x0                                                                                             
007ada   20da     ADDWFC    0xda,0x0,0x0                                                                                    
007adc   6ee6     MOVWF     0xe6,0x0                                                                                        
007ade   0012     RETURN    0x0                                                                                             
007ae0   6ee6     MOVWF     0xe6,0x0                                                                                        
007ae2   ecb9     CALL      0x3172,0x0                                                                                      
007ae4   f018                                                                                                               
007ae6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007ae8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007aea   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007aec   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007aee   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00783c   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00783e   6ae6     CLRF      0xe6,0x0                                                                                        
007840   ec92     CALL      0x1f24,0x0                                                                                      
007842   f00f                                                                                                               
007844   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007846   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007848   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00784a   5197     MOVF      0x97,0x0,0x1                                                                                    
00784c   e122     BNZ       0x7892                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00784e   0e02     MOVLW     0x2              if (Pin > 24u)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007850   50db     MOVF      0xdb,0x0,0x0                                                                                    
007852   0818     SUBLW     0x18                                                                                            
007854   e202     BC        0x785a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007856   8d97     BSF       0x97,0x6,0x1       bitset (error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007858   d01c     BRA       0x7892             return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00785a   0e05     MOVLW     0x5              RCServo2_Move(Duration, Pin, Rate, Delay);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00785c   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
00785e   ffe6                                                                                                               
007860   0e06     MOVLW     0x6                                                                                             
007862   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
007864   ffe6                                                                                                               
007866   0e03     MOVLW     0x3                                                                                             
007868   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
00786a   ffe6                                                                                                               
00786c   0e04     MOVLW     0x4                                                                                             
00786e   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
007870   ffe6                                                                                                               
007872   0e02     MOVLW     0x2                                                                                             
007874   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
007876   ffe6                                                                                                               
007878   cfde     MOVFF     0xfde,0xfe6                                                                                     
00787a   ffe6                                                                                                               
00787c   cfdd     MOVFF     0xfdd,0xfe6                                                                                     
00787e   ffe6                                                                                                               
007880   d80f     RCALL     0x78a0                                                                                          
007882   6e4e     MOVWF     0x4e,0x0                                                                                        
007884   0e07     MOVLW     0x7                                                                                             
007886   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
007888   504e     MOVF      0x4e,0x0,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00788a   6ae6     CLRF      0xe6,0x0         print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00788c   ecb0     CALL      0x1f60,0x0                                                                                      
00788e   f00f                                                                                                               
007890   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007892   0e07     MOVLW     0x7            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007894   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
007896   e202     BC        0x789c                                                                                          
007898   6ae1     CLRF      0xe1,0x0                                                                                        
00789a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00789c   6ee1     MOVWF     0xe1,0x0                                                                                        
00789e   d113     BRA       0x7ac6                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Function to set up an RC Servo move. Takes Duration, RPn, and Rate            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // and adds them to the motion control fifo.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // <Position> is the new target position for the servo, in 83uS units. So        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      32,000 is 3ms. To turn off a servo output, use 0 for Duration.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // <RPn> is the PPS RP# number for the pin that you want to use as the output    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      (See schematic for a list of each RPn number for each GPIO pin.)         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // <Rate> is how quickly to move to the new position. Use 0 for instant change.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      Unit is 83uS of pulse width change every 24ms of time.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // <Delay> is how many milliseconds after this command is excuted before the     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      next command in the motion control FIFO is executed. 0 will run the next D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      command immediatly.                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // This function will allocate a new channel for RPn if the pin is not already   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // assigned to a channel. It will return the channel number used when it         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // returns. If you send in 0 for Duration, the channel for RPn will be de-       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // allocated.                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Another thing we do here is to make sure that the proper pin is an output,    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // And, if this is the first time we're starting up the channel, make sure that  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // it starts out low.                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078a0   d90d     RCALL     0x7abc         UINT8 RCServo2_Move(                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078a2   0e02     MOVLW     0x2                                                                                             
0078a4   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                             UINT16 Position,                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             UINT8  RPn,                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             UINT16 Rate,                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             UINT16 Delay                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           )                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             UINT8 Channel;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Get the channel that's already assigned to the RPn, or assign a new one     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // if possible. If this returns zero, then do nothing as we're out of          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // channels.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078a6   0efc     MOVLW     0xfc             Channel = RCServo2_get_channel_from_RPn(RPn);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078a8   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0078aa   ffe6                                                                                                               
0078ac   df85     RCALL     0x77b8                                                                                          
0078ae   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0078b0   6ee7     MOVWF     0xe7,0x0                                                                                        
0078b2   0e01     MOVLW     0x1                                                                                             
0078b4   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0078b6   ffdb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Error out if there were no available channels left                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078b8   50db     MOVF      0xdb,0x0,0x0     if (Channel == 0u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078ba   e102     BNZ       0x78c0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078bc   0e00     MOVLW     0x0                return 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078be   d0d2     BRA       0x7a64                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // If Duration is zero, then caller wants to shut down this channel            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078c0   50d9     MOVF      0xd9,0x0,0x0     if (0u == Position)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078c2   0ffd     ADDLW     0xfd                                                                                            
0078c4   6ee9     MOVWF     0xe9,0x0                                                                                        
0078c6   0eff     MOVLW     0xff                                                                                            
0078c8   20da     ADDWFC    0xda,0x0,0x0                                                                                    
0078ca   6eea     MOVWF     0xea,0x0                                                                                        
0078cc   50ee     MOVF      0xee,0x0,0x0                                                                                    
0078ce   10ed     IORWF     0xed,0x0,0x0                                                                                    
0078d0   e11f     BNZ       0x7910                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                               // Turn off the PPS routing to the pin                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078d2   0e01     MOVLW     0x1                *(gRC2RPORPtr + gRC2RPn[Channel - 1]) = 0;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078d4   04db     DECF      0xdb,0x0,0x0                                                                                    
0078d6   d8e1     RCALL     0x7a9a                                                                                          
0078d8   50ef     MOVF      0xef,0x0,0x0                                                                                    
0078da   0100     MOVLB     0x0                                                                                             
0078dc   6aea     CLRF      0xea,0x0                                                                                        
0078de   2580     ADDWF     0x80,0x0,0x1                                                                                    
0078e0   6ee9     MOVWF     0xe9,0x0                                                                                        
0078e2   5181     MOVF      0x81,0x0,0x1                                                                                    
0078e4   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0078e6   6aef     CLRF      0xef,0x0                                                                                        
0078e8   d8d0     RCALL     0x7a8a             gRC2Rate[Channel - 1] = 0;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078ea   0e75     MOVLW     0x75                                                                                            
0078ec   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0078ee   0e00     MOVLW     0x0                                                                                             
0078f0   d8ee     RCALL     0x7ace                                                                                          
0078f2   d8cb     RCALL     0x7a8a             gRC2Target[Channel - 1] = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078f4   0e6d     MOVLW     0x6d                                                                                            
0078f6   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0078f8   0e00     MOVLW     0x0                                                                                             
0078fa   d8e9     RCALL     0x7ace                                                                                          
0078fc   0e01     MOVLW     0x1                gRC2RPn[Channel - 1] = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078fe   04db     DECF      0xdb,0x0,0x0                                                                                    
007900   d8cc     RCALL     0x7a9a                                                                                          
007902   6aef     CLRF      0xef,0x0                                                                                        
007a9a   6aea     CLRF      0xea,0x0                                                                                        
007a9c   0f69     ADDLW     0x69                                                                                            
007a9e   6ee9     MOVWF     0xe9,0x0                                                                                        
007aa0   0e00     MOVLW     0x0                                                                                             
007aa2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007aa4   0012     RETURN    0x0                                                                                             
007904   d8c2     RCALL     0x7a8a             gRC2Value[Channel - 1] = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007906   0e61     MOVLW     0x61                                                                                            
007908   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00790a   0e00     MOVLW     0x0                                                                                             
00790c   d8e0     RCALL     0x7ace                                                                                          
007ace   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007ad0   6aee     CLRF      0xee,0x0                                                                                        
007ad2   6aed     CLRF      0xed,0x0                                                                                        
007ad4   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00790e   d0a8     BRA       0x7a60           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                               // If we have a valid channel, and RPn, then make the move                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007910   0e01     MOVLW     0x1                if ((Channel - 1) < gRC2Slots && RPn <= 24u)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007912   04db     DECF      0xdb,0x0,0x0                                                                                    
007914   6e4e     MOVWF     0x4e,0x0                                                                                        
007916   0100     MOVLB     0x0                                                                                             
007918   517e     MOVF      0x7e,0x0,0x1                                                                                    
00791a   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
00791c   e301     BNC       0x7920                                                                                          
00791e   d0a0     BRA       0x7a60                                                                                          
007920   0efc     MOVLW     0xfc                                                                                            
007922   50db     MOVF      0xdb,0x0,0x0                                                                                    
007924   0818     SUBLW     0x18                                                                                            
007926   e201     BC        0x792a                                                                                          
007928   d09b     BRA       0x7a60                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // As a special case, if the pin is the same as the pin                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // used for the solenoid, then turn off the solenoid function              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // so that we can output PWM on that pin                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00792a   0efc     MOVLW     0xfc                 if (RPn == PEN_UP_DOWN_RPN)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00792c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00792e   0807     SUBLW     0x7                                                                                             
007930   e102     BNZ       0x7936                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007932   0101     MOVLB     0x1                    gUseSolenoid = FALSE;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007934   6bc3     CLRF      0xc3,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // Is this the first time we've used this channel?                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007936   d8a9     RCALL     0x7a8a               if (gRC2Value[Channel - 1] == 0u)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007938   0e61     MOVLW     0x61                                                                                            
00793a   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00793c   0e00     MOVLW     0x0                                                                                             
00793e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007940   50ee     MOVF      0xee,0x0,0x0                                                                                    
007942   10ed     IORWF     0xed,0x0,0x0                                                                                    
007944   e110     BNZ       0x7966                                                                                          
007a8a   0e01     MOVLW     0x1                                                                                             
007a8c   04db     DECF      0xdb,0x0,0x0                                                                                    
007a8e   6ee9     MOVWF     0xe9,0x0                                                                                        
007a90   6aea     CLRF      0xea,0x0                                                                                        
007a92   90d8     BCF       0xd8,0x0,0x0                                                                                    
007a94   36e9     RLCF      0xe9,0x1,0x0                                                                                    
007a96   36ea     RLCF      0xea,0x1,0x0                                                                                    
007a98   0012     RETURN    0x0                                                                                             
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // Make sure the pin is set as an output, or this won't do much good     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007946   6ae6     CLRF      0xe6,0x0               SetPinTRISFromRPn(RPn, OUTPUT_PIN);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007948   0efc     MOVLW     0xfc                                                                                            
00794a   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
00794c   ffe6                                                                                                               
00794e   ecfe     CALL      0x35fc,0x0                                                                                      
007950   f01a                                                                                                               
007952   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007954   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // For v2.1.5, found bug where if a pin is HIGH when we start doing      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // RC output, the output is totally messed up. So make sure to set       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // the pin low first.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007956   6ae6     CLRF      0xe6,0x0               SetPinLATFromRPn(RPn, 0);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007958   0efc     MOVLW     0xfc                                                                                            
00795a   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
00795c   ffe6                                                                                                               
00795e   ecd0     CALL      0x35a0,0x0                                                                                      
007960   f01a                                                                                                               
007962   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007964   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // Wait until we have a free spot in the FIFO, and add our new             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // command in                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007966   5013     MOVF      0x13,0x0,0x0         while(gFIFOLength >= gCurrentFIFOLength)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007968   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
00796a   e2fd     BC        0x7966                                                                                          
                                                 ;                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // If the pin we're controlling is B1 (the normal servo output) then       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // always make sure to turn power on and start the countdown timer         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // for that servo port. (issue #144)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00796c   0efc     MOVLW     0xfc                 if (RPn == 4u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00796e   50db     MOVF      0xdb,0x0,0x0                                                                                    
007970   0804     SUBLW     0x4                                                                                             
007972   e109     BNZ       0x7986                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007974   8689     BSF       0x89,0x3,0x0           RCServoPowerIO = RCSERVO_POWER_ON;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007976   c0d5     MOVFF     0xd5,0xd1              gRCServoPoweroffCounterMS = gRCServoPoweroffCounterReloadMS;             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007978   f0d1                                                                                                               
00797a   c0d6     MOVFF     0xd6,0xd2                                                                                       
00797c   f0d2                                                                                                               
00797e   c0d7     MOVFF     0xd7,0xd3                                                                                       
007980   f0d3                                                                                                               
007982   c0d8     MOVFF     0xd8,0xd4                                                                                       
007984   f0d4                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007986   bc09     BTFSC     0x9,0x6,0x0          if (!bittst(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM))                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007988   d06b     BRA       0x7a60                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // Now copy the values over into the FIFO element                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00798a   d88d     RCALL     0x7aa6               FIFOPtr[gFIFOIn].Command = COMMAND_SERVO_MOVE;                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00798c   0e02     MOVLW     0x2                                                                                             
00798e   6eef     MOVWF     0xef,0x0                                                                                        
007aa6   5010     MOVF      0x10,0x0,0x0                                                                                    
007aa8   0d2f     MULLW     0x2f                                                                                            
007aaa   0105     MOVLB     0x5                                                                                             
007aac   ef78     GOTO      0x7af0                                                                                          
007aae   f03d                                                                                                               
007990   0ef8     MOVLW     0xf8                 FIFOPtr[gFIFOIn].m.sm.DelayCounter = HIGH_ISR_TICKS_PER_MS * (UINT32)Delay; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007992   cfdb     MOVFF     0xfdb,0x4e                                                                                      
007994   f04e                                                                                                               
007996   0ef9     MOVLW     0xf9                                                                                            
007998   cfdb     MOVFF     0xfdb,0x4f                                                                                      
00799a   f04f                                                                                                               
00799c   6a50     CLRF      0x50,0x0                                                                                        
00799e   6a51     CLRF      0x51,0x0                                                                                        
0079a0   0e19     MOVLW     0x19                                                                                            
0079a2   6e45     MOVWF     0x45,0x0                                                                                        
0079a4   6a46     CLRF      0x46,0x0                                                                                        
0079a6   6a47     CLRF      0x47,0x0                                                                                        
0079a8   6a48     CLRF      0x48,0x0                                                                                        
0079aa   c04e     MOVFF     0x4e,0x40                                                                                       
0079ac   f040                                                                                                               
0079ae   c04f     MOVFF     0x4f,0x41                                                                                       
0079b0   f041                                                                                                               
0079b2   c050     MOVFF     0x50,0x42                                                                                       
0079b4   f042                                                                                                               
0079b6   c051     MOVFF     0x51,0x43                                                                                       
0079b8   f043                                                                                                               
0079ba   ecd2     CALL      0x8ba4,0x0                                                                                      
0079bc   f045                                                                                                               
0079be   c03c     MOVFF     0x3c,0x4e                                                                                       
0079c0   f04e                                                                                                               
0079c2   c03d     MOVFF     0x3d,0x4f                                                                                       
0079c4   f04f                                                                                                               
0079c6   c03e     MOVFF     0x3e,0x50                                                                                       
0079c8   f050                                                                                                               
0079ca   c03f     MOVFF     0x3f,0x51                                                                                       
0079cc   f051                                                                                                               
0079ce   d86b     RCALL     0x7aa6                                                                                          
0079d0   52ee     MOVF      0xee,0x1,0x0                                                                                    
0079d2   52ee     MOVF      0xee,0x1,0x0                                                                                    
0079d4   c03c     MOVFF     0x3c,0xfee                                                                                      
0079d6   ffee                                                                                                               
0079d8   c04f     MOVFF     0x4f,0xfee                                                                                      
0079da   ffee                                                                                                               
0079dc   c050     MOVFF     0x50,0xfee                                                                                      
0079de   ffee                                                                                                               
0079e0   c051     MOVFF     0x51,0xfee                                                                                      
0079e2   ffee                                                                                                               
0079e4   d848     RCALL     0x7a76               FIFOPtr[gFIFOIn].m.sm.ServoChannel = Channel;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079e6   0e29     MOVLW     0x29                                                                                            
0079e8   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0079ea   0e00     MOVLW     0x0                                                                                             
0079ec   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0079ee   0e01     MOVLW     0x1                                                                                             
0079f0   cfdb     MOVFF     0xfdb,0xfef                                                                                     
0079f2   ffef                                                                                                               
0079f4   d840     RCALL     0x7a76               FIFOPtr[gFIFOIn].m.sm.ServoRPn = RPn;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079f6   0e26     MOVLW     0x26                                                                                            
0079f8   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0079fa   0e00     MOVLW     0x0                                                                                             
0079fc   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0079fe   0efc     MOVLW     0xfc                                                                                            
007a00   cfdb     MOVFF     0xfdb,0xfef                                                                                     
007a02   ffef                                                                                                               
007a04   d838     RCALL     0x7a76               FIFOPtr[gFIFOIn].m.sm.ServoPosition = Position;                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a06   0e27     MOVLW     0x27                                                                                            
007a08   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007a0a   0e00     MOVLW     0x0                                                                                             
007a0c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007a0e   0efd     MOVLW     0xfd                                                                                            
007a10   cfdb     MOVFF     0xfdb,0xfee                                                                                     
007a12   ffee                                                                                                               
007a14   0efe     MOVLW     0xfe                                                                                            
007a16   cfdb     MOVFF     0xfdb,0xfed                                                                                     
007a18   ffed                                                                                                               
007a1a   d82d     RCALL     0x7a76               FIFOPtr[gFIFOIn].m.sm.ServoRate = Rate;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a1c   0e2a     MOVLW     0x2a                                                                                            
007a1e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007a20   0e00     MOVLW     0x0                                                                                             
007a22   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007a24   0efa     MOVLW     0xfa                                                                                            
007a26   cfdb     MOVFF     0xfdb,0xfee                                                                                     
007a28   ffee                                                                                                               
007a2a   0efb     MOVLW     0xfb                                                                                            
007a2c   cfdb     MOVFF     0xfdb,0xfed                                                                                     
007a2e   ffed                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // Check that DelayCounter doesn't have a crazy high value (this was     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // being done in the ISR, now moved here for speed)                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a30   d822     RCALL     0x7a76               if (FIFOPtr[gFIFOIn].m.sm.DelayCounter > HIGH_ISR_TICKS_PER_MS * (UINT32)0x10000) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a32   52ee     MOVF      0xee,0x1,0x0                                                                                    
007a34   80d8     BSF       0xd8,0x0,0x0                                                                                    
007a36   0e00     MOVLW     0x0                                                                                             
007a38   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
007a3a   0e00     MOVLW     0x0                                                                                             
007a3c   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
007a3e   0e19     MOVLW     0x19                                                                                            
007a40   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
007a42   0e00     MOVLW     0x0                                                                                             
007a44   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
007a46   e206     BC        0x7a54                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                     // Ideally we would throw an error to the user here, but since we're in D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                     // the helper function that's not so easy. So we just set the delay time D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                     // to zero and hope they notice that their delays aren't doing anything. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a48   d816     RCALL     0x7a76                 FIFOPtr[gFIFOIn].m.sm.DelayCounter = 0;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a4a   52ee     MOVF      0xee,0x1,0x0                                                                                    
007a4c   6aee     CLRF      0xee,0x0                                                                                        
007a4e   6aee     CLRF      0xee,0x0                                                                                        
007a50   6aee     CLRF      0xee,0x0                                                                                        
007a52   6aee     CLRF      0xee,0x0                                                                                        
007a76   5010     MOVF      0x10,0x0,0x0                                                                                    
007a78   0d2f     MULLW     0x2f                                                                                            
007a7a   d83a     RCALL     0x7af0                                                                                          
007a7c   52ee     MOVF      0xee,0x1,0x0                                                                                    
007a7e   0012     RETURN    0x0                                                                                             
007af0   51fe     MOVF      0xfe,0x0,0x1                                                                                    
007af2   24f3     ADDWF     0xf3,0x0,0x0                                                                                    
007af4   6ee9     MOVWF     0xe9,0x0                                                                                        
007af6   51ff     MOVF      0xff,0x0,0x1                                                                                    
007af8   20f4     ADDWFC    0xf4,0x0,0x0                                                                                    
007afa   6eea     MOVWF     0xea,0x0                                                                                        
007afc   0012     RETURN    0x0                                                                                             
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a54   2a10     INCF      0x10,0x1,0x0           gFIFOIn++;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a56   5013     MOVF      0x13,0x0,0x0           if (gFIFOIn >= gCurrentFIFOLength)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a58   5c10     SUBWF     0x10,0x0,0x0                                                                                    
007a5a   e301     BNC       0x7a5e                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a5c   6a10     CLRF      0x10,0x0                 gFIFOIn = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a5e   2a0f     INCF      0xf,0x1,0x0            gFIFOLength++;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a60   0e01     MOVLW     0x1              return Channel;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a62   50db     MOVF      0xdb,0x0,0x0                                                                                    
007a64   6e4e     MOVWF     0x4e,0x0       }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a66   0e02     MOVLW     0x2                                                                                             
007a68   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
007a6a   e202     BC        0x7a70                                                                                          
007a6c   6ae1     CLRF      0xe1,0x0                                                                                        
007a6e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007a70   6ee1     MOVWF     0xe1,0x0                                                                                        
007a72   504e     MOVF      0x4e,0x0,0x0                                                                                    
007a74   d028     BRA       0x7ac6                                                                                          
007ac6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007ac8   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
007aca   ffd9                                                                                                               
007acc   0012     RETURN    0x0                                                                                             
                                           /*********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                UBW Firmware                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * FileName:        UBW.c                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Company:         Schmalz Haus LLC                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Author:          Brian Schmalz                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Based on original files by Microchip Inc. in MAL USB example.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Software License Agreement                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Copyright (c) 2014-2023, Brian Schmalz of Schmalz Haus LLC                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * All rights reserved.                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Redistribution and use in source and binary forms, with or                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * without modification, are permitted provided that the following               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * conditions are met:                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * 1. Redistributions of source code must retain the above                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * disclaimer.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * 2. Redistributions in binary form must reproduce the above                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * disclaimer in the documentation and/or other materials                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * provided with the distribution.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * 3. Neither the name of the copyright holder nor the names of                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * its contributors may be used to endorse or promote products                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * derived from this software without specific prior written                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * permission.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * SUCH DAMAGE.                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Author               Date        Comment                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Rawin Rojvanit       11/19/04    Original.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Brian Schmalz        03/15/06    Added user code to implement                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                      firmware version D v1.0 for UBW                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                      project. See www.greta.dhs.org/UBW                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Brian Schmalz        05/04/06    Starting version 1.1, which will             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                      include several fixes. See website.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  06/21/06  Starting v1.2 -                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Fixed problem with I packets (from T command) filling up TX buffer          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *    and not letting any incoming commands be received. (strange)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Adding several commands - Analog inputs being the biggest set.              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Also Byte read/Byte write (PEEK/POKE) anywhere in memory                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Individual pin I/O and direction                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  08/16/06  v1.3 - Fixed bug with USB startup              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  09/09/06  v1.4 - Starting 1.4                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Fixed Microchip bug with early silicon - UCONbits.PKTDIS = 0;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Adding BO and BC commands for parallel output to graphics panels            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  12/06/06  v1.4 - More work on 1.4                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Re-wrote all I/O buffering code for increased speed and functionality       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Re-wrote error handling code                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Added delays to BC/BO commands to help Corey                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  01/06/07  v1.4 - Added RC command for servos             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  03/07/07  v1.4.1 - Changed blink rate for SFE            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  05/24/07  v1.4.2 - Fixed RC command bug - it             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                      wouldn't shut off.                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  08/28/07  v1.4.3 - Allowed UBW to run without            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                      USB connected.                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            ********************************************************************/           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /** I N C L U D E S **********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include <p18cxxx.h>                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include <usart.h>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include <ctype.h>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include <delays.h>                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include <flash.h>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "Usb\usb.h"                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "Usb\usb_function_cdc.h"                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "usb_config.h"                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "HardwareProfile.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "UBW.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "ebb.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "RCServo2.h"                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "ebb_print.h"                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /** D E F I N E S ********************************************************/      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kUSART_TX_BUF_SIZE    10u               // In bytes                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kUSART_RX_BUF_SIZE    10u               // In bytes                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kISR_FIFO_A_DEPTH     3u                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kISR_FIFO_D_DEPTH     3u                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kPR4_RELOAD           250u              // For 1ms TMR4 tick             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kCR                   0x0Du                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kLF                   0x0Au                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define ANALOG_INITATE_MS_BETWEEN_STARTS 5u     // Number of ms between analog converts (all enabled channels) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define FLASH_NAME_ADDRESS    0xF800            // Starting address in FLASH where we store our EBB's name D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define FLASH_NAME_LENGTH     16u               // Size of store for EBB's name in FLASH D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define RCSERVO_POWEROFF_DEFAULT_MS (60ul*1000ul)  // Number of milliseconds to default the RCServo power autotimeout (5min) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /** V A R I A B L E S ********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //#pragma udata access fast_vars                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Rate variable - how fast does interrupt fire to capture inputs?               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned int time_between_updates;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned int ISR_D_RepeatRate;       // How many 1ms ticks between Digital updates D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_D_FIFO_in;         // In pointer                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_D_FIFO_out;        // Out pointer                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_D_FIFO_length;     // Current FIFO depth              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned int ISR_A_RepeatRate;       // How many 1ms ticks between Analog updates D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_A_FIFO_in;         // In pointer                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_A_FIFO_out;        // Out pointer                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_A_FIFO_length;     // Current FIFO depth              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This byte has each of its bits used as a separate error flag                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           BYTE error_byte;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // RC servo variables                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // First the main array of data for each servo                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RC_primed_ptr;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RC_next_ptr;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RC_timing_ptr;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Used only in LowISR                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned int D_tick_counter;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned int A_tick_counter;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char A_cur_channel;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char AnalogInitiate;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned int AnalogEnabledChannels;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned int ChannelBit;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT16 g_PowerMonitorThresholdADC;     // 0-1023 ADC counts, below which D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile BOOL g_PowerDropDetected;              // True if power drops below PowerMonitorThreshold D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile tStepperDisableTimeout g_StepperDisableState;  // Stores state of stepper timeout disable feature D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT16 g_StepperDisableTimeoutS;       // Seconds of no motion before motors are disabled D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT16 g_StepperDisableSecondCounter;  // Counts milliseconds up to 1 s for stepper disable timeout D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT16 g_StepperDisableCountdownS;     // After motion is done, counts down in seconds from g_StepperDisableTimeoutS to zero D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           const rom char st_version[] = {"EBBv13_and_above EB Firmware Version 3.0.0-a44"}; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #pragma udata ISR_buf = 0x100                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned int ISR_A_FIFO[16];                     // Stores the most recent analog conversions D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_D_FIFO[3][kISR_FIFO_D_DEPTH];  // FIFO of actual data D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #pragma udata com_tx_buf = 0x200                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // USB Transmit buffer for packets (back to PC)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_TX_buf[kTX_BUF_SIZE];                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RX_command_buf[kRX_COMMAND_BUF_SIZE];                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #pragma udata com_rx_buf = 0x300                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // USB Receiving buffer for commands as they come from PC                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RX_buf[kRX_BUF_SIZE];                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // These variables are in normal storage space                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #pragma udata                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // USART Receiving buffer for data coming from the USART                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_USART_RX_buf[kUSART_RX_BUF_SIZE];                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // USART Transmit buffer for data going to the USART                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_USART_TX_buf[kUSART_TX_BUF_SIZE];                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // These are used for the Fast Parallel Output routines                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_BO_init;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_BO_strobe_mask;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_BO_wait_mask;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_BO_wait_delay;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_BO_strobe_delay;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Pointers to USB transmit (back to PC) buffer                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_TX_buf_in;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_TX_buf_out;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Pointers to USB receive (from PC) buffer                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RX_buf_in;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RX_buf_out;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // In and out pointers to our USART input buffer                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_USART_RX_buf_in;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_USART_RX_buf_out;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // In and out pointers to our USART output buffer                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_USART_TX_buf_in;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_USART_TX_buf_out;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Normally set to TRUE. Able to set FALSE to not send "OK" message after packet reception D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           BOOL g_ack_enable;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #if PC_PG_T_COMMANDS_ENABLED                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Set to TRUE to turn Pulse Mode on                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char gPulsesOn;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // For Pulse Mode, how long should each pulse be on for in ms?                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned int gPulseLen[4];                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // For Pulse Mode, how many ms between rising edges of pulses?                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned int gPulseRate[4];                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // For Pulse Mode, counters keeping track of where we are                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned int gPulseCounters[4];                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Counts down milliseconds until zero. At zero shuts off power to RC servo (via RA3)) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT32 gRCServoPoweroffCounterMS;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT32 gRCServoPoweroffCounterReloadMS;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // When true, any stepper motion command will automatically enable both motors   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           BOOL gAutomaticMotorEnable;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // These store the first and second characters of the latest command from the PC D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char gCommand_Char1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char gCommand_Char2;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Global variables used for limit switch feature                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT8 gLimitSwitchPortB;     // Latched PortB value when trigger happens D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT8 gLimitSwitchReplies;   // Non-zero if we want a reply printed when limit switch trigger goes true D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           UINT8 gLimitSwitchReplyPrinted;       // True if we've already printed a reply for this limit switch trigger D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           UINT8 gCommandChecksumRequired;       // True if we are requiring checksums on all commands (defaults to off) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Stack high water value                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           static volatile UINT16 gStackHighWater;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Locals used in low ISR                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           static INT16 RC2Difference;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           static UINT8 tempStackPointerHigh;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           static UINT8 tempStackPointerLow;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           static UINT16 tempStackPointer;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           static unsigned char gDeviceStringName[FLASH_NAME_LENGTH+1];                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void BlinkUSBStatus(void);     // Handles blinking the USB status LED            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           BOOL SwitchIsPressed(void);    // Check to see if the user (PRG) switch is pressed D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_packet(void);       // Take a full packet and dispatch it to the right function D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           signed char extract_digit(unsigned long * acc, unsigned char digits); // Pull a character out of the packet D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_R_packet(void);     // R for resetting UBW                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_C_packet(void);     // C for configuring I/O and analog pins          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_O_packet(void);     // O for output digital to pins                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_I_packet(void);     // I for input digital from pins                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_V_packet(void);     // V for printing version                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_A_packet(void);     // A for requesting analog inputs                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PI_packet(void);    // PI for reading a single pin                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PO_packet(void);    // PO for setting a single pin state              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PD_packet(void);    // PD for setting a pin's direction               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_MR_packet(void);    // MR for Memory Read                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_MW_packet(void);    // MW for Memory Write                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_CU_packet(void);    // CU configures UBW (system wide parameters)     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #if PC_PG_T_COMMANDS_ENABLED                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_T_packet(void);     // T for setting up timed I/O (digital or analog) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PG_packet(void);    // PG Pulse Go                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PC_packet(void);    // PC Pulse Configure                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_BL_packet(void);    // BL Boot Load command                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_CK_packet(void);    // CK ChecK command                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_MR_packet(void);    // MR Motors Run command                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_AC_packet(void);    // AC Analog Configure                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_ST_packet(void);    // ST Set Tag command                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_QT_packet(void);    // QT Query Tag command                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_RB_packet(void);    // RB ReBoot command                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_QR_packet(void);    // QR Query RC Servo power state                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_SR_packet(void);    // SR Set RC Servo power timeout                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_QU_packet(void);    // QU General Query                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void check_and_send_TX_data(void); // See if there is any data to send to PC, and if so, do it D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /** D E C L A R A T I O N S **************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #pragma code                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #pragma interruptlow low_ISR                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001050   cfd8     MOVFF     0xfd8,0xfe4    void low_ISR(void)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001052   ffe4                                                                                                               
001054   cfe0     MOVFF     0xfe0,0xfe4                                                                                     
001056   ffe4                                                                                                               
001058   6ee4     MOVWF     0xe4,0x0                                                                                        
00105a   cfda     MOVFF     0xfda,0xfe4                                                                                     
00105c   ffe4                                                                                                               
00105e   cfe9     MOVFF     0xfe9,0xfe4                                                                                     
001060   ffe4                                                                                                               
001062   cfea     MOVFF     0xfea,0xfe4                                                                                     
001064   ffe4                                                                                                               
001066   cff3     MOVFF     0xff3,0xfe4                                                                                     
001068   ffe4                                                                                                               
00106a   cff4     MOVFF     0xff4,0xfe4                                                                                     
00106c   ffe4                                                                                                               
00106e   52e6     MOVF      0xe6,0x1,0x0                                                                                    
001070   ece6     CALL      0x39cc,0x0                                                                                      
001072   f01c                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Do we have a Timer4 interrupt? (1ms rate)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001074   a6a4     BTFSS     0xa4,0x3,0x0     if (PIR3bits.TMR4IF)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001076   d141     BRA       0x12fa                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Clear the interrupt                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001078   96a4     BCF       0xa4,0x3,0x0       PIR3bits.TMR4IF = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Handle RC servo pulse generation (for next pulse/channel)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Always increment the gRCServo2msCounter                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00107a   0100     MOVLB     0x0                gRC2msCounter++;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00107c   2b60     INCF      0x60,0x1,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00107e   0100     MOVLB     0x0                if (gRC2msCounter >= gRC2SlotMS)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001080   517f     MOVF      0x7f,0x0,0x1                                                                                    
001082   0100     MOVLB     0x0                                                                                             
001084   5d60     SUBWF     0x60,0x0,0x1                                                                                    
001086   e201     BC        0x108a                                                                                          
001088   d09b     BRA       0x11c0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Clear the RC2 ms counter                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00108a   6b60     CLRF      0x60,0x1             gRC2msCounter = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Turn off the PPS routing to the 'old' pin                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00108c   0100     MOVLB     0x0                  *(gRC2RPORPtr + gRC2RPn[gRC2Ptr]) = 0;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00108e   ecff     CALL      0x37fe,0x0                                                                                      
001090   f01b                                                                                                               
001092   6aef     CLRF      0xef,0x0                                                                                        
0037fe   517d     MOVF      0x7d,0x0,0x1                                                                                    
003800   6aea     CLRF      0xea,0x0                                                                                        
003802   0f69     ADDLW     0x69                                                                                            
003804   6ee9     MOVWF     0xe9,0x0                                                                                        
003806   0e00     MOVLW     0x0                                                                                             
003808   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00380a   50ef     MOVF      0xef,0x0,0x0                                                                                    
00380c   0100     MOVLB     0x0                                                                                             
00380e   6aea     CLRF      0xea,0x0                                                                                        
003810   2580     ADDWF     0x80,0x0,0x1                                                                                    
003812   6ee9     MOVWF     0xe9,0x0                                                                                        
003814   5181     MOVF      0x81,0x0,0x1                                                                                    
003816   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003818   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Turn off TIMER3 for now                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001094   9079     BCF       0x79,0x0,0x0         T3CONbits.TMR3ON = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // And clear TIMER3 to zero                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001096   6a7b     CLRF      0x7b,0x0             TMR3H = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001098   6a7a     CLRF      0x7a,0x0             TMR3L = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // And always advance the main pointer                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00109a   0100     MOVLB     0x0                  gRC2Ptr++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00109c   2b7d     INCF      0x7d,0x1,0x1                                                                                    
00109e   0100     MOVLB     0x0                  if (gRC2Ptr >= gRC2Slots)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0010a0   517e     MOVF      0x7e,0x0,0x1                                                                                    
0010a2   0100     MOVLB     0x0                                                                                             
0010a4   5d7d     SUBWF     0x7d,0x0,0x1                                                                                    
0010a6   e301     BNC       0x10aa                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0010a8   6b7d     CLRF      0x7d,0x1               gRC2Ptr = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // If the value is zero, we do nothing to this pin                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // otherwise, prime it for sending a pulse                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0010aa   ec78     CALL      0x3af0,0x0           if (gRC2Value[gRC2Ptr] != 0u)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0010ac   f01d                                                                                                               
0010ae   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0010b0   50ee     MOVF      0xee,0x0,0x0                                                                                    
0010b2   10ed     IORWF     0xed,0x0,0x0                                                                                    
0010b4   e101     BNZ       0x10b8                                                                                          
0010b6   d084     BRA       0x11c0                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Now, to move 'slowly', we update gRC2Value[] by                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // seeing if we are at gRC2Target[] yet. If not, then                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // we add (or subtract) gRC2Rate[] to try and get there.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0010b8   ec6b     CALL      0x3ad6,0x0             if (gRC2Target[gRC2Ptr] != gRC2Value[gRC2Ptr])                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0010ba   f01d                                                                                                               
0010bc   cfee     MOVFF     0xfee,0x58                                                                                      
0010be   f058                                                                                                               
0010c0   cfef     MOVFF     0xfef,0x59                                                                                      
0010c2   f059                                                                                                               
0010c4   5058     MOVF      0x58,0x0,0x0                                                                                    
0010c6   1856     XORWF     0x56,0x0,0x0                                                                                    
0010c8   e102     BNZ       0x10ce                                                                                          
0010ca   5059     MOVF      0x59,0x0,0x0                                                                                    
0010cc   1857     XORWF     0x57,0x0,0x0                                                                                    
0010ce   e05d     BZ        0x118a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // If the rate is zero, then we always move instantly                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // to the target.                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0010d0   ecbb     CALL      0x3976,0x0               if (gRC2Rate[gRC2Ptr] == 0u)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0010d2   f01c                                                                                                               
0010d4   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0010d6   50ee     MOVF      0xee,0x0,0x0                                                                                    
0010d8   10ed     IORWF     0xed,0x0,0x0                                                                                    
0010da   e051     BZ        0x117e                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       gRC2Value[gRC2Ptr] = gRC2Target[gRC2Ptr];                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     else                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       // Otherwise, add gRC2Rate[] each time through until we              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       // get to our desired pulse width.                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0010dc   ec6b     CALL      0x3ad6,0x0                 RC2Difference = (gRC2Target[gRC2Ptr] - gRC2Value[gRC2Ptr]);          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0010de   f01d                                                                                                               
0010e0   0100     MOVLB     0x0                                                                                             
0010e2   50ee     MOVF      0xee,0x0,0x0                                                                                    
0010e4   5c56     SUBWF     0x56,0x0,0x0                                                                                    
0010e6   6fe2     MOVWF     0xe2,0x1                                                                                        
0010e8   50ee     MOVF      0xee,0x0,0x0                                                                                    
0010ea   5857     SUBWFB    0x57,0x0,0x0                                                                                    
0010ec   6fe3     MOVWF     0xe3,0x1                                                                                        
0010ee   34e8     RLCF      0xe8,0x0,0x0               if (RC2Difference > 0)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0010f0   e222     BC        0x1136                                                                                          
0010f2   51e2     MOVF      0xe2,0x0,0x1                                                                                    
0010f4   0800     SUBLW     0x0                                                                                             
0010f6   0e00     MOVLW     0x0                                                                                             
0010f8   55e3     SUBFWB    0xe3,0x0,0x1                                                                                    
0010fa   e21d     BC        0x1136                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0010fc   0100     MOVLB     0x0                          if (RC2Difference > (INT16)gRC2Rate[gRC2Ptr])                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0010fe   ecbb     CALL      0x3976,0x0                                                                                      
001100   f01c                                                                                                               
001102   ec7b     CALL      0x36f6,0x0                                                                                      
001104   f01b                                                                                                               
001106   0100     MOVLB     0x0                                                                                             
001108   5057     MOVF      0x57,0x0,0x0                                                                                    
00110a   19e3     XORWF     0xe3,0x0,0x1                                                                                    
00110c   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
00110e   d002     BRA       0x1114                                                                                          
001110   35e3     RLCF      0xe3,0x0,0x1                                                                                    
001112   d004     BRA       0x111c                                                                                          
001114   51e2     MOVF      0xe2,0x0,0x1                                                                                    
001116   5c56     SUBWF     0x56,0x0,0x0                                                                                    
001118   51e3     MOVF      0xe3,0x0,0x1                                                                                    
00111a   5857     SUBWFB    0x57,0x0,0x0                                                                                    
00111c   e20a     BC        0x1132                                                                                          
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00111e   0100     MOVLB     0x0                            gRC2Value[gRC2Ptr] += gRC2Rate[gRC2Ptr];                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001120   ecbb     CALL      0x3976,0x0                                                                                      
001122   f01c                                                                                                               
001124   ec8c     CALL      0x3918,0x0                                                                                      
001126   f01c                                                                                                               
001128   5056     MOVF      0x56,0x0,0x0                                                                                    
00112a   26ee     ADDWF     0xee,0x1,0x0                                                                                    
00112c   5057     MOVF      0x57,0x0,0x0                                                                                    
00112e   22ed     ADDWFC    0xed,0x1,0x0                                                                                    
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001130   d02c     BRA       0x118a                       else                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001132   0100     MOVLB     0x0                            gRC2Value[gRC2Ptr] = gRC2Target[gRC2Ptr];                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001134   d024     BRA       0x117e                     else                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001136   c0e2     MOVFF     0xe2,0x56                    if (-RC2Difference > (INT16)gRC2Rate[gRC2Ptr])                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001138   f056                                                                                                               
00113a   c0e3     MOVFF     0xe3,0x57                                                                                       
00113c   f057                                                                                                               
00113e   6c56     NEGF      0x56,0x0                                                                                        
001140   1e57     COMF      0x57,0x1,0x0                                                                                    
001142   0e00     MOVLW     0x0                                                                                             
001144   2257     ADDWFC    0x57,0x1,0x0                                                                                    
001146   0100     MOVLB     0x0                                                                                             
001148   ecbb     CALL      0x3976,0x0                                                                                      
00114a   f01c                                                                                                               
00114c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00114e   cfee     MOVFF     0xfee,0x58                                                                                      
001150   f058                                                                                                               
001152   cfef     MOVFF     0xfef,0x59                                                                                      
001154   f059                                                                                                               
001156   5059     MOVF      0x59,0x0,0x0                                                                                    
001158   1857     XORWF     0x57,0x0,0x0                                                                                    
00115a   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
00115c   d002     BRA       0x1162                                                                                          
00115e   3457     RLCF      0x57,0x0,0x0                                                                                    
001160   d004     BRA       0x116a                                                                                          
001162   5056     MOVF      0x56,0x0,0x0                                                                                    
001164   5c58     SUBWF     0x58,0x0,0x0                                                                                    
001166   5057     MOVF      0x57,0x0,0x0                                                                                    
001168   5859     SUBWFB    0x59,0x0,0x0                                                                                    
00116a   e209     BC        0x117e                                                                                          
003976   de85     RCALL     0x3682                                                                                          
003978   0e75     MOVLW     0x75                                                                                            
00397a   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00397c   0e00     MOVLW     0x0                                                                                             
00397e   0012     RETURN    0x0                                                                                             
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00116c   ecbb     CALL      0x3976,0x0                     gRC2Value[gRC2Ptr] -= gRC2Rate[gRC2Ptr];                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00116e   f01c                                                                                                               
001170   ec8c     CALL      0x3918,0x0                                                                                      
001172   f01c                                                                                                               
001174   5056     MOVF      0x56,0x0,0x0                                                                                    
001176   5eee     SUBWF     0xee,0x1,0x0                                                                                    
001178   5057     MOVF      0x57,0x0,0x0                                                                                    
00117a   5aed     SUBWFB    0xed,0x1,0x0                                                                                    
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00117c   d006     BRA       0x118a                       else                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00117e   ec6b     CALL      0x3ad6,0x0                     gRC2Value[gRC2Ptr] = gRC2Target[gRC2Ptr];                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001180   f01d                                                                                                               
001182   c056     MOVFF     0x56,0xfee                                                                                      
001184   ffee                                                                                                               
001186   c057     MOVFF     0x57,0xfed                                                                                      
001188   ffed                                                                                                               
0036f6   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0036f8   cfee     MOVFF     0xfee,0x56                                                                                      
0036fa   f056                                                                                                               
0036fc   cfef     MOVFF     0xfef,0x57                                                                                      
0036fe   f057                                                                                                               
003700   0012     RETURN    0x0                                                                                             
003918   deee     RCALL     0x36f6                                                                                          
00391a   d8ea     RCALL     0x3af0                                                                                          
00391c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00391e   0012     RETURN    0x0                                                                                             
003ad6   ddd5     RCALL     0x3682                                                                                          
003ad8   0e6d     MOVLW     0x6d                                                                                            
003ada   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003adc   0e00     MOVLW     0x0                                                                                             
003ade   ef8c     GOTO      0x3918                                                                                          
003ae0   f01c                                                                                                               
003af0   ddc8     RCALL     0x3682                                                                                          
003af2   0e61     MOVLW     0x61                                                                                            
003af4   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003af6   0e00     MOVLW     0x0                                                                                             
003af8   0012     RETURN    0x0                                                                                             
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Set up the PPS routing for the CCP2                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00118a   ecff     CALL      0x37fe,0x0             *(gRC2RPORPtr + gRC2RPn[gRC2Ptr]) = 18; // 18 = CCP2                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00118c   f01b                                                                                                               
00118e   0e12     MOVLW     0x12                                                                                            
001190   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Disable interrupts (high)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001192   9ef2     BCF       0xf2,0x7,0x0           INTCONbits.GIEH = 0;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Load up the new compare time                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001194   0100     MOVLB     0x0                    CCPR2H = gRC2Value[gRC2Ptr] >> 8;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001196   ec07     CALL      0x3a0e,0x0                                                                                      
001198   f01d                                                                                                               
00119a   c057     MOVFF     0x57,0x56                                                                                       
00119c   f056                                                                                                               
00119e   6a57     CLRF      0x57,0x0                                                                                        
0011a0   5056     MOVF      0x56,0x0,0x0                                                                                    
0011a2   6eb6     MOVWF     0xb6,0x0                                                                                        
003a0e   d870     RCALL     0x3af0                                                                                          
003a10   ef7b     GOTO      0x36f6                                                                                          
003a12   f01b                                                                                                               
0011a4   ec07     CALL      0x3a0e,0x0             CCPR2L = gRC2Value[gRC2Ptr] & 0xFF;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0011a6   f01d                                                                                                               
0011a8   5056     MOVF      0x56,0x0,0x0                                                                                    
0011aa   6eb5     MOVWF     0xb5,0x0                                                                                        
003682   517d     MOVF      0x7d,0x0,0x1                                                                                    
003684   6ee9     MOVWF     0xe9,0x0                                                                                        
003686   6aea     CLRF      0xea,0x0                                                                                        
003688   90d8     BCF       0xd8,0x0,0x0                                                                                    
00368a   36e9     RLCF      0xe9,0x1,0x0                                                                                    
00368c   36ea     RLCF      0xea,0x1,0x0                                                                                    
00368e   0012     RETURN    0x0                                                                                             
0011ac   0ef0     MOVLW     0xf0                   CCP2CONbits.CCP2M = 0b0000;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0011ae   14b4     ANDWF     0xb4,0x0,0x0                                                                                    
0011b0   0900     IORLW     0x0                                                                                             
0011b2   6eb4     MOVWF     0xb4,0x0                                                                                        
0011b4   0ef0     MOVLW     0xf0                   CCP2CONbits.CCP2M = 0b1001;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0011b6   14b4     ANDWF     0xb4,0x0,0x0                                                                                    
0011b8   0909     IORLW     0x9                                                                                             
0011ba   6eb4     MOVWF     0xb4,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Turn TIMER3 back on                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0011bc   8079     BSF       0x79,0x0,0x0           T3CONbits.TMR3ON = 1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Re-enable interrupts                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0011be   8ef2     BSF       0xf2,0x7,0x0           INTCONbits.GIEH = 1;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // See if it's time to fire off an I packet                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0011c0   0100     MOVLB     0x0                if (ISR_D_RepeatRate > 0u)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0011c2   0e00     MOVLW     0x0                                                                                             
0011c4   80d8     BSF       0xd8,0x0,0x0                                                                                    
0011c6   558d     SUBFWB    0x8d,0x0,0x1                                                                                    
0011c8   0e00     MOVLW     0x0                                                                                             
0011ca   558e     SUBFWB    0x8e,0x0,0x1                                                                                    
0011cc   e22e     BC        0x122a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0011ce   2b9b     INCF      0x9b,0x1,0x1         D_tick_counter++;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0011d0   0e00     MOVLW     0x0                                                                                             
0011d2   239c     ADDWFC    0x9c,0x1,0x1                                                                                    
0011d4   518d     MOVF      0x8d,0x0,0x1         if (D_tick_counter >= ISR_D_RepeatRate)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0011d6   5d9b     SUBWF     0x9b,0x0,0x1                                                                                    
0011d8   518e     MOVF      0x8e,0x0,0x1                                                                                    
0011da   599c     SUBWFB    0x9c,0x0,0x1                                                                                    
0011dc   e326     BNC       0x122a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0011de   6b9b     CLRF      0x9b,0x1               D_tick_counter = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0011e0   6b9c     CLRF      0x9c,0x1                                                                                        
                                                   // Tell the main code to send an I packet                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0011e2   0e03     MOVLW     0x3                    if (ISR_D_FIFO_length < kISR_FIFO_D_DEPTH)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0011e4   5d91     SUBWF     0x91,0x0,0x1                                                                                    
0011e6   e21f     BC        0x1226                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // And copy over our port values                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0011e8   518f     MOVF      0x8f,0x0,0x1             ISR_D_FIFO[0][ISR_D_FIFO_in] = PORTA;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0011ea   6aea     CLRF      0xea,0x0                                                                                        
0011ec   0f20     ADDLW     0x20                                                                                            
0011ee   6ee9     MOVWF     0xe9,0x0                                                                                        
0011f0   0e01     MOVLW     0x1                                                                                             
0011f2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0011f4   cf80     MOVFF     0xf80,0xfef                                                                                     
0011f6   ffef                                                                                                               
0011f8   518f     MOVF      0x8f,0x0,0x1             ISR_D_FIFO[1][ISR_D_FIFO_in] = PORTB;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0011fa   6aea     CLRF      0xea,0x0                                                                                        
0011fc   0f23     ADDLW     0x23                                                                                            
0011fe   6ee9     MOVWF     0xe9,0x0                                                                                        
001200   0e01     MOVLW     0x1                                                                                             
001202   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
001204   cf81     MOVFF     0xf81,0xfef                                                                                     
001206   ffef                                                                                                               
001208   518f     MOVF      0x8f,0x0,0x1             ISR_D_FIFO[2][ISR_D_FIFO_in] = PORTC;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00120a   6aea     CLRF      0xea,0x0                                                                                        
00120c   0f26     ADDLW     0x26                                                                                            
00120e   6ee9     MOVWF     0xe9,0x0                                                                                        
001210   0e01     MOVLW     0x1                                                                                             
001212   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
001214   cf82     MOVFF     0xf82,0xfef                                                                                     
001216   ffef                                                                                                               
001218   2b8f     INCF      0x8f,0x1,0x1             ISR_D_FIFO_in++;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00121a   0e03     MOVLW     0x3                      if (ISR_D_FIFO_in >= kISR_FIFO_D_DEPTH)                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00121c   5d8f     SUBWF     0x8f,0x0,0x1                                                                                    
00121e   e301     BNC       0x1222                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001220   6b8f     CLRF      0x8f,0x1                   ISR_D_FIFO_in = 0;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001222   2b91     INCF      0x91,0x1,0x1             ISR_D_FIFO_length++;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001224   d002     BRA       0x122a                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Stop the madness! Something is wrong, we're                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // not getting our packets out. So kill the                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // timer.                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001226   6b8d     CLRF      0x8d,0x1                 ISR_D_RepeatRate = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001228   6b8e     CLRF      0x8e,0x1                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // See if it's time to fire off an A packet                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00122a   0e00     MOVLW     0x0                if ((ISR_A_RepeatRate > 0u) && (AnalogEnabledChannels > 0u))                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00122c   80d8     BSF       0xd8,0x0,0x0                                                                                    
00122e   5592     SUBFWB    0x92,0x0,0x1                                                                                    
001230   0e00     MOVLW     0x0                                                                                             
001232   5593     SUBFWB    0x93,0x0,0x1                                                                                    
001234   e21c     BC        0x126e                                                                                          
001236   0e00     MOVLW     0x0                                                                                             
001238   80d8     BSF       0xd8,0x0,0x0                                                                                    
00123a   55a1     SUBFWB    0xa1,0x0,0x1                                                                                    
00123c   0e00     MOVLW     0x0                                                                                             
00123e   55a2     SUBFWB    0xa2,0x0,0x1                                                                                    
001240   e216     BC        0x126e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001242   2b9d     INCF      0x9d,0x1,0x1         A_tick_counter++;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001244   0e00     MOVLW     0x0                                                                                             
001246   239e     ADDWFC    0x9e,0x1,0x1                                                                                    
001248   5192     MOVF      0x92,0x0,0x1         if (A_tick_counter >= ISR_A_RepeatRate)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00124a   5d9d     SUBWF     0x9d,0x0,0x1                                                                                    
00124c   5193     MOVF      0x93,0x0,0x1                                                                                    
00124e   599e     SUBWFB    0x9e,0x0,0x1                                                                                    
001250   e30e     BNC       0x126e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001252   6b9d     CLRF      0x9d,0x1               A_tick_counter = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001254   6b9e     CLRF      0x9e,0x1                                                                                        
                                                   // Tell the main code to send an A packet                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001256   0e03     MOVLW     0x3                    if (ISR_A_FIFO_length < kISR_FIFO_A_DEPTH)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001258   5d96     SUBWF     0x96,0x0,0x1                                                                                    
00125a   e207     BC        0x126a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00125c   2b94     INCF      0x94,0x1,0x1             ISR_A_FIFO_in++;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00125e   0e03     MOVLW     0x3                      if (ISR_A_FIFO_in >= kISR_FIFO_A_DEPTH)                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001260   5d94     SUBWF     0x94,0x0,0x1                                                                                    
001262   e301     BNC       0x1266                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001264   6b94     CLRF      0x94,0x1                   ISR_A_FIFO_in = 0;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001266   2b96     INCF      0x96,0x1,0x1             ISR_A_FIFO_length++;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001268   d002     BRA       0x126e                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Stop the madness! Something is wrong, we're                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // not getting our packets out. So kill the A                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // packets.                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00126a   6b92     CLRF      0x92,0x1                 ISR_A_RepeatRate = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00126c   6b93     CLRF      0x93,0x1                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Only start analog conversions if there are channels enabled               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00126e   51a1     MOVF      0xa1,0x0,0x1       if (AnalogEnabledChannels)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001270   11a2     IORWF     0xa2,0x0,0x1                                                                                    
001272   e00b     BZ        0x128a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Only start every so many ms                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001274   0e05     MOVLW     0x5                  if (AnalogInitiate >= ANALOG_INITATE_MS_BETWEEN_STARTS)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001276   5da0     SUBWF     0xa0,0x0,0x1                                                                                    
001278   e307     BNC       0x1288                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Always start off with calibration                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00127a   8cc1     BSF       0xc1,0x6,0x0           ADCON1bits.ADCAL = 1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Clear the interrupt                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00127c   9c9e     BCF       0x9e,0x6,0x0           PIR1bits.ADIF = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Set the interrupt enable                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00127e   8c9d     BSF       0x9d,0x6,0x0           PIE1bits.ADIE = 1;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Make sure it's on!                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001280   80c2     BSF       0xc2,0x0,0x0           ADCON0bits.ADON = 1;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // And tell the A/D to GO!                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001282   82c2     BSF       0xc2,0x1,0x0           ADCON0bits.GO_DONE = 1;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Reset AnalogInitiate counter                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001284   6ba0     CLRF      0xa0,0x1               AnalogInitiate = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Otherwise, increment each 1ms                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001286   d001     BRA       0x128a               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001288   2ba0     INCF      0xa0,0x1,0x1           AnalogInitiate++;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #if PC_PG_T_COMMANDS_ENABLED                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Is Pulse Mode on?                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (gPulsesOn)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Loop across the four pins                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 for (i=0; i<4u; i++)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Only pulse the pin if there is a length for the pin                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   if (gPulseLen[i])                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // If this is the beginning of the pulse, turn the pin on              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (gPulseCounters[i] == 0u)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       // Turn the pin                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==0u) PORTBbits.RB0 = 1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==1u) PORTBbits.RB1 = 1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==2u) PORTBbits.RB2 = 1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==3u) PORTBbits.RB3 = 1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // If we've reached the end of the pulse, turn the pin off             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (gPulseCounters[i] == gPulseLen[i])                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       // Turn the pin off                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==0u) PORTBbits.RB0 = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==1u) PORTBbits.RB1 = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==2u) PORTBbits.RB2 = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==3u) PORTBbits.RB3 = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Now increment the counter                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     gPulseCounters[i]++;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // And check to see if we've reached the end of the rate               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (gPulseCounters[i] >= gPulseRate[i])                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       // If so, start over from zero                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       gPulseCounters[i] = 0;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Turn the pin off                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (i==0u) PORTBbits.RB0 = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (i==1u) PORTBbits.RB1 = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (i==2u) PORTBbits.RB2 = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (i==3u) PORTBbits.RB3 = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Software timer for QC command                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00128a   0101     MOVLB     0x1                if (QC_ms_timer)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00128c   51c0     MOVF      0xc0,0x0,0x1                                                                                    
00128e   e001     BZ        0x1292                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001290   07c0     DECF      0xc0,0x1,0x1         QC_ms_timer--;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Software timer for RCServo power control                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001292   0100     MOVLB     0x0                if (gRCServoPoweroffCounterMS)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001294   51d1     MOVF      0xd1,0x0,0x1                                                                                    
001296   11d2     IORWF     0xd2,0x0,0x1                                                                                    
001298   11d3     IORWF     0xd3,0x0,0x1                                                                                    
00129a   11d4     IORWF     0xd4,0x0,0x1                                                                                    
00129c   e00b     BZ        0x12b4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00129e   07d1     DECF      0xd1,0x1,0x1         gRCServoPoweroffCounterMS--;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012a0   0e00     MOVLW     0x0                                                                                             
0012a2   5bd2     SUBWFB    0xd2,0x1,0x1                                                                                    
0012a4   5bd3     SUBWFB    0xd3,0x1,0x1                                                                                    
0012a6   5bd4     SUBWFB    0xd4,0x1,0x1                                                                                    
                                                 // If we just timed out, then shut off RC Servo power                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012a8   51d1     MOVF      0xd1,0x0,0x1         if (gRCServoPoweroffCounterMS == 0u)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012aa   11d2     IORWF     0xd2,0x0,0x1                                                                                    
0012ac   11d3     IORWF     0xd3,0x0,0x1                                                                                    
0012ae   11d4     IORWF     0xd4,0x0,0x1                                                                                    
0012b0   e101     BNZ       0x12b4                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012b2   9689     BCF       0x89,0x3,0x0           RCServoPowerIO = RCSERVO_POWER_OFF;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Check for stepper motor disable timeout if enabled                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012b4   0e02     MOVLW     0x2                if (g_StepperDisableState == kSTEPPER_TIMEOUT_TIMING)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012b6   5da8     SUBWF     0xa8,0x0,0x1                                                                                    
0012b8   e120     BNZ       0x12fa                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Count the milliseconds until we get to 1 second                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012ba   51ab     MOVF      0xab,0x0,0x1         if (g_StepperDisableSecondCounter)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012bc   11ac     IORWF     0xac,0x0,0x1                                                                                    
0012be   e01d     BZ        0x12fa                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012c0   07ab     DECF      0xab,0x1,0x1           g_StepperDisableSecondCounter--;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012c2   0e00     MOVLW     0x0                                                                                             
0012c4   5bac     SUBWFB    0xac,0x1,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012c6   51ab     MOVF      0xab,0x0,0x1           if (g_StepperDisableSecondCounter == 0u)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012c8   11ac     IORWF     0xac,0x0,0x1                                                                                    
0012ca   e117     BNZ       0x12fa                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Then count down the seconds                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012cc   51ad     MOVF      0xad,0x0,0x1             if (g_StepperDisableCountdownS)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012ce   11ae     IORWF     0xae,0x0,0x1                                                                                    
0012d0   e014     BZ        0x12fa                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012d2   07ad     DECF      0xad,0x1,0x1               g_StepperDisableCountdownS--;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012d4   0e00     MOVLW     0x0                                                                                             
0012d6   5bae     SUBWFB    0xae,0x1,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012d8   51ad     MOVF      0xad,0x0,0x1               if (g_StepperDisableCountdownS == 0u)                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012da   11ae     IORWF     0xae,0x0,0x1                                                                                    
0012dc   e10a     BNZ       0x12f2                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         // If the countdown gets to zero, then it's time to disable        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         // the steppers.                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012de   5004     MOVF      0x4,0x0,0x0                  if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012e0   e103     BNZ       0x12e8                                                                                          
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012e2   808d     BSF       0x8d,0x0,0x0                   Enable1IO = DISABLE_MOTOR;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012e4   828b     BSF       0x8b,0x1,0x0                   Enable2IO = DISABLE_MOTOR;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012e6   d002     BRA       0x12ec                       else                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012e8   828c     BSF       0x8c,0x1,0x0                   Enable1AltIO = DISABLE_MOTOR;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012ea   8289     BSF       0x89,0x1,0x0                   Enable2AltIO = DISABLE_MOTOR;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012ec   0e03     MOVLW     0x3                          g_StepperDisableState = kSTEPPER_TIMEOUT_FIRED;                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012ee   6fa8     MOVWF     0xa8,0x1                                                                                        
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012f0   d004     BRA       0x12fa                     else                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         // Only count the next second if there are still seconds to count  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012f2   0ee8     MOVLW     0xe8                         g_StepperDisableSecondCounter = 1000u;                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012f4   6fab     MOVWF     0xab,0x1                                                                                        
0012f6   0e03     MOVLW     0x3                                                                                             
0012f8   6fac     MOVWF     0xac,0x1                                                                                        
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Read out the current value of FSR1 (stack pointer)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // If the new value is higher than gStackHighWater, then update gStackHighWater D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // This will record the highest value the stack pointer attains              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///    _asm                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///      MOVFF FSR1H, tempStackPointerHigh                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///      MOVFF FSR1L, tempStackPointerLow                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///    _endasm                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///    tempStackPointer = ((((UINT16)tempStackPointerHigh) << 8) | tempStackPointerLow); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///    if (tempStackPointer > gStackHighWater)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///    {                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///      gStackHighWater = tempStackPointer;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///    }                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             } // end of 1ms interrupt                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Do we have an analog interrupt?                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012fa   ac9e     BTFSS     0x9e,0x6,0x0     if (PIR1bits.ADIF)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012fc   d04f     BRA       0x139c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Clear the interrupt                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0012fe   9c9e     BCF       0x9e,0x6,0x0       PIR1bits.ADIF = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // If we just had a calibration, means we just started, so clear things      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // out and begin our sequence.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001300   acc1     BTFSS     0xc1,0x6,0x0       if (ADCON1bits.ADCAL)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001302   d007     BRA       0x1312                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001304   9cc1     BCF       0xc1,0x6,0x0         ADCON1bits.ADCAL = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001306   0e01     MOVLW     0x1                  ChannelBit = 0x0001;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001308   0100     MOVLB     0x0                                                                                             
00130a   6fa3     MOVWF     0xa3,0x1                                                                                        
00130c   6ba4     CLRF      0xa4,0x1                                                                                        
00130e   6b9f     CLRF      0x9f,0x1             A_cur_channel = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001310   d02a     BRA       0x1366             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Read out the value that we just converted, and store it.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001326   0100     MOVLB     0x0                  ISR_A_FIFO[A_cur_channel] =                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001328   519f     MOVF      0x9f,0x0,0x1                                                                                    
00132a   6ee9     MOVWF     0xe9,0x0                                                                                        
00132c   6aea     CLRF      0xea,0x0                                                                                        
00132e   ecd6     CALL      0x39ac,0x0                                                                                      
001330   f01c                                                                                                               
001332   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00131a   50c3     MOVF      0xc3,0x0,0x0             (unsigned int)ADRESL                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     |                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001312   50c4     MOVF      0xc4,0x0,0x0             ((unsigned int)ADRESH << 8);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001314   6e58     MOVWF     0x58,0x0                                                                                        
001316   6e59     MOVWF     0x59,0x0                                                                                        
001318   6a58     CLRF      0x58,0x0                                                                                        
00131c   0100     MOVLB     0x0                                                                                             
00131e   1058     IORWF     0x58,0x0,0x0                                                                                    
001320   6e56     MOVWF     0x56,0x0                                                                                        
001322   c059     MOVFF     0x59,0x57                                                                                       
001324   f057                                                                                                               
001334   c056     MOVFF     0x56,0xfee                                                                                      
001336   ffee                                                                                                               
001338   c057     MOVFF     0x57,0xfed                                                                                      
00133a   ffed                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // If this is the V+_VOLTAGE ADC channel, then check to see if the value   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // is below the threshold, and if so, set the bit to record this fact      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00133c   0e0b     MOVLW     0xb                  if (A_cur_channel == RA11_VPLUS_POWER_ADC_CHANNEL)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00133e   5d9f     SUBWF     0x9f,0x0,0x1                                                                                    
001340   e10e     BNZ       0x135e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001342   519f     MOVF      0x9f,0x0,0x1           if (ISR_A_FIFO[A_cur_channel] < g_PowerMonitorThresholdADC)              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001344   6ee9     MOVWF     0xe9,0x0                                                                                        
001346   6aea     CLRF      0xea,0x0                                                                                        
001348   ecd6     CALL      0x39ac,0x0                                                                                      
00134a   f01c                                                                                                               
00134c   ec7b     CALL      0x36f6,0x0                                                                                      
00134e   f01b                                                                                                               
001350   51a5     MOVF      0xa5,0x0,0x1                                                                                    
001352   5c56     SUBWF     0x56,0x0,0x0                                                                                    
001354   51a6     MOVF      0xa6,0x0,0x1                                                                                    
001356   5857     SUBWFB    0x57,0x0,0x0                                                                                    
001358   e202     BC        0x135e                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00135a   0e01     MOVLW     0x1                      g_PowerDropDetected = TRUE;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00135c   6fa7     MOVWF     0xa7,0x1                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Increment the channel and mask bit                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00135e   90d8     BCF       0xd8,0x0,0x0         ChannelBit = ChannelBit << 1;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001360   37a3     RLCF      0xa3,0x1,0x1                                                                                    
001362   37a4     RLCF      0xa4,0x1,0x1                                                                                    
001364   2b9f     INCF      0x9f,0x1,0x1         A_cur_channel++;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Walk through the enabled channels until we find the next one              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001366   0e10     MOVLW     0x10               while (A_cur_channel < 16u)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001368   5d9f     SUBWF     0x9f,0x0,0x1                                                                                    
00136a   e20e     BC        0x1388                                                                                          
001386   d7ef     BRA       0x1366                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00136c   51a3     MOVF      0xa3,0x0,0x1         if (ChannelBit & AnalogEnabledChannels)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00136e   15a1     ANDWF     0xa1,0x0,0x1                                                                                    
001370   6e56     MOVWF     0x56,0x0                                                                                        
001372   51a4     MOVF      0xa4,0x0,0x1                                                                                    
001374   15a2     ANDWF     0xa2,0x0,0x1                                                                                    
001376   6e57     MOVWF     0x57,0x0                                                                                        
001378   5056     MOVF      0x56,0x0,0x0                                                                                    
00137a   1057     IORWF     0x57,0x0,0x0                                                                                    
00137c   e105     BNZ       0x1388                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Increment the channel and write the new one in                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00137e   2b9f     INCF      0x9f,0x1,0x1           A_cur_channel++;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001380   90d8     BCF       0xd8,0x0,0x0           ChannelBit = ChannelBit << 1;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001382   37a3     RLCF      0xa3,0x1,0x1                                                                                    
001384   37a4     RLCF      0xa4,0x1,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001388   0e10     MOVLW     0x10               if (A_cur_channel >= 16u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00138a   5d9f     SUBWF     0x9f,0x0,0x1                                                                                    
00138c   e302     BNC       0x1392                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // We're done, so just sit and wait                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Turn off our interrupts though.                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00138e   9c9d     BCF       0x9d,0x6,0x0         PIE1bits.ADIE = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001390   d005     BRA       0x139c             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Update the channel number                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001392   519f     MOVF      0x9f,0x0,0x1         ADCON0 = (A_cur_channel << 2) + 1;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001394   0d04     MULLW     0x4                                                                                             
001396   28f3     INCF      0xf3,0x0,0x0                                                                                    
001398   6ec2     MOVWF     0xc2,0x0                                                                                        
                                                 // And start the next conversion                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00139a   82c2     BSF       0xc2,0x1,0x0         ADCON0bits.GO_DONE = 1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00139c   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00139e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0013a0   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0013a2   ffd9                                                                                                               
0013a4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0013a6   cfe5     MOVFF     0xfe5,0xff4                                                                                     
0013a8   fff4                                                                                                               
0013aa   cfe5     MOVFF     0xfe5,0xff3                                                                                     
0013ac   fff3                                                                                                               
0013ae   cfe5     MOVFF     0xfe5,0xfea                                                                                     
0013b0   ffea                                                                                                               
0013b2   cfe5     MOVFF     0xfe5,0xfe9                                                                                     
0013b4   ffe9                                                                                                               
0013b6   cfe5     MOVFF     0xfe5,0xfda                                                                                     
0013b8   ffda                                                                                                               
0013ba   50e5     MOVF      0xe5,0x0,0x0                                                                                    
0013bc   cfe5     MOVFF     0xfe5,0xfe0                                                                                     
0013be   ffe0                                                                                                               
0013c0   cfe5     MOVFF     0xfe5,0xfd8                                                                                     
0013c2   ffd8                                                                                                               
0013c4   0010     RETFIE    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //////// JUST FOR TESTING - DELETE                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0013c6   cfd9     MOVFF     0xfd9,0xfe6    void fill_stack(void)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0013c8   ffe6                                                                                                               
0013ca   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0013cc   ffd9                                                                                                               
0013ce   0e02     MOVLW     0x2                                                                                             
0013d0   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0013d2   6ade     CLRF      0xde,0x0         UINT8 * stackPtr = (UINT8 *)0x000;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0013d4   6add     CLRF      0xdd,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             _asm                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0013d6   cfe2     MOVFF     0xfe2,0xe4         MOVFF FSR1H, tempStackPointerHigh                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0013d8   f0e4                                                                                                               
0013da   cfe1     MOVFF     0xfe1,0xe5         MOVFF FSR1L, tempStackPointerLow                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0013dc   f0e5                                                                                                               
                                             _endasm                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0013de   c0e4     MOVFF     0xe4,0x4e        tempStackPointer = ((((UINT16)tempStackPointerHigh) << 8) | tempStackPointerLow); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0013e0   f04e                                                                                                               
0013e2   c04e     MOVFF     0x4e,0x4f                                                                                       
0013e4   f04f                                                                                                               
0013e6   6a4e     CLRF      0x4e,0x0                                                                                        
0013e8   0100     MOVLB     0x0                                                                                             
0013ea   51e5     MOVF      0xe5,0x0,0x1                                                                                    
0013ec   0100     MOVLB     0x0                                                                                             
0013ee   104e     IORWF     0x4e,0x0,0x0                                                                                    
0013f0   6fe6     MOVWF     0xe6,0x1                                                                                        
0013f2   c04f     MOVFF     0x4f,0xe7                                                                                       
0013f4   f0e7                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0013f6   c0e6     MOVFF     0xe6,0xfde       stackPtr = (UINT8 *)tempStackPointer;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0013f8   ffde                                                                                                               
0013fa   c0e7     MOVFF     0xe7,0xfdd                                                                                      
0013fc   ffdd                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0013fe   0e08     MOVLW     0x8              stackPtr += 8;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001400   26de     ADDWF     0xde,0x1,0x0                                                                                    
001402   0e00     MOVLW     0x0                                                                                             
001404   22dd     ADDWFC    0xdd,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001406   cfd9     MOVFF     0xfd9,0xfe9      while ((UINT16)stackPtr <= 0xEBFu)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001408   ffe9                                                                                                               
00140a   cfda     MOVFF     0xfda,0xfea                                                                                     
00140c   ffea                                                                                                               
00140e   0ebf     MOVLW     0xbf                                                                                            
001410   80d8     BSF       0xd8,0x0,0x0                                                                                    
001412   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
001414   0e0e     MOVLW     0xe                                                                                             
001416   54ed     SUBFWB    0xed,0x0,0x0                                                                                    
001418   e30b     BNC       0x1430                                                                                          
00142e   d7eb     BRA       0x1406                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00141a   cfde     MOVFF     0xfde,0xfe9        *stackPtr = 0xEE;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00141c   ffe9                                                                                                               
00141e   cfdd     MOVFF     0xfdd,0xfea                                                                                     
001420   ffea                                                                                                               
001422   0eee     MOVLW     0xee                                                                                            
001424   6eef     MOVWF     0xef,0x0                                                                                        
001426   2adf     INCF      0xdf,0x1,0x0       stackPtr++;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001428   0e01     MOVLW     0x1                                                                                             
00142a   e301     BNC       0x142e                                                                                          
00142c   2adb     INCF      0xdb,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001430   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001432   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
001434   e202     BC        0x143a                                                                                          
001436   6ae1     CLRF      0xe1,0x0                                                                                        
001438   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00143a   6ee1     MOVWF     0xe1,0x0                                                                                        
00143c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00143e   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
001440   ffd9                                                                                                               
001442   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Walk backwards in the stack RAM section looking of 0xEEs. When we stop        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // seeing them, then we know that's the highest value of the stack to this point. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Print that location out.                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001444   ec81     CALL      0x3b02,0x0     void check_high_water(void)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001446   f01d                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 nib2;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001448   0ebf     MOVLW     0xbf             UINT8 * stackPtr = (UINT8 *)0xEBF;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00144a   6ef3     MOVWF     0xf3,0x0                                                                                        
00144c   0e01     MOVLW     0x1                                                                                             
00144e   cff3     MOVFF     0xff3,0xfdb                                                                                     
001450   ffdb                                                                                                               
001452   0e0e     MOVLW     0xe                                                                                             
001454   6ef3     MOVWF     0xf3,0x0                                                                                        
001456   0e02     MOVLW     0x2                                                                                             
001458   cff3     MOVFF     0xff3,0xfdb                                                                                     
00145a   ffdb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00145c   8cf2     BSF       0xf2,0x6,0x0     INTCONbits.GIEL = 1;  // Turn low priority interrupts off                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00145e   0e01     MOVLW     0x1              while (*stackPtr == 0xEE)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001460   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
001462   ffe9                                                                                                               
001464   0e02     MOVLW     0x2                                                                                             
001466   cfdb     MOVFF     0xfdb,0xfea                                                                                     
001468   ffea                                                                                                               
00146a   50ef     MOVF      0xef,0x0,0x0                                                                                    
00146c   08ee     SUBLW     0xee                                                                                            
00146e   e106     BNZ       0x147c                                                                                          
00147a   d7f1     BRA       0x145e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001470   0e01     MOVLW     0x1                stackPtr--;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001472   06db     DECF      0xdb,0x1,0x0                                                                                    
001474   0e02     MOVLW     0x2                                                                                             
001476   e2f3     BC        0x145e                                                                                          
001478   06db     DECF      0xdb,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00147c   ec4f     CALL      0x389e,0x0       if ((UINT16)stackPtr > gStackHighWater)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00147e   f01c                                                                                                               
001480   0100     MOVLB     0x0                                                                                             
001482   504e     MOVF      0x4e,0x0,0x0                                                                                    
001484   5de0     SUBWF     0xe0,0x0,0x1                                                                                    
001486   504f     MOVF      0x4f,0x0,0x0                                                                                    
001488   59e1     SUBWFB    0xe1,0x0,0x1                                                                                    
00148a   e206     BC        0x1498                                                                                          
00389e   0e01     MOVLW     0x1                                                                                             
0038a0   cfdb     MOVFF     0xfdb,0x4e                                                                                      
0038a2   f04e                                                                                                               
0038a4   0e02     MOVLW     0x2                                                                                             
0038a6   cfdb     MOVFF     0xfdb,0x4f                                                                                      
0038a8   f04f                                                                                                               
0038aa   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00148c   0e01     MOVLW     0x1                gStackHighWater = (UINT16)stackPtr;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00148e   cfdb     MOVFF     0xfdb,0xe0                                                                                      
001490   f0e0                                                                                                               
001492   0e02     MOVLW     0x2                                                                                             
001494   cfdb     MOVFF     0xfdb,0xe1                                                                                      
001496   f0e1                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001498   8cf2     BSF       0xf2,0x6,0x0     INTCONbits.GIEL = 1;  // Turn low priority interrupts on                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00149a   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00149c   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00149e   e202     BC        0x14a4                                                                                          
0014a0   6ae1     CLRF      0xe1,0x0                                                                                        
0014a2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0014a4   6ee1     MOVWF     0xe1,0x0                                                                                        
0014a6   ef4d     GOTO      0x369a                                                                                          
0014a8   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///////                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014aa   ec8d     CALL      0x3b1a,0x0     void UserInit(void)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014ac   f01d                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT16 i;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Make all of 3 digital inputs                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014ae   6a89     CLRF      0x89,0x0         LATA = 0x00;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014b0   6892     SETF      0x92,0x0         TRISA = 0xFF;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Turn all analog inputs into digital inputs                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             //  ADCON1 = 0x0F;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Turn off the ADC                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             //  ADCON0bits.ADON = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Turn off our own idea of how many analog channels to convert                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014b2   0100     MOVLB     0x0              AnalogEnabledChannels = 0;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014b4   6ba1     CLRF      0xa1,0x1                                                                                        
0014b6   6ba2     CLRF      0xa2,0x1                                                                                        
                                             // Make all of PORTB inputs                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014b8   6a8a     CLRF      0x8a,0x0         LATB = 0x00;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014ba   6893     SETF      0x93,0x0         TRISB = 0xFF;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Make all of PORTC inputs                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014bc   6a8b     CLRF      0x8b,0x0         LATC = 0x00;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014be   6894     SETF      0x94,0x0         TRISC = 0xFF;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Initialize LED I/Os to outputs                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014c0   968c     BCF       0x8c,0x3,0x0     mInitAllLEDs();                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014c2   948c     BCF       0x8c,0x2,0x0                                                                                    
0014c4   9695     BCF       0x95,0x3,0x0                                                                                    
0014c6   9495     BCF       0x95,0x2,0x0                                                                                    
                                             // Initialize switch as an input                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014c8   8e92     BSF       0x92,0x7,0x0     mInitSwitch();                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Start off always using "OK" acknowledge.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014ca   0e01     MOVLW     0x1              g_ack_enable = TRUE;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014cc   6fd0     MOVWF     0xd0,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // This has been missing for a long time and created problems on boot if not   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // set to zero.                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014ce   6b97     CLRF      0x97,0x1         error_byte = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Initialize all of the ISR FIFOs                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014d0   6b95     CLRF      0x95,0x1         ISR_A_FIFO_out = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014d2   6b94     CLRF      0x94,0x1         ISR_A_FIFO_in = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014d4   6b96     CLRF      0x96,0x1         ISR_A_FIFO_length = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014d6   6b90     CLRF      0x90,0x1         ISR_D_FIFO_out = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014d8   6b8f     CLRF      0x8f,0x1         ISR_D_FIFO_in = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014da   6b91     CLRF      0x91,0x1         ISR_D_FIFO_length = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Make sure that our timer stuff starts out disabled                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014dc   6b8d     CLRF      0x8d,0x1         ISR_D_RepeatRate = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014de   6b8e     CLRF      0x8e,0x1                                                                                        
0014e0   6b92     CLRF      0x92,0x1         ISR_A_RepeatRate = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014e2   6b93     CLRF      0x93,0x1                                                                                        
0014e4   6b9b     CLRF      0x9b,0x1         D_tick_counter = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014e6   6b9c     CLRF      0x9c,0x1                                                                                        
0014e8   6b9d     CLRF      0x9d,0x1         A_tick_counter = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014ea   6b9e     CLRF      0x9e,0x1                                                                                        
0014ec   6b9f     CLRF      0x9f,0x1         A_cur_channel = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now init our registers                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Initialize Timer4                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // The prescaler will be at 16                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014ee   8276     BSF       0x76,0x1,0x0     T4CONbits.T4CKPS1 = 1;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014f0   8076     BSF       0x76,0x0,0x0     T4CONbits.T4CKPS0 = 1;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // We want the TMR4 post scaler to be a 3                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014f2   9c76     BCF       0x76,0x6,0x0     T4CONbits.T4OUTPS3 = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014f4   9a76     BCF       0x76,0x5,0x0     T4CONbits.T4OUTPS2 = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014f6   8876     BSF       0x76,0x4,0x0     T4CONbits.T4OUTPS1 = 1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014f8   9676     BCF       0x76,0x3,0x0     T4CONbits.T4OUTPS0 = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Set our reload value                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014fa   0efa     MOVLW     0xfa             PR4 = kPR4_RELOAD;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014fc   6e77     MOVWF     0x77,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Set up the Analog to Digital converter                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Clear out the FIFO data                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0014fe   6ade     CLRF      0xde,0x0         for (i = 0; i < 16u; i++)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001500   6add     CLRF      0xdd,0x0                                                                                        
001502   ec12     CALL      0x3824,0x0                                                                                      
001504   f01c                                                                                                               
001506   0e10     MOVLW     0x10                                                                                            
001508   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
00150a   0e00     MOVLW     0x0                                                                                             
00150c   584f     SUBWFB    0x4f,0x0,0x0                                                                                    
00150e   e213     BC        0x1536                                                                                          
00152c   2adf     INCF      0xdf,0x1,0x0                                                                                    
00152e   0e01     MOVLW     0x1                                                                                             
001530   e3e8     BNC       0x1502                                                                                          
001532   2adb     INCF      0xdb,0x1,0x0                                                                                    
001534   d7e6     BRA       0x1502                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001510   ec17     CALL      0x382e,0x0         ISR_A_FIFO[i] = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001512   f01c                                                                                                               
001514   0e01     MOVLW     0x1                                                                                             
001516   90d8     BCF       0xd8,0x0,0x0                                                                                    
001518   36e9     RLCF      0xe9,0x1,0x0                                                                                    
00151a   36ea     RLCF      0xea,0x1,0x0                                                                                    
00151c   06e8     DECF      0xe8,0x1,0x0                                                                                    
00151e   e1fb     BNZ       0x1516                                                                                          
001520   0e00     MOVLW     0x0                                                                                             
001522   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
001524   0e01     MOVLW     0x1                                                                                             
001526   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
001528   6aee     CLRF      0xee,0x0                                                                                        
00152a   6aed     CLRF      0xed,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Initialize USB TX and RX buffer management                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001536   0100     MOVLB     0x0              g_RX_buf_in = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001538   6bca     CLRF      0xca,0x1                                                                                        
00153a   6bcb     CLRF      0xcb,0x1         g_RX_buf_out = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00153c   6bc8     CLRF      0xc8,0x1         g_TX_buf_in = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00153e   6bc9     CLRF      0xc9,0x1         g_TX_buf_out = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001540   6ade     CLRF      0xde,0x0         for (i=0; i < kTX_BUF_SIZE; i++)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001542   6add     CLRF      0xdd,0x0                                                                                        
001544   ec1e     CALL      0x3a3c,0x0                                                                                      
001546   f01d                                                                                                               
001548   e20a     BC        0x155e                                                                                          
001558   e3f5     BNC       0x1544                                                                                          
00155a   2adb     INCF      0xdb,0x1,0x0                                                                                    
00155c   d7f3     BRA       0x1544                                                                                          
003a3c   def3     RCALL     0x3824                                                                                          
003a3e   0e40     MOVLW     0x40                                                                                            
003a40   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
003a42   0e00     MOVLW     0x0                                                                                             
003a44   584f     SUBWFB    0x4f,0x0,0x0                                                                                    
003a46   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00154a   ec17     CALL      0x382e,0x0         g_TX_buf[i] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00154c   f01c                                                                                                               
00154e   0e00     MOVLW     0x0                                                                                             
001550   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
001552   0e02     MOVLW     0x2                                                                                             
001554   ec79     CALL      0x38f2,0x0                                                                                      
001556   f01c                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00155e   6ade     CLRF      0xde,0x0         for (i=0; i < kRX_COMMAND_BUF_SIZE; i++)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001560   6add     CLRF      0xdd,0x0                                                                                        
001562   ec1e     CALL      0x3a3c,0x0                                                                                      
001564   f01d                                                                                                               
001566   e20a     BC        0x157c                                                                                          
001576   e3f5     BNC       0x1562                                                                                          
001578   2adb     INCF      0xdb,0x1,0x0                                                                                    
00157a   d7f3     BRA       0x1562                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001568   ec17     CALL      0x382e,0x0         g_RX_command_buf[i] = 0;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00156a   f01c                                                                                                               
00156c   0e40     MOVLW     0x40                                                                                            
00156e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
001570   0e02     MOVLW     0x2                                                                                             
001572   ec79     CALL      0x38f2,0x0                                                                                      
001574   f01c                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00157c   6ade     CLRF      0xde,0x0         for (i=0; i < kRX_BUF_SIZE; i++)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00157e   6add     CLRF      0xdd,0x0                                                                                        
001580   ec12     CALL      0x3824,0x0                                                                                      
001582   f01c                                                                                                               
001584   0e00     MOVLW     0x0                                                                                             
001586   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
001588   0e01     MOVLW     0x1                                                                                             
00158a   584f     SUBWFB    0x4f,0x0,0x0                                                                                    
00158c   e20a     BC        0x15a2                                                                                          
00159c   e3f1     BNC       0x1580                                                                                          
00159e   2adb     INCF      0xdb,0x1,0x0                                                                                    
0015a0   d7ef     BRA       0x1580                                                                                          
0038f6   2adf     INCF      0xdf,0x1,0x0                                                                                    
0038f8   0e01     MOVLW     0x1                                                                                             
0038fa   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00158e   ec17     CALL      0x382e,0x0         g_RX_buf[i] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001590   f01c                                                                                                               
001592   0e00     MOVLW     0x0                                                                                             
001594   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
001596   0e03     MOVLW     0x3                                                                                             
001598   ec79     CALL      0x38f2,0x0                                                                                      
00159a   f01c                                                                                                               
0038f2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0038f4   6aef     CLRF      0xef,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // And the USART TX and RX buffer management                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015a2   0100     MOVLB     0x0              g_USART_RX_buf_in = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015a4   6bcc     CLRF      0xcc,0x1                                                                                        
0015a6   6bcd     CLRF      0xcd,0x1         g_USART_RX_buf_out = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015a8   6bce     CLRF      0xce,0x1         g_USART_TX_buf_in = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015aa   6bcf     CLRF      0xcf,0x1         g_USART_TX_buf_out = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Clear out the RC servo output pointer values                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015ac   6b98     CLRF      0x98,0x1         g_RC_primed_ptr = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015ae   6b99     CLRF      0x99,0x1         g_RC_next_ptr = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015b0   6b9a     CLRF      0x9a,0x1         g_RC_timing_ptr = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Turn on band-gap                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015b2   010f     MOVLB     0xf              ANCON1bits.VBGEN = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015b4   8f49     BSF       0x49,0x7,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Set up ADCON1 options                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // A/D Result right justified                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Normal A/D (no calibration)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Acq time = 20 Tad (?)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Tad = Fosc/64                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015b6   0ebe     MOVLW     0xbe             ADCON1 = 0b10111110;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015b8   6ec1     MOVWF     0xc1,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Enable interrupt priorities                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015ba   8ed0     BSF       0xd0,0x7,0x0     RCONbits.IPEN = 1;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015bc   9476     BCF       0x76,0x2,0x0     T4CONbits.TMR4ON = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015be   86a3     BSF       0xa3,0x3,0x0     PIE3bits.TMR4IE = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015c0   96a5     BCF       0xa5,0x3,0x0     IPR3bits.TMR4IP = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Call the ebb init function to setup whatever it needs                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015c2   ecf6     CALL      0x43ec,0x0       EBB_Init();                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015c4   f021                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015c6   ec83     CALL      0x7706,0x0       RCServo2_Init();                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015c8   f03b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Turn on the Timer4                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015ca   8476     BSF       0x76,0x2,0x0     T4CONbits.TMR4ON = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // If there's a name in FLASH for us, copy it over to the USB Device           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // descriptor before we enumerate                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015cc   ece5     CALL      0x2fca,0x0       populateDeviceStringWithName();                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015ce   f017                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Zero out limit switch variables                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015d0   0100     MOVLB     0x0              gLimitSwitchPortB = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015d2   6bdc     CLRF      0xdc,0x1                                                                                        
0015d4   6bdd     CLRF      0xdd,0x1         gLimitSwitchReplies = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015d6   6bde     CLRF      0xde,0x1         gLimitSwitchReplyPrinted = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015d8   6bdf     CLRF      0xdf,0x1         gCommandChecksumRequired = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015da   6a0e     CLRF      0xe,0x0          gLimitSwitchTriggered = 0;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #if PC_PG_T_COMMANDS_ENABLED                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Zero out pulse variables                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulsesOn = FALSE;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseLen[0] = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseLen[1] = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseLen[2] = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseLen[3] = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseRate[0] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseRate[1] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseRate[2] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseRate[3] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseCounters[0] = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseCounters[1] = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseCounters[2] = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseCounters[3] = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015dc   6bd1     CLRF      0xd1,0x1         gRCServoPoweroffCounterMS = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015de   6bd2     CLRF      0xd2,0x1                                                                                        
0015e0   6bd3     CLRF      0xd3,0x1                                                                                        
0015e2   6bd4     CLRF      0xd4,0x1                                                                                        
0015e4   0e60     MOVLW     0x60             gRCServoPoweroffCounterReloadMS = RCSERVO_POWEROFF_DEFAULT_MS;                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015e6   6fd5     MOVWF     0xd5,0x1                                                                                        
0015e8   0eea     MOVLW     0xea                                                                                            
0015ea   6fd6     MOVWF     0xd6,0x1                                                                                        
0015ec   6bd7     CLRF      0xd7,0x1                                                                                        
0015ee   6bd8     CLRF      0xd8,0x1                                                                                        
0015f0   0e01     MOVLW     0x1              gAutomaticMotorEnable = TRUE;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015f2   6fd9     MOVWF     0xd9,0x1                                                                                        
0015f4   6be0     CLRF      0xe0,0x1         gStackHighWater = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015f6   6be1     CLRF      0xe1,0x1                                                                                        
0015f8   6ba5     CLRF      0xa5,0x1         g_PowerMonitorThresholdADC = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015fa   6ba6     CLRF      0xa6,0x1                                                                                        
0015fc   6ba9     CLRF      0xa9,0x1         g_StepperDisableTimeoutS = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0015fe   6baa     CLRF      0xaa,0x1                                                                                        
001600   6bab     CLRF      0xab,0x1         g_StepperDisableSecondCounter = 0;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001602   6bac     CLRF      0xac,0x1                                                                                        
001604   6bad     CLRF      0xad,0x1         g_StepperDisableCountdownS = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001606   6bae     CLRF      0xae,0x1                                                                                        
001608   6ba8     CLRF      0xa8,0x1         g_StepperDisableState = kSTEPPER_TIMEOUT_DISABLED;                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00160a   6ba7     CLRF      0xa7,0x1         g_PowerDropDetected = FALSE;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00160c   8ef2     BSF       0xf2,0x7,0x0     INTCONbits.GIEH = 1;  // Turn high priority interrupts on                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00160e   8cf2     BSF       0xf2,0x6,0x0     INTCONbits.GIEL = 1;  // Turn low priority interrupts on                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001610   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001612   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
001614   e202     BC        0x161a                                                                                          
001616   6ae1     CLRF      0xe1,0x0                                                                                        
001618   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00161a   6ee1     MOVWF     0xe1,0x0                                                                                        
00161c   ef4d     GOTO      0x369a                                                                                          
00161e   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Function:        void ProcessIO(void)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Overview:        In this function, we check for a new packet that just        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  arrived via USB. We do a few checks on the packet to see     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  if it is worthy of us trying to interpret it. If it is,      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  we go and call the proper function based upon the first      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  character of the packet.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  NOTE: We need to see everything in one packet (i.e. we       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  won't treat the USB data as a stream and try to find our     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  start and end of packets within the stream. We just look     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  at the first character of each packet for a command and      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  check that there's a CR as the last character of the         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  packet.                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001620   ec48     CALL      0x3690,0x0     void ProcessIO(void)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001622   f01b                                                                                                               
001624   0e05     MOVLW     0x5                                                                                             
001626   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             static BOOL in_cr = FALSE;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             static BYTE last_fifo_size;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             static unsigned char button_state = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             static unsigned int button_ctr = 0;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             BYTE i;                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001628   ec56     CALL      0x38ac,0x0       BOOL done = FALSE;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00162a   f01c                                                                                                               
0038ac   0e01     MOVLW     0x1                                                                                             
0038ae   6adb     CLRF      0xdb,0x0                                                                                        
0038b0   0e02     MOVLW     0x2              unsigned char rx_bytes = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0038b2   6adb     CLRF      0xdb,0x0                                                                                        
0038b4   0e03     MOVLW     0x3              unsigned char byte_cnt = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0038b6   6adb     CLRF      0xdb,0x0                                                                                        
0038b8   0012     RETURN    0x0                                                                                             
                                             unsigned char tst_char;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00162c   ec62     CALL      0x34c4,0x0       BlinkUSBStatus();                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00162e   f01a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for any new I packets (from T command) ready to go out                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001630   0100     MOVLB     0x0              while (ISR_D_FIFO_length > 0u)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001632   5191     MOVF      0x91,0x0,0x1                                                                                    
001634   0800     SUBLW     0x0                                                                                             
001636   e20a     BC        0x164c                                                                                          
00164a   d7f2     BRA       0x1630                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Spit out an I packet first                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001638   ec79     CALL      0x28f2,0x0         parse_I_packet();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00163a   f014                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Then update our I packet FIFO stuff                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00163c   0100     MOVLB     0x0                ISR_D_FIFO_out++;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00163e   2b90     INCF      0x90,0x1,0x1                                                                                    
001640   0e03     MOVLW     0x3                if (ISR_D_FIFO_out == kISR_FIFO_D_DEPTH)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001642   5d90     SUBWF     0x90,0x0,0x1                                                                                    
001644   e101     BNZ       0x1648                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001646   6b90     CLRF      0x90,0x1             ISR_D_FIFO_out = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001648   0791     DECF      0x91,0x1,0x1       ISR_D_FIFO_length--;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for a new A packet (from T command) ready to go out                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00164c   5196     MOVF      0x96,0x0,0x1     while (ISR_A_FIFO_length > 0u)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00164e   0800     SUBLW     0x0                                                                                             
001650   e20a     BC        0x1666                                                                                          
001664   d7f3     BRA       0x164c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Spit out an A packet first                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001652   ec96     CALL      0x292c,0x0         parse_A_packet();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001654   f014                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Then update our A packet FIFO stuff                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001656   0100     MOVLB     0x0                ISR_A_FIFO_out++;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001658   2b95     INCF      0x95,0x1,0x1                                                                                    
00165a   0e03     MOVLW     0x3                if (ISR_A_FIFO_out == kISR_FIFO_A_DEPTH)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00165c   5d95     SUBWF     0x95,0x0,0x1                                                                                    
00165e   e101     BNZ       0x1662                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001660   6b95     CLRF      0x95,0x1             ISR_A_FIFO_out = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001662   0796     DECF      0x96,0x1,0x1       ISR_A_FIFO_length--;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail from here if we're not 'plugged in' to a PC or we're suspended         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if(                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001666   0e20     MOVLW     0x20               (USBDeviceState < CONFIGURED_STATE)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001668   0105     MOVLB     0x5                                                                                             
00166a   6ee7     MOVWF     0xe7,0x0                                                                                        
00166c   19bc     XORWF     0xbc,0x0,0x1                                                                                    
00166e   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
001670   d002     BRA       0x1676                                                                                          
001672   34e7     RLCF      0xe7,0x0,0x0                                                                                    
001674   d002     BRA       0x167a                                                                                          
001676   50e7     MOVF      0xe7,0x0,0x0                                                                                    
001678   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
                                               ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               (USBSuspendControl == 1u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00167a   e201     BC        0x167e           )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00167c   d0e5     BRA       0x1848                                                                                          
00167e   5065     MOVF      0x65,0x0,0x0                                                                                    
001680   0b02     ANDLW     0x2                                                                                             
001682   e001     BZ        0x1686                                                                                          
001684   d0e1     BRA       0x1848                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Pull in some new data if there is new data to pull in                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // And we aren't waiting for the current move to finish                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001686   0e40     MOVLW     0x40             rx_bytes = getsUSBUSART((char *)g_RX_command_buf, kRX_COMMAND_BUF_SIZE);       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001688   6ee6     MOVWF     0xe6,0x0                                                                                        
00168a   0e40     MOVLW     0x40                                                                                            
00168c   6ee6     MOVWF     0xe6,0x0                                                                                        
00168e   0e02     MOVLW     0x2                                                                                             
001690   6ee6     MOVWF     0xe6,0x0                                                                                        
001692   ec0c     CALL      0x7c18,0x0                                                                                      
001694   f03e                                                                                                               
001696   ec89     CALL      0x3b12,0x0                                                                                      
001698   f01d                                                                                                               
00169a   6ee7     MOVWF     0xe7,0x0                                                                                        
00169c   0e02     MOVLW     0x2                                                                                             
00169e   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0016a0   ffdb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0016a2   50db     MOVF      0xdb,0x0,0x0     if (rx_bytes > 0u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0016a4   0800     SUBLW     0x0                                                                                             
0016a6   e274     BC        0x1790                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0016a8   0e03     MOVLW     0x3                for (byte_cnt = 0; byte_cnt < rx_bytes; byte_cnt++)                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0016aa   6adb     CLRF      0xdb,0x0                                                                                        
0016ac   0e02     MOVLW     0x2                                                                                             
0016ae   50db     MOVF      0xdb,0x0,0x0                                                                                    
0016b0   6ef3     MOVWF     0xf3,0x0                                                                                        
0016b2   0e03     MOVLW     0x3                                                                                             
0016b4   ec1c     CALL      0x3838,0x0                                                                                      
0016b6   f01c                                                                                                               
0016b8   e26b     BC        0x1790                                                                                          
00178a   0e03     MOVLW     0x3                                                                                             
00178c   2adb     INCF      0xdb,0x1,0x0                                                                                    
00178e   d78e     BRA       0x16ac                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0016ba   0e03     MOVLW     0x3                  tst_char = g_RX_command_buf[byte_cnt];                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0016bc   50db     MOVF      0xdb,0x0,0x0                                                                                    
0016be   6aea     CLRF      0xea,0x0                                                                                        
0016c0   0f40     ADDLW     0x40                                                                                            
0016c2   6ee9     MOVWF     0xe9,0x0                                                                                        
0016c4   0e02     MOVLW     0x2                                                                                             
0016c6   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0016c8   0e04     MOVLW     0x4                                                                                             
0016ca   cfef     MOVFF     0xfef,0xfdb                                                                                     
0016cc   ffdb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0016ce   a809     BTFSS     0x9,0x4,0x0          if (bittst(TestMode, TEST_MODE_USART_COMMAND_NUM))                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0016d0   d005     BRA       0x16dc                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0016d2   cfdb     MOVFF     0xfdb,0xfe6            Write1USART(tst_char);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0016d4   ffe6                                                                                                               
0016d6   ec74     CALL      0x8ce8,0x0                                                                                      
0016d8   f046                                                                                                               
0016da   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Check to see if we are in a CR/LF situation                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 if (                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0016dc   0101     MOVLB     0x1                    !in_cr                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0016de   5178     MOVF      0x78,0x0,0x1                                                                                    
                                                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   (                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0016e2   0e0d     MOVLW     0xd                      kCR == tst_char                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0016e4   6e4e     MOVWF     0x4e,0x0                                                                                        
0016e6   0e04     MOVLW     0x4                                                                                             
0016e8   50db     MOVF      0xdb,0x0,0x0                                                                                    
0016ea   5c4e     SUBWF     0x4e,0x0,0x0             ||                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0016ee   0e0a     MOVLW     0xa                      kLF == tst_char                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0016f0   6e4f     MOVWF     0x4f,0x0                                                                                        
0016f2   0e04     MOVLW     0x4                                                                                             
0016f4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0016ec   e006     BZ        0x16fa                 )                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0016f6   5c4f     SUBWF     0x4f,0x0,0x0                                                                                    
0016f8   e111     BNZ       0x171c                                                                                          
0016e0   e11d     BNZ       0x171c               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0016fa   0e01     MOVLW     0x1                    in_cr = TRUE;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0016fc   6f78     MOVWF     0x78,0x1                                                                                        
0016fe   0100     MOVLB     0x0                    g_RX_buf[g_RX_buf_in] = kCR;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001700   ec36     CALL      0x386c,0x0                                                                                      
001702   f01c                                                                                                               
001704   0e0d     MOVLW     0xd                                                                                             
001706   6eef     MOVWF     0xef,0x0                                                                                        
001708   2bca     INCF      0xca,0x1,0x1           g_RX_buf_in++;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // At this point, we know we have a full packet                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // of information from the PC to parse                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Now, if we've gotten a full command (user send <CR>) then             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // go call the code that deals with that command, and then               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // keep parsing. (This allows multiple small commands per packet)        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00170a   b009     BTFSC     0x9,0x0,0x0            if (bittstzero(TestMode)) // TEST_MODE_PARSING_COMMAND_NUM               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00170c   808b     BSF       0x8b,0x0,0x0             LATCbits.LATC0 = 1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00170e   d8f9     RCALL     0x1902                 parse_packet();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001710   b009     BTFSC     0x9,0x0,0x0            if (bittstzero(TestMode)) // TEST_MODE_PARSING_COMMAND_NUM               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001712   908b     BCF       0x8b,0x0,0x0             LATCbits.LATC0 = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001714   0100     MOVLB     0x0                    g_RX_buf_in = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001716   6bca     CLRF      0xca,0x1                                                                                        
001718   6bcb     CLRF      0xcb,0x1               g_RX_buf_out = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00171a   d02a     BRA       0x1770               else if (tst_char == 8u && g_RX_buf_in > 0u)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00171c   0e04     MOVLW     0x4                                                                                             
00171e   50db     MOVF      0xdb,0x0,0x0                                                                                    
001720   0808     SUBLW     0x8                                                                                             
001722   e10e     BNZ       0x1740                                                                                          
001724   0100     MOVLB     0x0                                                                                             
001726   51ca     MOVF      0xca,0x0,0x1                                                                                    
001728   0800     SUBLW     0x0                                                                                             
00172a   e20a     BC        0x1740                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Handle the backspace thing                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00172c   07ca     DECF      0xca,0x1,0x1           g_RX_buf_in--;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00172e   ec36     CALL      0x386c,0x0             g_RX_buf[g_RX_buf_in] = 0x00;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001730   f01c                                                                                                               
001732   6aef     CLRF      0xef,0x0                                                                                        
001734   0ebf     MOVLW     0xbf                   ebb_print((far rom char *)" \b");                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001736   6e4e     MOVWF     0x4e,0x0                                                                                        
001738   0e81     MOVLW     0x81                                                                                            
00173a   ec2c     CALL      0x3658,0x0                                                                                      
00173c   f01b                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00173e   d018     BRA       0x1770               else if (                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001740   0e04     MOVLW     0x4                    tst_char != kCR                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001742   50db     MOVF      0xdb,0x0,0x0                                                                                    
001744   080d     SUBLW     0xd                    &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001748   0e04     MOVLW     0x4                    tst_char != kLF                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00174a   50db     MOVF      0xdb,0x0,0x0                                                                                    
001746   e014     BZ        0x1770                 &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00174c   080a     SUBLW     0xa                                                                                             
00174e   e010     BZ        0x1770                                                                                          
001750   0e20     MOVLW     0x20                   tst_char >= 32u                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001752   6ef3     MOVWF     0xf3,0x0             )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001754   0e04     MOVLW     0x4                                                                                             
001756   ec1c     CALL      0x3838,0x0                                                                                      
001758   f01c                                                                                                               
00175a   e30a     BNC       0x1770                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Only add a byte if it is not a CR or LF                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00175c   0100     MOVLB     0x0                    g_RX_buf[g_RX_buf_in] = tst_char;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00175e   ec36     CALL      0x386c,0x0                                                                                      
001760   f01c                                                                                                               
001762   0e04     MOVLW     0x4                                                                                             
001764   cfdb     MOVFF     0xfdb,0xfef                                                                                     
001766   ffef                                                                                                               
00386c   51ca     MOVF      0xca,0x0,0x1                                                                                    
00386e   efc0     GOTO      0x3980                                                                                          
003870   f01c                                                                                                               
003980   6aea     CLRF      0xea,0x0                                                                                        
003982   0f00     ADDLW     0x0                                                                                             
003984   6ee9     MOVWF     0xe9,0x0                                                                                        
003986   0e03     MOVLW     0x3                                                                                             
003988   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00398a   0012     RETURN    0x0                                                                                             
001768   0101     MOVLB     0x1                    in_cr = FALSE;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00176a   6b78     CLRF      0x78,0x1                                                                                        
00176c   0100     MOVLB     0x0                    g_RX_buf_in++;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00176e   2bca     INCF      0xca,0x1,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Check for buffer wraparound                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001770   0100     MOVLB     0x0                  if (kRX_BUF_SIZE == g_RX_buf_in)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001772   51ca     MOVF      0xca,0x0,0x1                                                                                    
001774   6e4e     MOVWF     0x4e,0x0                                                                                        
001776   6a4f     CLRF      0x4f,0x0                                                                                        
001778   0e00     MOVLW     0x0                                                                                             
00177a   184e     XORWF     0x4e,0x0,0x0                                                                                    
00177c   e106     BNZ       0x178a                                                                                          
00177e   0e01     MOVLW     0x1                                                                                             
001780   184f     XORWF     0x4f,0x0,0x0                                                                                    
001782   e103     BNZ       0x178a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001784   8797     BSF       0x97,0x3,0x1           bitset(error_byte, kERROR_BYTE_RX_BUFFER_OVERRUN);                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001786   6bca     CLRF      0xca,0x1               g_RX_buf_in = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001788   6bcb     CLRF      0xcb,0x1               g_RX_buf_out = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for any errors logged in error_byte that need to be sent out          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001790   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001792   5197     MOVF      0x97,0x0,0x1                                                                                    
001794   e039     BZ        0x1808                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001796   a197     BTFSS     0x97,0x0,0x1       if (bittstzero(error_byte))                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001798   d005     BRA       0x17a4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00179a   0ebb     MOVLW     0xbb                 ebb_print((far rom char *)"!0 ");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00179c   6e4e     MOVWF     0x4e,0x0                                                                                        
00179e   0e81     MOVLW     0x81                                                                                            
0017a0   ecb8     CALL      0x3970,0x0                                                                                      
0017a2   f01c                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0017a4   0100     MOVLB     0x0                if (bittst(error_byte, kERROR_BYTE_STEPS_TO_FAST))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0017a6   a397     BTFSS     0x97,0x1,0x1                                                                                    
0017a8   d005     BRA       0x17b4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Unused as of yet                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0017aa   0e9e     MOVLW     0x9e                 ebb_print((far rom char *)"!1 Err: Can't step that fast");                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0017ac   6e4e     MOVWF     0x4e,0x0                                                                                        
0017ae   0e81     MOVLW     0x81                                                                                            
0017b0   ecb8     CALL      0x3970,0x0                                                                                      
0017b2   f01c                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0017b4   0100     MOVLB     0x0                if (bittst(error_byte, kERROR_BYTE_TX_BUF_OVERRUN))                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0017b6   a597     BTFSS     0x97,0x2,0x1                                                                                    
0017b8   d005     BRA       0x17c4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0017ba   0e84     MOVLW     0x84                 ebb_print((far rom char *)"!2 Err: TX Buffer overrun");                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0017bc   6e4e     MOVWF     0x4e,0x0                                                                                        
0017be   0e81     MOVLW     0x81                                                                                            
0017c0   ecb8     CALL      0x3970,0x0                                                                                      
0017c2   f01c                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0017c4   0100     MOVLB     0x0                if (bittst(error_byte, kERROR_BYTE_RX_BUFFER_OVERRUN))                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0017c6   a797     BTFSS     0x97,0x3,0x1                                                                                    
0017c8   d005     BRA       0x17d4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0017ca   0e6a     MOVLW     0x6a                 ebb_print((far rom char *)"!3 Err: RX Buffer overrun");                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0017cc   6e4e     MOVWF     0x4e,0x0                                                                                        
0017ce   0e81     MOVLW     0x81                                                                                            
0017d0   ecb8     CALL      0x3970,0x0                                                                                      
0017d2   f01c                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0017d4   0100     MOVLB     0x0                if (bittst(error_byte, kERROR_BYTE_MISSING_PARAMETER))                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0017d6   a997     BTFSS     0x97,0x4,0x1                                                                                    
0017d8   d005     BRA       0x17e4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0017da   0e4d     MOVLW     0x4d                 ebb_print((far rom char *)"!4 Err: Missing parameter(s)");                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0017dc   6e4e     MOVWF     0x4e,0x0                                                                                        
0017de   0e81     MOVLW     0x81                                                                                            
0017e0   ecb8     CALL      0x3970,0x0                                                                                      
0017e2   f01c                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0017e4   0100     MOVLB     0x0                if (bittst(error_byte, kERROR_BYTE_PRINTED_ERROR))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // We don't need to do anything since something has already been printed out D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 //printf ((rom char *)"!5");                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 //print_line_ending(kLE_NORM);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0017e6   ad97     BTFSS     0x97,0x6,0x1       if (bittst(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT))                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0017e8   d005     BRA       0x17f4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0017ea   0e2d     MOVLW     0x2d                 ebb_print((far rom char *)"!6 Err: Invalid parameter value");              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0017ec   6e4e     MOVWF     0x4e,0x0                                                                                        
0017ee   0e81     MOVLW     0x81                                                                                            
0017f0   ecb8     CALL      0x3970,0x0                                                                                      
0017f2   f01c                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0017f4   0100     MOVLB     0x0                if (bittst(error_byte, kERROR_BYTE_EXTRA_CHARACTERS))                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0017f6   af97     BTFSS     0x97,0x7,0x1                                                                                    
0017f8   d005     BRA       0x1804                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0017fa   0e15     MOVLW     0x15                 ebb_print((far rom char *)"!7 Err: Extra parameter");                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0017fc   6e4e     MOVWF     0x4e,0x0                                                                                        
0017fe   0e81     MOVLW     0x81                                                                                            
001800   ecb8     CALL      0x3970,0x0                                                                                      
001802   f01c                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001804   0100     MOVLB     0x0                error_byte = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001806   6b97     CLRF      0x97,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check to see if we need to print out a "Limit switch triggered" packet to the PC D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001808   51dd     MOVF      0xdd,0x0,0x1     if (gLimitSwitchReplies)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00180a   e01d     BZ        0x1846                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00180c   0e01     MOVLW     0x1                if (bittstzero(gLimitSwitchTriggered) && !gLimitSwitchReplyPrinted)          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00180e   140e     ANDWF     0xe,0x0,0x0                                                                                     
001810   e014     BZ        0x183a                                                                                          
001812   51de     MOVF      0xde,0x0,0x1                                                                                    
001814   e112     BNZ       0x183a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001816   0ef6     MOVLW     0xf6                 ebb_print((far rom char *)"Limit switch triggered. PortB=");               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001818   6e4e     MOVWF     0x4e,0x0                                                                                        
00181a   0e80     MOVLW     0x80                                                                                            
00181c   ec2c     CALL      0x3658,0x0                                                                                      
00181e   f01b                                                                                                               
                                                 // We want 2 characters of hex                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001820   0e02     MOVLW     0x2                  ebb_print_hex(gLimitSwitchPortB, 2);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001822   6ee6     MOVWF     0xe6,0x0                                                                                        
001824   c0dc     MOVFF     0xdc,0x4e                                                                                       
001826   f04e                                                                                                               
001828   6a4f     CLRF      0x4f,0x0                                                                                        
00182a   ec51     CALL      0x36a2,0x0                                                                                      
00182c   f01b                                                                                                               
00182e   ec36     CALL      0x366c,0x0           print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001830   f01b                                                                                                               
001832   0100     MOVLB     0x0                  gLimitSwitchReplyPrinted = TRUE;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001834   0e01     MOVLW     0x1                                                                                             
001836   6fde     MOVWF     0xde,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001838   d006     BRA       0x1846             else if (!bittstzero(gLimitSwitchTriggered) && gLimitSwitchReplyPrinted)     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00183a   0e01     MOVLW     0x1                                                                                             
00183c   140e     ANDWF     0xe,0x0,0x0                                                                                     
00183e   e103     BNZ       0x1846                                                                                          
001840   51de     MOVF      0xde,0x0,0x1                                                                                    
001842   e001     BZ        0x1846                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001844   6bde     CLRF      0xde,0x1             gLimitSwitchReplyPrinted = FALSE;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Go send any data that needs sending to PC                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001846   d837     RCALL     0x18b6           check_and_send_TX_data();                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001848   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00184a   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00184c   e202     BC        0x1852                                                                                          
00184e   6ae1     CLRF      0xe1,0x0                                                                                        
001850   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001852   6ee1     MOVWF     0xe1,0x0                                                                                        
001854   ef4d     GOTO      0x369a                                                                                          
001856   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This is our replacement for the standard putc routine                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This enables ebb_print() and all related functions to print to                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // the USB output (i.e. to the PC) buffer                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001858   ece6     CALL      0x39cc,0x0     int ebb_putc(char c)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00185a   f01c                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00185c   c0c8     MOVFF     0xc8,0xfdf       BYTE OldPtr = g_TX_buf_in;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00185e   ffdf                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check to see if adding this byte will cause us to be full                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001860   2adf     INCF      0xdf,0x1,0x0     OldPtr++;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001862   0e40     MOVLW     0x40             if (kTX_BUF_SIZE == OldPtr)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001864   ec8a     CALL      0x3714,0x0                                                                                      
001866   f01b                                                                                                               
001868   e101     BNZ       0x186c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00186a   6adf     CLRF      0xdf,0x0           OldPtr = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // If so, then wait until some bytes go away first and make room               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00186c   0100     MOVLB     0x0              if (OldPtr == g_TX_buf_out)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00186e   51c9     MOVF      0xc9,0x0,0x1                                                                                    
001870   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001872   e101     BNZ       0x1876                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001874   d820     RCALL     0x18b6             check_and_send_TX_data();                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Copy the character into the output buffer                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001876   0100     MOVLB     0x0              g_TX_buf[g_TX_buf_in] = c;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001878   51c8     MOVF      0xc8,0x0,0x1                                                                                    
00187a   6aea     CLRF      0xea,0x0                                                                                        
00187c   0f00     ADDLW     0x0                                                                                             
00187e   6ee9     MOVWF     0xe9,0x0                                                                                        
001880   0e02     MOVLW     0x2                                                                                             
001882   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
001884   0efe     MOVLW     0xfe                                                                                            
001886   cfdb     MOVFF     0xfdb,0xfef                                                                                     
001888   ffef                                                                                                               
00188a   2bc8     INCF      0xc8,0x1,0x1     g_TX_buf_in++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for wrap around                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00188c   0e40     MOVLW     0x40             if (kTX_BUF_SIZE == g_TX_buf_in)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00188e   5dc8     SUBWF     0xc8,0x0,0x1                                                                                    
001890   e101     BNZ       0x1894                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001892   6bc8     CLRF      0xc8,0x1           g_TX_buf_in = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Also check to see if we bumped up against our output pointer                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001894   51c9     MOVF      0xc9,0x0,0x1     if (g_TX_buf_in == g_TX_buf_out)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001896   5dc8     SUBWF     0xc8,0x0,0x1                                                                                    
001898   e101     BNZ       0x189c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00189a   8597     BSF       0x97,0x2,0x1       bitset(error_byte, kERROR_BYTE_TX_BUF_OVERRUN);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00189c   0efe     MOVLW     0xfe             return(c);                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00189e   cfdb     MOVFF     0xfdb,0x4e                                                                                      
0018a0   f04e                                                                                                               
0018a2   6a4f     CLRF      0x4f,0x0                                                                                        
0018a4   be4e     BTFSC     0x4e,0x7,0x0                                                                                    
0018a6   684f     SETF      0x4f,0x0                                                                                        
0018a8   c04e     MOVFF     0x4e,0xff3                                                                                      
0018aa   fff3                                                                                                               
0018ac   c04f     MOVFF     0x4f,0xff4                                                                                      
0018ae   fff4                                                                                                               
0018b0   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0018b2   ef4d     GOTO      0x369a                                                                                          
0018b4   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // In this function, we check to see if we have anything to transmit.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // If so then we schedule the data for sending.                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0018b6   ece6     CALL      0x39cc,0x0     void check_and_send_TX_data(void)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0018b8   f01c                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             char temp;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Only send if there's something there to send                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0018ba   0100     MOVLB     0x0              if (g_TX_buf_out != g_TX_buf_in)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0018bc   51c8     MOVF      0xc8,0x0,0x1                                                                                    
0018be   5dc9     SUBWF     0xc9,0x0,0x1                                                                                    
0018c0   e01d     BZ        0x18fc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Yes, Microchip says not to do this. We'll be blocking                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // here until there's room in the USB stack to send                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // something new. But without making our buffers huge,                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // I don't know how else to do it.                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0018c2   0105     MOVLB     0x5                while (!USBUSARTIsTxTrfReady())                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0018c4   51a4     MOVF      0xa4,0x0,0x1                                                                                    
0018c6   e005     BZ        0x18d2                                                                                          
0018d0   d7f8     BRA       0x18c2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0018c8   ec98     CALL      0x7d30,0x0           CDCTxService();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0018ca   f03e                                                                                                               
                                           #if defined(USB_POLLING)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0018cc   ec17     CALL      0x662e,0x0           USBDeviceTasks();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0018ce   f033                                                                                                               
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Now we know that the stack can transmit some new data                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Now decide if we need to break it up into two parts or not                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0018d2   0100     MOVLB     0x0                if (g_TX_buf_in > g_TX_buf_out)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0018d4   51c9     MOVF      0xc9,0x0,0x1                                                                                    
0018d6   80d8     BSF       0xd8,0x0,0x0                                                                                    
0018d8   55c8     SUBFWB    0xc8,0x0,0x1                                                                                    
0018da   e207     BC        0x18ea                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Since IN is beyond OUT, only need one chunk                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0018dc   51c9     MOVF      0xc9,0x0,0x1         temp = g_TX_buf_in - g_TX_buf_out;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0018de   5dc8     SUBWF     0xc8,0x0,0x1                                                                                    
0018e0   ecbd     CALL      0x377a,0x0                                                                                      
00377a   6edf                                                                                                               
0018e2   f01b     WORD2     0x1b                 putUSBUSART((char *)&g_TX_buf[g_TX_buf_out], temp);                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00377c   cfdf     MOVFF     0xfdf,0xfe6                                                                                     
00377e   ffe6                                                                                                               
003780   51c9     MOVF      0xc9,0x0,0x1                                                                                    
003782   6a4f     CLRF      0x4f,0x0                                                                                        
003784   0f00     ADDLW     0x0                                                                                             
003786   6e4e     MOVWF     0x4e,0x0                                                                                        
003788   0e02     MOVLW     0x2                                                                                             
00378a   224f     ADDWFC    0x4f,0x1,0x0                                                                                    
00378c   c04e     MOVFF     0x4e,0xfe6                                                                                      
00378e   ffe6                                                                                                               
003790   c04f     MOVFF     0x4f,0xfe6                                                                                      
003792   ffe6                                                                                                               
003794   ec4b     CALL      0x7c96,0x0                                                                                      
003796   f03e                                                                                                               
003798   ef89     GOTO      0x3b12                                                                                          
00379a   f01d                                                                                                               
                                                 // Now that we've scheduled the data for sending,                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // update the pointer                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0018e4   c0c8     MOVFF     0xc8,0xc9            g_TX_buf_out = g_TX_buf_in;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0018e6   f0c9                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0018e8   d007     BRA       0x18f8             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Since IN is before OUT, we need to send from OUT to the end             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // of the buffer, then the next time around we'll catch                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // from the beginning to IN.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0018ea   0e40     MOVLW     0x40                 temp = kTX_BUF_SIZE - g_TX_buf_out;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0018ec   80d8     BSF       0xd8,0x0,0x0                                                                                    
0018ee   55c9     SUBFWB    0xc9,0x0,0x1                                                                                    
0018f0   ecbd     CALL      0x377a,0x0                                                                                      
0018f2   f01b                                    putUSBUSART((char *)&g_TX_buf[g_TX_buf_out], temp);                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Now that we've scheduled the data for sending,                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // update the pointer                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0018f4   0100     MOVLB     0x0                  g_TX_buf_out = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0018f6   6bc9     CLRF      0xc9,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0018f8   ec98     CALL      0x7d30,0x0         CDCTxService();                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0018fa   f03e                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0018fc   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0018fe   ef4d     GOTO      0x369a                                                                                          
001900   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Look at the new packet, see what command it is, and                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // route it appropriately. We come in knowing that                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // our packet is in g_RX_buf[], and that the beginning                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // of the packet is at g_RX_buf_out, and the end (CR) is at                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // g_RX_buf_in - 1. Note that because of buffer wrapping,                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // g_RX_buf_in may be less than g_RX_buf_out.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // New for v3.0.0: if gCommandChecksumRequired is true, then look at the end     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // of the command packet for the checksum, and if it is not there or not         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // correct, error out.                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001902   ec48     CALL      0x3690,0x0     void parse_packet(void)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001904   f01b                                                                                                               
001906   0e09     MOVLW     0x9                                                                                             
001908   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00190a   6ade     CLRF      0xde,0x0         UINT16 command = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00190c   6add     CLRF      0xdd,0x0                                                                                        
00190e   0e02     MOVLW     0x2              UINT8 checksum_cmd = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001910   6adb     CLRF      0xdb,0x0                                                                                        
001912   0e03     MOVLW     0x3              UINT8 checksum_calc = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001914   6adb     CLRF      0xdb,0x0                                                                                        
                                             UINT8 checksum_ptr;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001916   0e05     MOVLW     0x5              UINT8 checksum_len = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001918   6adb     CLRF      0xdb,0x0                                                                                        
00191a   0e01     MOVLW     0x1              BOOL checksumOK = TRUE;   // Starts out true for no checksum case              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00191c   6ef3     MOVWF     0xf3,0x0                                                                                        
00191e   0e06     MOVLW     0x6                                                                                             
001920   cff3     MOVFF     0xff3,0xfdb                                                                                     
001922   ffdb                                                                                                               
                                             UINT8 old_rx_buf_out;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001924   0100     MOVLB     0x0              gCommand_Char1 = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001926   6bda     CLRF      0xda,0x1                                                                                        
001928   6bdb     CLRF      0xdb,0x1         gCommand_Char2 = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00192a   51df     MOVF      0xdf,0x0,0x1     if (gCommandChecksumRequired)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00192c   e101     BNZ       0x1930                                                                                          
00192e   d08e     BRA       0x1a4c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001930   0e06     MOVLW     0x6                checksumOK = FALSE;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001932   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Walk backwards from the end of the packet, looking for the first found    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // comma, then read out                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001934   0e04     MOVLW     0x4                checksum_ptr = g_RX_buf_in;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001936   c0ca     MOVFF     0xca,0xfdb                                                                                      
001938   ffdb                                                                                                               
00193a   50db     MOVF      0xdb,0x0,0x0       if (checksum_ptr != 0u)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00193c   e003     BZ        0x1944                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00193e   0e04     MOVLW     0x4                  checksum_ptr--;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001940   06db     DECF      0xdb,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001942   d002     BRA       0x1948             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001944   0e04     MOVLW     0x4                  checksum_ptr = kRX_BUF_SIZE - 1;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001946   68db     SETF      0xdb,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001948   0e04     MOVLW     0x4                while ((g_RX_buf[checksum_ptr] != ',') && (checksum_len < 5u) && (checksum_ptr != g_RX_buf_out)) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00194a   ecf2     CALL      0x37e4,0x0                                                                                      
00194c   f01b                                                                                                               
00194e   50ef     MOVF      0xef,0x0,0x0                                                                                    
001950   082c     SUBLW     0x2c                                                                                            
001952   e016     BZ        0x1980                                                                                          
001954   0e05     MOVLW     0x5                                                                                             
001956   6ef3     MOVWF     0xf3,0x0                                                                                        
001958   cfdb     MOVFF     0xfdb,0xff4                                                                                     
00195a   fff4                                                                                                               
00195c   50e8     MOVF      0xe8,0x0,0x0                                                                                    
00195e   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
001960   e20f     BC        0x1980                                                                                          
001962   0e04     MOVLW     0x4                                                                                             
001964   50db     MOVF      0xdb,0x0,0x0                                                                                    
001966   5dcb     SUBWF     0xcb,0x0,0x1                                                                                    
001968   e00b     BZ        0x1980                                                                                          
00197e   d7e4     BRA       0x1948                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00196a   0e04     MOVLW     0x4                  if (checksum_ptr != 0u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00196c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00196e   e003     BZ        0x1976                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001970   0e04     MOVLW     0x4                    checksum_ptr--;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001972   06db     DECF      0xdb,0x1,0x0                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001974   d002     BRA       0x197a               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001976   0e04     MOVLW     0x4                    checksum_ptr = kRX_BUF_SIZE - 1;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001978   68db     SETF      0xdb,0x0                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00197a   0e05     MOVLW     0x5                  checksum_len++;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00197c   2adb     INCF      0xdb,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // If checksum_ptr isn't on a comma then there is no checksum for sure       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // so let checksumOK stay FALSE                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001980   0e04     MOVLW     0x4                if (g_RX_buf[checksum_ptr] == ',')                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001982   ecf2     CALL      0x37e4,0x0                                                                                      
001984   f01b                                                                                                               
001986   50ef     MOVF      0xef,0x0,0x0                                                                                    
001988   082c     SUBLW     0x2c                                                                                            
00198a   e157     BNZ       0x1a3a                                                                                          
0037e4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0037e6   efc0     GOTO      0x3980                                                                                          
0037e8   f01c                                                                                                               
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Last parameter found, hopefully it's a checksum. Read it in.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // We have to play some games with the buffer index values here            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // since we're extracting a parameter at the very end of the packet        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // before we extract any from the beginning (as part of normal command     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // processing)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00198c   0e07     MOVLW     0x7                  old_rx_buf_out = g_RX_buf_out;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00198e   c0cb     MOVFF     0xcb,0xfdb                                                                                      
001990   ffdb                                                                                                               
001992   0e04     MOVLW     0x4                  g_RX_buf_out = checksum_ptr;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001994   cfdb     MOVFF     0xfdb,0xcb                                                                                      
001996   f0cb                                                                                                               
                                                 // We're going to ignore the return value from extract_number() since      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // we'll get a failure anyway since the checksum value won't match.        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001998   6ae6     CLRF      0xe6,0x0             extract_number(kUCHAR, &checksum_cmd, kREQUIRED);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00199a   50d9     MOVF      0xd9,0x0,0x0                                                                                    
00199c   0f02     ADDLW     0x2                                                                                             
00199e   ec88     CALL      0x3910,0x0                                                                                      
0019a0   f01c                                                                                                               
0019a2   0e07     MOVLW     0x7                  g_RX_buf_out = old_rx_buf_out;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0019a4   cfdb     MOVFF     0xfdb,0xcb                                                                                      
0019a6   f0cb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Compute the checksum of the packet up to checksum_ptr                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0019a8   0e08     MOVLW     0x8                  i = g_RX_buf_out;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0019aa   c0cb     MOVFF     0xcb,0xfdb                                                                                      
0019ac   ffdb                                                                                                               
0019ae   0e04     MOVLW     0x4                  while(i != checksum_ptr)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0019b0   50db     MOVF      0xdb,0x0,0x0                                                                                    
0019b2   6ef3     MOVWF     0xf3,0x0                                                                                        
0019b4   0e08     MOVLW     0x8                                                                                             
0019b6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0019b8   5cf3     SUBWF     0xf3,0x0,0x0                                                                                    
0019ba   e018     BZ        0x19ec                                                                                          
0019ea   d7e1     BRA       0x19ae                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0019bc   0e08     MOVLW     0x8                    checksum_calc += g_RX_buf[i];                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0019be   ecf2     CALL      0x37e4,0x0                                                                                      
0019c0   f01b                                                                                                               
0019c2   0e03     MOVLW     0x3                                                                                             
0019c4   cfdb     MOVFF     0xfdb,0xfe7                                                                                     
0019c6   ffe7                                                                                                               
0019c8   50ef     MOVF      0xef,0x0,0x0                                                                                    
0019ca   26e7     ADDWF     0xe7,0x1,0x0                                                                                    
0019cc   0e03     MOVLW     0x3                                                                                             
0019ce   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0019d0   ffdb                                                                                                               
0019d2   0e08     MOVLW     0x8                    i++;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0019d4   2adb     INCF      0xdb,0x1,0x0                                                                                    
0019d6   50db     MOVF      0xdb,0x0,0x0           if (i == kRX_BUF_SIZE)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0019d8   6e4e     MOVWF     0x4e,0x0                                                                                        
0019da   6a4f     CLRF      0x4f,0x0                                                                                        
0019dc   50e8     MOVF      0xe8,0x0,0x0                                                                                    
0019de   e1e7     BNZ       0x19ae                                                                                          
0019e0   0e01     MOVLW     0x1                                                                                             
0019e2   184f     XORWF     0x4f,0x0,0x0                                                                                    
0019e4   e1e4     BNZ       0x19ae                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0019e6   0e08     MOVLW     0x8                      i = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0019e8   6adb     CLRF      0xdb,0x0                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0019ec   0e03     MOVLW     0x3                  checksum_calc = (~checksum_calc)+1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0019ee   1cdb     COMF      0xdb,0x0,0x0                                                                                    
0019f0   0f01     ADDLW     0x1                                                                                             
0019f2   6ee7     MOVWF     0xe7,0x0                                                                                        
0019f4   0e03     MOVLW     0x3                                                                                             
0019f6   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0019f8   ffdb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // See if it matches                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0019fa   0e02     MOVLW     0x2                  if (checksum_calc == checksum_cmd)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0019fc   50db     MOVF      0xdb,0x0,0x0                                                                                    
0019fe   6ef3     MOVWF     0xf3,0x0                                                                                        
001a00   0e03     MOVLW     0x3                                                                                             
001a02   50db     MOVF      0xdb,0x0,0x0                                                                                    
001a04   5cf3     SUBWF     0xf3,0x0,0x0                                                                                    
001a06   e10b     BNZ       0x1a1e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // All is good, allow command to proceed                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001a08   0e01     MOVLW     0x1                    checksumOK = TRUE;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001a0a   6ef3     MOVWF     0xf3,0x0                                                                                        
001a0c   0e06     MOVLW     0x6                                                                                             
001a0e   cff3     MOVFF     0xff3,0xfdb                                                                                     
001a10   ffdb                                                                                                               
                                                   // Need to fake out the command parsing, make it think the packet        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // ends where it expects it to end. It doesn't want to see the comma     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // before the checksum.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001a12   0e04     MOVLW     0x4                    g_RX_buf[checksum_ptr] = kCR;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001a14   ecf2     CALL      0x37e4,0x0                                                                                      
001a16   f01b                                                                                                               
001a18   0e0d     MOVLW     0xd                                                                                             
001a1a   6eef     MOVWF     0xef,0x0                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001a1c   d017     BRA       0x1a4c               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001a1e   0ed0     MOVLW     0xd0                   ebb_print((far rom char *)"!8 Err: Checksum incorrect, expected ");      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001a20   6e4e     MOVWF     0x4e,0x0                                                                                        
001a22   0e80     MOVLW     0x80                                                                                            
001a24   ec2c     CALL      0x3658,0x0                                                                                      
001a26   f01b                                                                                                               
001a28   0e03     MOVLW     0x3                    ebb_print_uint(checksum_calc);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001a2a   ec32     CALL      0x3864,0x0                                                                                      
001a2c   f01c                                                                                                               
001a2e   ecad     CALL      0x3b5a,0x0                                                                                      
001a30   f01d                                                                                                               
001a32   ec38     CALL      0x8270,0x0                                                                                      
001a34   f041                                                                                                               
001a36   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                   print_line_ending(kLE_NORM);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001a38   d005     BRA       0x1a44             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001a3a   0ea7     MOVLW     0xa7                 ebb_print((far rom char *)"!8 Err: Checksum not found but required.");     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001a3c   6e4e     MOVWF     0x4e,0x0                                                                                        
001a3e   0e80     MOVLW     0x80                                                                                            
001a40   ecdd     CALL      0x39ba,0x0                                                                                      
001a42   f01c                                                                                                               
001a44   ec89     CALL      0x3b12,0x0                                                                                      
001a46   f01d                                                                                                               
0039ba   6e4f     MOVWF     0x4f,0x0                                                                                        
0039bc   6a50     CLRF      0x50,0x0                                                                                        
0039be   c04e     MOVFF     0x4e,0xfe6                                                                                      
0039c0   ffe6                                                                                                               
0039c2   6ee6     MOVWF     0xe6,0x0                                                                                        
0039c4   c050     MOVFF     0x50,0xfe6                                                                                      
0039c6   ffe6                                                                                                               
0039c8   efe1     GOTO      0x81c2                                                                                          
0039ca   f040                                                                                                               
001a48   ec36     CALL      0x366c,0x0           print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001a4a   f01b                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001a4c   0e06     MOVLW     0x6              if (checksumOK)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001a4e   50db     MOVF      0xdb,0x0,0x0                                                                                    
001a50   e101     BNZ       0x1a54                                                                                          
001a52   d25e     BRA       0x1f10                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Always grab the first character (which is the first byte of the command)  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001a54   0100     MOVLB     0x0                gCommand_Char1 = toupper(g_RX_buf[g_RX_buf_out]);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001a56   ec39     CALL      0x3672,0x0                                                                                      
001a58   f01b                                                                                                               
001a5a   ec5d     CALL      0x38ba,0x0                                                                                      
001a5c   f01c                                                                                                               
001a5e   cff3     MOVFF     0xff3,0xda                                                                                      
001a60   f0da                                                                                                               
0038ba   6ee6     MOVWF     0xe6,0x0                                                                                        
0038bc   6ae6     CLRF      0xe6,0x0                                                                                        
0038be   ec8b     CALL      0x8d16,0x0                                                                                      
0038c0   f046                                                                                                               
0038c2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0038c4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0038c6   0012     RETURN    0x0                                                                                             
001a62   0100     MOVLB     0x0                advance_RX_buf_out();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001a64   ec60     CALL      0x36c0,0x0                                                                                      
001a66   f01b                                                                                                               
001a68   e104     BNZ       0x1a72                                                                                          
001a6a   0e01     MOVLW     0x1                                                                                             
001a6c   184f     XORWF     0x4f,0x0,0x0                                                                                    
001a6e   e101     BNZ       0x1a72                                                                                          
001a70   6bcb     CLRF      0xcb,0x1                                                                                        
001a72   51da     MOVF      0xda,0x0,0x1       command = gCommand_Char1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001a74   6ede     MOVWF     0xde,0x0                                                                                        
001a76   6add     CLRF      0xdd,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Only grab second one if it is not a comma                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001a78   ec39     CALL      0x3672,0x0         if (g_RX_buf[g_RX_buf_out] != (BYTE)',' && g_RX_buf[g_RX_buf_out] != kCR && g_RX_buf[g_RX_buf_out] != kLF) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001a7a   f01b                                                                                                               
001a7c   082c     SUBLW     0x2c                                                                                            
001a7e   e023     BZ        0x1ac6                                                                                          
001a80   ec39     CALL      0x3672,0x0                                                                                      
001a82   f01b                                                                                                               
001a84   080d     SUBLW     0xd                                                                                             
001a86   e01f     BZ        0x1ac6                                                                                          
001a88   ec39     CALL      0x3672,0x0                                                                                      
001a8a   f01b                                                                                                               
001a8c   080a     SUBLW     0xa                                                                                             
001a8e   e01b     BZ        0x1ac6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001a90   ec39     CALL      0x3672,0x0           gCommand_Char2 = toupper(g_RX_buf[g_RX_buf_out]);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001a92   f01b                                                                                                               
001a94   ec5d     CALL      0x38ba,0x0                                                                                      
001a96   f01c                                                                                                               
001a98   cff3     MOVFF     0xff3,0xdb                                                                                      
001a9a   f0db                                                                                                               
001a9c   0100     MOVLB     0x0                  advance_RX_buf_out();                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001a9e   ec60     CALL      0x36c0,0x0                                                                                      
001aa0   f01b                                                                                                               
001aa2   e104     BNZ       0x1aac                                                                                          
001aa4   0e01     MOVLW     0x1                                                                                             
001aa6   184f     XORWF     0x4f,0x0,0x0                                                                                    
001aa8   e101     BNZ       0x1aac                                                                                          
001aaa   6bcb     CLRF      0xcb,0x1                                                                                        
001aac   c0da     MOVFF     0xda,0x51            command = ((unsigned int)(gCommand_Char1) << 8) + gCommand_Char2;          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001aae   f051                                                                                                               
001ab0   6a50     CLRF      0x50,0x0                                                                                        
001ab2   51db     MOVF      0xdb,0x0,0x1                                                                                    
001ab4   0100     MOVLB     0x0                                                                                             
001ab6   2450     ADDWF     0x50,0x0,0x0                                                                                    
001ab8   6e4e     MOVWF     0x4e,0x0                                                                                        
001aba   0e00     MOVLW     0x0                                                                                             
001abc   2051     ADDWFC    0x51,0x0,0x0                                                                                    
001abe   6e4f     MOVWF     0x4f,0x0                                                                                        
001ac0   c04e     MOVFF     0x4e,0xfde                                                                                      
001ac2   ffde                                                                                                               
001ac4   6edd     MOVWF     0xdd,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Now 'command' is equal to one or two bytes of our command                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001ac6   0e00     MOVLW     0x0                switch (command)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001ac8   cfdf     MOVFF     0xfdf,0x42                                                                                      
001aca   f042                                                                                                               
001acc   0e01     MOVLW     0x1                                                                                             
001ace   cfdb     MOVFF     0xfdb,0x43                                                                                      
001ad0   f043                                                                                                               
001ad2   0e52     MOVLW     0x52                                                                                            
001ad4   1842     XORWF     0x42,0x0,0x0                                                                                    
001ad6   e102     BNZ       0x1adc                                                                                          
001ad8   0e54     MOVLW     0x54                                                                                            
001ada   1843     XORWF     0x43,0x0,0x0                                                                                    
001adc   e101     BNZ       0x1ae0                                                                                          
001ade   d1e7     BRA       0x1eae                                                                                          
001ae0   0e55     MOVLW     0x55                                                                                            
001ae2   1842     XORWF     0x42,0x0,0x0                                                                                    
001ae4   e102     BNZ       0x1aea                                                                                          
001ae6   0e51     MOVLW     0x51                                                                                            
001ae8   1843     XORWF     0x43,0x0,0x0                                                                                    
001aea   e101     BNZ       0x1aee                                                                                          
001aec   d1de     BRA       0x1eaa                                                                                          
001aee   0e4d     MOVLW     0x4d                                                                                            
001af0   1842     XORWF     0x42,0x0,0x0                                                                                    
001af2   e102     BNZ       0x1af8                                                                                          
001af4   0e48     MOVLW     0x48                                                                                            
001af6   1843     XORWF     0x43,0x0,0x0                                                                                    
001af8   e101     BNZ       0x1afc                                                                                          
001afa   d1d4     BRA       0x1ea4                                                                                          
001afc   0e52     MOVLW     0x52                                                                                            
001afe   1842     XORWF     0x42,0x0,0x0                                                                                    
001b00   e102     BNZ       0x1b06                                                                                          
001b02   0e53     MOVLW     0x53                                                                                            
001b04   1843     XORWF     0x43,0x0,0x0                                                                                    
001b06   e101     BNZ       0x1b0a                                                                                          
001b08   d1ca     BRA       0x1e9e                                                                                          
001b0a   0e52     MOVLW     0x52                                                                                            
001b0c   1842     XORWF     0x42,0x0,0x0                                                                                    
001b0e   e102     BNZ       0x1b14                                                                                          
001b10   0e51     MOVLW     0x51                                                                                            
001b12   1843     XORWF     0x43,0x0,0x0                                                                                    
001b14   e101     BNZ       0x1b18                                                                                          
001b16   d1c0     BRA       0x1e98                                                                                          
001b18   0e42     MOVLW     0x42                                                                                            
001b1a   1842     XORWF     0x42,0x0,0x0                                                                                    
001b1c   e102     BNZ       0x1b22                                                                                          
001b1e   0e52     MOVLW     0x52                                                                                            
001b20   1843     XORWF     0x43,0x0,0x0                                                                                    
001b22   e101     BNZ       0x1b26                                                                                          
001b24   d1b6     BRA       0x1e92                                                                                          
001b26   0e54     MOVLW     0x54                                                                                            
001b28   1842     XORWF     0x42,0x0,0x0                                                                                    
001b2a   e102     BNZ       0x1b30                                                                                          
001b2c   0e51     MOVLW     0x51                                                                                            
001b2e   1843     XORWF     0x43,0x0,0x0                                                                                    
001b30   e101     BNZ       0x1b34                                                                                          
001b32   d1ac     BRA       0x1e8c                                                                                          
001b34   0e54     MOVLW     0x54                                                                                            
001b36   1842     XORWF     0x42,0x0,0x0                                                                                    
001b38   e102     BNZ       0x1b3e                                                                                          
001b3a   0e53     MOVLW     0x53                                                                                            
001b3c   1843     XORWF     0x43,0x0,0x0                                                                                    
001b3e   e101     BNZ       0x1b42                                                                                          
001b40   d1a2     BRA       0x1e86                                                                                          
001b42   0e53     MOVLW     0x53                                                                                            
001b44   1842     XORWF     0x42,0x0,0x0                                                                                    
001b46   e102     BNZ       0x1b4c                                                                                          
001b48   0e43     MOVLW     0x43                                                                                            
001b4a   1843     XORWF     0x43,0x0,0x0                                                                                    
001b4c   e101     BNZ       0x1b50                                                                                          
001b4e   d198     BRA       0x1e80                                                                                          
001b50   0e53     MOVLW     0x53                                                                                            
001b52   1842     XORWF     0x42,0x0,0x0                                                                                    
001b54   e102     BNZ       0x1b5a                                                                                          
001b56   0e51     MOVLW     0x51                                                                                            
001b58   1843     XORWF     0x43,0x0,0x0                                                                                    
001b5a   e101     BNZ       0x1b5e                                                                                          
001b5c   d18e     BRA       0x1e7a                                                                                          
001b5e   0e4d     MOVLW     0x4d                                                                                            
001b60   1842     XORWF     0x42,0x0,0x0                                                                                    
001b62   e102     BNZ       0x1b68                                                                                          
001b64   0e58     MOVLW     0x58                                                                                            
001b66   1843     XORWF     0x43,0x0,0x0                                                                                    
001b68   e101     BNZ       0x1b6c                                                                                          
001b6a   d184     BRA       0x1e74                                                                                          
001b6c   0e53     MOVLW     0x53                                                                                            
001b6e   1842     XORWF     0x42,0x0,0x0                                                                                    
001b70   e102     BNZ       0x1b76                                                                                          
001b72   0e45     MOVLW     0x45                                                                                            
001b74   1843     XORWF     0x43,0x0,0x0                                                                                    
001b76   e101     BNZ       0x1b7a                                                                                          
001b78   d17a     BRA       0x1e6e                                                                                          
001b7a   0e43     MOVLW     0x43                                                                                            
001b7c   1842     XORWF     0x42,0x0,0x0                                                                                    
001b7e   e102     BNZ       0x1b84                                                                                          
001b80   0e41     MOVLW     0x41                                                                                            
001b82   1843     XORWF     0x43,0x0,0x0                                                                                    
001b84   e101     BNZ       0x1b88                                                                                          
001b86   d170     BRA       0x1e68                                                                                          
001b88   0e4d     MOVLW     0x4d                                                                                            
001b8a   1842     XORWF     0x42,0x0,0x0                                                                                    
001b8c   e102     BNZ       0x1b92                                                                                          
001b8e   0e51     MOVLW     0x51                                                                                            
001b90   1843     XORWF     0x43,0x0,0x0                                                                                    
001b92   e101     BNZ       0x1b96                                                                                          
001b94   d166     BRA       0x1e62                                                                                          
001b96   0e32     MOVLW     0x32                                                                                            
001b98   1842     XORWF     0x42,0x0,0x0                                                                                    
001b9a   e102     BNZ       0x1ba0                                                                                          
001b9c   0e53     MOVLW     0x53                                                                                            
001b9e   1843     XORWF     0x43,0x0,0x0                                                                                    
001ba0   e101     BNZ       0x1ba4                                                                                          
001ba2   d15c     BRA       0x1e5c                                                                                          
001ba4   0e45     MOVLW     0x45                                                                                            
001ba6   1842     XORWF     0x42,0x0,0x0                                                                                    
001ba8   e102     BNZ       0x1bae                                                                                          
001baa   0e53     MOVLW     0x53                                                                                            
001bac   1843     XORWF     0x43,0x0,0x0                                                                                    
001bae   e101     BNZ       0x1bb2                                                                                          
001bb0   d152     BRA       0x1e56                                                                                          
001bb2   0e47     MOVLW     0x47                                                                                            
001bb4   1842     XORWF     0x42,0x0,0x0                                                                                    
001bb6   e102     BNZ       0x1bbc                                                                                          
001bb8   0e51     MOVLW     0x51                                                                                            
001bba   1843     XORWF     0x43,0x0,0x0                                                                                    
001bbc   e101     BNZ       0x1bc0                                                                                          
001bbe   d148     BRA       0x1e50                                                                                          
001bc0   0e43     MOVLW     0x43                                                                                            
001bc2   1842     XORWF     0x42,0x0,0x0                                                                                    
001bc4   e102     BNZ       0x1bca                                                                                          
001bc6   0e51     MOVLW     0x51                                                                                            
001bc8   1843     XORWF     0x43,0x0,0x0                                                                                    
001bca   e101     BNZ       0x1bce                                                                                          
001bcc   d13e     BRA       0x1e4a                                                                                          
001bce   0e4b     MOVLW     0x4b                                                                                            
001bd0   1842     XORWF     0x42,0x0,0x0                                                                                    
001bd2   e102     BNZ       0x1bd8                                                                                          
001bd4   0e43     MOVLW     0x43                                                                                            
001bd6   1843     XORWF     0x43,0x0,0x0                                                                                    
001bd8   e101     BNZ       0x1bdc                                                                                          
001bda   d134     BRA       0x1e44                                                                                          
001bdc   0e4c     MOVLW     0x4c                                                                                            
001bde   1842     XORWF     0x42,0x0,0x0                                                                                    
001be0   e102     BNZ       0x1be6                                                                                          
001be2   0e42     MOVLW     0x42                                                                                            
001be4   1843     XORWF     0x43,0x0,0x0                                                                                    
001be6   e101     BNZ       0x1bea                                                                                          
001be8   d12a     BRA       0x1e3e                                                                                          
001bea   0e44     MOVLW     0x44                                                                                            
001bec   1842     XORWF     0x42,0x0,0x0                                                                                    
001bee   e102     BNZ       0x1bf4                                                                                          
001bf0   0e4e     MOVLW     0x4e                                                                                            
001bf2   1843     XORWF     0x43,0x0,0x0                                                                                    
001bf4   e101     BNZ       0x1bf8                                                                                          
001bf6   d120     BRA       0x1e38                                                                                          
001bf8   0e49     MOVLW     0x49                                                                                            
001bfa   1842     XORWF     0x42,0x0,0x0                                                                                    
001bfc   e102     BNZ       0x1c02                                                                                          
001bfe   0e4e     MOVLW     0x4e                                                                                            
001c00   1843     XORWF     0x43,0x0,0x0                                                                                    
001c02   e101     BNZ       0x1c06                                                                                          
001c04   d116     BRA       0x1e32                                                                                          
001c06   0e42     MOVLW     0x42                                                                                            
001c08   1842     XORWF     0x42,0x0,0x0                                                                                    
001c0a   e102     BNZ       0x1c10                                                                                          
001c0c   0e51     MOVLW     0x51                                                                                            
001c0e   1843     XORWF     0x43,0x0,0x0                                                                                    
001c10   e101     BNZ       0x1c14                                                                                          
001c12   d10c     BRA       0x1e2c                                                                                          
001c14   0e4c     MOVLW     0x4c                                                                                            
001c16   1842     XORWF     0x42,0x0,0x0                                                                                    
001c18   e102     BNZ       0x1c1e                                                                                          
001c1a   0e51     MOVLW     0x51                                                                                            
001c1c   1843     XORWF     0x43,0x0,0x0                                                                                    
001c1e   e101     BNZ       0x1c22                                                                                          
001c20   d102     BRA       0x1e26                                                                                          
001c22   0e4c     MOVLW     0x4c                                                                                            
001c24   1842     XORWF     0x42,0x0,0x0                                                                                    
001c26   e102     BNZ       0x1c2c                                                                                          
001c28   0e53     MOVLW     0x53                                                                                            
001c2a   1843     XORWF     0x43,0x0,0x0                                                                                    
001c2c   e101     BNZ       0x1c30                                                                                          
001c2e   d0f8     BRA       0x1e20                                                                                          
001c30   0e4e     MOVLW     0x4e                                                                                            
001c32   1842     XORWF     0x42,0x0,0x0                                                                                    
001c34   e102     BNZ       0x1c3a                                                                                          
001c36   0e51     MOVLW     0x51                                                                                            
001c38   1843     XORWF     0x43,0x0,0x0                                                                                    
001c3a   e101     BNZ       0x1c3e                                                                                          
001c3c   d0ee     BRA       0x1e1a                                                                                          
001c3e   0e4e     MOVLW     0x4e                                                                                            
001c40   1842     XORWF     0x42,0x0,0x0                                                                                    
001c42   e102     BNZ       0x1c48                                                                                          
001c44   0e53     MOVLW     0x53                                                                                            
001c46   1843     XORWF     0x43,0x0,0x0                                                                                    
001c48   e101     BNZ       0x1c4c                                                                                          
001c4a   d0e4     BRA       0x1e14                                                                                          
001c4c   0e43     MOVLW     0x43                                                                                            
001c4e   1842     XORWF     0x42,0x0,0x0                                                                                    
001c50   e102     BNZ       0x1c56                                                                                          
001c52   0e53     MOVLW     0x53                                                                                            
001c54   1843     XORWF     0x43,0x0,0x0                                                                                    
001c56   e101     BNZ       0x1c5a                                                                                          
001c58   d0da     BRA       0x1e0e                                                                                          
001c5a   0e4d     MOVLW     0x4d                                                                                            
001c5c   1842     XORWF     0x42,0x0,0x0                                                                                    
001c5e   e102     BNZ       0x1c64                                                                                          
001c60   0e45     MOVLW     0x45                                                                                            
001c62   1843     XORWF     0x43,0x0,0x0                                                                                    
001c64   e101     BNZ       0x1c68                                                                                          
001c66   d0d0     BRA       0x1e08                                                                                          
001c68   0e45     MOVLW     0x45                                                                                            
001c6a   1842     XORWF     0x42,0x0,0x0                                                                                    
001c6c   e102     BNZ       0x1c72                                                                                          
001c6e   0e51     MOVLW     0x51                                                                                            
001c70   1843     XORWF     0x43,0x0,0x0                                                                                    
001c72   e101     BNZ       0x1c76                                                                                          
001c74   d0c6     BRA       0x1e02                                                                                          
001c76   0e50     MOVLW     0x50                                                                                            
001c78   1842     XORWF     0x42,0x0,0x0                                                                                    
001c7a   e102     BNZ       0x1c80                                                                                          
001c7c   0e51     MOVLW     0x51                                                                                            
001c7e   1843     XORWF     0x43,0x0,0x0                                                                                    
001c80   e101     BNZ       0x1c84                                                                                          
001c82   d0bc     BRA       0x1dfc                                                                                          
001c84   0e50     MOVLW     0x50                                                                                            
001c86   1842     XORWF     0x42,0x0,0x0                                                                                    
001c88   e102     BNZ       0x1c8e                                                                                          
001c8a   0e54     MOVLW     0x54                                                                                            
001c8c   1843     XORWF     0x43,0x0,0x0                                                                                    
001c8e   e101     BNZ       0x1c92                                                                                          
001c90   d0b2     BRA       0x1df6                                                                                          
001c92   0e50     MOVLW     0x50                                                                                            
001c94   1842     XORWF     0x42,0x0,0x0                                                                                    
001c96   e102     BNZ       0x1c9c                                                                                          
001c98   0e53     MOVLW     0x53                                                                                            
001c9a   1843     XORWF     0x43,0x0,0x0                                                                                    
001c9c   e101     BNZ       0x1ca0                                                                                          
001c9e   d0a8     BRA       0x1df0                                                                                          
001ca0   0e4d     MOVLW     0x4d                                                                                            
001ca2   1842     XORWF     0x42,0x0,0x0                                                                                    
001ca4   e102     BNZ       0x1caa                                                                                          
001ca6   0e53     MOVLW     0x53                                                                                            
001ca8   1843     XORWF     0x43,0x0,0x0                                                                                    
001caa   e101     BNZ       0x1cae                                                                                          
001cac   d09e     BRA       0x1dea                                                                                          
001cae   0e57     MOVLW     0x57                                                                                            
001cb0   1842     XORWF     0x42,0x0,0x0                                                                                    
001cb2   e102     BNZ       0x1cb8                                                                                          
001cb4   0e4d     MOVLW     0x4d                                                                                            
001cb6   1843     XORWF     0x43,0x0,0x0                                                                                    
001cb8   e101     BNZ       0x1cbc                                                                                          
001cba   d094     BRA       0x1de4                                                                                          
001cbc   0e52     MOVLW     0x52                                                                                            
001cbe   1842     XORWF     0x42,0x0,0x0                                                                                    
001cc0   e102     BNZ       0x1cc6                                                                                          
001cc2   0e4d     MOVLW     0x4d                                                                                            
001cc4   1843     XORWF     0x43,0x0,0x0                                                                                    
001cc6   e101     BNZ       0x1cca                                                                                          
001cc8   d08a     BRA       0x1dde                                                                                          
001cca   0e44     MOVLW     0x44                                                                                            
001ccc   1842     XORWF     0x42,0x0,0x0                                                                                    
001cce   e102     BNZ       0x1cd4                                                                                          
001cd0   0e50     MOVLW     0x50                                                                                            
001cd2   1843     XORWF     0x43,0x0,0x0                                                                                    
001cd4   e101     BNZ       0x1cd8                                                                                          
001cd6   d080     BRA       0x1dd8                                                                                          
001cd8   0e4f     MOVLW     0x4f                                                                                            
001cda   1842     XORWF     0x42,0x0,0x0                                                                                    
001cdc   e102     BNZ       0x1ce2                                                                                          
001cde   0e50     MOVLW     0x50                                                                                            
001ce0   1843     XORWF     0x43,0x0,0x0                                                                                    
001ce2   e101     BNZ       0x1ce6                                                                                          
001ce4   d076     BRA       0x1dd2                                                                                          
001ce6   0e49     MOVLW     0x49                                                                                            
001ce8   1842     XORWF     0x42,0x0,0x0                                                                                    
001cea   e102     BNZ       0x1cf0                                                                                          
001cec   0e50     MOVLW     0x50                                                                                            
001cee   1843     XORWF     0x43,0x0,0x0                                                                                    
001cf0   e06d     BZ        0x1dcc                                                                                          
001cf2   0e41     MOVLW     0x41                                                                                            
001cf4   1842     XORWF     0x42,0x0,0x0                                                                                    
001cf6   e101     BNZ       0x1cfa                                                                                          
001cf8   5043     MOVF      0x43,0x0,0x0                                                                                    
001cfa   e065     BZ        0x1dc6                                                                                          
001cfc   0e56     MOVLW     0x56                                                                                            
001cfe   1842     XORWF     0x42,0x0,0x0                                                                                    
001d00   e101     BNZ       0x1d04                                                                                          
001d02   5043     MOVF      0x43,0x0,0x0                                                                                    
001d04   e05d     BZ        0x1dc0                                                                                          
001d06   0e49     MOVLW     0x49                                                                                            
001d08   1842     XORWF     0x42,0x0,0x0                                                                                    
001d0a   e101     BNZ       0x1d0e                                                                                          
001d0c   5043     MOVF      0x43,0x0,0x0                                                                                    
001d0e   e055     BZ        0x1dba                                                                                          
001d10   0e4f     MOVLW     0x4f                                                                                            
001d12   1842     XORWF     0x42,0x0,0x0                                                                                    
001d14   e101     BNZ       0x1d18                                                                                          
001d16   5043     MOVF      0x43,0x0,0x0                                                                                    
001d18   e04d     BZ        0x1db4                                                                                          
001d1a   0e55     MOVLW     0x55                                                                                            
001d1c   1842     XORWF     0x42,0x0,0x0                                                                                    
001d1e   e102     BNZ       0x1d24                                                                                          
001d20   0e43     MOVLW     0x43                                                                                            
001d22   1843     XORWF     0x43,0x0,0x0                                                                                    
001d24   e045     BZ        0x1db0                                                                                          
001d26   0e43     MOVLW     0x43                                                                                            
001d28   1842     XORWF     0x42,0x0,0x0                                                                                    
001d2a   e101     BNZ       0x1d2e                                                                                          
001d2c   5043     MOVF      0x43,0x0,0x0                                                                                    
001d2e   e03d     BZ        0x1daa                                                                                          
001d30   0e52     MOVLW     0x52                                                                                            
001d32   1842     XORWF     0x42,0x0,0x0                                                                                    
001d34   e101     BNZ       0x1d38                                                                                          
001d36   5043     MOVF      0x43,0x0,0x0                                                                                    
001d38   e036     BZ        0x1da6                                                                                          
001d3a   0e4d     MOVLW     0x4d                                                                                            
001d3c   1842     XORWF     0x42,0x0,0x0                                                                                    
001d3e   e102     BNZ       0x1d44                                                                                          
001d40   0e4c     MOVLW     0x4c                                                                                            
001d42   1843     XORWF     0x43,0x0,0x0                                                                                    
001d44   e02d     BZ        0x1da0                                                                                          
001d46   0e33     MOVLW     0x33                                                                                            
001d48   1842     XORWF     0x42,0x0,0x0                                                                                    
001d4a   e102     BNZ       0x1d50                                                                                          
001d4c   0e54     MOVLW     0x54                                                                                            
001d4e   1843     XORWF     0x43,0x0,0x0                                                                                    
001d50   e024     BZ        0x1d9a                                                                                          
001d52   0e33     MOVLW     0x33                                                                                            
001d54   1842     XORWF     0x42,0x0,0x0                                                                                    
001d56   e102     BNZ       0x1d5c                                                                                          
001d58   0e4c     MOVLW     0x4c                                                                                            
001d5a   1843     XORWF     0x43,0x0,0x0                                                                                    
001d5c   e01b     BZ        0x1d94                                                                                          
001d5e   0e54     MOVLW     0x54                                                                                            
001d60   1842     XORWF     0x42,0x0,0x0                                                                                    
001d62   e102     BNZ       0x1d68                                                                                          
001d64   0e4c     MOVLW     0x4c                                                                                            
001d66   1843     XORWF     0x43,0x0,0x0                                                                                    
001d68   e012     BZ        0x1d8e                                                                                          
001d6a   0e4d     MOVLW     0x4d                                                                                            
001d6c   1842     XORWF     0x42,0x0,0x0                                                                                    
001d6e   e102     BNZ       0x1d74                                                                                          
001d70   0e43     MOVLW     0x43                                                                                            
001d72   1843     XORWF     0x43,0x0,0x0                                                                                    
001d74   e009     BZ        0x1d88                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('C' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // CM for circle move                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001d88   ec85     CALL      0x4d0a,0x0             parse_CM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001d8a   f026                                                                                                               
001d8c   d0af     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('L' * 256) + 'T':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Low Level Timed Move                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001d8e   ec13     CALL      0x4826,0x0             parse_LT_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001d90   f024                                                                                                               
001d92   d0ac     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('L' * 256) + '3':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Low Level 3rd derivative (jerk) move                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001d94   ecbd     CALL      0x477a,0x0             parse_L3_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001d96   f023                                                                                                               
001d98   d0a9     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('T' * 256) + '3':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Timed 3rd derivative (jerk) move                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001d9a   ecf9     CALL      0x47f2,0x0             parse_T3_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001d9c   f023                                                                                                               
001d9e   d0a6     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('L' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Low Level Move                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001da0   ec87     CALL      0x470e,0x0             parse_LM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001da2   f023                                                                                                               
001da4   d0a3     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'R':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Reset command (resets everything to power-on state)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001da6   d8ff     RCALL     0x1fa6                 parse_R_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001da8   d0a1     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'C':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Configure command (configure ports for Input or Output)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001daa   ec93     CALL      0x2726,0x0             parse_C_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001dac   f013                                                                                                               
001dae   d09e     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('C' * 256) + 'U':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // For configuring UBW                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001db0   d901     RCALL     0x1fb4                 parse_CU_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001db2   d09c     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'O':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Output command (tell the ports to output something)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001db4   ec43     CALL      0x2886,0x0             parse_O_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001db6   f014                                                                                                               
001db8   d099     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'I':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Input command (return the current status of the ports)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001dba   ec79     CALL      0x28f2,0x0             parse_I_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001dbc   f014                                                                                                               
001dbe   d096     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'V':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Version command                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001dc0   ec8f     CALL      0x291e,0x0             parse_V_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001dc2   f014                                                                                                               
001dc4   d093     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'A':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Analog command                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001dc6   ec96     CALL      0x292c,0x0             parse_A_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001dc8   f014                                                                                                               
001dca   d090     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             #if PC_PG_T_COMMANDS_ENABLED                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'T':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // For timed I/O                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   parse_T_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             #endif                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('P' * 256) + 'I':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // PI for reading a single pin                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001dcc   ecce     CALL      0x2b9c,0x0             parse_PI_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001dce   f015                                                                                                               
001dd0   d08d     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('P' * 256) + 'O':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // PO for setting a single pin                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001dd2   ec43     CALL      0x2c86,0x0             parse_PO_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001dd4   f016                                                                                                               
001dd6   d08a     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('P' * 256) + 'D':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // PD for setting a pin's direction                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001dd8   ec32     CALL      0x2a64,0x0             parse_PD_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001dda   f015                                                                                                               
001ddc   d087     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('M' * 256) + 'R':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // MR for Memory Read                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001dde   ec13     CALL      0x2a26,0x0             parse_MR_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001de0   f015                                                                                                               
001de2   d084     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('M' * 256) + 'W':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // MW for Memory Write                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001de4   ecf8     CALL      0x29f0,0x0             parse_MW_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001de6   f014                                                                                                               
001de8   d081     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             #if PC_PG_T_COMMANDS_ENABLED                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('P' * 256) + 'C':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // PC for pulse configure                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   parse_PC_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('P' * 256) + 'G':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // PG for pulse go command                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   parse_PG_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             #endif                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SM for stepper motor                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001dea   ec71     CALL      0x4ce2,0x0             parse_SM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001dec   f026                                                                                                               
001dee   d07e     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'P':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SP for set pen                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001df0   ec03     CALL      0x5606,0x0             parse_SP_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001df2   f02b                                                                                                               
001df4   d07b     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('T' * 256) + 'P':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // TP for toggle pen                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001df6   ece1     CALL      0x55c2,0x0             parse_TP_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001df8   f02a                                                                                                               
001dfa   d078     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'P':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QP for query pen                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001dfc   ec66     CALL      0x54cc,0x0             parse_QP_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001dfe   f02a                                                                                                               
001e00   d075     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'E':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QE for Query motor Enable and resolution                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e02   ec7e     CALL      0x54fc,0x0             parse_QE_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e04   f02a                                                                                                               
001e06   d072     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('E' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // EM for enable motors                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e08   ec74     CALL      0x56e8,0x0             parse_EM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e0a   f02b                                                                                                               
001e0c   d06f     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'C':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SC for stepper mode configure                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e0e   ecc5     CALL      0x458a,0x0             parse_SC_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e10   f022                                                                                                               
001e12   d06c     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'N':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SN for Clear Node count                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e14   ecd2     CALL      0x57a4,0x0             parse_SN_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e16   f02b                                                                                                               
001e18   d069     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'N':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QN for Query Node count                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e1a   ecef     CALL      0x57de,0x0             parse_QN_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e1c   f02b                                                                                                               
001e1e   d066     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'L':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SL for Set Layer                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e20   ecff     CALL      0x57fe,0x0             parse_SL_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e22   f02b                                                                                                               
001e24   d063     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'L':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QL for Query Layer count                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e26   ec1c     CALL      0x5838,0x0             parse_QL_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e28   f02c                                                                                                               
001e2a   d060     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'B':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QL for Query Button (program)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e2c   ec3e     CALL      0x587c,0x0             parse_QB_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e2e   f02c                                                                                                               
001e30   d05d     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('N' * 256) + 'I':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // NI for Node count Increment                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e32   ecb0     CALL      0x5760,0x0             parse_NI_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e34   f02b                                                                                                               
001e36   d05a     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('N' * 256) + 'D':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // ND Node count Decrement                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e38   ecc3     CALL      0x5786,0x0             parse_ND_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e3a   f02b                                                                                                               
001e3c   d057     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('B' * 256) + 'L':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // BL for Boot Load                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e3e   ecf7     CALL      0x2dee,0x0             parse_BL_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e40   f016                                                                                                               
001e42   d054     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('C' * 256) + 'K':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // CL for Check                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e44   ec49     CALL      0x2e92,0x0             parse_CK_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e46   f017                                                                                                               
001e48   d051     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'C':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QC for Query Current                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e4a   ec50     CALL      0x58a0,0x0             parse_QC_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e4c   f02c                                                                                                               
001e4e   d04e     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'G':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QG for Query General                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e50   ec64     CALL      0x58c8,0x0             parse_QG_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e52   f02c                                                                                                               
001e54   d04b     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'E':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SE for Set Engraver                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e56   ec95     CALL      0x592a,0x0             parse_SE_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e58   f02c                                                                                                               
001e5a   d048     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + '2':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // S2 for RC Servo method 2                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e5c   ecfb     CALL      0x77f6,0x0             RCServo2_S2_command();                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e5e   f03b                                                                                                               
001e60   d045     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QM for Query Motor                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e62   ec7c     CALL      0x5af8,0x0             parse_QM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e64   f02d                                                                                                               
001e66   d042     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('A' * 256) + 'C':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // AC for Analog Configure                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e68   ec29     CALL      0x2852,0x0             parse_AC_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e6a   f014                                                                                                               
001e6c   d03f     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('E' * 256) + 'S':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // ES for E-Stop                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e6e   ec18     CALL      0x5430,0x0             parse_ES_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e70   f02a                                                                                                               
001e72   d03c     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('X' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // XM for X motor move                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e74   ece6     CALL      0x51cc,0x0             parse_XM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e76   f028                                                                                                               
001e78   d039     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'S':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QP for Query Step position                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e7a   ecb0     CALL      0x5b60,0x0             parse_QS_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e7c   f02d                                                                                                               
001e7e   d036     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('C' * 256) + 'S':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // CS for Clear Step position                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e80   ece3     CALL      0x5bc6,0x0             parse_CS_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e82   f02d                                                                                                               
001e84   d033     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'T':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // ST for Set Tag                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e86   ec28     CALL      0x3050,0x0             parse_ST_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e88   f018                                                                                                               
001e8a   d030     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'T':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QT for Query Tag                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e8c   ec5e     CALL      0x30bc,0x0             parse_QT_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e8e   f018                                                                                                               
001e90   d02d     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('R' * 256) + 'B':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // RB for ReBoot                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e92   ecff     CALL      0x2dfe,0x0             parse_RB_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e94   f016                                                                                                               
001e96   d02a     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'R':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QR is for Query RC Servo power state                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e98   ec06     CALL      0x2e0c,0x0             parse_QR_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e9a   f017                                                                                                               
001e9c   d027     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'R':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SR is for Set RC Servo power timeout                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001e9e   ec16     CALL      0x2e2c,0x0             parse_SR_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001ea0   f017                                                                                                               
001ea2   d024     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('H' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // HM is for Home Motor                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001ea4   ec9f     CALL      0x4f3e,0x0             parse_HM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001ea6   f027                                                                                                               
001ea8   d021     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'U':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QU is for General Query                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001eaa   dbad     RCALL     0x2606                 parse_QU_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001eac   d01f     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('T' * 256) + 'R':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001eae   ec0e     CALL      0x501c,0x0             parse_TR_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001eb0   f028                                                                                                               
001eb2   d01c     BRA       0x1eec                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 default:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001d76   0100     MOVLB     0x0                    if (0u == gCommand_Char2)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001d78   51db     MOVF      0xdb,0x0,0x1                                                                                    
001d7a   e001     BZ        0x1d7e                                                                                          
001d7c   d09b     BRA       0x1eb4                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Send back 'unknown command' error                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001d7e   ec0a     CALL      0x3a14,0x0               ebb_print((far rom char *)"!8 Err: Unknown command '");                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001d80   f01d                                                                                                               
003a14   0e8d     MOVLW     0x8d                                                                                            
003a16   6e4e     MOVWF     0x4e,0x0                                                                                        
003a18   0e80     MOVLW     0x80                                                                                            
003a1a   de1e     RCALL     0x3658                                                                                          
003a1c   ef3e     GOTO      0x387c                   ebb_print_char(gCommand_Char1);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003a1e   f01c                                                                                                               
001d82   ec10     CALL      0x3a20,0x0               ebb_print_char(':');                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001d84   f01d                                                                                                               
003a20   0e3a     MOVLW     0x3a                                                                                            
003a22   de44     RCALL     0x36ac                                                                                          
003a24   0e02     MOVLW     0x2                      ebb_print_hex(gCommand_Char1, 2);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003a26   6ee6     MOVWF     0xe6,0x0                                                                                        
003a28   c0da     MOVFF     0xda,0x4e                                                                                       
003a2a   f04e                                                                                                               
003a2c   0012     RETURN    0x0                                                                                             
                                                     ebb_print_char(0x27); // the ' character                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001d86   d0aa     BRA       0x1edc                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Send back 'unknown command' error                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001eb4   ec0a     CALL      0x3a14,0x0               ebb_print((far rom char *)"!8 Err: Unknown command '");                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001eb6   f01d                                                                                                               
                                                     ebb_print_char(gCommand_Char1);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001eb8   c0db     MOVFF     0xdb,0xfe6               ebb_print_char(gCommand_Char2);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001eba   ffe6                                                                                                               
001ebc   dccd     RCALL     0x1858                                                                                          
001ebe   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001ec0   ec10     CALL      0x3a20,0x0               ebb_print_char(':');                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001ec2   f01d                                                                                                               
001ec4   ec5c     CALL      0x3ab8,0x0               ebb_print_hex(gCommand_Char1, 2);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001ec6   f01d                                                                                                               
001ec8   c0da     MOVFF     0xda,0xfe6                                                                                      
001eca   ffe6                                                                                                               
001ecc   ec90     CALL      0x3920,0x0                                                                                      
001ece   f01c                                                                                                               
001ed0   ec24     CALL      0x3a48,0x0                                                                                      
001ed2   f01d                                                                                                               
003a48   ecfe     CALL      0x81fc,0x0                                                                                      
003a4a   f040                                                                                                               
003a4c   6e52     MOVWF     0x52,0x0                                                                                        
003a4e   0e05     MOVLW     0x5                                                                                             
003a50   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
003a52   5052     MOVF      0x52,0x0,0x0                                                                                    
003a54   0012     RETURN    0x0                                                                                             
001ed4   0e02     MOVLW     0x2                      ebb_print_hex(gCommand_Char2, 2);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001ed6   6ee6     MOVWF     0xe6,0x0                                                                                        
001ed8   c0db     MOVFF     0xdb,0x4e                                                                                       
001eda   f04e                                                                                                               
001edc   6a4f     CLRF      0x4f,0x0                                                                                        
001ede   ec51     CALL      0x36a2,0x0                                                                                      
001ee0   f01b                                                                                                               
001ee2   0e27     MOVLW     0x27                     ebb_print_char(0x27); // the ' character                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001ee4   ec56     CALL      0x36ac,0x0                                                                                      
001ee6   f01b                                                                                                               
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001ee8   ec36     CALL      0x366c,0x0             print_line_ending(kLE_NORM);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001eea   f01b                                                                                                               
                                                   break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Double check that our output pointer is now at the ending <CR>            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // If it is not, this indicates that there were extra characters that        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // the command parsing routine didn't eat. This would be an error and needs  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // to be reported. (Ignore for Reset command because FIFO pointers get cleared.) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001eec   0100     MOVLB     0x0                  (g_RX_buf[g_RX_buf_out] != kCR && 0u == error_byte)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001eee   ec39     CALL      0x3672,0x0                                                                                      
001ef0   f01b                                                                                                               
001ef2   080d     SUBLW     0xd                                                                                             
001ef4   e00d     BZ        0x1f10                                                                                          
001ef6   5197     MOVF      0x97,0x0,0x1                                                                                    
001ef8   e10b     BNZ       0x1f10                                                                                          
                                                 &&                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001efa   0e52     MOVLW     0x52                 ('R' != command)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001efc   6e4e     MOVWF     0x4e,0x0                                                                                        
001efe   6a4f     CLRF      0x4f,0x0                                                                                        
001f00   50df     MOVF      0xdf,0x0,0x0                                                                                    
001f02   184e     XORWF     0x4e,0x0,0x0                                                                                    
001f04   e103     BNZ       0x1f0c                                                                                          
001f06   52de     MOVF      0xde,0x1,0x0                                                                                    
001f08   50dd     MOVF      0xdd,0x0,0x0                                                                                    
001f0a   184f     XORWF     0x4f,0x0,0x0                                                                                    
001f0c   e001     BZ        0x1f10             )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f0e   8f97     BSF       0x97,0x7,0x1         bitset(error_byte, kERROR_BYTE_EXTRA_CHARACTERS);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Clean up by skipping over any bytes we haven't eaten                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // This is safe since we parse each packet as we get a <CR>                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // (i.e. g_RX_buf_in doesn't move while we are in this routine)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f10   c0ca     MOVFF     0xca,0xcb        g_RX_buf_out = g_RX_buf_in;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f12   f0cb                                                                                                               
001f14   0e09     MOVLW     0x9            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f16   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
001f18   e202     BC        0x1f1e                                                                                          
001f1a   6ae1     CLRF      0xe1,0x0                                                                                        
001f1c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001f1e   6ee1     MOVWF     0xe1,0x0                                                                                        
001f20   ef4d     GOTO      0x369a                                                                                          
001f22   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This function will print out the two character command that was just parsed   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // if the New line ending mode is set (CU,10,1). Every time a command is sent    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // to the EBB, it will respond with the two character command code (at least,    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // some commands will return more than that).                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // print_always = true : always print command, even in Default Line Ending Mode  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // print_always = false : do not print command when in Unified Line Ending Mode  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // print_comma = true : if command printed, also print comma after               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // print_comma = false : if command printed, do not print comma after            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // If Legacy line ending mode is turned on this function will not print anything D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f24   ece6     CALL      0x39cc,0x0     void print_command(BOOL print_always, BOOL print_comma)                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f26   f01c                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f28   0e2c     MOVLW     0x2c             char comma = ',';                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f2a   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f2c   0e01     MOVLW     0x1              if (bittstzero(gStandardizedCommandFormat) || print_always)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f2e   0101     MOVLB     0x1                                                                                             
001f30   15c5     ANDWF     0xc5,0x0,0x1                                                                                    
001f32   e103     BNZ       0x1f3a                                                                                          
001f34   0efe     MOVLW     0xfe                                                                                            
001f36   50db     MOVF      0xdb,0x0,0x0                                                                                    
001f38   e010     BZ        0x1f5a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f3a   ec3e     CALL      0x387c,0x0         ebb_putc(gCommand_Char1);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f3c   f01c                                                                                                               
00387c   c0da     MOVFF     0xda,0xfe6                                                                                      
00387e   ffe6                                                                                                               
003880   ec2c     CALL      0x1858,0x0                                                                                      
003882   f00c                                                                                                               
003884   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003886   0012     RETURN    0x0                                                                                             
001f3e   0100     MOVLB     0x0                if (gCommand_Char2 != 0u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f40   51db     MOVF      0xdb,0x0,0x1                                                                                    
001f42   e004     BZ        0x1f4c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f44   c0db     MOVFF     0xdb,0xfe6           ebb_putc(gCommand_Char2);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f46   ffe6                                                                                                               
001f48   dc87     RCALL     0x1858                                                                                          
001f4a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f4c   0efd     MOVLW     0xfd               if (print_comma)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f4e   50db     MOVF      0xdb,0x0,0x0                                                                                    
001f50   e004     BZ        0x1f5a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f52   cfdf     MOVFF     0xfdf,0xfe6          ebb_putc(comma);                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f54   ffe6                                                                                                               
001f56   dc80     RCALL     0x1858                                                                                          
001f58   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f5a   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f5c   ef4d     GOTO      0x369a                                                                                          
001f5e   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This function prints out the common endings needed on text lines sent back    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // to the PC. It operates in two modes, Legacy and New. Legacy mode is used      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // when we need to emulate how the EBB's line endings have been done since       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // the beginning (as some PC software counts on this). New mode can be turned    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // on with CU,10,1 and makes every line ending exactly the same : "\n".          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Because in Legacy mode we also need to print "OK", that is included           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // as an option here too.                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //   Legacy Mode:                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //     <type> = LE_OK_NORM : Print "OK\r\n"                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //     <type> = LE_NORM    : Print "\r\n"                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //     <type> = LE_REV     : Print "\n\r"                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //   New Mode:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //     Regardless of the value of <type>, always print "\n"                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f60   ec48     CALL      0x3690,0x0     void print_line_ending(tLineEnding le_type)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f62   f01b                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f64   0101     MOVLB     0x1              if (bittstzero(gStandardizedCommandFormat))                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f66   a1c5     BTFSS     0xc5,0x0,0x1                                                                                    
001f68   d004     BRA       0x1f72                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f6a   0e8b     MOVLW     0x8b               ebb_print((far rom char *)"\n");                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f6c   6e4e     MOVWF     0x4e,0x0                                                                                        
001f6e   0e80     MOVLW     0x80                                                                                            
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f70   d016     BRA       0x1f9e           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f72   0100     MOVLB     0x0                if ((g_ack_enable) && (le_type == kLE_OK_NORM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f74   51d0     MOVF      0xd0,0x0,0x1                                                                                    
001f76   e008     BZ        0x1f88                                                                                          
001f78   0efe     MOVLW     0xfe                                                                                            
001f7a   50db     MOVF      0xdb,0x0,0x0                                                                                    
001f7c   e105     BNZ       0x1f88                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f7e   0e88     MOVLW     0x88                 ebb_print((far rom char *)"OK");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f80   6e4e     MOVWF     0x4e,0x0                                                                                        
001f82   0e80     MOVLW     0x80                                                                                            
001f84   ec2c     CALL      0x3658,0x0                                                                                      
001f86   f01b                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f88   0efe     MOVLW     0xfe               if (le_type == kLE_REV)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f8a   50db     MOVF      0xdb,0x0,0x0                                                                                    
001f8c   0802     SUBLW     0x2                                                                                             
001f8e   e104     BNZ       0x1f98                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f90   0e85     MOVLW     0x85                 ebb_print((far rom char *)"\n\r");                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f92   6e4e     MOVWF     0x4e,0x0                                                                                        
001f94   0e80     MOVLW     0x80                                                                                            
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f96   d003     BRA       0x1f9e             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // le_type == kLE_NORM                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f98   0e82     MOVLW     0x82                 ebb_print((far rom char *)"\r\n");                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001f9a   6e4e     MOVWF     0x4e,0x0                                                                                        
001f9c   0e80     MOVLW     0x80                                                                                            
001f9e   ec2c     CALL      0x3658,0x0                                                                                      
001fa0   f01b                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001fa2   ef4d     GOTO      0x369a         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001fa4   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Return all I/Os to their default power-on values                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_R_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001fa6   ec91     CALL      0x3b22,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001fa8   f01d                                                                                                               
001faa   ec81     CALL      0x3702,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001fac   f01b                                                                                                               
001fae   dc83     RCALL     0x18b6           check_and_send_TX_data();                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001fb0   ef55     GOTO      0x14aa           UserInit();                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001fb2   f00a                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // CU is "Configure UBW" and controls system-wide configuration values           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "CU,<parameter_number>,<parameter_value><CR>"                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <parameter_number> <parameter_value>                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 1   {1|0} turns on or off the 'ack' ("OK" at end of packets)                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 2   {1|0} turns on or off parameter limit checking (defaults to on))          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 3   {1|0} turns on or off the red LED acting as an empty FIFO indicator (defaults to off) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 4   <new_fifo_size> sets the FIFO size, in commands. Defaults to 1 at boot    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 10  {1|0} turns on or off the standardized command format replies (defaults to off)) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 50  {1|0} turns on or off the automatic enabling of both motors on any move command (defaults to on) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 51  <limit_switch_mask> sets the limit_switch_mask value for limit switch checking in ISR. Set to 0 to disable. Any high bit looks for a corresponding bit in the limit_switch_target on PORTB D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 52  <limit_switch_target> set the limit_switch_value for limit switch checking in ISR.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 53  {1|0} turns on or off the sending of "Limit switch triggered" replies (defaults to off) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 54  {1|0} turns on/off command checksum (defaults to off)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 60  <NewThreshood> Set the power lost threshold. Set to 0 to disable.         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 61  <NewStepperDisableTimeoutS> Sets the stepper timeout in seconds. 0 to disable. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 250 {1|0} turns on or off the GPIO DEBUG (i/o pins to time moves and the ISR) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 251 {1|0} turns on or off the UART ISR DEBUG (prints internal numbers at end of each move) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 252 {1|0} turns on or off the UART ISR DEBUG FULL (prints internal numbers at end of each ISR) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 253 {1|0} turns on or off the UART COMMAND DEBUG (prints all received command bytes) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 254 {1} turns on lock up mode. Tight loop of I/O toggles shows true ISR timing. Reset to exit. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 255 {1|0} turns on or off command parsing debug printing on USB               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 256 {1|0} 1=don't add any moves to FIFO, 0=(default) add moves to FIFO (used for testing of parse functions) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 257 {1|0} turns on or off RC7 as indicator of parsing any command (when high) - defaults to off D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001fb4   cfd9     MOVFF     0xfd9,0xfe6    void parse_CU_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001fb6   ffe6                                                                                                               
001fb8   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
001fba   ffd9                                                                                                               
001fbc   0e04     MOVLW     0x4                                                                                             
001fbe   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT16 parameter_number;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             INT16 paramater_value;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001fc0   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001fc2   6ae6     CLRF      0xe6,0x0                                                                                        
001fc4   dfaf     RCALL     0x1f24                                                                                          
001fc6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001fc8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001fca   6ae6     CLRF      0xe6,0x0         extract_number(kUINT, &parameter_number, kREQUIRED);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001fcc   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
001fce   ffe6                                                                                                               
001fd0   cfda     MOVFF     0xfda,0xfe6                                                                                     
001fd2   ffe6                                                                                                               
001fd4   0e03     MOVLW     0x3                                                                                             
001fd6   6ee6     MOVWF     0xe6,0x0                                                                                        
001fd8   ecb9     CALL      0x3172,0x0                                                                                      
001fda   f018                                                                                                               
001fdc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001fde   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001fe0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001fe2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001fe4   6ae6     CLRF      0xe6,0x0         extract_number(kINT, &paramater_value, kREQUIRED);                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
001fe6   50d9     MOVF      0xd9,0x0,0x0                                                                                    
001fe8   0f02     ADDLW     0x2                                                                                             
001fea   6ee6     MOVWF     0xe6,0x0                                                                                        
001fec   0e00     MOVLW     0x0                                                                                             
001fee   20da     ADDWFC    0xda,0x0,0x0                                                                                    
001ff0   6ee6     MOVWF     0xe6,0x0                                                                                        
001ff2   0e02     MOVLW     0x2                                                                                             
001ff4   6ee6     MOVWF     0xe6,0x0                                                                                        
001ff6   ecb9     CALL      0x3172,0x0                                                                                      
001ff8   f018                                                                                                               
001ffa   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001ffc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001ffe   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002000   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002002   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002004   5197     MOVF      0x97,0x0,0x1                                                                                    
002006   e001     BZ        0x200a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002008   d2f4     BRA       0x25f2             return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,1,1 or CU,1,0 to turn on/off "OK" at end of command reply                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00200a   0e01     MOVLW     0x1              if (1u == parameter_number)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00200c   6e4e     MOVWF     0x4e,0x0                                                                                        
00200e   6a4f     CLRF      0x4f,0x0                                                                                        
002010   50df     MOVF      0xdf,0x0,0x0                                                                                    
002012   184e     XORWF     0x4e,0x0,0x0                                                                                    
002014   e103     BNZ       0x201c                                                                                          
002016   52de     MOVF      0xde,0x1,0x0                                                                                    
002018   50dd     MOVF      0xdd,0x0,0x0                                                                                    
00201a   184f     XORWF     0x4f,0x0,0x0                                                                                    
00201c   e11a     BNZ       0x2052                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00201e   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value || 1 == paramater_value)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002020   0f02     ADDLW     0x2                                                                                             
002022   6ee9     MOVWF     0xe9,0x0                                                                                        
002024   cfda     MOVFF     0xfda,0xfea                                                                                     
002026   ffea                                                                                                               
002028   50ee     MOVF      0xee,0x0,0x0                                                                                    
00202a   10ed     IORWF     0xed,0x0,0x0                                                                                    
00202c   e00b     BZ        0x2044                                                                                          
00202e   0e01     MOVLW     0x1                                                                                             
002030   6e4e     MOVWF     0x4e,0x0                                                                                        
002032   6a4f     CLRF      0x4f,0x0                                                                                        
002034   0e02     MOVLW     0x2                                                                                             
002036   50db     MOVF      0xdb,0x0,0x0                                                                                    
002038   184e     XORWF     0x4e,0x0,0x0                                                                                    
00203a   e103     BNZ       0x2042                                                                                          
00203c   0e03     MOVLW     0x3                                                                                             
00203e   50db     MOVF      0xdb,0x0,0x0                                                                                    
002040   184f     XORWF     0x4f,0x0,0x0                                                                                    
002042   e104     BNZ       0x204c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002044   0e02     MOVLW     0x2                  g_ack_enable = paramater_value;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002046   cfdb     MOVFF     0xfdb,0xd0                                                                                      
002048   f0d0                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00204a   d002     BRA       0x2050             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00204c   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00204e   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,2,1 or CU,2,0 to turn on/off parameter limit checks                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002050   d2cd     BRA       0x25ec           else if (2u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002052   0e02     MOVLW     0x2                                                                                             
002054   6e4e     MOVWF     0x4e,0x0                                                                                        
002056   6a4f     CLRF      0x4f,0x0                                                                                        
002058   50df     MOVF      0xdf,0x0,0x0                                                                                    
00205a   184e     XORWF     0x4e,0x0,0x0                                                                                    
00205c   e103     BNZ       0x2064                                                                                          
00205e   52de     MOVF      0xde,0x1,0x0                                                                                    
002060   50dd     MOVF      0xdd,0x0,0x0                                                                                    
002062   184f     XORWF     0x4f,0x0,0x0                                                                                    
002064   e11a     BNZ       0x209a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002066   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value || 1 == paramater_value)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002068   0f02     ADDLW     0x2                                                                                             
00206a   6ee9     MOVWF     0xe9,0x0                                                                                        
00206c   cfda     MOVFF     0xfda,0xfea                                                                                     
00206e   ffea                                                                                                               
002070   50ee     MOVF      0xee,0x0,0x0                                                                                    
002072   10ed     IORWF     0xed,0x0,0x0                                                                                    
002074   e00b     BZ        0x208c                                                                                          
002076   0e01     MOVLW     0x1                                                                                             
002078   6e4e     MOVWF     0x4e,0x0                                                                                        
00207a   6a4f     CLRF      0x4f,0x0                                                                                        
00207c   0e02     MOVLW     0x2                                                                                             
00207e   50db     MOVF      0xdb,0x0,0x0                                                                                    
002080   184e     XORWF     0x4e,0x0,0x0                                                                                    
002082   e103     BNZ       0x208a                                                                                          
002084   0e03     MOVLW     0x3                                                                                             
002086   50db     MOVF      0xdb,0x0,0x0                                                                                    
002088   184f     XORWF     0x4f,0x0,0x0                                                                                    
00208a   e104     BNZ       0x2094                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00208c   0e02     MOVLW     0x2                  gLimitChecks = paramater_value;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00208e   cfdb     MOVFF     0xfdb,0x1c4                                                                                     
002090   f1c4                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002092   d002     BRA       0x2098             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002094   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002096   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,3,1 or CU,3,0 to turn on/off red LED FIFO empty indicator                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002098   d2a9     BRA       0x25ec           else if (3u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00209a   0e03     MOVLW     0x3                                                                                             
00209c   6e4e     MOVWF     0x4e,0x0                                                                                        
00209e   6a4f     CLRF      0x4f,0x0                                                                                        
0020a0   50df     MOVF      0xdf,0x0,0x0                                                                                    
0020a2   184e     XORWF     0x4e,0x0,0x0                                                                                    
0020a4   e103     BNZ       0x20ac                                                                                          
0020a6   52de     MOVF      0xde,0x1,0x0                                                                                    
0020a8   50dd     MOVF      0xdd,0x0,0x0                                                                                    
0020aa   184f     XORWF     0x4f,0x0,0x0                                                                                    
0020ac   e11c     BNZ       0x20e6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0020ae   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0020b0   0f02     ADDLW     0x2                                                                                             
0020b2   6ee9     MOVWF     0xe9,0x0                                                                                        
0020b4   cfda     MOVFF     0xfda,0xfea                                                                                     
0020b6   ffea                                                                                                               
0020b8   50ee     MOVF      0xee,0x0,0x0                                                                                    
0020ba   10ed     IORWF     0xed,0x0,0x0                                                                                    
0020bc   e103     BNZ       0x20c4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0020be   9006     BCF       0x6,0x0,0x0          bitclrzero(gRedLEDEmptyFIFO);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0020c0   948c     BCF       0x8c,0x2,0x0         mLED_2_Off()                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0020c2   d010     BRA       0x20e4             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0020c4   0e01     MOVLW     0x1                                                                                             
0020c6   6e4e     MOVWF     0x4e,0x0                                                                                        
0020c8   6a4f     CLRF      0x4f,0x0                                                                                        
0020ca   0e02     MOVLW     0x2                                                                                             
0020cc   50db     MOVF      0xdb,0x0,0x0                                                                                    
0020ce   184e     XORWF     0x4e,0x0,0x0                                                                                    
0020d0   e103     BNZ       0x20d8                                                                                          
0020d2   0e03     MOVLW     0x3                                                                                             
0020d4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0020d6   184f     XORWF     0x4f,0x0,0x0                                                                                    
0020d8   e103     BNZ       0x20e0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0020da   8006     BSF       0x6,0x0,0x0          bitsetzero(gRedLEDEmptyFIFO);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0020dc   948c     BCF       0x8c,0x2,0x0         mLED_2_Off()                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0020de   d002     BRA       0x20e4             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0020e0   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0020e2   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,4,<new_FIFO_size>                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0020e4   d283     BRA       0x25ec           else if (4u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0020e6   0e04     MOVLW     0x4                                                                                             
0020e8   6e4e     MOVWF     0x4e,0x0                                                                                        
0020ea   6a4f     CLRF      0x4f,0x0                                                                                        
0020ec   50df     MOVF      0xdf,0x0,0x0                                                                                    
0020ee   184e     XORWF     0x4e,0x0,0x0                                                                                    
0020f0   e103     BNZ       0x20f8                                                                                          
0020f2   52de     MOVF      0xde,0x1,0x0                                                                                    
0020f4   50dd     MOVF      0xdd,0x0,0x0                                                                                    
0020f6   184f     XORWF     0x4f,0x0,0x0                                                                                    
0020f8   e11d     BNZ       0x2134                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0020fa   0e02     MOVLW     0x2                if (paramater_value > (INT16)COMMAND_FIFO_MAX_LENGTH)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0020fc   cfdb     MOVFF     0xfdb,0x4e                                                                                      
0020fe   f04e                                                                                                               
002100   0e03     MOVLW     0x3                                                                                             
002102   cfdb     MOVFF     0xfdb,0x4f                                                                                      
002104   f04f                                                                                                               
002106   344f     RLCF      0x4f,0x0,0x0                                                                                    
002108   e204     BC        0x2112                                                                                          
00210a   504e     MOVF      0x4e,0x0,0x0                                                                                    
00210c   0820     SUBLW     0x20                                                                                            
00210e   0e00     MOVLW     0x0                                                                                             
002110   544f     SUBFWB    0x4f,0x0,0x0                                                                                    
002112   e207     BC        0x2122                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002114   0e20     MOVLW     0x20                 paramater_value = COMMAND_FIFO_MAX_LENGTH;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002116   6ef3     MOVWF     0xf3,0x0                                                                                        
002118   0e02     MOVLW     0x2                                                                                             
00211a   cff3     MOVFF     0xff3,0xfdb                                                                                     
00211c   ffdb                                                                                                               
00211e   0e03     MOVLW     0x3                                                                                             
002120   6adb     CLRF      0xdb,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Spin here until we're certain the FIFO is empty and there are no          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // command executing. We want the ISR to be completely idle while we         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // change this value.                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002122   ec3a     CALL      0x5a74,0x0         while (process_QM())                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002124   f02d                                                                                                               
002126   0900     IORLW     0x0                                                                                             
002128   e001     BZ        0x212c                                                                                          
00212a   d7fb     BRA       0x2122                                                                                          
                                                 ;                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00212c   0e02     MOVLW     0x2                gCurrentFIFOLength = paramater_value;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00212e   50db     MOVF      0xdb,0x0,0x0                                                                                    
002130   6e13     MOVWF     0x13,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,10,1 or CU,10,0 to turn on/off standardized line ending                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002132   d25c     BRA       0x25ec           else if (10u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002134   0e0a     MOVLW     0xa                                                                                             
002136   6e4e     MOVWF     0x4e,0x0                                                                                        
002138   6a4f     CLRF      0x4f,0x0                                                                                        
00213a   50df     MOVF      0xdf,0x0,0x0                                                                                    
00213c   184e     XORWF     0x4e,0x0,0x0                                                                                    
00213e   e103     BNZ       0x2146                                                                                          
002140   52de     MOVF      0xde,0x1,0x0                                                                                    
002142   50dd     MOVF      0xdd,0x0,0x0                                                                                    
002144   184f     XORWF     0x4f,0x0,0x0                                                                                    
002146   e11c     BNZ       0x2180                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002148   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00214a   0f02     ADDLW     0x2                                                                                             
00214c   6ee9     MOVWF     0xe9,0x0                                                                                        
00214e   cfda     MOVFF     0xfda,0xfea                                                                                     
002150   ffea                                                                                                               
002152   50ee     MOVF      0xee,0x0,0x0                                                                                    
002154   10ed     IORWF     0xed,0x0,0x0                                                                                    
002156   e103     BNZ       0x215e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002158   0101     MOVLB     0x1                  bitclrzero(gStandardizedCommandFormat);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00215a   91c5     BCF       0xc5,0x0,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00215c   d010     BRA       0x217e             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00215e   0e01     MOVLW     0x1                                                                                             
002160   6e4e     MOVWF     0x4e,0x0                                                                                        
002162   6a4f     CLRF      0x4f,0x0                                                                                        
002164   0e02     MOVLW     0x2                                                                                             
002166   50db     MOVF      0xdb,0x0,0x0                                                                                    
002168   184e     XORWF     0x4e,0x0,0x0                                                                                    
00216a   e103     BNZ       0x2172                                                                                          
00216c   0e03     MOVLW     0x3                                                                                             
00216e   50db     MOVF      0xdb,0x0,0x0                                                                                    
002170   184f     XORWF     0x4f,0x0,0x0                                                                                    
002172   e103     BNZ       0x217a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002174   0101     MOVLB     0x1                  bitsetzero(gStandardizedCommandFormat);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002176   81c5     BSF       0xc5,0x0,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002178   d002     BRA       0x217e             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00217a   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00217c   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,50,1 or CU,50,0 to turn on/off automatic motor enable                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00217e   d236     BRA       0x25ec           else if (50u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002180   0e32     MOVLW     0x32                                                                                            
002182   6e4e     MOVWF     0x4e,0x0                                                                                        
002184   6a4f     CLRF      0x4f,0x0                                                                                        
002186   50df     MOVF      0xdf,0x0,0x0                                                                                    
002188   184e     XORWF     0x4e,0x0,0x0                                                                                    
00218a   e103     BNZ       0x2192                                                                                          
00218c   52de     MOVF      0xde,0x1,0x0                                                                                    
00218e   50dd     MOVF      0xdd,0x0,0x0                                                                                    
002190   184f     XORWF     0x4f,0x0,0x0                                                                                    
002192   e10f     BNZ       0x21b2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002194   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002196   0f02     ADDLW     0x2                                                                                             
002198   6ee9     MOVWF     0xe9,0x0                                                                                        
00219a   cfda     MOVFF     0xfda,0xfea                                                                                     
00219c   ffea                                                                                                               
00219e   50ee     MOVF      0xee,0x0,0x0                                                                                    
0021a0   10ed     IORWF     0xed,0x0,0x0                                                                                    
0021a2   e103     BNZ       0x21aa                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0021a4   0100     MOVLB     0x0                  gAutomaticMotorEnable = FALSE;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0021a6   6bd9     CLRF      0xd9,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0021a8   d003     BRA       0x21b0             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0021aa   0100     MOVLB     0x0                  gAutomaticMotorEnable = TRUE;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0021ac   0e01     MOVLW     0x1                                                                                             
0021ae   6fd9     MOVWF     0xd9,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,51,<limit_switch_mask>                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0021b0   d21d     BRA       0x25ec           else if (51u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0021b2   0e33     MOVLW     0x33                                                                                            
0021b4   6e4e     MOVWF     0x4e,0x0                                                                                        
0021b6   6a4f     CLRF      0x4f,0x0                                                                                        
0021b8   50df     MOVF      0xdf,0x0,0x0                                                                                    
0021ba   184e     XORWF     0x4e,0x0,0x0                                                                                    
0021bc   e103     BNZ       0x21c4                                                                                          
0021be   52de     MOVF      0xde,0x1,0x0                                                                                    
0021c0   50dd     MOVF      0xdd,0x0,0x0                                                                                    
0021c2   184f     XORWF     0x4f,0x0,0x0                                                                                    
0021c4   e111     BNZ       0x21e8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0021c6   0eff     MOVLW     0xff               gLimitSwitchMask = (paramater_value & 0xFF);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0021c8   6ee7     MOVWF     0xe7,0x0                                                                                        
0021ca   0e02     MOVLW     0x2                                                                                             
0021cc   cfdb     MOVFF     0xfdb,0x4e                                                                                      
0021ce   f04e                                                                                                               
0021d0   0e03     MOVLW     0x3                                                                                             
0021d2   cfdb     MOVFF     0xfdb,0x4f                                                                                      
0021d4   f04f                                                                                                               
0021d6   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0021d8   164e     ANDWF     0x4e,0x1,0x0                                                                                    
0021da   6a4f     CLRF      0x4f,0x0                                                                                        
0021dc   504e     MOVF      0x4e,0x0,0x0                                                                                    
0021de   6e0c     MOVWF     0xc,0x0                                                                                         
0021e0   500c     MOVF      0xc,0x0,0x0        if (gLimitSwitchMask == 0u)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0021e2   e101     BNZ       0x21e6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0021e4   900e     BCF       0xe,0x0,0x0          bitclrzero(gLimitSwitchTriggered);                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,52,<limit_siwtch_target>                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0021e6   d202     BRA       0x25ec           else if (52u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0021e8   0e34     MOVLW     0x34                                                                                            
0021ea   6e4e     MOVWF     0x4e,0x0                                                                                        
0021ec   6a4f     CLRF      0x4f,0x0                                                                                        
0021ee   50df     MOVF      0xdf,0x0,0x0                                                                                    
0021f0   184e     XORWF     0x4e,0x0,0x0                                                                                    
0021f2   e103     BNZ       0x21fa                                                                                          
0021f4   52de     MOVF      0xde,0x1,0x0                                                                                    
0021f6   50dd     MOVF      0xdd,0x0,0x0                                                                                    
0021f8   184f     XORWF     0x4f,0x0,0x0                                                                                    
0021fa   e10e     BNZ       0x2218                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0021fc   0eff     MOVLW     0xff               gLimitSwitchTarget = (paramater_value & 0xFF);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0021fe   6ee7     MOVWF     0xe7,0x0                                                                                        
002200   0e02     MOVLW     0x2                                                                                             
002202   cfdb     MOVFF     0xfdb,0x4e                                                                                      
002204   f04e                                                                                                               
002206   0e03     MOVLW     0x3                                                                                             
002208   cfdb     MOVFF     0xfdb,0x4f                                                                                      
00220a   f04f                                                                                                               
00220c   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00220e   164e     ANDWF     0x4e,0x1,0x0                                                                                    
002210   6a4f     CLRF      0x4f,0x0                                                                                        
002212   504e     MOVF      0x4e,0x0,0x0                                                                                    
002214   6e0d     MOVWF     0xd,0x0                                                                                         
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,53,1 turns on the sending of "Limit switch trigger" replies              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002216   d1ea     BRA       0x25ec           else if (53u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002218   0e35     MOVLW     0x35                                                                                            
00221a   6e4e     MOVWF     0x4e,0x0                                                                                        
00221c   6a4f     CLRF      0x4f,0x0                                                                                        
00221e   50df     MOVF      0xdf,0x0,0x0                                                                                    
002220   184e     XORWF     0x4e,0x0,0x0                                                                                    
002222   e103     BNZ       0x222a                                                                                          
002224   52de     MOVF      0xde,0x1,0x0                                                                                    
002226   50dd     MOVF      0xdd,0x0,0x0                                                                                    
002228   184f     XORWF     0x4f,0x0,0x0                                                                                    
00222a   e114     BNZ       0x2254                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00222c   0e01     MOVLW     0x1                if (1 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00222e   6e4e     MOVWF     0x4e,0x0                                                                                        
002230   6a4f     CLRF      0x4f,0x0                                                                                        
002232   0e02     MOVLW     0x2                                                                                             
002234   50db     MOVF      0xdb,0x0,0x0                                                                                    
002236   184e     XORWF     0x4e,0x0,0x0                                                                                    
002238   e103     BNZ       0x2240                                                                                          
00223a   0e03     MOVLW     0x3                                                                                             
00223c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00223e   184f     XORWF     0x4f,0x0,0x0                                                                                    
002240   e104     BNZ       0x224a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002242   0100     MOVLB     0x0                  gLimitSwitchReplies = TRUE;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002244   0e01     MOVLW     0x1                                                                                             
002246   6fdd     MOVWF     0xdd,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002248   d004     BRA       0x2252             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00224a   0100     MOVLB     0x0                  gLimitSwitchReplies = FALSE;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00224c   6bdd     CLRF      0xdd,0x1                                                                                        
00224e   0100     MOVLB     0x0                  gLimitSwitchReplyPrinted = FALSE;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002250   6bde     CLRF      0xde,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,54,1 turns on command checksums                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002252   d1cc     BRA       0x25ec           else if (54u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002254   0e36     MOVLW     0x36                                                                                            
002256   6e4e     MOVWF     0x4e,0x0                                                                                        
002258   6a4f     CLRF      0x4f,0x0                                                                                        
00225a   50df     MOVF      0xdf,0x0,0x0                                                                                    
00225c   184e     XORWF     0x4e,0x0,0x0                                                                                    
00225e   e103     BNZ       0x2266                                                                                          
002260   52de     MOVF      0xde,0x1,0x0                                                                                    
002262   50dd     MOVF      0xdd,0x0,0x0                                                                                    
002264   184f     XORWF     0x4f,0x0,0x0                                                                                    
002266   e112     BNZ       0x228c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002268   0e01     MOVLW     0x1                if (1 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00226a   6e4e     MOVWF     0x4e,0x0                                                                                        
00226c   6a4f     CLRF      0x4f,0x0                                                                                        
00226e   0e02     MOVLW     0x2                                                                                             
002270   50db     MOVF      0xdb,0x0,0x0                                                                                    
002272   184e     XORWF     0x4e,0x0,0x0                                                                                    
002274   e103     BNZ       0x227c                                                                                          
002276   0e03     MOVLW     0x3                                                                                             
002278   50db     MOVF      0xdb,0x0,0x0                                                                                    
00227a   184f     XORWF     0x4f,0x0,0x0                                                                                    
00227c   e104     BNZ       0x2286                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00227e   0100     MOVLB     0x0                  gCommandChecksumRequired = TRUE;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002280   0e01     MOVLW     0x1                                                                                             
002282   6fdf     MOVWF     0xdf,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002284   d002     BRA       0x228a             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002286   0100     MOVLB     0x0                  gCommandChecksumRequired = FALSE;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002288   6bdf     CLRF      0xdf,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,60,<NewThreshold>                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00228a   d1b0     BRA       0x25ec           else if (60u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00228c   0e3c     MOVLW     0x3c                                                                                            
00228e   6e4e     MOVWF     0x4e,0x0                                                                                        
002290   6a4f     CLRF      0x4f,0x0                                                                                        
002292   50df     MOVF      0xdf,0x0,0x0                                                                                    
002294   184e     XORWF     0x4e,0x0,0x0                                                                                    
002296   e103     BNZ       0x229e                                                                                          
002298   52de     MOVF      0xde,0x1,0x0                                                                                    
00229a   50dd     MOVF      0xdd,0x0,0x0                                                                                    
00229c   184f     XORWF     0x4f,0x0,0x0                                                                                    
00229e   e10d     BNZ       0x22ba                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0022a0   0e02     MOVLW     0x2                g_PowerMonitorThresholdADC = (paramater_value & 0x03FF);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0022a2   cfdb     MOVFF     0xfdb,0xa5                                                                                      
0022a4   f0a5                                                                                                               
0022a6   0e03     MOVLW     0x3                                                                                             
0022a8   cfdb     MOVFF     0xfdb,0xa6                                                                                      
0022aa   f0a6                                                                                                               
0022ac   0eff     MOVLW     0xff                                                                                            
0022ae   0100     MOVLB     0x0                                                                                             
0022b0   17a5     ANDWF     0xa5,0x1,0x1                                                                                    
0022b2   0e03     MOVLW     0x3                                                                                             
0022b4   0100     MOVLB     0x0                                                                                             
0022b6   17a6     ANDWF     0xa6,0x1,0x1                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,61,<NewStepperDisableTimeoutThreshold>                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0022b8   d199     BRA       0x25ec           else if (61u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0022ba   0e3d     MOVLW     0x3d                                                                                            
0022bc   6e4e     MOVWF     0x4e,0x0                                                                                        
0022be   6a4f     CLRF      0x4f,0x0                                                                                        
0022c0   50df     MOVF      0xdf,0x0,0x0                                                                                    
0022c2   184e     XORWF     0x4e,0x0,0x0                                                                                    
0022c4   e103     BNZ       0x22cc                                                                                          
0022c6   52de     MOVF      0xde,0x1,0x0                                                                                    
0022c8   50dd     MOVF      0xdd,0x0,0x0                                                                                    
0022ca   184f     XORWF     0x4f,0x0,0x0                                                                                    
0022cc   e137     BNZ       0x233c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0022ce   9ef2     BCF       0xf2,0x7,0x0       INTCONbits.GIEH = 0;    // Turn high priority interrupts off                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0022d0   9cf2     BCF       0xf2,0x6,0x0       INTCONbits.GIEL = 0;    // Turn low priority interrupts off                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0022d2   0e02     MOVLW     0x2                g_StepperDisableTimeoutS = paramater_value;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0022d4   cfdb     MOVFF     0xfdb,0xa9                                                                                      
0022d6   f0a9                                                                                                               
0022d8   0e03     MOVLW     0x3                                                                                             
0022da   cfdb     MOVFF     0xfdb,0xaa                                                                                      
0022dc   f0aa                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0022de   0100     MOVLB     0x0                if (g_StepperDisableTimeoutS == 0u)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0022e0   51a9     MOVF      0xa9,0x0,0x1                                                                                    
0022e2   11aa     IORWF     0xaa,0x0,0x1                                                                                    
0022e4   e109     BNZ       0x22f8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Turn feature completely off no matter what state we're in               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0022e6   0100     MOVLB     0x0                  g_StepperDisableState = kSTEPPER_TIMEOUT_DISABLED;                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0022e8   6ba8     CLRF      0xa8,0x1                                                                                        
0022ea   0100     MOVLB     0x0                  g_StepperDisableSecondCounter = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0022ec   6bab     CLRF      0xab,0x1                                                                                        
0022ee   6bac     CLRF      0xac,0x1                                                                                        
0022f0   0100     MOVLB     0x0                  g_StepperDisableCountdownS = 0;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0022f2   6bad     CLRF      0xad,0x1                                                                                        
0022f4   6bae     CLRF      0xae,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0022f6   d01f     BRA       0x2336             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // User wants feature enabled with new timeout. Do different things        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // based on current state.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0022f8   0100     MOVLB     0x0                  switch (g_StepperDisableState)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0022fa   51a8     MOVF      0xa8,0x0,0x1                                                                                    
0022fc   0a03     XORLW     0x3                                                                                             
0022fe   e014     BZ        0x2328                                                                                          
002300   0a02     XORLW     0x2                                                                                             
002302   e00f     BZ        0x2322                                                                                          
002304   0a01     XORLW     0x1                                                                                             
002306   e00d     BZ        0x2322                                                                                          
002308   0a02     XORLW     0x2                                                                                             
00230a   e001     BZ        0x230e                                                                                          
00230c   d00a     BRA       0x2322                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   case kSTEPPER_TIMEOUT_TIMING:                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Always start over with new timeout value                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00230e   c0a9     MOVFF     0xa9,0xad                g_StepperDisableCountdownS = g_StepperDisableTimeoutS;                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002310   f0ad                                                                                                               
002312   c0aa     MOVFF     0xaa,0xae                                                                                       
002314   f0ae                                                                                                               
002316   0100     MOVLB     0x0                      g_StepperDisableSecondCounter = 1000u;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002318   0ee8     MOVLW     0xe8                                                                                            
00231a   6fab     MOVWF     0xab,0x1                                                                                        
00231c   0e03     MOVLW     0x3                                                                                             
00231e   6fac     MOVWF     0xac,0x1                                                                                        
002320   d00a     BRA       0x2336                   break;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   default:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   case kSTEPPER_TIMEOUT_PRIMED:                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   case kSTEPPER_TIMEOUT_DISABLED:                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002322   0100     MOVLB     0x0                      g_StepperDisableState = kSTEPPER_TIMEOUT_PRIMED;                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002324   0e01     MOVLW     0x1                                                                                             
002326   6fa8     MOVWF     0xa8,0x1                                                                                        
                                                     // Note intentional fall-through                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   case kSTEPPER_TIMEOUT_FIRED:                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002328   0100     MOVLB     0x0                      g_StepperDisableSecondCounter = 0;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00232a   6bab     CLRF      0xab,0x1                                                                                        
00232c   6bac     CLRF      0xac,0x1                                                                                        
00232e   0100     MOVLB     0x0                      g_StepperDisableCountdownS = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002330   6bad     CLRF      0xad,0x1                                                                                        
002332   6bae     CLRF      0xae,0x1                                                                                        
002334   d000     BRA       0x2336                   break;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002336   8cf2     BSF       0xf2,0x6,0x0       INTCONbits.GIEL = 1;    // Turn low priority interrupts on                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002338   8ef2     BSF       0xf2,0x7,0x0       INTCONbits.GIEH = 1;    // Turn high priority interrupts on                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,250,1 or CU,250,0 to turn on/off GPIO ISR timing debug                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00233a   d158     BRA       0x25ec           else if (250u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00233c   0efa     MOVLW     0xfa                                                                                            
00233e   6e4e     MOVWF     0x4e,0x0                                                                                        
002340   6a4f     CLRF      0x4f,0x0                                                                                        
002342   50df     MOVF      0xdf,0x0,0x0                                                                                    
002344   184e     XORWF     0x4e,0x0,0x0                                                                                    
002346   e103     BNZ       0x234e                                                                                          
002348   52de     MOVF      0xde,0x1,0x0                                                                                    
00234a   50dd     MOVF      0xdd,0x0,0x0                                                                                    
00234c   184f     XORWF     0x4f,0x0,0x0                                                                                    
00234e   e11d     BNZ       0x238a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002350   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002352   0f02     ADDLW     0x2                                                                                             
002354   6ee9     MOVWF     0xe9,0x0                                                                                        
002356   cfda     MOVFF     0xfda,0xfea                                                                                     
002358   ffea                                                                                                               
00235a   50ee     MOVF      0xee,0x0,0x0                                                                                    
00235c   10ed     IORWF     0xed,0x0,0x0                                                                                    
00235e   e102     BNZ       0x2364                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002360   9209     BCF       0x9,0x1,0x0          bitclr(TestMode, TEST_MODE_GPIO_NUM);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002362   d012     BRA       0x2388             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002364   0e01     MOVLW     0x1                                                                                             
002366   6e4e     MOVWF     0x4e,0x0                                                                                        
002368   6a4f     CLRF      0x4f,0x0                                                                                        
00236a   0e02     MOVLW     0x2                                                                                             
00236c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00236e   184e     XORWF     0x4e,0x0,0x0                                                                                    
002370   e103     BNZ       0x2378                                                                                          
002372   0e03     MOVLW     0x3                                                                                             
002374   50db     MOVF      0xdb,0x0,0x0                                                                                    
002376   184f     XORWF     0x4f,0x0,0x0                                                                                    
002378   e105     BNZ       0x2384                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00237a   8209     BSF       0x9,0x1,0x0          bitset(TestMode, TEST_MODE_GPIO_NUM);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00237c   9295     BCF       0x95,0x1,0x0         TRISDbits.TRISD1 = 0;   // D1 high when in ISR                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00237e   9095     BCF       0x95,0x0,0x0         TRISDbits.TRISD0 = 0;   // D0 high when loading next command               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002380   9292     BCF       0x92,0x1,0x0         TRISAbits.TRISA1 = 0;   // A1 when FIFO empty                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002382   d002     BRA       0x2388             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002384   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002386   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,251,1 or CU,251,0 to turn on/off ISR end of move values printing (On RC6) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002388   d131     BRA       0x25ec           else if (251u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00238a   0efb     MOVLW     0xfb                                                                                            
00238c   6e4e     MOVWF     0x4e,0x0                                                                                        
00238e   6a4f     CLRF      0x4f,0x0                                                                                        
002390   50df     MOVF      0xdf,0x0,0x0                                                                                    
002392   184e     XORWF     0x4e,0x0,0x0                                                                                    
002394   e103     BNZ       0x239c                                                                                          
002396   52de     MOVF      0xde,0x1,0x0                                                                                    
002398   50dd     MOVF      0xdd,0x0,0x0                                                                                    
00239a   184f     XORWF     0x4f,0x0,0x0                                                                                    
00239c   e12b     BNZ       0x23f4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00239e   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0023a0   0f02     ADDLW     0x2                                                                                             
0023a2   6ee9     MOVWF     0xe9,0x0                                                                                        
0023a4   cfda     MOVFF     0xfda,0xfea                                                                                     
0023a6   ffea                                                                                                               
0023a8   50ee     MOVF      0xee,0x0,0x0                                                                                    
0023aa   10ed     IORWF     0xed,0x0,0x0                                                                                    
0023ac   e103     BNZ       0x23b4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0023ae   9609     BCF       0x9,0x3,0x0          bitclr(TestMode, TEST_MODE_USART_ISR_FULL_NUM);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0023b0   9409     BCF       0x9,0x2,0x0          bitclr(TestMode, TEST_MODE_USART_ISR_NUM);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0023b2   d01f     BRA       0x23f2             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0023b4   0e01     MOVLW     0x1                                                                                             
0023b6   6e4e     MOVWF     0x4e,0x0                                                                                        
0023b8   6a4f     CLRF      0x4f,0x0                                                                                        
0023ba   0e02     MOVLW     0x2                                                                                             
0023bc   50db     MOVF      0xdb,0x0,0x0                                                                                    
0023be   184e     XORWF     0x4e,0x0,0x0                                                                                    
0023c0   e103     BNZ       0x23c8                                                                                          
0023c2   0e03     MOVLW     0x3                                                                                             
0023c4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0023c6   184f     XORWF     0x4f,0x0,0x0                                                                                    
0023c8   e112     BNZ       0x23ee                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0023ca   8409     BSF       0x9,0x2,0x0          bitset(TestMode, TEST_MODE_USART_ISR_NUM);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0023cc   9609     BCF       0x9,0x3,0x0          bitclr(TestMode, TEST_MODE_USART_ISR_FULL_NUM);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 baud1USART(                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_IDLE_CLK_LOW &                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_16_BIT_RATE &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_WAKEUP_OFF &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_AUTO_OFF                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0023ce   0eec     MOVLW     0xec                 );                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0023d0   6ee6     MOVWF     0xe6,0x0                                                                                        
0023d2   ec9f     CALL      0x8d3e,0x0                                                                                      
0023d4   f046                                                                                                               
0023d6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 Open1USART(                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_TX_INT_OFF &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_RX_INT_OFF &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_ASYNCH_MODE &                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_EIGHT_BIT &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_CONT_RX &                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_BRGH_HIGH &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0023de   0e1c     MOVLW     0x1c                   USART_ADDEN_OFF,                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0023e0   6ee6     MOVWF     0xe6,0x0                                                                                        
0023d8   0e02     MOVLW     0x2                    2                   // At 48 MHz, this creates 4 Mbaud output            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0023da   6ee6     MOVWF     0xe6,0x0             );                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0023dc   6ae6     CLRF      0xe6,0x0                                                                                        
0023e2   ec99     CALL      0x8b32,0x0                                                                                      
0023e4   f045                                                                                                               
0023e6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0023e8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0023ea   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0023ec   d002     BRA       0x23f2             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0023ee   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0023f0   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,252,1 or CU,252,0 to turn on/off every ISR tick values printing (on RC6) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0023f2   d0fc     BRA       0x25ec           else if (252u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0023f4   0efc     MOVLW     0xfc                                                                                            
0023f6   6e4e     MOVWF     0x4e,0x0                                                                                        
0023f8   6a4f     CLRF      0x4f,0x0                                                                                        
0023fa   50df     MOVF      0xdf,0x0,0x0                                                                                    
0023fc   184e     XORWF     0x4e,0x0,0x0                                                                                    
0023fe   e103     BNZ       0x2406                                                                                          
002400   52de     MOVF      0xde,0x1,0x0                                                                                    
002402   50dd     MOVF      0xdd,0x0,0x0                                                                                    
002404   184f     XORWF     0x4f,0x0,0x0                                                                                    
002406   e12b     BNZ       0x245e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002408   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00240a   0f02     ADDLW     0x2                                                                                             
00240c   6ee9     MOVWF     0xe9,0x0                                                                                        
00240e   cfda     MOVFF     0xfda,0xfea                                                                                     
002410   ffea                                                                                                               
002412   50ee     MOVF      0xee,0x0,0x0                                                                                    
002414   10ed     IORWF     0xed,0x0,0x0                                                                                    
002416   e103     BNZ       0x241e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002418   9609     BCF       0x9,0x3,0x0          bitclr(TestMode, TEST_MODE_USART_ISR_FULL_NUM);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00241a   9409     BCF       0x9,0x2,0x0          bitclr(TestMode, TEST_MODE_USART_ISR_NUM);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00241c   d01f     BRA       0x245c             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00241e   0e01     MOVLW     0x1                                                                                             
002420   6e4e     MOVWF     0x4e,0x0                                                                                        
002422   6a4f     CLRF      0x4f,0x0                                                                                        
002424   0e02     MOVLW     0x2                                                                                             
002426   50db     MOVF      0xdb,0x0,0x0                                                                                    
002428   184e     XORWF     0x4e,0x0,0x0                                                                                    
00242a   e103     BNZ       0x2432                                                                                          
00242c   0e03     MOVLW     0x3                                                                                             
00242e   50db     MOVF      0xdb,0x0,0x0                                                                                    
002430   184f     XORWF     0x4f,0x0,0x0                                                                                    
002432   e112     BNZ       0x2458                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002434   8609     BSF       0x9,0x3,0x0          bitset(TestMode, TEST_MODE_USART_ISR_FULL_NUM);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002436   8409     BSF       0x9,0x2,0x0          bitset(TestMode, TEST_MODE_USART_ISR_NUM);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 baud1USART(                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_IDLE_CLK_LOW &                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_16_BIT_RATE &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_WAKEUP_OFF &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_AUTO_OFF                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002438   0eec     MOVLW     0xec                 );                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00243a   6ee6     MOVWF     0xe6,0x0                                                                                        
00243c   ec9f     CALL      0x8d3e,0x0                                                                                      
00243e   f046                                                                                                               
002440   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 Open1USART(                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_TX_INT_OFF &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_RX_INT_OFF &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_ASYNCH_MODE &                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_EIGHT_BIT &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_CONT_RX &                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_BRGH_HIGH &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002448   0e1c     MOVLW     0x1c                   USART_ADDEN_OFF,                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00244a   6ee6     MOVWF     0xe6,0x0                                                                                        
002442   0e02     MOVLW     0x2                    2                   // At 48 MHz, this creates 4 Mbaud output            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002444   6ee6     MOVWF     0xe6,0x0             );                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002446   6ae6     CLRF      0xe6,0x0                                                                                        
00244c   ec99     CALL      0x8b32,0x0                                                                                      
00244e   f045                                                                                                               
002450   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002452   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002454   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002456   d002     BRA       0x245c             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002458   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00245a   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,253,1 or CU,253,0 to turn on/off move command extra debug printing (on RC6) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00245c   d0c7     BRA       0x25ec           else if (253u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00245e   0efd     MOVLW     0xfd                                                                                            
002460   6e4e     MOVWF     0x4e,0x0                                                                                        
002462   6a4f     CLRF      0x4f,0x0                                                                                        
002464   50df     MOVF      0xdf,0x0,0x0                                                                                    
002466   184e     XORWF     0x4e,0x0,0x0                                                                                    
002468   e103     BNZ       0x2470                                                                                          
00246a   52de     MOVF      0xde,0x1,0x0                                                                                    
00246c   50dd     MOVF      0xdd,0x0,0x0                                                                                    
00246e   184f     XORWF     0x4f,0x0,0x0                                                                                    
002470   e129     BNZ       0x24c4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002472   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002474   0f02     ADDLW     0x2                                                                                             
002476   6ee9     MOVWF     0xe9,0x0                                                                                        
002478   cfda     MOVFF     0xfda,0xfea                                                                                     
00247a   ffea                                                                                                               
00247c   50ee     MOVF      0xee,0x0,0x0                                                                                    
00247e   10ed     IORWF     0xed,0x0,0x0                                                                                    
002480   e102     BNZ       0x2486                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002482   9809     BCF       0x9,0x4,0x0          bitclr(TestMode, TEST_MODE_USART_COMMAND_NUM);                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002484   d01e     BRA       0x24c2             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002486   0e01     MOVLW     0x1                                                                                             
002488   6e4e     MOVWF     0x4e,0x0                                                                                        
00248a   6a4f     CLRF      0x4f,0x0                                                                                        
00248c   0e02     MOVLW     0x2                                                                                             
00248e   50db     MOVF      0xdb,0x0,0x0                                                                                    
002490   184e     XORWF     0x4e,0x0,0x0                                                                                    
002492   e103     BNZ       0x249a                                                                                          
002494   0e03     MOVLW     0x3                                                                                             
002496   50db     MOVF      0xdb,0x0,0x0                                                                                    
002498   184f     XORWF     0x4f,0x0,0x0                                                                                    
00249a   e111     BNZ       0x24be                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00249c   8809     BSF       0x9,0x4,0x0          bitset(TestMode, TEST_MODE_USART_COMMAND_NUM);                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 baud1USART(                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_IDLE_CLK_LOW &                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_16_BIT_RATE &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_WAKEUP_OFF &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_AUTO_OFF                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00249e   0eec     MOVLW     0xec                 );                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0024a0   6ee6     MOVWF     0xe6,0x0                                                                                        
0024a2   ec9f     CALL      0x8d3e,0x0                                                                                      
0024a4   f046                                                                                                               
0024a6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 Open1USART(                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_TX_INT_OFF &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_RX_INT_OFF &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_ASYNCH_MODE &                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_EIGHT_BIT &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_CONT_RX &                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_BRGH_HIGH &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0024ae   0e1c     MOVLW     0x1c                   USART_ADDEN_OFF,                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0024b0   6ee6     MOVWF     0xe6,0x0                                                                                        
0024a8   0e02     MOVLW     0x2                    2                   // At 48 MHz, this creates 4 Mbaud output            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0024aa   6ee6     MOVWF     0xe6,0x0             );                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0024ac   6ae6     CLRF      0xe6,0x0                                                                                        
0024b2   ec99     CALL      0x8b32,0x0                                                                                      
0024b4   f045                                                                                                               
0024b6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0024b8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0024ba   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0024bc   d002     BRA       0x24c2             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0024be   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0024c0   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,254 turns on 'lock up mode' for measuring true ISR timing by cycling     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // I/O pin on and off as fast as possible, then breaks in that I/O toggle      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // can be seen for the ISR and measured.                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0024c2   d094     BRA       0x25ec           else if (254u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0024c4   0efe     MOVLW     0xfe                                                                                            
0024c6   6e4e     MOVWF     0x4e,0x0                                                                                        
0024c8   6a4f     CLRF      0x4f,0x0                                                                                        
0024ca   50df     MOVF      0xdf,0x0,0x0                                                                                    
0024cc   184e     XORWF     0x4e,0x0,0x0                                                                                    
0024ce   e103     BNZ       0x24d6                                                                                          
0024d0   52de     MOVF      0xde,0x1,0x0                                                                                    
0024d2   50dd     MOVF      0xdd,0x0,0x0                                                                                    
0024d4   184f     XORWF     0x4f,0x0,0x0                                                                                    
0024d6   e11a     BNZ       0x250c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0024d8   8209     BSF       0x9,0x1,0x0        bitset(TestMode, TEST_MODE_GPIO_NUM);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0024da   9295     BCF       0x95,0x1,0x0       TRISDbits.TRISD1 = 0;   // D1 high when in ISR                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0024dc   9095     BCF       0x95,0x0,0x0       TRISDbits.TRISD0 = 0;   // D0 high when loading next command                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0024de   9292     BCF       0x92,0x1,0x0       TRISAbits.TRISA1 = 0;   // A1 when FIFO empty                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002508   d7eb     BRA       0x24e0             while(1)                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 _asm                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0024e0   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0024e2   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0024e4   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0024e6   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0024e8   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0024ea   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0024ec   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0024ee   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0024f0   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0024f2   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0024f4   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0024f6   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0024f8   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0024fa   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0024fc   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0024fe   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002500   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002502   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002504   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002506   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 _endasm                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,255,1 or CU,255,0 to turn on/off command parsing debug printing on USB   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00250a   d070     BRA       0x25ec           else if (255u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00250c   684e     SETF      0x4e,0x0                                                                                        
00250e   6a4f     CLRF      0x4f,0x0                                                                                        
002510   50df     MOVF      0xdf,0x0,0x0                                                                                    
002512   184e     XORWF     0x4e,0x0,0x0                                                                                    
002514   e103     BNZ       0x251c                                                                                          
002516   52de     MOVF      0xde,0x1,0x0                                                                                    
002518   50dd     MOVF      0xdd,0x0,0x0                                                                                    
00251a   184f     XORWF     0x4f,0x0,0x0                                                                                    
00251c   e11a     BNZ       0x2552                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00251e   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002520   0f02     ADDLW     0x2                                                                                             
002522   6ee9     MOVWF     0xe9,0x0                                                                                        
002524   cfda     MOVFF     0xfda,0xfea                                                                                     
002526   ffea                                                                                                               
002528   50ee     MOVF      0xee,0x0,0x0                                                                                    
00252a   10ed     IORWF     0xed,0x0,0x0                                                                                    
00252c   e102     BNZ       0x2532                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00252e   9a09     BCF       0x9,0x5,0x0          bitclr(TestMode, TEST_MODE_DEBUG_COMMAND_NUM);                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002530   d00f     BRA       0x2550             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002532   0e01     MOVLW     0x1                                                                                             
002534   6e4e     MOVWF     0x4e,0x0                                                                                        
002536   6a4f     CLRF      0x4f,0x0                                                                                        
002538   0e02     MOVLW     0x2                                                                                             
00253a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00253c   184e     XORWF     0x4e,0x0,0x0                                                                                    
00253e   e103     BNZ       0x2546                                                                                          
002540   0e03     MOVLW     0x3                                                                                             
002542   50db     MOVF      0xdb,0x0,0x0                                                                                    
002544   184f     XORWF     0x4f,0x0,0x0                                                                                    
002546   e102     BNZ       0x254c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002548   8a09     BSF       0x9,0x5,0x0          bitset(TestMode, TEST_MODE_DEBUG_COMMAND_NUM);                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00254a   d002     BRA       0x2550             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00254c   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00254e   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,256,1 or CU,256,0 to turn on/off sending parsed commands to FIFO         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002550   d04d     BRA       0x25ec           else if (256u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002552   6a4e     CLRF      0x4e,0x0                                                                                        
002554   0e01     MOVLW     0x1                                                                                             
002556   6e4f     MOVWF     0x4f,0x0                                                                                        
002558   50df     MOVF      0xdf,0x0,0x0                                                                                    
00255a   184e     XORWF     0x4e,0x0,0x0                                                                                    
00255c   e103     BNZ       0x2564                                                                                          
00255e   52de     MOVF      0xde,0x1,0x0                                                                                    
002560   50dd     MOVF      0xdd,0x0,0x0                                                                                    
002562   184f     XORWF     0x4f,0x0,0x0                                                                                    
002564   e11a     BNZ       0x259a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002566   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002568   0f02     ADDLW     0x2                                                                                             
00256a   6ee9     MOVWF     0xe9,0x0                                                                                        
00256c   cfda     MOVFF     0xfda,0xfea                                                                                     
00256e   ffea                                                                                                               
002570   50ee     MOVF      0xee,0x0,0x0                                                                                    
002572   10ed     IORWF     0xed,0x0,0x0                                                                                    
002574   e102     BNZ       0x257a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002576   9c09     BCF       0x9,0x6,0x0          bitclr(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002578   d00f     BRA       0x2598             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00257a   0e01     MOVLW     0x1                                                                                             
00257c   6e4e     MOVWF     0x4e,0x0                                                                                        
00257e   6a4f     CLRF      0x4f,0x0                                                                                        
002580   0e02     MOVLW     0x2                                                                                             
002582   50db     MOVF      0xdb,0x0,0x0                                                                                    
002584   184e     XORWF     0x4e,0x0,0x0                                                                                    
002586   e103     BNZ       0x258e                                                                                          
002588   0e03     MOVLW     0x3                                                                                             
00258a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00258c   184f     XORWF     0x4f,0x0,0x0                                                                                    
00258e   e102     BNZ       0x2594                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002590   8c09     BSF       0x9,0x6,0x0          bitset(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002592   d002     BRA       0x2598             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002594   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002596   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,257,1 or CU,257,0 to turn on/off RC0 as indicator of command is parsing  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002598   d029     BRA       0x25ec           else if (257u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00259a   0e01     MOVLW     0x1                                                                                             
00259c   6e4e     MOVWF     0x4e,0x0                                                                                        
00259e   0e01     MOVLW     0x1                                                                                             
0025a0   6e4f     MOVWF     0x4f,0x0                                                                                        
0025a2   50df     MOVF      0xdf,0x0,0x0                                                                                    
0025a4   184e     XORWF     0x4e,0x0,0x0                                                                                    
0025a6   e103     BNZ       0x25ae                                                                                          
0025a8   52de     MOVF      0xde,0x1,0x0                                                                                    
0025aa   50dd     MOVF      0xdd,0x0,0x0                                                                                    
0025ac   184f     XORWF     0x4f,0x0,0x0                                                                                    
0025ae   e11c     BNZ       0x25e8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0025b0   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0025b2   0f02     ADDLW     0x2                                                                                             
0025b4   6ee9     MOVWF     0xe9,0x0                                                                                        
0025b6   cfda     MOVFF     0xfda,0xfea                                                                                     
0025b8   ffea                                                                                                               
0025ba   50ee     MOVF      0xee,0x0,0x0                                                                                    
0025bc   10ed     IORWF     0xed,0x0,0x0                                                                                    
0025be   e103     BNZ       0x25c6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0025c0   9009     BCF       0x9,0x0,0x0          bitclrzero(TestMode); // TEST_MODE_PARSING_COMMAND_NUM                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0025c2   8094     BSF       0x94,0x0,0x0         TRISCbits.TRISC0 = 1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0025c4   d010     BRA       0x25e6             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0025c6   0e01     MOVLW     0x1                                                                                             
0025c8   6e4e     MOVWF     0x4e,0x0                                                                                        
0025ca   6a4f     CLRF      0x4f,0x0                                                                                        
0025cc   0e02     MOVLW     0x2                                                                                             
0025ce   50db     MOVF      0xdb,0x0,0x0                                                                                    
0025d0   184e     XORWF     0x4e,0x0,0x0                                                                                    
0025d2   e103     BNZ       0x25da                                                                                          
0025d4   0e03     MOVLW     0x3                                                                                             
0025d6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0025d8   184f     XORWF     0x4f,0x0,0x0                                                                                    
0025da   e103     BNZ       0x25e2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0025dc   8009     BSF       0x9,0x0,0x0          bitsetzero(TestMode); // TEST_MODE_PARSING_COMMAND_NUM                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0025de   9094     BCF       0x94,0x0,0x0         TRISCbits.TRISC0 = 0;   // C0 high when parsing command                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0025e0   d002     BRA       0x25e6             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0025e2   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0025e4   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0025e6   d002     BRA       0x25ec           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // parameter_number is not understood                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0025e8   0100     MOVLB     0x0                bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0025ea   8d97     BSF       0x97,0x6,0x1                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0025ec   6ae6     CLRF      0xe6,0x0         print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0025ee   dcb8     RCALL     0x1f60                                                                                          
0025f0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0025f2   0e04     MOVLW     0x4            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0025f4   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0025f6   e202     BC        0x25fc                                                                                          
0025f8   6ae1     CLRF      0xe1,0x0                                                                                        
0025fa   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0025fc   6ee1     MOVWF     0xe1,0x0                                                                                        
0025fe   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002600   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
002602   ffd9                                                                                                               
002604   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // QU is "Query Utility" and provides a simple mechanism for the PC reading      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // certain values from the EBB.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "QU,<parameter_number><CR>"                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Returns: Some value(s), dependant on what parameter_number is.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <parameter_number> <return_packet>                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 1   QU,1,XX  where XX is a value from 00 to FF, representing the contents of  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //              the PortB pins at the time of the last limit switch trigger      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 2   QU,2,ddd to read back the maximum supported FIFO length for this version  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 3   QU,3,ddd to read back the current FIFO length                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 4   QU,4,XXX prints out stack high water value (as 3 digit hex value)         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 5   QU,5,XXX prints out stack high water value (as 3 digit hex value) and resets it to zero D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 60  QU,60,dddd prints out current value of g_PowerMonitorThresholdADC         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 61  QU,61,dddddd prints out current value of g_StepperDisableTimeoutS         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 200 QU,200,dddddddddd,dddddddddd prints out the current value of acc_union[0] and acc_union[1] (the accumulators) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002606   ece6     CALL      0x39cc,0x0     void parse_QU_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002608   f01c                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 parameter_number;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00260a   ecf9     CALL      0x39f2,0x0       print_command(TRUE, TRUE);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00260c   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00260e   0e01     MOVLW     0x1              extract_number(kUCHAR, &parameter_number, kREQUIRED);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002610   ec32     CALL      0x3664,0x0                                                                                      
002612   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002614   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002616   5197     MOVF      0x97,0x0,0x1                                                                                    
002618   e001     BZ        0x261c                                                                                          
00261a   d082     BRA       0x2720                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // QU,1 to read back current value of gLimitSwitchPortB                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Returns "QU,1,XX" where XX is two digit hex value from 00 to FF             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00261c   04df     DECF      0xdf,0x0,0x0     if (1u == parameter_number)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00261e   e108     BNZ       0x2630                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002620   ec83     CALL      0x3906,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002622   f01c                                                                                                               
0036ac   6ee6     MOVWF     0xe6,0x0           ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0036ae   ec2c     CALL      0x1858,0x0                                                                                      
0036b0   f00c                                                                                                               
0036b2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0036b4   0012     RETURN    0x0                                                                                             
002624   0e02     MOVLW     0x2                ebb_print_hex(gLimitSwitchPortB, 2);                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002626   6ee6     MOVWF     0xe6,0x0                                                                                        
002628   c0dc     MOVFF     0xdc,0x4e                                                                                       
00262a   f04e                                                                                                               
00262c   6a4f     CLRF      0x4f,0x0                                                                                        
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // QU,2 to read back the maximum supported FIFO length for this version        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Returns "QU,2,ddd" where ddd is one to three digit decimal value from 0 to 255 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00262e   d020     BRA       0x2670           else if (2u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002630   0e02     MOVLW     0x2                                                                                             
002632   ec8a     CALL      0x3714,0x0                                                                                      
002634   f01b                                                                                                               
002636   e108     BNZ       0x2648                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002638   ec83     CALL      0x3906,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00263a   f01c                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00263c   0e20     MOVLW     0x20               ebb_print_uint(COMMAND_FIFO_MAX_LENGTH);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00263e   6ee6     MOVWF     0xe6,0x0                                                                                        
002640   6ae6     CLRF      0xe6,0x0                                                                                        
002642   6ae6     CLRF      0xe6,0x0                                                                                        
002644   6ae6     CLRF      0xe6,0x0                                                                                        
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // QU,3 to read back the current FIFO length                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Returns "QU,3,ddd" where ddd is one to three digit decimal value from 0 to 255 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002646   d044     BRA       0x26d0           else if (3u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002648   0e03     MOVLW     0x3                                                                                             
00264a   ec8a     CALL      0x3714,0x0                                                                                      
00264c   f01b                                                                                                               
00264e   e106     BNZ       0x265c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002650   ec83     CALL      0x3906,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002652   f01c                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002654   5013     MOVF      0x13,0x0,0x0       ebb_print_uint(gCurrentFIFOLength);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002656   ecb3     CALL      0x3766,0x0                                                                                      
002658   f01b                                                                                                               
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // QU,4 prints out current stack high water value                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00265a   d038     BRA       0x26cc           else if (4u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00265c   0e04     MOVLW     0x4                                                                                             
00265e   ec8a     CALL      0x3714,0x0                                                                                      
002660   f01b                                                                                                               
002662   e109     BNZ       0x2676                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002664   ec22     CALL      0x1444,0x0         check_high_water();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002666   f00a                                                                                                               
002668   ec83     CALL      0x3906,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00266a   f01c                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00266c   ec64     CALL      0x38c8,0x0         ebb_print_hex(gStackHighWater, 3);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00266e   f01c                                                                                                               
002670   ec51     CALL      0x36a2,0x0                                                                                      
002672   f01b                                                                                                               
0038c8   0e03     MOVLW     0x3                                                                                             
0038ca   6ee6     MOVWF     0xe6,0x0                                                                                        
0038cc   c0e0     MOVFF     0xe0,0x4e                                                                                       
0038ce   f04e                                                                                                               
0038d0   c0e1     MOVFF     0xe1,0x4f                                                                                       
0038d2   f04f                                                                                                               
0038d4   0012     RETURN    0x0                                                                                             
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,5 prints out current stack high water value and resets it to zero        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002674   d04f     BRA       0x2714           else if (5u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002676   0e05     MOVLW     0x5                                                                                             
002678   ec8a     CALL      0x3714,0x0                                                                                      
00267a   f01b                                                                                                               
00267c   e10e     BNZ       0x269a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00267e   ec83     CALL      0x3906,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002680   f01c                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002682   ec64     CALL      0x38c8,0x0         ebb_print_hex(gStackHighWater, 3);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002684   f01c                                                                                                               
002686   ec51     CALL      0x36a2,0x0                                                                                      
002688   f01b                                                                                                               
0036a2   6a50     CLRF      0x50,0x0                                                                                        
0036a4   6a51     CLRF      0x51,0x0                                                                                        
0036a6   da59     RCALL     0x3b5a                                                                                          
0036a8   ef24     GOTO      0x3a48                                                                                          
0036aa   f01d                                                                                                               
00268a   ec36     CALL      0x366c,0x0         print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00268c   f01b                                                                                                               
00268e   9cf2     BCF       0xf2,0x6,0x0       INTCONbits.GIEL = 0;  // Turn low priority interrupts off                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002690   0100     MOVLB     0x0                gStackHighWater = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002692   6be0     CLRF      0xe0,0x1                                                                                        
002694   6be1     CLRF      0xe1,0x1                                                                                        
002696   8cf2     BSF       0xf2,0x6,0x0       INTCONbits.GIEL = 1;  // Turn low priority interrupts on                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // 60  QU,60,dddd prints out current value of g_PowerMonitorThresholdADC       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002698   d041     BRA       0x271c           else if (60u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00269a   0e3c     MOVLW     0x3c                                                                                            
00269c   ec8a     CALL      0x3714,0x0                                                                                      
00269e   f01b                                                                                                               
0026a0   e107     BNZ       0x26b0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0026a2   ec83     CALL      0x3906,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0026a4   f01c                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0026a6   c0a5     MOVFF     0xa5,0x4e          ebb_print_uint(g_PowerMonitorThresholdADC);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0026a8   f04e                                                                                                               
0026aa   c0a6     MOVFF     0xa6,0x4f                                                                                       
0026ac   f04f                                                                                                               
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // 61  QU,61,dddddd prints out current value of g_StepperDisableTimeoutS       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0026ae   d00a     BRA       0x26c4           else if (61u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0026b0   0e3d     MOVLW     0x3d                                                                                            
0026b2   ec8a     CALL      0x3714,0x0                                                                                      
0026b4   f01b                                                                                                               
0026b6   e10f     BNZ       0x26d6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0026b8   ec83     CALL      0x3906,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0026ba   f01c                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0026bc   c0a9     MOVFF     0xa9,0x4e          ebb_print_uint(g_StepperDisableTimeoutS);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0026be   f04e                                                                                                               
0026c0   c0aa     MOVFF     0xaa,0x4f                                                                                       
0026c2   f04f                                                                                                               
0026c4   6a50     CLRF      0x50,0x0                                                                                        
0026c6   6a51     CLRF      0x51,0x0                                                                                        
0026c8   c04e     MOVFF     0x4e,0xfe6                                                                                      
0026ca   ffe6                                                                                                               
0026cc   ec90     CALL      0x3920,0x0                                                                                      
0026ce   f01c                                                                                                               
0026d0   ec74     CALL      0x3ae8,0x0                                                                                      
0026d2   f01d                                                                                                               
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 200 QU,200,dddddddddd,dddddddddd prints out the current value of acc_union[0] and acc_union[1] (the accumulators) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0026d4   d01f     BRA       0x2714           else if (200u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0026d6   0ec8     MOVLW     0xc8                                                                                            
0026d8   ec8a     CALL      0x3714,0x0                                                                                      
0026da   f01b                                                                                                               
0026dc   e11e     BNZ       0x271a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0026de   ec83     CALL      0x3906,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0026e0   f01c                                                                                                               
003906   deef     RCALL     0x36e6                                                                                          
003908   d900     RCALL     0x3b0a                                                                                          
00390a   0e2c     MOVLW     0x2c               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00390c   ef56     GOTO      0x36ac                                                                                          
00390e   f01b                                                                                                               
0026e2   9ef2     BCF       0xf2,0x7,0x0       INTCONbits.GIEH = 0;    // Turn high priority interrupts off                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0026e4   c01e     MOVFF     0x1e,0xfe6         ebb_print_uint(acc_union[0].value);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0026e6   ffe6                                                                                                               
0026e8   c01f     MOVFF     0x1f,0xfe6                                                                                      
0026ea   ffe6                                                                                                               
0026ec   c020     MOVFF     0x20,0xfe6                                                                                      
0026ee   ffe6                                                                                                               
0026f0   c021     MOVFF     0x21,0xfe6                                                                                      
0026f2   ffe6                                                                                                               
0026f4   ec74     CALL      0x3ae8,0x0                                                                                      
0026f6   f01d                                                                                                               
0026f8   0e2c     MOVLW     0x2c               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0026fa   ec56     CALL      0x36ac,0x0                                                                                      
0026fc   f01b                                                                                                               
0026fe   c022     MOVFF     0x22,0xfe6         ebb_print_uint(acc_union[1].value);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002700   ffe6                                                                                                               
002702   c023     MOVFF     0x23,0xfe6                                                                                      
002704   ffe6                                                                                                               
002706   c024     MOVFF     0x24,0xfe6                                                                                      
002708   ffe6                                                                                                               
00270a   c025     MOVFF     0x25,0xfe6                                                                                      
00270c   ffe6                                                                                                               
00270e   ec74     CALL      0x3ae8,0x0                                                                                      
002710   f01d                                                                                                               
002712   8ef2     BSF       0xf2,0x7,0x0       INTCONbits.GIEH = 1;    // Turn high priority interrupts on                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002714   ec36     CALL      0x366c,0x0         print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002716   f01b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002718   d001     BRA       0x271c           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // parameter_number is not understood                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00271a   8d97     BSF       0x97,0x6,0x1       bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00271c   ec81     CALL      0x3702,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00271e   f01b                                                                                                               
002720   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002722   ef4d     GOTO      0x369a                                                                                          
002724   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #if PC_PG_T_COMMANDS_ENABLED                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "T" Packet                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Causes PIC to sample digital or analog inputs at a regular interval and send  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // I (or A) packets back at that interval.                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Send T,0,0<CR> to stop I (or A) packets                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // FORMAT: T,<TIME_BETWEEN_UPDATES_IN_MS>,<MODE><CR>                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <MODE> is 0 for digital (I packets) and 1 for analog (A packets)              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // EXAMPLE: "T,4000,0<CR>" to send an I packet back every 4 seconds.             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // EXAMPLE: "T,2000,1<CR>" to send an A packet back every 2 seconds.             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_T_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned int value;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char mode = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Extract the <TIME_BETWEEN_UPDATES_IN_MS> value                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extract_number(kUINT, (void *)&time_between_updates, kREQUIRED);               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Extract the <MODE> value                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extract_number(kUCHAR, &mode, kREQUIRED);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now start up the timer at the right rate or shut                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // it down.                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (0u == mode)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (0u == time_between_updates)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Turn off sending of I packets.                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 ISR_D_RepeatRate = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 T4CONbits.TMR4ON = 1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Eventually guard this section from interrupts                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 ISR_D_RepeatRate = time_between_updates;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (0u == time_between_updates)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Turn off sending of A packets.                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 ISR_A_RepeatRate = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 T4CONbits.TMR4ON = 1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Eventually guard this section from interrupts                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 ISR_A_RepeatRate = time_between_updates;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // IMPORTANT: As of EBB v2.2.3 firmware, this command is different from the      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // UBW version. The analog config value is eliminated, replaced with the "AC"    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // command.                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // FORMAT: C,<portA_IO>,<portB_IO>,<portC_IO>,<portD_IO>,<portE_IO><CR>          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // EXAMPLE: "C,255,0,4,0,0,0<CR>"                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <portX_IO> is the byte sent to the Data Direction (DDR) register for          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // each port. A 1 in a bit location means input, a 0 means output.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // NOTE: it is up to the user to tell the proper port direction bits to be       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // inputs for the analog channels they wish to use.                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002726   ec48     CALL      0x3690,0x0     void parse_C_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002728   f01b                                                                                                               
00272a   0e05     MOVLW     0x5                                                                                             
00272c   ec97     CALL      0x392e,0x0                                                                                      
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char PA, PB, PC, PD, PE;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00272e   f01c                                print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Extract each of the four values.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002730   0e01     MOVLW     0x1              extract_number(kUCHAR, &PA, kREQUIRED);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002732   ec60     CALL      0x3ac0,0x0                                                                                      
002734   f01d                                                                                                               
002736   ec64     CALL      0x3ac8,0x0       extract_number(kUCHAR, &PB, kREQUIRED);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002738   f01d                                                                                                               
                                             extract_number(kUCHAR, &PC, kREQUIRED);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00273a   6ae6     CLRF      0xe6,0x0         extract_number(kUCHAR, &PD, kREQUIRED);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00273c   50d9     MOVF      0xd9,0x0,0x0                                                                                    
00273e   0f03     ADDLW     0x3                                                                                             
002740   ec88     CALL      0x3910,0x0                                                                                      
002742   f01c                                                                                                               
002744   6ae6     CLRF      0xe6,0x0         extract_number(kUCHAR, &PE, kREQUIRED);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002746   50d9     MOVF      0xd9,0x0,0x0                                                                                    
002748   0f04     ADDLW     0x4                                                                                             
00274a   ec9f     CALL      0x3b3e,0x0                                                                                      
00274c   f01d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00274e   e110     BNZ       0x2770           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now write those values to the data direction registers.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002750   50df     MOVF      0xdf,0x0,0x0     TRISA = PA;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002752   6e92     MOVWF     0x92,0x0                                                                                        
002754   0e01     MOVLW     0x1              TRISB = PB;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002756   50db     MOVF      0xdb,0x0,0x0                                                                                    
002758   6e93     MOVWF     0x93,0x0                                                                                        
00275a   0e02     MOVLW     0x2              TRISC = PC;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00275c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00275e   6e94     MOVWF     0x94,0x0                                                                                        
002760   0e03     MOVLW     0x3              TRISD = PD;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002762   50db     MOVF      0xdb,0x0,0x0                                                                                    
002764   6e95     MOVWF     0x95,0x0                                                                                        
002766   0e04     MOVLW     0x4              TRISE = PE;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002768   50db     MOVF      0xdb,0x0,0x0                                                                                    
00276a   6e96     MOVWF     0x96,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00276c   ec81     CALL      0x3702,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00276e   f01b                                                                                                               
002770   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002772   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002774   e202     BC        0x277a                                                                                          
002776   6ae1     CLRF      0xe1,0x0                                                                                        
002778   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00277a   6ee1     MOVWF     0xe1,0x0                                                                                        
00277c   ef4d     GOTO      0x369a                                                                                          
00277e   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This function turns on or off an analog channel                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // It is called from other pieces of code, not the user                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002780   ec48     CALL      0x3690,0x0     void AnalogConfigure(unsigned char Channel, unsigned char Enable)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002782   f01b                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002784   0efe     MOVLW     0xfe             if (Channel > 16u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002786   50db     MOVF      0xdb,0x0,0x0                                                                                    
002788   0810     SUBLW     0x10                                                                                            
00278a   e205     BC        0x2796                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00278c   0e10     MOVLW     0x10               Channel = 16;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00278e   6ef3     MOVWF     0xf3,0x0                                                                                        
002790   0efe     MOVLW     0xfe                                                                                            
002792   cff3     MOVFF     0xff3,0xfdb                                                                                     
002794   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002796   0efd     MOVLW     0xfd             if (Enable)                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002798   50db     MOVF      0xdb,0x0,0x0                                                                                    
00279a   e02b     BZ        0x27f2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00279c   0efe     MOVLW     0xfe               AnalogEnabledChannels |= ((unsigned int)0x0001 << Channel);                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00279e   50db     MOVF      0xdb,0x0,0x0                                                                                    
0027a0   ecbe     CALL      0x8d7c,0x0                                                                                      
0027a2   f046                                                                                                               
0027a4   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0027a6   0100     MOVLB     0x0                                                                                             
0027a8   13a1     IORWF     0xa1,0x1,0x1                                                                                    
0027aa   50f4     MOVF      0xf4,0x0,0x0                                                                                    
0027ac   13a2     IORWF     0xa2,0x1,0x1                                                                                    
                                               // Make sure to turn this analog input on                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0027ae   0e08     MOVLW     0x8                if (Channel < 8u)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0027b0   6ef3     MOVWF     0xf3,0x0                                                                                        
0027b2   0efe     MOVLW     0xfe                                                                                            
0027b4   ec1c     CALL      0x3838,0x0                                                                                      
0027b6   f01c                                                                                                               
0027b8   e20d     BC        0x27d4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Clear the right bit in ANCON0                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0027ba   0e01     MOVLW     0x1                  ANCON0 &= ~(1 << Channel);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0027bc   6ef3     MOVWF     0xf3,0x0                                                                                        
0027be   0efe     MOVLW     0xfe                                                                                            
0027c0   50db     MOVF      0xdb,0x0,0x0                                                                                    
0027c2   e003     BZ        0x27ca                                                                                          
0027c4   ec77     CALL      0x36ee,0x0                                                                                      
0027c6   f01b                                                                                                               
0027c8   e1fd     BNZ       0x27c4                                                                                          
0027ca   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0027cc   1cf3     COMF      0xf3,0x0,0x0                                                                                    
0027ce   010f     MOVLB     0xf                                                                                             
0027d0   1748     ANDWF     0x48,0x1,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0027d2   d03d     BRA       0x284e             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0027d4   0efe     MOVLW     0xfe                 if (Channel <= 12u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0027d6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0027d8   080c     SUBLW     0xc                                                                                             
0027da   e339     BNC       0x284e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Clear the right bit in ANCON1                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0027dc   ec6b     CALL      0x38d6,0x0             ANCON1 &= ~(1 << (Channel-8));                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0027de   f01c                                                                                                               
0027e0   e004     BZ        0x27ea                                                                                          
0027e2   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
0027e4   0bfe     ANDLW     0xfe                                                                                            
0027e6   064e     DECF      0x4e,0x1,0x0                                                                                    
0027e8   e1fc     BNZ       0x27e2                                                                                          
0027ea   1ce8     COMF      0xe8,0x0,0x0                                                                                    
0027ec   010f     MOVLB     0xf                                                                                             
0027ee   1749     ANDWF     0x49,0x1,0x1                                                                                    
0038d6   0efe     MOVLW     0xfe                                                                                            
0038d8   50db     MOVF      0xdb,0x0,0x0                                                                                    
0038da   0ff8     ADDLW     0xf8                                                                                            
0038dc   6e4e     MOVWF     0x4e,0x0                                                                                        
0038de   0e01     MOVLW     0x1                                                                                             
0038e0   524e     MOVF      0x4e,0x1,0x0                                                                                    
0038e2   0012     RETURN    0x0                                                                                             
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0027f0   d02e     BRA       0x284e           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0027f2   0efe     MOVLW     0xfe               AnalogEnabledChannels &= ~((unsigned int)0x0001 << Channel);                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0027f4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0027f6   ecbe     CALL      0x8d7c,0x0                                                                                      
0027f8   f046                                                                                                               
0027fa   cff3     MOVFF     0xff3,0x4e                                                                                      
0027fc   f04e                                                                                                               
0027fe   cff4     MOVFF     0xff4,0x4f                                                                                      
002800   f04f                                                                                                               
002802   1e4e     COMF      0x4e,0x1,0x0                                                                                    
002804   1e4f     COMF      0x4f,0x1,0x0                                                                                    
002806   504e     MOVF      0x4e,0x0,0x0                                                                                    
002808   0100     MOVLB     0x0                                                                                             
00280a   17a1     ANDWF     0xa1,0x1,0x1                                                                                    
00280c   504f     MOVF      0x4f,0x0,0x0                                                                                    
00280e   17a2     ANDWF     0xa2,0x1,0x1                                                                                    
                                               // Make sure to turn this analog input off                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002810   0e08     MOVLW     0x8                if (Channel < 8u)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002812   6ef3     MOVWF     0xf3,0x0                                                                                        
002814   0efe     MOVLW     0xfe                                                                                            
002816   ec1c     CALL      0x3838,0x0                                                                                      
002818   f01c                                                                                                               
00281a   e20c     BC        0x2834                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Set the right bit in ANCON0                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00281c   0e01     MOVLW     0x1                  ANCON0 |= (1 << Channel);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00281e   6ef3     MOVWF     0xf3,0x0                                                                                        
002820   0efe     MOVLW     0xfe                                                                                            
002822   50db     MOVF      0xdb,0x0,0x0                                                                                    
002824   e003     BZ        0x282c                                                                                          
002826   ec77     CALL      0x36ee,0x0                                                                                      
002828   f01b                                                                                                               
00282a   e1fd     BNZ       0x2826                                                                                          
00282c   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00282e   010f     MOVLB     0xf                                                                                             
002830   1348     IORWF     0x48,0x1,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002832   d00d     BRA       0x284e             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002834   0efe     MOVLW     0xfe                 if (Channel <= 12u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002836   50db     MOVF      0xdb,0x0,0x0                                                                                    
002838   080c     SUBLW     0xc                                                                                             
00283a   e309     BNC       0x284e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Set the right bit in ANCON1                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00283c   ec6b     CALL      0x38d6,0x0             ANCON1 |= (1 << (Channel-8));                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00283e   f01c                                                                                                               
002840   e004     BZ        0x284a                                                                                          
002842   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
002844   0bfe     ANDLW     0xfe                                                                                            
002846   064e     DECF      0x4e,0x1,0x0                                                                                    
002848   e1fc     BNZ       0x2842                                                                                          
00284a   010f     MOVLB     0xf                                                                                             
00284c   1349     IORWF     0x49,0x1,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00284e   ef4d     GOTO      0x369a         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002850   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Analog Configure                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "AC,<channel>,<enable><CR>"                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <channel> is one of the 16 possible analog channels, from 0 through 15        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <enable> is 0 to disable, or 1 to enable                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // To turn on a particular analog channel, use the AC command to enable it.      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // To turn off a particular analog channel, use the AC command to disable it.    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Once enabled, that channel will be converted at the normal ADC conversion     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // rate and will show up in A packets.                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002852   eca3     CALL      0x3b46,0x0     void parse_AC_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002854   f01d                                                                                                               
003b46   dda4     RCALL     0x3690                                                                                          
003b48   0e02     MOVLW     0x2                                                                                             
003b4a   def1     RCALL     0x392e                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char Channel, Enable;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Extract each of the two values.                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002856   ec60     CALL      0x3ac0,0x0       extract_number(kUCHAR, &Channel, kREQUIRED);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002858   f01d                                                                                                               
003b4c   0e01     MOVLW     0x1                                                                                             
003b4e   0012     RETURN    0x0                                                                                             
00285a   0f01     ADDLW     0x1              extract_number(kUCHAR, &Enable, kREQUIRED);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00285c   ec9f     CALL      0x3b3e,0x0                                                                                      
00285e   f01d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002860   e10a     BNZ       0x2876           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002862   0e01     MOVLW     0x1              AnalogConfigure(Channel, Enable);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002864   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002866   ffe6                                                                                                               
002868   cfdf     MOVFF     0xfdf,0xfe6                                                                                     
00286a   ffe6                                                                                                               
00286c   df89     RCALL     0x2780                                                                                          
00286e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002870   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002872   ec81     CALL      0x3702,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002874   f01b                                                                                                               
002876   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002878   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00287a   e202     BC        0x2880                                                                                          
00287c   6ae1     CLRF      0xe1,0x0                                                                                        
00287e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002880   6ee1     MOVWF     0xe1,0x0                                                                                        
002882   ef4d     GOTO      0x369a                                                                                          
002884   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Outputs values to the ports pins that are set up as outputs.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Example "O,121,224,002<CR>"                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002886   eca3     CALL      0x3b46,0x0     void parse_O_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002888   f01d                                                                                                               
00392e   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char Value;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             ExtractReturnType RetVal;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00367a   d988     RCALL     0x398c           print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003930   6ae6     CLRF      0xe6,0x0                                                                                        
003932   6ae6     CLRF      0xe6,0x0                                                                                        
003934   ef3d     GOTO      0x367a                                                                                          
003936   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00288a   ec32     CALL      0x3664,0x0       RetVal = extract_number(kUCHAR,  &Value, kREQUIRED);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00288c   f01b                                                                                                               
00288e   ecce     CALL      0x379c,0x0                                                                                      
002890   f01b                                                                                                               
00367c   6ae6     CLRF      0xe6,0x0                                                                                        
00367e   ef4e     GOTO      0x3a9c                                                                                          
003680   f01d                                                                                                               
002892   e127     BNZ       0x28e2           if (error_byte) return;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002894   0e01     MOVLW     0x1              if (kEXTRACT_OK == RetVal)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002896   50db     MOVF      0xdb,0x0,0x0                                                                                    
002898   e102     BNZ       0x289e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00289a   50df     MOVF      0xdf,0x0,0x0       LATA = Value;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00289c   6e89     MOVWF     0x89,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00289e   ecaf     CALL      0x395e,0x0       RetVal = extract_number(kUCHAR,  &Value, kOPTIONAL);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0028a0   f01c                                                                                                               
0028a2   e11f     BNZ       0x28e2           if (error_byte) return;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0028a4   0e01     MOVLW     0x1              if (kEXTRACT_OK == RetVal)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0028a6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0028a8   e102     BNZ       0x28ae                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0028aa   50df     MOVF      0xdf,0x0,0x0       LATB = Value;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0028ac   6e8a     MOVWF     0x8a,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0028ae   ecaf     CALL      0x395e,0x0       RetVal = extract_number(kUCHAR,  &Value, kOPTIONAL);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0028b0   f01c                                                                                                               
0028b2   e117     BNZ       0x28e2           if (error_byte) return;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0028b4   0e01     MOVLW     0x1              if (kEXTRACT_OK == RetVal)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0028b6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0028b8   e102     BNZ       0x28be                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0028ba   50df     MOVF      0xdf,0x0,0x0       LATC = Value;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0028bc   6e8b     MOVWF     0x8b,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0028be   ecaf     CALL      0x395e,0x0       RetVal = extract_number(kUCHAR,  &Value, kOPTIONAL);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0028c0   f01c                                                                                                               
0028c2   e10f     BNZ       0x28e2           if (error_byte) return;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0028c4   0e01     MOVLW     0x1              if (kEXTRACT_OK == RetVal)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0028c6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0028c8   e102     BNZ       0x28ce                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0028ca   50df     MOVF      0xdf,0x0,0x0       LATD = Value;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0028cc   6e8c     MOVWF     0x8c,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0028ce   ecaf     CALL      0x395e,0x0       RetVal = extract_number(kUCHAR,  &Value, kOPTIONAL);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0028d0   f01c                                                                                                               
00379c   6ee7     MOVWF     0xe7,0x0                                                                                        
00379e   0e01     MOVLW     0x1                                                                                             
0037a0   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0037a2   ffdb                                                                                                               
0037f8   6ee6     MOVWF     0xe6,0x0                                                                                        
0037fa   ef4e     GOTO      0x3a9c                                                                                          
0037fc   f01d                                                                                                               
00395e   0e01     MOVLW     0x1                                                                                             
003960   df4b     RCALL     0x37f8                                                                                          
003962   de80     RCALL     0x3664                                                                                          
003964   efce     GOTO      0x379c                                                                                          
003966   f01b                                                                                                               
003a9c   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
003a9e   ffe6                                                                                                               
003aa0   cfda     MOVFF     0xfda,0xfe6                                                                                     
003aa2   ffe6                                                                                                               
003aa4   0012     RETURN    0x0                                                                                             
0028d2   e107     BNZ       0x28e2           if (error_byte) return;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0037a4   0100     MOVLB     0x0                                                                                             
0037a6   5197     MOVF      0x97,0x0,0x1                                                                                    
0037a8   0012     RETURN    0x0                                                                                             
0028d4   0e01     MOVLW     0x1              if (kEXTRACT_OK == RetVal)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0028d6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0028d8   e102     BNZ       0x28de                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0028da   50df     MOVF      0xdf,0x0,0x0       LATE = Value;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0028dc   6e8d     MOVWF     0x8d,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0028de   ec81     CALL      0x3702,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0028e0   f01b                                                                                                               
0028e2   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0028e4   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0028e6   e202     BC        0x28ec                                                                                          
0028e8   6ae1     CLRF      0xe1,0x0                                                                                        
0028ea   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0028ec   6ee1     MOVWF     0xe1,0x0                                                                                        
0028ee   ef4d     GOTO      0x369a                                                                                          
0028f0   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Read in the three I/O ports (A,B,C) and create                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // a packet to send back with all of values.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Example: "I,143,221,010<CR>"                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Remember that on UBW 28 pin boards, we only have                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Port A bits 0 through 5                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Port B bits 0 through 7                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Port C bits 0,1,2 and 6,7                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // And that Port C bits 0,1,2 are used for                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // User1 LED, User2 LED and Program switch respectively.                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // The rest will be read in as zeros.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_I_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0028f2   0e01     MOVLW     0x1              print_command(TRUE, TRUE);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0028f4   6ee6     MOVWF     0xe6,0x0                                                                                        
0028f6   6ee6     MOVWF     0xe6,0x0                                                                                        
0028f8   ecc6     CALL      0x398c,0x0                                                                                      
0028fa   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0028fc   5080     MOVF      0x80,0x0,0x0     ebb_print_uint(PORTA);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0028fe   ecb4     CALL      0x3968,0x0                                                                                      
002900   f01c                                                                                                               
                                             ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002902   5081     MOVF      0x81,0x0,0x0     ebb_print_uint(PORTB);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002904   ecb4     CALL      0x3968,0x0                                                                                      
002906   f01c                                                                                                               
                                             ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002908   5082     MOVF      0x82,0x0,0x0     ebb_print_uint(PORTC);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00290a   ecb4     CALL      0x3968,0x0                                                                                      
00290c   f01c                                                                                                               
                                             ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00290e   5083     MOVF      0x83,0x0,0x0     ebb_print_uint(PORTD);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002910   ecb4     CALL      0x3968,0x0                                                                                      
002912   f01c                                                                                                               
00365e   d960     RCALL     0x3920                                                                                          
003660   ef74     GOTO      0x3ae8                                                                                          
003662   f01d                                                                                                               
003920   c04f     MOVFF     0x4f,0xfe6                                                                                      
003922   ffe6                                                                                                               
003924   c050     MOVFF     0x50,0xfe6                                                                                      
003926   ffe6                                                                                                               
003928   c051     MOVFF     0x51,0xfe6                                                                                      
00392a   ffe6                                                                                                               
00392c   0012     RETURN    0x0                                                                                             
003968   d8e0     RCALL     0x3b2a                                                                                          
003ae8   ec38     CALL      0x8270,0x0                                                                                      
003aea   f041                                                                                                               
003aec   ef9c     GOTO      0x3938                                                                                          
003aee   f01c                                                                                                               
003b2a   de1d     RCALL     0x3766                                                                                          
003b2c   ef2f     GOTO      0x365e                                                                                          
003b2e   f01b                                                                                                               
00396a   0e2c     MOVLW     0x2c             ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00396c   ef56     GOTO      0x36ac                                                                                          
00396e   f01b                                                                                                               
002914   5084     MOVF      0x84,0x0,0x0     ebb_print_uint(PORTE);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002916   ec95     CALL      0x3b2a,0x0                                                                                      
002918   f01d                                                                                                               
00291a   ef36     GOTO      0x366c           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00291c   f01b                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // All we do here is just print out our version number                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_V_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00291e   ec0d     CALL      0x381a,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002920   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002922   0e56     MOVLW     0x56             ebb_print((far rom char *)st_version);                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002924   6e4e     MOVWF     0x4e,0x0                                                                                        
002926   0e89     MOVLW     0x89                                                                                            
002928   efb8     GOTO      0x3970                                                                                          
00292a   f01c                                                                                                               
003970   de73     RCALL     0x3658                                                                                          
003972   ef36     GOTO      0x366c           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003974   f01b                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // A is for read Analog inputs                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Just print out the analog values for each of the                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // enabled channels.                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Returned packet will look like                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "A,2:421,5:891,9:3921<CR>" if channels 2, 5 and 9                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // are enabled.                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00292c   ec81     CALL      0x3b02,0x0     void parse_A_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00292e   f01d                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002930   6adf     CLRF      0xdf,0x0         char channel = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002932   0e01     MOVLW     0x1              unsigned int ChannelBit = 0x0001;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002934   6ef3     MOVWF     0xf3,0x0                                                                                        
002936   6edb     MOVWF     0xdb,0x0                                                                                        
002938   0e02     MOVLW     0x2                                                                                             
00293a   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00293c   6ae6     CLRF      0xe6,0x0         print_command(TRUE, FALSE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00293e   0e01     MOVLW     0x1                                                                                             
002940   6ee6     MOVWF     0xe6,0x0                                                                                        
002942   ecc6     CALL      0x398c,0x0                                                                                      
002944   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Sit and spin, waiting for one set of analog conversions to complete         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002946   bc9d     BTFSC     0x9d,0x6,0x0     while (PIE1bits.ADIE);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002948   d7fe     BRA       0x2946                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now print each analog value                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00294a   6adf     CLRF      0xdf,0x0         for (channel = 0; channel < 16; channel++)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00294c   cfdf     MOVFF     0xfdf,0x4e                                                                                      
00294e   f04e                                                                                                               
002950   0e10     MOVLW     0x10                                                                                            
002952   6ee7     MOVWF     0xe7,0x0                                                                                        
002954   184e     XORWF     0x4e,0x0,0x0                                                                                    
002956   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
002958   d002     BRA       0x295e                                                                                          
00295a   34e7     RLCF      0xe7,0x0,0x0                                                                                    
00295c   d002     BRA       0x2962                                                                                          
00295e   50e7     MOVF      0xe7,0x0,0x0                                                                                    
002960   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
002962   e23b     BC        0x29da                                                                                          
0029d6   2adf     INCF      0xdf,0x1,0x0                                                                                    
0029d8   d7b9     BRA       0x294c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002964   0e01     MOVLW     0x1                if (ChannelBit & AnalogEnabledChannels)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002966   50db     MOVF      0xdb,0x0,0x0                                                                                    
002968   0100     MOVLB     0x0                                                                                             
00296a   15a1     ANDWF     0xa1,0x0,0x1                                                                                    
00296c   0100     MOVLB     0x0                                                                                             
00296e   6e4e     MOVWF     0x4e,0x0                                                                                        
002970   0e02     MOVLW     0x2                                                                                             
002972   50db     MOVF      0xdb,0x0,0x0                                                                                    
002974   0100     MOVLB     0x0                                                                                             
002976   15a2     ANDWF     0xa2,0x0,0x1                                                                                    
002978   0100     MOVLB     0x0                                                                                             
00297a   6e4f     MOVWF     0x4f,0x0                                                                                        
00297c   504e     MOVF      0x4e,0x0,0x0                                                                                    
00297e   104f     IORWF     0x4f,0x0,0x0                                                                                    
002980   e01f     BZ        0x29c0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002982   0e2c     MOVLW     0x2c                 ebb_print_char(',');                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002984   ec56     CALL      0x36ac,0x0                                                                                      
002986   f01b                                                                                                               
002988   ec73     CALL      0x36e6,0x0           ebb_print_uint(channel);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00298a   f01b                                                                                                               
00298c   ae4e     BTFSS     0x4e,0x7,0x0                                                                                    
00298e   d003     BRA       0x2996                                                                                          
002990   684f     SETF      0x4f,0x0                                                                                        
002992   6850     SETF      0x50,0x0                                                                                        
002994   6851     SETF      0x51,0x0                                                                                        
002996   ec85     CALL      0x3b0a,0x0                                                                                      
002998   f01d                                                                                                               
00299a   0e3a     MOVLW     0x3a                 ebb_print_char(':');                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00299c   ec56     CALL      0x36ac,0x0                                                                                      
00299e   f01b                                                                                                               
0029a0   cfdf     MOVFF     0xfdf,0xfe9          ebb_print_uint(ISR_A_FIFO[channel]);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0029a2   ffe9                                                                                                               
0029a4   6aea     CLRF      0xea,0x0                                                                                        
0029a6   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
0029a8   68ea     SETF      0xea,0x0                                                                                        
0029aa   ecd6     CALL      0x39ac,0x0                                                                                      
0029ac   f01c                                                                                                               
0029ae   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0029b0   cfee     MOVFF     0xfee,0x4e                                                                                      
0029b2   f04e                                                                                                               
0029b4   cfef     MOVFF     0xfef,0x4f                                                                                      
0029b6   f04f                                                                                                               
0029b8   6a50     CLRF      0x50,0x0                                                                                        
0029ba   6a51     CLRF      0x51,0x0                                                                                        
0029bc   ec85     CALL      0x3b0a,0x0                                                                                      
0029be   f01d                                                                                                               
0039ac   90d8     BCF       0xd8,0x0,0x0                                                                                    
0039ae   36e9     RLCF      0xe9,0x1,0x0                                                                                    
0039b0   36ea     RLCF      0xea,0x1,0x0                                                                                    
0039b2   0e00     MOVLW     0x0                                                                                             
0039b4   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0039b6   0e01     MOVLW     0x1                                                                                             
0039b8   0012     RETURN    0x0                                                                                             
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0029c0   ec4f     CALL      0x389e,0x0         ChannelBit = ChannelBit << 1;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0029c2   f01c                                                                                                               
0029c4   90d8     BCF       0xd8,0x0,0x0                                                                                    
0029c6   364e     RLCF      0x4e,0x1,0x0                                                                                    
0029c8   364f     RLCF      0x4f,0x1,0x0                                                                                    
0029ca   0e01     MOVLW     0x1                                                                                             
0029cc   c04e     MOVFF     0x4e,0xfdb                                                                                      
0029ce   ffdb                                                                                                               
0029d0   0e02     MOVLW     0x2                                                                                             
0029d2   c04f     MOVFF     0x4f,0xfdb                                                                                      
0029d4   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Add \r\n (for line ending legacy mode : note this is backwards from how     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // the rest of the code does legacy line endings) or just \n for new line      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // ending mode.                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0029da   0e02     MOVLW     0x2              print_line_ending(kLE_REV);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0029dc   ec49     CALL      0x3a92,0x0                                                                                      
0029de   f01d                                                                                                               
0029e0   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0029e2   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0029e4   e202     BC        0x29ea                                                                                          
0029e6   6ae1     CLRF      0xe1,0x0                                                                                        
0029e8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0029ea   6ee1     MOVWF     0xe1,0x0                                                                                        
0029ec   ef4d     GOTO      0x369a                                                                                          
0029ee   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // MW is for Memory Write                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "MW,<location>,<value><CR>"                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <location> is a decimal value between 0 and 4096 indicating the RAM address to write to  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <value> is a decimal value between 0 and 255 that is the value to write       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0029f0   ec7d     CALL      0x3afa,0x0     void parse_MW_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0029f2   f01d                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned int location;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char value;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0029f4   0e03     MOVLW     0x3              extract_number(kUINT, &location, kREQUIRED);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0029f6   ec60     CALL      0x3ac0,0x0                                                                                      
0029f8   f01d                                                                                                               
0029fa   0f02     ADDLW     0x2              extract_number(kUCHAR, &value, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0029fc   ec9f     CALL      0x3b3e,0x0                                                                                      
0029fe   f01d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a00   e10a     BNZ       0x2a16           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Limit check the address and write the byte in                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a02   ec2b     CALL      0x3a56,0x0       if (location < 4096u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a04   f01d                                                                                                               
002a06   e205     BC        0x2a12                                                                                          
003a56   dee6     RCALL     0x3824                                                                                          
003a58   0e00     MOVLW     0x0                                                                                             
003a5a   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
003a5c   0e10     MOVLW     0x10                                                                                            
003a5e   584f     SUBWFB    0x4f,0x0,0x0                                                                                    
003a60   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a08   ec17     CALL      0x382e,0x0         *((unsigned char *)location) = value;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a0a   f01c                                                                                                               
002a0c   0e02     MOVLW     0x2                                                                                             
002a0e   cfdb     MOVFF     0xfdb,0xfef                                                                                     
002a10   ffef                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a12   ec81     CALL      0x3702,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a14   f01b                                                                                                               
002a16   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a18   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002a1a   e202     BC        0x2a20                                                                                          
002a1c   6ae1     CLRF      0xe1,0x0                                                                                        
002a1e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002a20   6ee1     MOVWF     0xe1,0x0                                                                                        
002a22   ef4d     GOTO      0x369a                                                                                          
002a24   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // MR is for Memory Read                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "MW,<location><CR>"                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <location> is a decimal value between 0 and 4096 indicating the RAM address to read from  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // The UBW will then send a "MR,<value><CR>" packet back to the PC               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // where <value> is the byte value read from the address                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a26   ec81     CALL      0x3b02,0x0     void parse_MR_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a28   f01d                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned int location;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char value;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a2a   ecf9     CALL      0x39f2,0x0       print_command(TRUE, TRUE);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a2c   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a2e   0e03     MOVLW     0x3              extract_number(kUINT, &location, kREQUIRED);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a30   ec32     CALL      0x3664,0x0                                                                                      
002a32   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a34   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a36   5197     MOVF      0x97,0x0,0x1                                                                                    
002a38   e10d     BNZ       0x2a54                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Limit check the address and write the byte in                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a3a   ec2b     CALL      0x3a56,0x0       if (location < 4096u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a3c   f01d                                                                                                               
002a3e   e205     BC        0x2a4a                                                                                          
003824   cfde     MOVFF     0xfde,0x4e                                                                                      
003826   f04e                                                                                                               
003828   cfdd     MOVFF     0xfdd,0x4f                                                                                      
00382a   f04f                                                                                                               
00382c   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a40   ec17     CALL      0x382e,0x0         value = *((unsigned char *)location);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a42   f01c                                                                                                               
002a44   0e02     MOVLW     0x2                                                                                             
002a46   cfef     MOVFF     0xfef,0xfdb                                                                                     
002a48   ffdb                                                                                                               
00382e   cfde     MOVFF     0xfde,0xfe9                                                                                     
003830   ffe9                                                                                                               
003832   cfdd     MOVFF     0xfdd,0xfea                                                                                     
003834   ffea                                                                                                               
003836   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now send back the MR packet                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a4a   0e02     MOVLW     0x2              ebb_print_uint(value);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a4c   ec32     CALL      0x3864,0x0                                                                                      
002a4e   f01c                                                                                                               
002a50   ec9f     CALL      0x393e,0x0                                                                                      
002a52   f01c                                                                                                               
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a54   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a56   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002a58   e202     BC        0x2a5e                                                                                          
002a5a   6ae1     CLRF      0xe1,0x0                                                                                        
002a5c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002a5e   6ee1     MOVWF     0xe1,0x0                                                                                        
002a60   ef4d     GOTO      0x369a                                                                                          
002a62   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PD is for Pin Direction                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "PD,<port>,<pin>,<direction><CR>"                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <port> is "A", "B", "C" and indicates the port                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <pin> is a number between 0 and 7 and indicates which pin to change direction on D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <direction> is "1" for input, "0" for output                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a64   ec98     CALL      0x3b30,0x0     void parse_PD_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a66   f01d                                                                                                               
003b30   dfe4     RCALL     0x3afa                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char port;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char pin;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char direction;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003b32   0e05     MOVLW     0x5              extract_number(kUCASE_ASCII_CHAR, &port, kREQUIRED);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003b34   dfc5     RCALL     0x3ac0                                                                                          
003b36   dfc8     RCALL     0x3ac8           extract_number(kUCHAR, &pin, kREQUIRED);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extract_number(kUCHAR, &direction, kREQUIRED);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a68   e001     BZ        0x2a6c           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a6a   d090     BRA       0x2b8c                                                                                          
003b38   0100     MOVLB     0x0                                                                                             
003b3a   5197     MOVF      0x97,0x0,0x1                                                                                    
003b3c   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Limit check the parameters                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a6c   0e02     MOVLW     0x2              if (direction > 1u)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a6e   50db     MOVF      0xdb,0x0,0x0                                                                                    
002a70   0801     SUBLW     0x1                                                                                             
002a72   e201     BC        0x2a76                                                                                          
002a74   d087     BRA       0x2b84                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a76   0e01     MOVLW     0x1              if (pin > 7u)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a78   50db     MOVF      0xdb,0x0,0x0                                                                                    
002a7a   0807     SUBLW     0x7                                                                                             
002a7c   e201     BC        0x2a80                                                                                          
002a7e   d082     BRA       0x2b84                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a80   0e41     MOVLW     0x41             if ('A' == port)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a82   ec8a     CALL      0x3714,0x0                                                                                      
002a84   f01b                                                                                                               
002a86   e116     BNZ       0x2ab4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a88   0e02     MOVLW     0x2                if (0u == direction)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a8a   50db     MOVF      0xdb,0x0,0x0                                                                                    
002a8c   e10a     BNZ       0x2aa2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a8e   ec86     CALL      0x370c,0x0           bitclr(TRISA, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002a90   f01b                                                                                                               
002a92   e003     BZ        0x2a9a                                                                                          
002a94   ec77     CALL      0x36ee,0x0                                                                                      
002a96   f01b                                                                                                               
002a98   e1fd     BNZ       0x2a94                                                                                          
002a9a   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002a9c   1cf3     COMF      0xf3,0x0,0x0                                                                                    
002a9e   1692     ANDWF     0x92,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002aa0   d073     BRA       0x2b88             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002aa2   ec86     CALL      0x370c,0x0           bitset(TRISA, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002aa4   f01b                                                                                                               
002aa6   e003     BZ        0x2aae                                                                                          
002aa8   ec77     CALL      0x36ee,0x0                                                                                      
002aaa   f01b                                                                                                               
002aac   e1fd     BNZ       0x2aa8                                                                                          
002aae   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002ab0   1292     IORWF     0x92,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002ab2   d06a     BRA       0x2b88           else if ('B' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002ab4   0e42     MOVLW     0x42                                                                                            
002ab6   ec8a     CALL      0x3714,0x0                                                                                      
002ab8   f01b                                                                                                               
002aba   e116     BNZ       0x2ae8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002abc   0e02     MOVLW     0x2                if (0u == direction)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002abe   50db     MOVF      0xdb,0x0,0x0                                                                                    
002ac0   e10a     BNZ       0x2ad6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002ac2   ec86     CALL      0x370c,0x0           bitclr(TRISB, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002ac4   f01b                                                                                                               
002ac6   e003     BZ        0x2ace                                                                                          
002ac8   ec77     CALL      0x36ee,0x0                                                                                      
002aca   f01b                                                                                                               
002acc   e1fd     BNZ       0x2ac8                                                                                          
002ace   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002ad0   1cf3     COMF      0xf3,0x0,0x0                                                                                    
002ad2   1693     ANDWF     0x93,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002ad4   d059     BRA       0x2b88             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002ad6   ec86     CALL      0x370c,0x0           bitset(TRISB, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002ad8   f01b                                                                                                               
002ada   e003     BZ        0x2ae2                                                                                          
002adc   ec77     CALL      0x36ee,0x0                                                                                      
002ade   f01b                                                                                                               
002ae0   e1fd     BNZ       0x2adc                                                                                          
002ae2   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002ae4   1293     IORWF     0x93,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002ae6   d050     BRA       0x2b88           else if ('C' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002ae8   0e43     MOVLW     0x43                                                                                            
002aea   ec8a     CALL      0x3714,0x0                                                                                      
002aec   f01b                                                                                                               
002aee   e116     BNZ       0x2b1c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002af0   0e02     MOVLW     0x2                if (0u == direction)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002af2   50db     MOVF      0xdb,0x0,0x0                                                                                    
002af4   e10a     BNZ       0x2b0a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002af6   ec86     CALL      0x370c,0x0           bitclr(TRISC, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002af8   f01b                                                                                                               
002afa   e003     BZ        0x2b02                                                                                          
002afc   ec77     CALL      0x36ee,0x0                                                                                      
002afe   f01b                                                                                                               
002b00   e1fd     BNZ       0x2afc                                                                                          
002b02   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002b04   1cf3     COMF      0xf3,0x0,0x0                                                                                    
002b06   1694     ANDWF     0x94,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002b08   d03f     BRA       0x2b88             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002b0a   ec86     CALL      0x370c,0x0           bitset(TRISC, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002b0c   f01b                                                                                                               
002b0e   e003     BZ        0x2b16                                                                                          
002b10   ec77     CALL      0x36ee,0x0                                                                                      
002b12   f01b                                                                                                               
002b14   e1fd     BNZ       0x2b10                                                                                          
002b16   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002b18   1294     IORWF     0x94,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002b1a   d036     BRA       0x2b88           else if ('D' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002b1c   0e44     MOVLW     0x44                                                                                            
002b1e   ec8a     CALL      0x3714,0x0                                                                                      
002b20   f01b                                                                                                               
002b22   e116     BNZ       0x2b50                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002b24   0e02     MOVLW     0x2                if (0u == direction)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002b26   50db     MOVF      0xdb,0x0,0x0                                                                                    
002b28   e10a     BNZ       0x2b3e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002b2a   ec86     CALL      0x370c,0x0           bitclr(TRISD, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002b2c   f01b                                                                                                               
002b2e   e003     BZ        0x2b36                                                                                          
002b30   ec77     CALL      0x36ee,0x0                                                                                      
002b32   f01b                                                                                                               
002b34   e1fd     BNZ       0x2b30                                                                                          
002b36   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002b38   1cf3     COMF      0xf3,0x0,0x0                                                                                    
002b3a   1695     ANDWF     0x95,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002b3c   d025     BRA       0x2b88             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002b3e   ec86     CALL      0x370c,0x0           bitset(TRISD, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002b40   f01b                                                                                                               
002b42   e003     BZ        0x2b4a                                                                                          
002b44   ec77     CALL      0x36ee,0x0                                                                                      
002b46   f01b                                                                                                               
002b48   e1fd     BNZ       0x2b44                                                                                          
002b4a   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002b4c   1295     IORWF     0x95,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002b4e   d01c     BRA       0x2b88           else if ('E' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002b50   0e45     MOVLW     0x45                                                                                            
002b52   ec8a     CALL      0x3714,0x0                                                                                      
002b54   f01b                                                                                                               
002b56   e116     BNZ       0x2b84                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002b58   0e02     MOVLW     0x2                if (0u == direction)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002b5a   50db     MOVF      0xdb,0x0,0x0                                                                                    
002b5c   e10a     BNZ       0x2b72                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002b5e   ec86     CALL      0x370c,0x0           bitclr(TRISE, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002b60   f01b                                                                                                               
002b62   e003     BZ        0x2b6a                                                                                          
002b64   ec77     CALL      0x36ee,0x0                                                                                      
002b66   f01b                                                                                                               
002b68   e1fd     BNZ       0x2b64                                                                                          
002b6a   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002b6c   1cf3     COMF      0xf3,0x0,0x0                                                                                    
002b6e   1696     ANDWF     0x96,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002b70   d00b     BRA       0x2b88             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002b72   ec86     CALL      0x370c,0x0           bitset(TRISE, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002b74   f01b                                                                                                               
002b76   e003     BZ        0x2b7e                                                                                          
002b78   ec77     CALL      0x36ee,0x0                                                                                      
002b7a   f01b                                                                                                               
002b7c   e1fd     BNZ       0x2b78                                                                                          
002b7e   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002b80   1296     IORWF     0x96,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002b82   d002     BRA       0x2b88           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002b84   8d97     BSF       0x97,0x6,0x1       bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002b86   d002     BRA       0x2b8c             return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002b88   ec81     CALL      0x3702,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002b8a   f01b                                                                                                               
002b8c   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002b8e   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002b90   e202     BC        0x2b96                                                                                          
002b92   6ae1     CLRF      0xe1,0x0                                                                                        
002b94   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002b96   6ee1     MOVWF     0xe1,0x0                                                                                        
002b98   ef4d     GOTO      0x369a                                                                                          
002b9a   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PI is for Pin Input                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "PI,<port>,<pin><CR>"                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <port> is "A", "B", "C" and indicates the port                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <pin> is a number between 0 and 7 and indicates which pin to read             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // The command returns a "PI,<value><CR>" packet,                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // where <value> is the value (0 or 1 for digital)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // value for that pin.                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002b9c   ec81     CALL      0x3b02,0x0     void parse_PI_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002b9e   f01d                                                                                                               
003b02   ddc6     RCALL     0x3690                                                                                          
003b04   0e03     MOVLW     0x3                                                                                             
003b06   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
003b08   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 port;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 pin;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002ba0   0e02     MOVLW     0x2              UINT8 value = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002ba2   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002ba4   ecf9     CALL      0x39f2,0x0       print_command(TRUE, TRUE);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002ba6   f01c                                                                                                               
0039f2   0e01     MOVLW     0x1                                                                                             
0039f4   6ee6     MOVWF     0xe6,0x0                                                                                        
0039f6   6ee6     MOVWF     0xe6,0x0                                                                                        
0039f8   ef3d     GOTO      0x367a                                                                                          
0039fa   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002ba8   0e05     MOVLW     0x5              extract_number(kUCASE_ASCII_CHAR, &port, kREQUIRED);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002baa   ec60     CALL      0x3ac0,0x0                                                                                      
002bac   f01d                                                                                                               
002bae   0f01     ADDLW     0x1              extract_number(kUCHAR, &pin, kREQUIRED);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002bb0   ec9f     CALL      0x3b3e,0x0                                                                                      
002bb2   f01d                                                                                                               
003b3e   dee8     RCALL     0x3910                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002bb4   e160     BNZ       0x2c76           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003b40   0100     MOVLB     0x0                                                                                             
003b42   5197     MOVF      0x97,0x0,0x1                                                                                    
003b44   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Limit check the parameters                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002bb6   0e01     MOVLW     0x1              if (pin > 7u)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002bb8   50db     MOVF      0xdb,0x0,0x0                                                                                    
002bba   0807     SUBLW     0x7                                                                                             
002bbc   e350     BNC       0x2c5e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Then test the bit in question based upon port                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002bbe   0e41     MOVLW     0x41             if ('A' == port)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002bc0   ec8a     CALL      0x3714,0x0                                                                                      
002bc2   f01b                                                                                                               
002bc4   e10a     BNZ       0x2bda                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002bc6   ec86     CALL      0x370c,0x0         value = bittst(PORTA, pin);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002bc8   f01b                                                                                                               
002bca   e003     BZ        0x2bd2                                                                                          
002bcc   ec77     CALL      0x36ee,0x0                                                                                      
002bce   f01b                                                                                                               
002bd0   e1fd     BNZ       0x2bcc                                                                                          
002bd2   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002bd4   1480     ANDWF     0x80,0x0,0x0                                                                                    
002bd6   e039     BZ        0x2c4a                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002bd8   d029     BRA       0x2c2c           else if ('B' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002bda   0e42     MOVLW     0x42                                                                                            
002bdc   ec8a     CALL      0x3714,0x0                                                                                      
002bde   f01b                                                                                                               
002be0   e10a     BNZ       0x2bf6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002be2   ec86     CALL      0x370c,0x0         value = bittst(PORTB, pin);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002be4   f01b                                                                                                               
002be6   e003     BZ        0x2bee                                                                                          
002be8   ec77     CALL      0x36ee,0x0                                                                                      
002bea   f01b                                                                                                               
002bec   e1fd     BNZ       0x2be8                                                                                          
002bee   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002bf0   1481     ANDWF     0x81,0x0,0x0                                                                                    
002bf2   e11c     BNZ       0x2c2c                                                                                          
002bf4   d02a     BRA       0x2c4a                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002bf6   0e43     MOVLW     0x43             else if ('C' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002bf8   ec8a     CALL      0x3714,0x0                                                                                      
002bfa   f01b                                                                                                               
002bfc   e10a     BNZ       0x2c12                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002bfe   ec86     CALL      0x370c,0x0         value = bittst(PORTC, pin);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002c00   f01b                                                                                                               
002c02   e003     BZ        0x2c0a                                                                                          
002c04   ec77     CALL      0x36ee,0x0                                                                                      
002c06   f01b                                                                                                               
002c08   e1fd     BNZ       0x2c04                                                                                          
002c0a   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002c0c   1482     ANDWF     0x82,0x0,0x0                                                                                    
002c0e   e10e     BNZ       0x2c2c                                                                                          
002c10   d01c     BRA       0x2c4a                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002c12   0e44     MOVLW     0x44             else if ('D' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002c14   ec8a     CALL      0x3714,0x0                                                                                      
002c16   f01b                                                                                                               
002c18   e10b     BNZ       0x2c30                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002c1a   ec86     CALL      0x370c,0x0         value = bittst(PORTD, pin);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002c1c   f01b                                                                                                               
002c1e   e003     BZ        0x2c26                                                                                          
002c20   ec77     CALL      0x36ee,0x0                                                                                      
002c22   f01b                                                                                                               
002c24   e1fd     BNZ       0x2c20                                                                                          
002c26   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002c28   1483     ANDWF     0x83,0x0,0x0                                                                                    
002c2a   e00f     BZ        0x2c4a                                                                                          
002c2c   0e01     MOVLW     0x1                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002c2e   d010     BRA       0x2c50           else if ('E' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002c30   0e45     MOVLW     0x45                                                                                            
002c32   ec8a     CALL      0x3714,0x0                                                                                      
002c34   f01b                                                                                                               
002c36   e113     BNZ       0x2c5e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002c38   ec86     CALL      0x370c,0x0         value = bittst(PORTE, pin);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002c3a   f01b                                                                                                               
002c3c   e003     BZ        0x2c44                                                                                          
002c3e   ec77     CALL      0x36ee,0x0                                                                                      
002c40   f01b                                                                                                               
002c42   e1fd     BNZ       0x2c3e                                                                                          
002c44   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002c46   1484     ANDWF     0x84,0x0,0x0                                                                                    
002c48   e102     BNZ       0x2c4e                                                                                          
002c4a   0e00     MOVLW     0x0                                                                                             
002c4c   d001     BRA       0x2c50                                                                                          
002c4e   0e01     MOVLW     0x1                                                                                             
002c50   6ee7     MOVWF     0xe7,0x0                                                                                        
002c52   0e02     MOVLW     0x2                                                                                             
002c54   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
002c56   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002c5e   8d97     BSF       0x97,0x6,0x1       bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002c60   d00a     BRA       0x2c76             return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Convert to just a binary 1 or 0                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002c58   50db     MOVF      0xdb,0x0,0x0     if (value)                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002c5a   e008     BZ        0x2c6c                                                                                          
002c5c   d002     BRA       0x2c62                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002c62   0e01     MOVLW     0x1                value = 1;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002c64   6ef3     MOVWF     0xf3,0x0                                                                                        
002c66   0e02     MOVLW     0x2                                                                                             
002c68   cff3     MOVFF     0xff3,0xfdb                                                                                     
002c6a   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now send back our response                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002c6c   0e02     MOVLW     0x2              ebb_print_uint(value);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002c6e   ec32     CALL      0x3864,0x0                                                                                      
002c70   f01c                                                                                                               
002c72   ec9f     CALL      0x393e,0x0                                                                                      
002c74   f01c                                                                                                               
003864   cfdb     MOVFF     0xfdb,0x4e                                                                                      
003866   f04e                                                                                                               
003868   ef5c     GOTO      0x3ab8                                                                                          
00386a   f01d                                                                                                               
003ab8   6a4f     CLRF      0x4f,0x0                                                                                        
003aba   6a50     CLRF      0x50,0x0                                                                                        
003abc   6a51     CLRF      0x51,0x0                                                                                        
003abe   0012     RETURN    0x0                                                                                             
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002c76   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002c78   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002c7a   e202     BC        0x2c80                                                                                          
002c7c   6ae1     CLRF      0xe1,0x0                                                                                        
002c7e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002c80   6ee1     MOVWF     0xe1,0x0                                                                                        
002c82   ef4d     GOTO      0x369a                                                                                          
002c84   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PO is for Pin Output                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "PO,<port>,<pin>,<value><CR>"                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <port> is "A", "B", "C" and indicates the port                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <pin> is a number between 0 and 7 and indicates which pin to write out the value to D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <value> is "1" or "0" and indicates the state to change the pin to            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002c86   ec98     CALL      0x3b30,0x0     void parse_PO_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002c88   f01d                                                                                                               
003afa   ddca     RCALL     0x3690                                                                                          
003afc   0e03     MOVLW     0x3                                                                                             
003afe   ef97     GOTO      0x392e                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char port;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char pin;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char value;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003b00   f01c                                print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ac0   ddd1     RCALL     0x3664           extract_number(kUCASE_ASCII_CHAR, &port, kREQUIRED);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ac2   6ae6     CLRF      0xe6,0x0         extract_number(kUCHAR, &pin, kREQUIRED);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ac4   50d9     MOVF      0xd9,0x0,0x0                                                                                    
003ac6   0012     RETURN    0x0                                                                                             
003ac8   0f01     ADDLW     0x1                                                                                             
003aca   df22     RCALL     0x3910                                                                                          
003acc   6ae6     CLRF      0xe6,0x0         extract_number(kUCHAR, &value, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ace   50d9     MOVF      0xd9,0x0,0x0                                                                                    
003ad0   0f02     ADDLW     0x2                                                                                             
003ad2   ef88     GOTO      0x3910                                                                                          
003ad4   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002c8a   e001     BZ        0x2c8e           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002c8c   d090     BRA       0x2dae                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Limit check the parameters                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002c8e   0e02     MOVLW     0x2              if (value > 1u)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002c90   50db     MOVF      0xdb,0x0,0x0                                                                                    
002c92   0801     SUBLW     0x1                                                                                             
002c94   e201     BC        0x2c98                                                                                          
002c96   d087     BRA       0x2da6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002c98   0e01     MOVLW     0x1              if (pin > 7u)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002c9a   50db     MOVF      0xdb,0x0,0x0                                                                                    
002c9c   0807     SUBLW     0x7                                                                                             
002c9e   e201     BC        0x2ca2                                                                                          
002ca0   d082     BRA       0x2da6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002ca2   0e41     MOVLW     0x41             if ('A' == port)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002ca4   ec8a     CALL      0x3714,0x0                                                                                      
002ca6   f01b                                                                                                               
002ca8   e116     BNZ       0x2cd6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002caa   0e02     MOVLW     0x2                if (0u == value)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002cac   50db     MOVF      0xdb,0x0,0x0                                                                                    
002cae   e10a     BNZ       0x2cc4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002cb0   ec86     CALL      0x370c,0x0           bitclr(LATA, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002cb2   f01b                                                                                                               
002cb4   e003     BZ        0x2cbc                                                                                          
002cb6   ec77     CALL      0x36ee,0x0                                                                                      
002cb8   f01b                                                                                                               
002cba   e1fd     BNZ       0x2cb6                                                                                          
002cbc   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002cbe   1cf3     COMF      0xf3,0x0,0x0                                                                                    
002cc0   1689     ANDWF     0x89,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002cc2   d073     BRA       0x2daa             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002cc4   ec86     CALL      0x370c,0x0           bitset(LATA, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002cc6   f01b                                                                                                               
002cc8   e003     BZ        0x2cd0                                                                                          
002cca   ec77     CALL      0x36ee,0x0                                                                                      
002ccc   f01b                                                                                                               
002cce   e1fd     BNZ       0x2cca                                                                                          
002cd0   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002cd2   1289     IORWF     0x89,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002cd4   d06a     BRA       0x2daa           else if ('B' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002cd6   0e42     MOVLW     0x42                                                                                            
002cd8   ec8a     CALL      0x3714,0x0                                                                                      
002cda   f01b                                                                                                               
002cdc   e116     BNZ       0x2d0a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002cde   0e02     MOVLW     0x2                if (0u == value)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002ce0   50db     MOVF      0xdb,0x0,0x0                                                                                    
002ce2   e10a     BNZ       0x2cf8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002ce4   ec86     CALL      0x370c,0x0           bitclr(LATB, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002ce6   f01b                                                                                                               
002ce8   e003     BZ        0x2cf0                                                                                          
002cea   ec77     CALL      0x36ee,0x0                                                                                      
002cec   f01b                                                                                                               
002cee   e1fd     BNZ       0x2cea                                                                                          
002cf0   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002cf2   1cf3     COMF      0xf3,0x0,0x0                                                                                    
002cf4   168a     ANDWF     0x8a,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002cf6   d059     BRA       0x2daa             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002cf8   ec86     CALL      0x370c,0x0           bitset(LATB, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002cfa   f01b                                                                                                               
002cfc   e003     BZ        0x2d04                                                                                          
002cfe   ec77     CALL      0x36ee,0x0                                                                                      
002d00   f01b                                                                                                               
002d02   e1fd     BNZ       0x2cfe                                                                                          
002d04   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002d06   128a     IORWF     0x8a,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002d08   d050     BRA       0x2daa           else if ('C' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002d0a   0e43     MOVLW     0x43                                                                                            
002d0c   ec8a     CALL      0x3714,0x0                                                                                      
002d0e   f01b                                                                                                               
002d10   e116     BNZ       0x2d3e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002d12   0e02     MOVLW     0x2                if (0u == value)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002d14   50db     MOVF      0xdb,0x0,0x0                                                                                    
002d16   e10a     BNZ       0x2d2c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002d18   ec86     CALL      0x370c,0x0           bitclr(LATC, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002d1a   f01b                                                                                                               
002d1c   e003     BZ        0x2d24                                                                                          
002d1e   ec77     CALL      0x36ee,0x0                                                                                      
002d20   f01b                                                                                                               
002d22   e1fd     BNZ       0x2d1e                                                                                          
002d24   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002d26   1cf3     COMF      0xf3,0x0,0x0                                                                                    
002d28   168b     ANDWF     0x8b,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002d2a   d03f     BRA       0x2daa             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002d2c   ec86     CALL      0x370c,0x0           bitset(LATC, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002d2e   f01b                                                                                                               
002d30   e003     BZ        0x2d38                                                                                          
002d32   ec77     CALL      0x36ee,0x0                                                                                      
002d34   f01b                                                                                                               
002d36   e1fd     BNZ       0x2d32                                                                                          
002d38   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002d3a   128b     IORWF     0x8b,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002d3c   d036     BRA       0x2daa           else if ('D' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002d3e   0e44     MOVLW     0x44                                                                                            
002d40   ec8a     CALL      0x3714,0x0                                                                                      
002d42   f01b                                                                                                               
002d44   e116     BNZ       0x2d72                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002d46   0e02     MOVLW     0x2                if (0u == value)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002d48   50db     MOVF      0xdb,0x0,0x0                                                                                    
002d4a   e10a     BNZ       0x2d60                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002d4c   ec86     CALL      0x370c,0x0           bitclr(LATD, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002d4e   f01b                                                                                                               
002d50   e003     BZ        0x2d58                                                                                          
002d52   ec77     CALL      0x36ee,0x0                                                                                      
002d54   f01b                                                                                                               
002d56   e1fd     BNZ       0x2d52                                                                                          
002d58   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002d5a   1cf3     COMF      0xf3,0x0,0x0                                                                                    
002d5c   168c     ANDWF     0x8c,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002d5e   d025     BRA       0x2daa             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002d60   ec86     CALL      0x370c,0x0           bitset(LATD, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002d62   f01b                                                                                                               
002d64   e003     BZ        0x2d6c                                                                                          
002d66   ec77     CALL      0x36ee,0x0                                                                                      
002d68   f01b                                                                                                               
002d6a   e1fd     BNZ       0x2d66                                                                                          
002d6c   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002d6e   128c     IORWF     0x8c,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002d70   d01c     BRA       0x2daa           else if ('E' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002d72   0e45     MOVLW     0x45                                                                                            
002d74   ec8a     CALL      0x3714,0x0                                                                                      
002d76   f01b                                                                                                               
002d78   e116     BNZ       0x2da6                                                                                          
003714   6e4e     MOVWF     0x4e,0x0                                                                                        
003716   50df     MOVF      0xdf,0x0,0x0                                                                                    
003718   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
00371a   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002d7a   0e02     MOVLW     0x2                if (0u == value)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002d7c   50db     MOVF      0xdb,0x0,0x0                                                                                    
002d7e   e10a     BNZ       0x2d94                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002d80   ec86     CALL      0x370c,0x0           bitclr(LATE, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002d82   f01b                                                                                                               
002d84   e003     BZ        0x2d8c                                                                                          
002d86   ec77     CALL      0x36ee,0x0                                                                                      
002d88   f01b                                                                                                               
002d8a   e1fd     BNZ       0x2d86                                                                                          
002d8c   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002d8e   1cf3     COMF      0xf3,0x0,0x0                                                                                    
002d90   168d     ANDWF     0x8d,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002d92   d00b     BRA       0x2daa             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002d94   ec86     CALL      0x370c,0x0           bitset(LATE, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002d96   f01b                                                                                                               
002d98   e003     BZ        0x2da0                                                                                          
002d9a   ec77     CALL      0x36ee,0x0                                                                                      
002d9c   f01b                                                                                                               
002d9e   e1fd     BNZ       0x2d9a                                                                                          
002da0   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002da2   128d     IORWF     0x8d,0x1,0x0                                                                                    
0036ee   90d8     BCF       0xd8,0x0,0x0                                                                                    
0036f0   36f3     RLCF      0xf3,0x1,0x0                                                                                    
0036f2   06e8     DECF      0xe8,0x1,0x0                                                                                    
0036f4   0012     RETURN    0x0                                                                                             
00370c   0e01     MOVLW     0x1                                                                                             
00370e   6ef3     MOVWF     0xf3,0x0                                                                                        
003710   50db     MOVF      0xdb,0x0,0x0                                                                                    
003712   0012     RETURN    0x0                                                                                             
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002da4   d002     BRA       0x2daa           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002da6   8d97     BSF       0x97,0x6,0x1       bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002da8   d002     BRA       0x2dae             return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002daa   ec81     CALL      0x3702,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002dac   f01b                                                                                                               
002dae   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002db0   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002db2   e202     BC        0x2db8                                                                                          
002db4   6ae1     CLRF      0xe1,0x0                                                                                        
002db6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002db8   6ee1     MOVWF     0xe1,0x0                                                                                        
002dba   ef4d     GOTO      0x369a                                                                                          
002dbc   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #if PC_PG_T_COMMANDS_ENABLED                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PC Pulse Configure                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Pulses will be generated on PortB, bits 0 through 3                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Pulses are in 1ms units, and can be from 0 (off) through 65535                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Each pin has a pulse length, and a repetition rate.                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // The repetition rate can be from 0 through 65535, but must be more than the pulse length D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Only the first set of parameters (for RB0) are required, the rest are optional D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Usage:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PC,<RB0_Len>,<RB0_Rate>,<RB1_Len>,<RB1_Rate>,...,<RB3_Len>,<RB3_Rate><CR>     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PC_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned int Length, Rate;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char i;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             ExtractReturnType RetVal1, RetVal2;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extract_number(kUINT, &Length, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extract_number(kUINT, &Rate, kREQUIRED);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Handle loading things up for RB0                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseLen[0] = Length;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseRate[0] = Rate;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // And now loop for the other 3                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             for (i = 0; i < 3u; i++)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               RetVal1 = extract_number(kUINT, &Length, kOPTIONAL);                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               RetVal2 = extract_number(kUINT, &Rate, kOPTIONAL);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (error_byte)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (RetVal1 != kEXTRACT_OK || RetVal2 != kEXTRACT_OK)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Handle loading things up for RB1 through RB3                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               gPulseLen[i+1] = Length;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               gPulseRate[i+1] = Rate;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PG Pulse Go Command                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Starts a set of pulses (as configured by the PC command)                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // going. If a new set of parameters were sent by the PC command,                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PG will cause them all to take effect at the next 1ms                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // interval.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Usage:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PG,1<CR>   Start pulses, or load latest set of parameters and use them        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PG,0<CR>   Stop pulses                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PG_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char Value;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extract_number(kUCHAR, &Value, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (Value)                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Set lower four bits of PortB to outputs                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               TRISB = TRISB & 0xF0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Set global flag that turns pulses on                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               gPulsesOn = TRUE;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Clear global flag that turns pulses on                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               gPulsesOn = FALSE;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002dbe   cfd9     MOVFF     0xfd9,0xfe6    void LongDelay(void)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002dc0   ffe6                                                                                                               
002dc2   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
002dc4   ffd9                                                                                                               
002dc6   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char i;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // A basic for() loop decrementing a 16 bit number would be simpler, but seems to take more code space for D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // a given delay.  So do this instead:                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002dc8   6adf     CLRF      0xdf,0x0         for(i = 0; i < 0xFF; i++)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002dca   0eff     MOVLW     0xff                                                                                            
002dcc   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
002dce   e20a     BC        0x2de4                                                                                          
002de0   2adf     INCF      0xdf,0x1,0x0                                                                                    
002de2   d7f3     BRA       0x2dca                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002dd0   68e8     SETF      0xe8,0x0           WREG = 0xFF;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002dd2   50e8     MOVF      0xe8,0x0,0x0       while(WREG)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002dd4   e005     BZ        0x2de0                                                                                          
002dde   d7f9     BRA       0x2dd2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002dd6   06e8     DECF      0xe8,0x1,0x0         WREG--;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 _asm                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002dd8   d000     BRA       0x2dda               bra 0 // Equivalent to bra $+2, which takes half as much code as 2 nop instructions D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002dda   d000     BRA       0x2ddc               bra 0 // Equivalent to bra $+2, which takes half as much code as 2 nop instructions D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002ddc   d000     BRA       0x2dde               bra 0 // Equivalent to bra $+2, which takes half as much code as 2 nop instructions D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 _endasm                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Delay is ~59.8ms at 48MHz.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002de4   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002de6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002de8   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
002dea   ffd9                                                                                                               
002dec   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // BL command : simply jump to the bootloader                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Example: "BL<CR>"                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_BL_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // First, kill interrupts though                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002dee   9ef2     BCF       0xf2,0x7,0x0     INTCONbits.GIEH = 0;    // Turn high priority interrupts off                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002df0   9cf2     BCF       0xf2,0x6,0x0     INTCONbits.GIEL = 0;    // Turn low priority interrupts off                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002df2   9265     BCF       0x65,0x1,0x0     UCONbits.SUSPND = 0;    // Disable USB module                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002df4   6a65     CLRF      0x65,0x0         UCON = 0x00;            // Disable USB module                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // And wait awhile for the USB cable capacitance to discharge down to disconnected (SE0) state.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Otherwise host might not realize we disconnected/reconnected when we do the reset. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002df6   dfe3     RCALL     0x2dbe           LongDelay();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002df8   ef0f     GOTO      0x1e             _asm goto 0x00001E _endasm                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002dfa   f000                                                                                                               
002dfc   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // RB ReBoot command : simply jump to the reset vector                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Example: "RB<CR>"                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_RB_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // First, kill interrupts though                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002dfe   9ef2     BCF       0xf2,0x7,0x0     INTCONbits.GIEH = 0;    // Turn high priority interrupts off                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e00   9cf2     BCF       0xf2,0x6,0x0     INTCONbits.GIEL = 0;    // Turn low priority interrupts off                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e02   9265     BCF       0x65,0x1,0x0     UCONbits.SUSPND = 0;    // Disable USB module                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e04   6a65     CLRF      0x65,0x0         UCON = 0x00;            // Disable USB module                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // And wait awhile for the USB cable capacitance to discharge down to disconnected (SE0) state.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Otherwise host might not realize we disconnected/reconnected when we do the reset. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e06   dfdb     RCALL     0x2dbe           LongDelay();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e08   00ff     RESET                      Reset();                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e0a   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // QR Query RC Servo power state command                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Example: "RR<CR>"                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Returns "0<CR><LF>OK<CR><LF>" or "1<CR><LF>OK<CR><LF>"                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 0 = power to RC servo off                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 1 = power to RC servo on                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_QR_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e0c   ec0d     CALL      0x381a,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e0e   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e10   5080     MOVF      0x80,0x0,0x0     ebb_print_uint(RCServoPowerIO_PORT);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e12   0b08     ANDLW     0x8                                                                                             
002e14   e001     BZ        0x2e18                                                                                          
002e16   0e01     MOVLW     0x1                                                                                             
002e18   ec95     CALL      0x3b2a,0x0                                                                                      
002e1a   f01d                                                                                                               
003766   6e4e     MOVWF     0x4e,0x0                                                                                        
003768   d9a7     RCALL     0x3ab8                                                                                          
00376a   6ee6     MOVWF     0xe6,0x0                                                                                        
00376c   0012     RETURN    0x0                                                                                             
002e1c   0101     MOVLB     0x1              if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e1e   b1c5     BTFSC     0xc5,0x0,0x1                                                                                    
002e20   d003     BRA       0x2e28                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e22   0e02     MOVLW     0x2                print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e24   ec49     CALL      0x3a92,0x0                                                                                      
002e26   f01d                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e28   ef81     GOTO      0x3702           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e2a   f01b                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // SR Set RC Servo power timeout                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Example: "SR,<new_time_ms>,<new_power_state><CR><LF>"                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Returns "OK<CR><LF>"                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <new_time_ms> is a 32-bit unsigned integer, representing the new RC servo     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // poweroff timeout in milliseconds. This value is not saved across reboots.     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // It is the length of time the system will wait after any command that uses     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // the motors or servo before killing power to the RC servo.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Use a value of 0 for <new_time_ms> to completely disable the poweroff timer.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <new_power_state> is an optional parameter of either 0 or 1. It will          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // immediately affect the servo's power state, where 0 turns it off and 1        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // turns it on.                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e2c   ec48     CALL      0x3690,0x0     void parse_SR_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e2e   f01b                                                                                                               
002e30   0e06     MOVLW     0x6                                                                                             
002e32   ec97     CALL      0x392e,0x0                                                                                      
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned long Value;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 State;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             ExtractReturnType GotState;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e34   f01c                                print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e36   0e07     MOVLW     0x7              extract_number(kULONG, &Value, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e38   ec32     CALL      0x3664,0x0                                                                                      
002e3a   f01b                                                                                                               
002e3c   0e01     MOVLW     0x1              GotState = extract_number(kUCHAR, &State, kOPTIONAL);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e3e   6ee6     MOVWF     0xe6,0x0                                                                                        
002e40   50d9     MOVF      0xd9,0x0,0x0                                                                                    
002e42   0f04     ADDLW     0x4                                                                                             
002e44   ec88     CALL      0x3910,0x0                                                                                      
002e46   f01c                                                                                                               
002e48   6ee7     MOVWF     0xe7,0x0                                                                                        
002e4a   0e05     MOVLW     0x5                                                                                             
002e4c   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
002e4e   ffdb                                                                                                               
0036b6   6ee6     MOVWF     0xe6,0x0                                                                                        
0036b8   0e00     MOVLW     0x0                                                                                             
0036ba   20da     ADDWFC    0xda,0x0,0x0                                                                                    
0036bc   6ee6     MOVWF     0xe6,0x0                                                                                        
0036be   0012     RETURN    0x0                                                                                             
003910   ded2     RCALL     0x36b6                                                                                          
003912   0e01     MOVLW     0x1                                                                                             
003914   ef32     GOTO      0x3664                                                                                          
003916   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e50   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e52   5197     MOVF      0x97,0x0,0x1                                                                                    
002e54   e116     BNZ       0x2e82                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e56   cfdf     MOVFF     0xfdf,0xd5       gRCServoPoweroffCounterReloadMS = Value;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e58   f0d5                                                                                                               
002e5a   0e01     MOVLW     0x1                                                                                             
002e5c   cfdb     MOVFF     0xfdb,0xd6                                                                                      
002e5e   f0d6                                                                                                               
002e60   0e02     MOVLW     0x2                                                                                             
002e62   cfdb     MOVFF     0xfdb,0xd7                                                                                      
002e64   f0d7                                                                                                               
002e66   0e03     MOVLW     0x3                                                                                             
002e68   cfdb     MOVFF     0xfdb,0xd8                                                                                      
002e6a   f0d8                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check to see if <new_power_state> is there                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e6c   0e05     MOVLW     0x5              if (GotState == kEXTRACT_OK)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e6e   50db     MOVF      0xdb,0x0,0x0                                                                                    
002e70   e106     BNZ       0x2e7e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Yup, so set new power state                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e72   0e04     MOVLW     0x4                if (State)                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e74   50db     MOVF      0xdb,0x0,0x0                                                                                    
002e76   e002     BZ        0x2e7c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e78   8689     BSF       0x89,0x3,0x0         RCServoPowerIO = RCSERVO_POWER_ON;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e7a   d001     BRA       0x2e7e             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e7c   9689     BCF       0x89,0x3,0x0         RCServoPowerIO = RCSERVO_POWER_OFF;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e7e   ec81     CALL      0x3702,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e80   f01b                                                                                                               
002e82   0e06     MOVLW     0x6            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e84   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002e86   e202     BC        0x2e8c                                                                                          
002e88   6ae1     CLRF      0xe1,0x0                                                                                        
002e8a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002e8c   6ee1     MOVWF     0xe1,0x0                                                                                        
002e8e   ef4d     GOTO      0x369a                                                                                          
002e90   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Just used for testing/debugging the packet parsing routines                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e92   ec48     CALL      0x3690,0x0     void parse_CK_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e94   f01b                                                                                                               
002e96   0e10     MOVLW     0x10                                                                                            
002e98   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char UByte;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             signed char SByte;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned int UInt;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             signed int SInt;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned long ULong;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             signed long SLong;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char UChar;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char UCaseChar;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e9a   ec91     CALL      0x3b22,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002e9c   f01d                                                                                                               
002e9e   dbe6     RCALL     0x366c           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002ea0   6ae6     CLRF      0xe6,0x0         extract_number(kCHAR, &SByte, kREQUIRED);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002ea2   50d9     MOVF      0xd9,0x0,0x0                                                                                    
002ea4   0f01     ADDLW     0x1                                                                                             
002ea6   ec5b     CALL      0x36b6,0x0                                                                                      
002ea8   f01b                                                                                                               
002eaa   6ae6     CLRF      0xe6,0x0                                                                                        
002eac   d962     RCALL     0x3172                                                                                          
002eae   ec9c     CALL      0x3938,0x0                                                                                      
002eb0   f01c                                                                                                               
002eb2   6ae6     CLRF      0xe6,0x0         extract_number(kUCHAR, &UByte, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002eb4   ec4e     CALL      0x3a9c,0x0                                                                                      
002eb6   f01d                                                                                                               
002eb8   0e01     MOVLW     0x1                                                                                             
002eba   ec60     CALL      0x3ac0,0x0                                                                                      
002ebc   f01d                                                                                                               
002ebe   0f04     ADDLW     0x4              extract_number(kINT, &SInt, kREQUIRED);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002ec0   ec5b     CALL      0x36b6,0x0                                                                                      
002ec2   f01b                                                                                                               
002ec4   0e02     MOVLW     0x2                                                                                             
002ec6   ec60     CALL      0x3ac0,0x0                                                                                      
002ec8   f01d                                                                                                               
002eca   0f02     ADDLW     0x2              extract_number(kUINT, &UInt, kREQUIRED);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002ecc   ec5b     CALL      0x36b6,0x0                                                                                      
002ece   f01b                                                                                                               
002ed0   0e03     MOVLW     0x3                                                                                             
002ed2   ec60     CALL      0x3ac0,0x0                                                                                      
002ed4   f01d                                                                                                               
002ed6   0f0a     ADDLW     0xa              extract_number(kLONG, &SLong, kREQUIRED);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002ed8   dbee     RCALL     0x36b6                                                                                          
002eda   0e06     MOVLW     0x6                                                                                             
002edc   ec60     CALL      0x3ac0,0x0                                                                                      
002ede   f01d                                                                                                               
002ee0   0f06     ADDLW     0x6              extract_number(kULONG, &ULong, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002ee2   dbe9     RCALL     0x36b6                                                                                          
002ee4   0e07     MOVLW     0x7                                                                                             
002ee6   ec60     CALL      0x3ac0,0x0                                                                                      
002ee8   f01d                                                                                                               
002eea   0f0e     ADDLW     0xe              extract_number(kASCII_CHAR, &UChar, kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002eec   dbe4     RCALL     0x36b6                                                                                          
002eee   0e04     MOVLW     0x4                                                                                             
002ef0   ec60     CALL      0x3ac0,0x0                                                                                      
002ef2   f01d                                                                                                               
002ef4   0f0f     ADDLW     0xf              extract_number(kUCASE_ASCII_CHAR, &UCaseChar, kREQUIRED);                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002ef6   dbdf     RCALL     0x36b6                                                                                          
002ef8   0e05     MOVLW     0x5                                                                                             
002efa   dbb4     RCALL     0x3664                                                                                          
003664   6ee6     MOVWF     0xe6,0x0                                                                                        
003666   dd85     RCALL     0x3172                                                                                          
003668   ef9c     GOTO      0x3938                                                                                          
00366a   f01c                                                                                                               
003938   d8ec     RCALL     0x3b12                                                                                          
00393a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00393c   0012     RETURN    0x0                                                                                             
003b12   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003b14   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003b16   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003b18   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002efc   0e7a     MOVLW     0x7a             ebb_print((rom char far *)"Param1=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002efe   6e4e     MOVWF     0x4e,0x0                                                                                        
002f00   0e80     MOVLW     0x80                                                                                            
002f02   dbaa     RCALL     0x3658                                                                                          
002f04   0e01     MOVLW     0x1              ebb_print_int(SByte);                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002f06   ec32     CALL      0x3864,0x0                                                                                      
002f08   f01c                                                                                                               
002f0a   ae4e     BTFSS     0x4e,0x7,0x0                                                                                    
002f0c   d003     BRA       0x2f14                                                                                          
002f0e   684f     SETF      0x4f,0x0                                                                                        
002f10   6850     SETF      0x50,0x0                                                                                        
002f12   6851     SETF      0x51,0x0                                                                                        
002f14   ec71     CALL      0x3ae2,0x0                                                                                      
002f16   f01d                                                                                                               
003ae2   d83b     RCALL     0x3b5a                                                                                          
003ae4   efa8     GOTO      0x3b50                                                                                          
003ae6   f01d                                                                                                               
003b5a   c04e     MOVFF     0x4e,0xfe6                                                                                      
003b5c   ffe6                                                                                                               
003b5e   ef90     GOTO      0x3920                                                                                          
003b60   f01c                                                                                                               
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002f18   0e72     MOVLW     0x72             ebb_print((rom char far *)"Param2=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002f1a   6e4e     MOVWF     0x4e,0x0                                                                                        
002f1c   0e80     MOVLW     0x80                                                                                            
002f1e   db9c     RCALL     0x3658                                                                                          
002f20   dbe2     RCALL     0x36e6           ebb_print_uint(UByte);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002f22   ec9f     CALL      0x393e,0x0                                                                                      
002f24   f01c                                                                                                               
0036e6   cfdf     MOVFF     0xfdf,0x4e                                                                                      
0036e8   f04e                                                                                                               
0036ea   ef5c     GOTO      0x3ab8                                                                                          
0036ec   f01d                                                                                                               
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002f26   0e6a     MOVLW     0x6a             ebb_print((rom char far *)"Param3=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002f28   6e4e     MOVWF     0x4e,0x0                                                                                        
002f2a   0e80     MOVLW     0x80                                                                                            
002f2c   db95     RCALL     0x3658                                                                                          
002f2e   0e04     MOVLW     0x4              ebb_print_int(SInt);                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002f30   cfdb     MOVFF     0xfdb,0x4e                                                                                      
002f32   f04e                                                                                                               
002f34   0e05     MOVLW     0x5                                                                                             
002f36   cfdb     MOVFF     0xfdb,0x4f                                                                                      
002f38   f04f                                                                                                               
002f3a   6a50     CLRF      0x50,0x0                                                                                        
002f3c   6a51     CLRF      0x51,0x0                                                                                        
002f3e   ae4f     BTFSS     0x4f,0x7,0x0                                                                                    
002f40   d002     BRA       0x2f46                                                                                          
002f42   6850     SETF      0x50,0x0                                                                                        
002f44   6851     SETF      0x51,0x0                                                                                        
002f46   ec71     CALL      0x3ae2,0x0                                                                                      
002f48   f01d                                                                                                               
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002f4a   0e62     MOVLW     0x62             ebb_print((rom char far *)"Param4=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002f4c   6e4e     MOVWF     0x4e,0x0                                                                                        
002f4e   0e80     MOVLW     0x80                                                                                            
002f50   db83     RCALL     0x3658                                                                                          
002f52   0e02     MOVLW     0x2              ebb_print_uint(UInt);                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002f54   cfdb     MOVFF     0xfdb,0x4e                                                                                      
002f56   f04e                                                                                                               
002f58   0e03     MOVLW     0x3                                                                                             
002f5a   cfdb     MOVFF     0xfdb,0x4f                                                                                      
002f5c   f04f                                                                                                               
002f5e   6a50     CLRF      0x50,0x0                                                                                        
002f60   6a51     CLRF      0x51,0x0                                                                                        
002f62   ec9f     CALL      0x393e,0x0                                                                                      
002f64   f01c                                                                                                               
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002f66   0e5a     MOVLW     0x5a             ebb_print((rom char far *)"Param5=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002f68   6e4e     MOVWF     0x4e,0x0                                                                                        
002f6a   0e80     MOVLW     0x80                                                                                            
002f6c   db75     RCALL     0x3658                                                                                          
002f6e   50d9     MOVF      0xd9,0x0,0x0     ebb_print_int(SLong);                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002f70   0f0a     ADDLW     0xa                                                                                             
002f72   dbad     RCALL     0x36ce                                                                                          
002f74   eca8     CALL      0x3b50,0x0                                                                                      
002f76   f01d                                                                                                               
003b50   ec54     CALL      0x82a8,0x0                                                                                      
003b52   f041                                                                                                               
003b54   def1     RCALL     0x3938                                                                                          
003b56   ef36     GOTO      0x366c           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003b58   f01b                                                                                                               
002f78   ecfe     CALL      0x39fc,0x0       ebb_print((rom char far *)"Param6=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002f7a   f01c                                                                                                               
002f7c   50d9     MOVF      0xd9,0x0,0x0     ebb_print_uint(ULong);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002f7e   0f06     ADDLW     0x6                                                                                             
002f80   dba6     RCALL     0x36ce                                                                                          
002f82   ec74     CALL      0x3ae8,0x0                                                                                      
002f84   f01d                                                                                                               
002f86   db72     RCALL     0x366c           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002f88   0e4a     MOVLW     0x4a             ebb_print((rom char far *)"Param7=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002f8a   6e4e     MOVWF     0x4e,0x0                                                                                        
002f8c   0e80     MOVLW     0x80                                                                                            
002f8e   db64     RCALL     0x3658                                                                                          
002f90   0e0e     MOVLW     0xe              ebb_print_char(UChar);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002f92   ec17     CALL      0x3a2e,0x0                                                                                      
002f94   f01d                                                                                                               
003a2e   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
003a30   ffe6                                                                                                               
003a32   ec2c     CALL      0x1858,0x0                                                                                      
003a34   f00c                                                                                                               
003a36   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003a38   ef36     GOTO      0x366c           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003a3a   f01b                                                                                                               
002f96   0e42     MOVLW     0x42             ebb_print((rom char far *)"Param8=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002f98   6e4e     MOVWF     0x4e,0x0                                                                                        
002f9a   0e80     MOVLW     0x80                                                                                            
002f9c   db5d     RCALL     0x3658                                                                                          
002f9e   0e0f     MOVLW     0xf              ebb_print_char(UCaseChar);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002fa0   ec17     CALL      0x3a2e,0x0                                                                                      
002fa2   f01d                                                                                                               
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002fa4   ecfe     CALL      0x39fc,0x0       ebb_print((rom char far *)"Param6=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002fa6   f01c                                                                                                               
002fa8   0e08     MOVLW     0x8              ebb_print_hex(ULong, 8);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002faa   6ee6     MOVWF     0xe6,0x0                                                                                        
002fac   eccb     CALL      0x3996,0x0                                                                                      
002fae   f01c                                                                                                               
003996   50d9     MOVF      0xd9,0x0,0x0                                                                                    
003998   0f06     ADDLW     0x6                                                                                             
00399a   de99     RCALL     0x36ce                                                                                          
00399c   ecfe     CALL      0x81fc,0x0                                                                                      
00399e   f040                                                                                                               
0039a0   6e4e     MOVWF     0x4e,0x0                                                                                        
0039a2   0e05     MOVLW     0x5                                                                                             
0039a4   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
0039a6   504e     MOVF      0x4e,0x0,0x0                                                                                    
0039a8   ef36     GOTO      0x366c           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0039aa   f01b                                                                                                               
002fb0   ecfe     CALL      0x39fc,0x0       ebb_print((rom char far *)"Param6=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002fb2   f01c                                                                                                               
0039fc   0e52     MOVLW     0x52                                                                                            
0039fe   6e4e     MOVWF     0x4e,0x0                                                                                        
003a00   0e80     MOVLW     0x80                                                                                            
003a02   ef2c     GOTO      0x3658                                                                                          
003a04   f01b                                                                                                               
002fb4   6ae6     CLRF      0xe6,0x0         ebb_print_hex(ULong, 0);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002fb6   eccb     CALL      0x3996,0x0                                                                                      
002fb8   f01c                                                                                                               
0036ce   6ee9     MOVWF     0xe9,0x0                                                                                        
0036d0   cfda     MOVFF     0xfda,0xfea                                                                                     
0036d2   ffea                                                                                                               
0036d4   cfee     MOVFF     0xfee,0xfe6                                                                                     
0036d6   ffe6                                                                                                               
0036d8   cfee     MOVFF     0xfee,0xfe6                                                                                     
0036da   ffe6                                                                                                               
0036dc   cfee     MOVFF     0xfee,0xfe6                                                                                     
0036de   ffe6                                                                                                               
0036e0   cfef     MOVFF     0xfef,0xfe6                                                                                     
0036e2   ffe6                                                                                                               
0036e4   0012     RETURN    0x0                                                                                             
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002fba   dba3     RCALL     0x3702           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002fbc   0e10     MOVLW     0x10           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002fbe   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002fc0   e202     BC        0x2fc6                                                                                          
002fc2   6ae1     CLRF      0xe1,0x0                                                                                        
002fc4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002fc6   6ee1     MOVWF     0xe1,0x0                                                                                        
002fc8   d368     BRA       0x369a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002fca   ece6     CALL      0x39cc,0x0     void populateDeviceStringWithName(void)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002fcc   f01c                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extern BYTE * USB_SD_Ptr[];                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Clear out our name array                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002fce   6adf     CLRF      0xdf,0x0         for (i=0; i < FLASH_NAME_LENGTH+1; i++)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002fd0   0e11     MOVLW     0x11                                                                                            
002fd2   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
002fd4   e204     BC        0x2fde                                                                                          
002fda   2adf     INCF      0xdf,0x1,0x0                                                                                    
002fdc   d7f9     BRA       0x2fd0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002fd6   dbb7     RCALL     0x3746             gDeviceStringName[i] = 0x00;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002fd8   6aef     CLRF      0xef,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // We always read 16, knowing that any unused bytes will be set to zero        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002fde   ec31     CALL      0x3a62,0x0       ReadFlash(FLASH_NAME_ADDRESS, FLASH_NAME_LENGTH, gDeviceStringName);           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002fe0   f01d                                                                                                               
003a62   de6c     RCALL     0x373c                                                                                          
003a64   ec50     CALL      0x8aa0,0x0                                                                                      
003a66   f045                                                                                                               
003a68   ef4a     GOTO      0x3894                                                                                          
003a6a   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // The EEB's name is now in the 'name' local variable as a straight string     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // of bytes. We need to move it to the proper locations in the sd002           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // USB string descriptor (which is in RAM now). But it needs to be a           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // unicode string, so we've got to skip every other byte.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Since the FLASH copy of 'name' is padded with zeros and is always 16        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // bytes long, we are safe to always copy 16 bytes over to the string          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // descriptor.                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Because sd002 is an anonymous structure without any names for its           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // members, we are totally going to just hack this bad boy and jump            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // into a known offset from the beginning of the structure.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // As of 2.5.5, we now not only update the Product string, but also the        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // serial number string.                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002fe2   6adf     CLRF      0xdf,0x0         for (i=0; i < FLASH_NAME_LENGTH; i++)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002fe4   0e10     MOVLW     0x10                                                                                            
002fe6   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
002fe8   e221     BC        0x302c                                                                                          
003028   2adf     INCF      0xdf,0x1,0x0                                                                                    
00302a   d7dc     BRA       0x2fe4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Only copy over valid ASCII characters. On the first invalid               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // one, bail out.                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002fea   dbad     RCALL     0x3746             if (gDeviceStringName[i] <= 128u && gDeviceStringName[i] >= 32u)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002fec   50ef     MOVF      0xef,0x0,0x0                                                                                    
002fee   0880     SUBLW     0x80                                                                                            
002ff0   e31d     BNC       0x302c                                                                                          
002ff2   dba9     RCALL     0x3746                                                                                          
002ff4   cfef     MOVFF     0xfef,0x4e                                                                                      
002ff6   f04e                                                                                                               
002ff8   0e20     MOVLW     0x20                                                                                            
002ffa   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
002ffc   e317     BNC       0x302c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
002ffe   dba3     RCALL     0x3746               *(USB_SD_Ptr[2] + 24 + (i*2)) = gDeviceStringName[i];                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003000   50ef     MOVF      0xef,0x0,0x0                                                                                    
003002   6ee6     MOVWF     0xe6,0x0                                                                                        
003004   0e18     MOVLW     0x18                                                                                            
003006   0102     MOVLB     0x2                                                                                             
003008   6a4f     CLRF      0x4f,0x0                                                                                        
00300a   25fa     ADDWF     0xfa,0x0,0x1                                                                                    
00300c   6e4e     MOVWF     0x4e,0x0                                                                                        
00300e   51fb     MOVF      0xfb,0x0,0x1                                                                                    
003010   ec26     CALL      0x384c,0x0                                                                                      
003012   f01c                                                                                                               
00384c   224f     ADDWFC    0x4f,0x1,0x0                                                                                    
00384e   50df     MOVF      0xdf,0x0,0x0                                                                                    
003850   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
003852   244e     ADDWF     0x4e,0x0,0x0                                                                                    
003854   6ee9     MOVWF     0xe9,0x0                                                                                        
003856   0e00     MOVLW     0x0                                                                                             
003858   204f     ADDWFC    0x4f,0x0,0x0                                                                                    
00385a   6eea     MOVWF     0xea,0x0                                                                                        
00385c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00385e   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003860   6eef     MOVWF     0xef,0x0                                                                                        
003862   0012     RETURN    0x0                                                                                             
003014   db98     RCALL     0x3746               *(USB_SD_Ptr[3] + 2 + (i*2)) = gDeviceStringName[i];                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003016   50ef     MOVF      0xef,0x0,0x0                                                                                    
003018   6ee6     MOVWF     0xe6,0x0                                                                                        
00301a   0e02     MOVLW     0x2                                                                                             
00301c   6a4f     CLRF      0x4f,0x0                                                                                        
00301e   25fc     ADDWF     0xfc,0x0,0x1                                                                                    
003020   6e4e     MOVWF     0x4e,0x0                                                                                        
003022   51fd     MOVF      0xfd,0x0,0x1                                                                                    
003024   ec26     CALL      0x384c,0x0                                                                                      
003026   f01c                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now update the string descriptor lengths based on how many characters       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // we copied over from Flash                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00302c   50df     MOVF      0xdf,0x0,0x0     *(USB_SD_Ptr[2]) = 24 + (i * 2);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00302e   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
003030   0f18     ADDLW     0x18                                                                                            
003032   c2fa     MOVFF     0x2fa,0xfe9                                                                                     
003034   ffe9                                                                                                               
003036   c2fb     MOVFF     0x2fb,0xfea                                                                                     
003038   ffea                                                                                                               
00303a   6eef     MOVWF     0xef,0x0                                                                                        
00303c   50df     MOVF      0xdf,0x0,0x0     *(USB_SD_Ptr[3]) = 2 + (i * 2);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00303e   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
003040   0f02     ADDLW     0x2                                                                                             
003042   c2fc     MOVFF     0x2fc,0xfe9                                                                                     
003044   ffe9                                                                                                               
003046   c2fd     MOVFF     0x2fd,0xfea                                                                                     
003048   ffea                                                                                                               
00304a   6eef     MOVWF     0xef,0x0                                                                                        
00304c   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00304e   d325     BRA       0x369a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // ST command : Set Tag                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "ST,<new name><CR>"                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <new name> is a 0 to 16 character ASCII string.                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This string gets saved in FLASH, and is returned by the "QT" command, as      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // well as being appended to the USB name that shows up in the OS                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003050   ec8d     CALL      0x3b1a,0x0     void parse_ST_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003052   f01d                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003054   6adf     CLRF      0xdf,0x0         UINT8 bytes = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003056   ec91     CALL      0x3b22,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003058   f01d                                                                                                               
003b22   6ae6     CLRF      0xe6,0x0                                                                                        
003b24   6ae6     CLRF      0xe6,0x0                                                                                        
003b26   efc6     GOTO      0x398c                                                                                          
003b28   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Clear out our name array                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00305a   0e01     MOVLW     0x1              for (i=0; i < FLASH_NAME_LENGTH+1; i++)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00305c   6adb     CLRF      0xdb,0x0                                                                                        
00305e   0e11     MOVLW     0x11                                                                                            
003060   6ef3     MOVWF     0xf3,0x0                                                                                        
003062   0e01     MOVLW     0x1                                                                                             
003064   dbe9     RCALL     0x3838                                                                                          
003066   e20b     BC        0x307e                                                                                          
003078   0e01     MOVLW     0x1                                                                                             
00307a   2adb     INCF      0xdb,0x1,0x0                                                                                    
00307c   d7f0     BRA       0x305e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003068   0e01     MOVLW     0x1                gDeviceStringName[i] = 0x00;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00306a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00306c   6aea     CLRF      0xea,0x0                                                                                        
00306e   0fe8     ADDLW     0xe8                                                                                            
003070   6ee9     MOVWF     0xe9,0x0                                                                                        
003072   0e00     MOVLW     0x0                                                                                             
003074   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003076   6aef     CLRF      0xef,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00307e   0e10     MOVLW     0x10             bytes = extract_string(gDeviceStringName, FLASH_NAME_LENGTH);                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003080   6ee6     MOVWF     0xe6,0x0                                                                                        
003082   ec53     CALL      0x3aa6,0x0                                                                                      
003084   f01d                                                                                                               
003086   d83a     RCALL     0x30fc                                                                                          
003088   ec89     CALL      0x3b12,0x0                                                                                      
00308a   f01d                                                                                                               
00308c   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // We have reserved FLASH addresses 0xF800 to 0xFBFF (1024 bytes) for          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // storing persistent variables like the EEB's name. Note that no wear-leveling D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // is done, so it's not a good idea to change these values more than 10K times. :-) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00308e   68e6     SETF      0xe6,0x0         EraseFlash(FLASH_NAME_ADDRESS, FLASH_NAME_ADDRESS + 0x3FF);                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003090   0efb     MOVLW     0xfb                                                                                            
003092   6ee6     MOVWF     0xe6,0x0                                                                                        
003094   6ae6     CLRF      0xe6,0x0                                                                                        
003096   ec36     CALL      0x3a6c,0x0                                                                                      
003098   f01d                                                                                                               
00309a   ec2f     CALL      0x885e,0x0                                                                                      
00309c   f044                                                                                                               
00309e   ec4a     CALL      0x3894,0x0                                                                                      
0030a0   f01c                                                                                                               
003a6c   6ae6     CLRF      0xe6,0x0                                                                                        
003a6e   6ae6     CLRF      0xe6,0x0                                                                                        
003a70   0ef8     MOVLW     0xf8                                                                                            
003a72   6ee6     MOVWF     0xe6,0x0                                                                                        
003a74   6ae6     CLRF      0xe6,0x0                                                                                        
003a76   6ae6     CLRF      0xe6,0x0                                                                                        
003a78   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0030a2   db4c     RCALL     0x373c           WriteBytesFlash(FLASH_NAME_ADDRESS, FLASH_NAME_LENGTH, gDeviceStringName);     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0030a4   ecf9     CALL      0x83f2,0x0                                                                                      
0030a6   f041                                                                                                               
0030a8   ec4a     CALL      0x3894,0x0                                                                                      
0030aa   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0030ac   db2a     RCALL     0x3702           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0030ae   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0030b0   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0030b2   e202     BC        0x30b8                                                                                          
0030b4   6ae1     CLRF      0xe1,0x0                                                                                        
0030b6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0030b8   6ee1     MOVWF     0xe1,0x0                                                                                        
0030ba   d2ef     BRA       0x369a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // QT command : Query Tag                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "QT<CR>"                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Prints out the 'tag' that was set with the "ST" command previously, if any    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /// TODO: Optimize this by simply pointing ebb_print() at the string in FLASH?   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /// We could save 16 bytes of RAM that way and make the code simpler.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0030bc   ece6     CALL      0x39cc,0x0     void parse_QT_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0030be   f01c                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0030c0   dbac     RCALL     0x381a           print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00381a   0e01     MOVLW     0x1                                                                                             
00381c   6ee6     MOVWF     0xe6,0x0                                                                                        
00381e   6ae6     CLRF      0xe6,0x0                                                                                        
003820   efc6     GOTO      0x398c                                                                                          
003822   f01c                                                                                                               
00398c   ec92     CALL      0x1f24,0x0                                                                                      
00398e   f00f                                                                                                               
003990   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003992   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003994   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Clear out our name array                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0030c2   6adf     CLRF      0xdf,0x0         for (i=0; i < FLASH_NAME_LENGTH+1; i++)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0030c4   0e11     MOVLW     0x11                                                                                            
0030c6   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0030c8   e204     BC        0x30d2                                                                                          
0030ce   2adf     INCF      0xdf,0x1,0x0                                                                                    
0030d0   d7f9     BRA       0x30c4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0030ca   db3d     RCALL     0x3746             gDeviceStringName[i] = 0x00;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0030cc   6aef     CLRF      0xef,0x0                                                                                        
003746   50df     MOVF      0xdf,0x0,0x0                                                                                    
003748   6aea     CLRF      0xea,0x0                                                                                        
00374a   0fe8     ADDLW     0xe8                                                                                            
00374c   6ee9     MOVWF     0xe9,0x0                                                                                        
00374e   0e00     MOVLW     0x0                                                                                             
003750   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003752   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // We always read 16, knowing that any unused bytes will be set to zero        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0030d2   ec31     CALL      0x3a62,0x0       ReadFlash(FLASH_NAME_ADDRESS, FLASH_NAME_LENGTH, gDeviceStringName);           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0030d4   f01d                                                                                                               
00373c   d9b4     RCALL     0x3aa6                                                                                          
00373e   0e10     MOVLW     0x10                                                                                            
003740   6ee6     MOVWF     0xe6,0x0                                                                                        
003742   ef36     GOTO      0x3a6c                                                                                          
003744   f01d                                                                                                               
003894   6e4e     MOVWF     0x4e,0x0                                                                                        
003896   0e08     MOVLW     0x8                                                                                             
003898   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
00389a   504e     MOVF      0x4e,0x0,0x0                                                                                    
00389c   0012     RETURN    0x0                                                                                             
003aa6   0ee8     MOVLW     0xe8                                                                                            
003aa8   6ee6     MOVWF     0xe6,0x0                                                                                        
003aaa   0e00     MOVLW     0x0                                                                                             
003aac   6ee6     MOVWF     0xe6,0x0                                                                                        
003aae   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Only print it out if the first character is printable ASCII                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0030d6   0e80     MOVLW     0x80             if (gDeviceStringName[0] < 128u && gDeviceStringName[0] > 32u)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0030d8   0100     MOVLB     0x0                                                                                             
0030da   5de8     SUBWF     0xe8,0x0,0x1                                                                                    
0030dc   e209     BC        0x30f0                                                                                          
0030de   51e8     MOVF      0xe8,0x0,0x1                                                                                    
0030e0   0820     SUBLW     0x20                                                                                            
0030e2   e206     BC        0x30f0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0030e4   ec53     CALL      0x3aa6,0x0         ebb_print_ram((char *)gDeviceStringName);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0030e6   f01d                                                                                                               
0030e8   ecf2     CALL      0x81e4,0x0                                                                                      
0030ea   f040                                                                                                               
0030ec   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0030ee   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0030f0   0101     MOVLB     0x1              if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0030f2   a1c5     BTFSS     0xc5,0x0,0x1                                                                                    
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0030f4   dabb     RCALL     0x366c             print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0030f6   db05     RCALL     0x3702           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003702   6ae6     CLRF      0xe6,0x0                                                                                        
003704   ecb0     CALL      0x1f60,0x0                                                                                      
003706   f00f                                                                                                               
003708   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00370a   0012     RETURN    0x0                                                                                             
0030f8   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0030fa   d2cf     BRA       0x369a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Look at the string in g_RX_buf[]                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Copy over all bytes from g_RX_buf_out into ReturnValue until you hit          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // a comma or a CR or you've copied over MaxBytes characters.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Return the number of bytes copied. Advance g_RX_buf_out as you go.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0030fc   ece6     CALL      0x39cc,0x0     UINT8 extract_string (                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0030fe   f01c                                                                                                               
003690   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
003692   ffe6                                                                                                               
003694   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
003696   ffd9                                                                                                               
003698   0012     RETURN    0x0                                                                                             
0039cc   de61     RCALL     0x3690                                                                                          
0039ce   52e6     MOVF      0xe6,0x1,0x0                                                                                    
0039d0   0012     RETURN    0x0                                                                                             
                                             unsigned char * ReturnValue,                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 MaxBytes                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           )                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003100   6adf     CLRF      0xdf,0x0         UINT8 bytes = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Always terminate the string                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003102   db53     RCALL     0x37aa           *ReturnValue = 0x00;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003104   6aef     CLRF      0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check to see if we're already at the end                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003106   ec3d     CALL      0x3a7a,0x0       if (kCR == g_RX_buf[g_RX_buf_out])                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003108   f01d                                                                                                               
00310a   e102     BNZ       0x3110                                                                                          
003a7a   0e0d     MOVLW     0xd                                                                                             
003a7c   6e4e     MOVWF     0x4e,0x0                                                                                        
003a7e   0100     MOVLB     0x0                                                                                             
003a80   ddf8     RCALL     0x3672                                                                                          
003a82   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
003a84   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00310c   8997     BSF       0x97,0x4,0x1       bitset(error_byte, kERROR_BYTE_MISSING_PARAMETER);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00310e   d005     BRA       0x311a             return(0);                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for comma where ptr points                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003110   dab0     RCALL     0x3672           if (g_RX_buf[g_RX_buf_out] != ',')                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003112   082c     SUBLW     0x2c                                                                                            
003114   e004     BZ        0x311e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003116   eca2     CALL      0x3944,0x0         ebb_print((rom char far *)"!5 Err: Need comma next, found: '");              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003118   f01c                                                                                                               
003944   0e20     MOVLW     0x20                                                                                            
003946   6e4e     MOVWF     0x4e,0x0                                                                                        
003948   0e80     MOVLW     0x80                                                                                            
00394a   de86     RCALL     0x3658                                                                                          
00394c   0100     MOVLB     0x0                ebb_print_char(g_RX_buf[g_RX_buf_out]);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00394e   de91     RCALL     0x3672                                                                                          
003950   dead     RCALL     0x36ac                                                                                          
003952   0e27     MOVLW     0x27               ebb_print_char(0x27); // The ' character                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003954   deab     RCALL     0x36ac                                                                                          
003956   de8a     RCALL     0x366c             print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003958   0100     MOVLB     0x0                bitset(error_byte, kERROR_BYTE_PRINTED_ERROR);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00395a   8b97     BSF       0x97,0x5,0x1                                                                                    
00395c   0012     RETURN    0x0                                                                                             
00311a   0e00     MOVLW     0x0                return(0);                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00311c   d028     BRA       0x316e                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Move to the next character                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00311e   dad0     RCALL     0x36c0           advance_RX_buf_out();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003120   e104     BNZ       0x312a                                                                                          
003122   0e01     MOVLW     0x1                                                                                             
003124   184f     XORWF     0x4f,0x0,0x0                                                                                    
003126   e101     BNZ       0x312a                                                                                          
003128   6bcb     CLRF      0xcb,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00316c   d7de     BRA       0x312a           while(1)                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Check to see if we're already at the end                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00312a   0e0d     MOVLW     0xd                if (kCR == g_RX_buf[g_RX_buf_out] || (BYTE)',' == g_RX_buf[g_RX_buf_out] || bytes >= MaxBytes) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00312c   ec58     CALL      0x3ab0,0x0                                                                                      
00312e   f01d                                                                                                               
003130   e009     BZ        0x3144                                                                                          
003132   0e2c     MOVLW     0x2c                                                                                            
003134   6e4f     MOVWF     0x4f,0x0                                                                                        
003136   da9d     RCALL     0x3672                                                                                          
003138   5c4f     SUBWF     0x4f,0x0,0x0                                                                                    
00313a   e004     BZ        0x3144                                                                                          
00313c   0efc     MOVLW     0xfc                                                                                            
00313e   50db     MOVF      0xdb,0x0,0x0                                                                                    
003140   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
003142   e302     BNC       0x3148                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003144   50df     MOVF      0xdf,0x0,0x0         return (bytes);                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003146   d013     BRA       0x316e                                                                                          
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Copy over a byte                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003148   da94     RCALL     0x3672             *ReturnValue = g_RX_buf[g_RX_buf_out];                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00314a   6ee6     MOVWF     0xe6,0x0                                                                                        
00314c   db2e     RCALL     0x37aa                                                                                          
00314e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003150   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003152   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Move to the next character                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003154   dab5     RCALL     0x36c0             advance_RX_buf_out();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003156   e104     BNZ       0x3160                                                                                          
003158   0e01     MOVLW     0x1                                                                                             
00315a   184f     XORWF     0x4f,0x0,0x0                                                                                    
00315c   e101     BNZ       0x3160                                                                                          
00315e   6bcb     CLRF      0xcb,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Count this one                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003160   2adf     INCF      0xdf,0x1,0x0       bytes++;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003162   0efd     MOVLW     0xfd               ReturnValue++;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003164   2adb     INCF      0xdb,0x1,0x0                                                                                    
003166   0efe     MOVLW     0xfe                                                                                            
003168   e3e0     BNC       0x312a                                                                                          
00316a   2adb     INCF      0xdb,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             return(bytes);                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00316e   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003170   d294     BRA       0x369a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Look at the string pointed to by g_RX_buf[g_RX_buf_out]                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // There should be a comma where g_RX_buf[g_RX_buf_out] points to upon entry.    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // If not, throw a comma error.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // If so, then look for up to like a ton of bytes after the                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // comma for numbers, and put them all into one                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // unsigned long accumulator.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Advance the pointer to the byte after the last number                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // and return.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003172   da8e     RCALL     0x3690         ExtractReturnType extract_number(                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003174   0e09     MOVLW     0x9                                                                                             
003176   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                             ExtractType Type,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             void * ReturnValue,                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char Required                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           )                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned long ULAccumulator;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             signed long Accumulator;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003178   0e08     MOVLW     0x8              BOOL Negative = FALSE;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00317a   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check to see if we're already at the end                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00317c   ec3d     CALL      0x3a7a,0x0       if (kCR == g_RX_buf[g_RX_buf_out])                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00317e   f01d                                                                                                               
003180   e105     BNZ       0x318c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003182   0efb     MOVLW     0xfb               if (0u == Required)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003184   50db     MOVF      0xdb,0x0,0x0                                                                                    
003186   e119     BNZ       0x31ba                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003188   8997     BSF       0x97,0x4,0x1         bitset(error_byte, kERROR_BYTE_MISSING_PARAMETER);                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00318a   d017     BRA       0x31ba             return(kEXTRACT_MISSING_PARAMETER);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for comma where ptr points                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00318c   da72     RCALL     0x3672           if (g_RX_buf[g_RX_buf_out] != ',')                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00318e   082c     SUBLW     0x2c                                                                                            
003190   e006     BZ        0x319e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003192   0efb     MOVLW     0xfb               if (0u == Required)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003194   50db     MOVF      0xdb,0x0,0x0                                                                                    
003196   e101     BNZ       0x319a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003198   dbd5     RCALL     0x3944               ebb_print((rom char far *)"!5 Err: Need comma next, found: '");            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003672   51cb     MOVF      0xcb,0x0,0x1         ebb_print_char(g_RX_buf[g_RX_buf_out]);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003674   d985     RCALL     0x3980                                                                                          
003676   50ef     MOVF      0xef,0x0,0x0                                                                                    
003678   0012     RETURN    0x0                                                                                             
                                                 ebb_print_char(0x27);     // The ' character                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 bitset (error_byte, kERROR_BYTE_PRINTED_ERROR);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00319a   0e02     MOVLW     0x2                return(kEXTRACT_COMMA_MISSING);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00319c   d11a     BRA       0x33d2                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Move to the next character                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00319e   da90     RCALL     0x36c0           advance_RX_buf_out();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0031a0   e104     BNZ       0x31aa                                                                                          
0031a2   0e01     MOVLW     0x1                                                                                             
0031a4   184f     XORWF     0x4f,0x0,0x0                                                                                    
0031a6   e101     BNZ       0x31aa                                                                                          
0031a8   6bcb     CLRF      0xcb,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for end of command                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0031aa   0e0d     MOVLW     0xd              if (kCR == g_RX_buf[g_RX_buf_out])                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0031ac   ec58     CALL      0x3ab0,0x0                                                                                      
0031ae   f01d                                                                                                               
0031b0   e106     BNZ       0x31be                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0031b2   0efb     MOVLW     0xfb               if (0u == Required)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0031b4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0031b6   e101     BNZ       0x31ba                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0031b8   8997     BSF       0x97,0x4,0x1         bitset(error_byte, kERROR_BYTE_MISSING_PARAMETER);                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0031ba   0e03     MOVLW     0x3                return(kEXTRACT_MISSING_PARAMETER);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0031bc   d10a     BRA       0x33d2                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now check for a sign character if we're not looking for ASCII chars         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0031be   0e2d     MOVLW     0x2d               ('-' == g_RX_buf[g_RX_buf_out])                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0031c0   ec58     CALL      0x3ab0,0x0                                                                                      
0031c2   f01d                                                                                                               
003ab0   6e4e     MOVWF     0x4e,0x0                                                                                        
003ab2   dddf     RCALL     0x3672                                                                                          
003ab4   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
003ab6   0012     RETURN    0x0                                                                                             
                                               &&                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               (                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0031c6   0e04     MOVLW     0x4                  (kASCII_CHAR != Type)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0031c8   db54     RCALL     0x3872                                                                                          
                                                 &&                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0031cc   0e05     MOVLW     0x5                  (kUCASE_ASCII_CHAR != Type)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0031ce   6e50     MOVWF     0x50,0x0                                                                                        
0031d0   0efe     MOVLW     0xfe                                                                                            
0031d2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0031d4   5c50     SUBWF     0x50,0x0,0x0                                                                                    
0031ca   e01d     BZ        0x3206             )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0031d6   e017     BZ        0x3206                                                                                          
0031c4   e120     BNZ       0x3206           )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // It's an error if we see a negative sign on an unsigned value              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0031d8   0efe     MOVLW     0xfe                 (kUCHAR == Type)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0031da   04db     DECF      0xdb,0x0,0x0                                                                                    
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0031e0   0e03     MOVLW     0x3                  (kUINT == Type)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0031e2   db2f     RCALL     0x3842                                                                                          
0031dc   e101     BNZ       0x31e0               ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0031de   d0c0     BRA       0x3360                                                                                          
0031e4   e101     BNZ       0x31e8                                                                                          
0031e6   d0bc     BRA       0x3360                                                                                          
0031e8   0e07     MOVLW     0x7                  (kULONG == Type)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0031ea   db43     RCALL     0x3872                                                                                          
0031ec   e101     BNZ       0x31f0             )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0031ee   d0b8     BRA       0x3360                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 return(kEXTRACT_PARAMETER_OUTSIDE_LIMIT);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0031f0   0e01     MOVLW     0x1                  Negative = TRUE;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0031f2   6ef3     MOVWF     0xf3,0x0                                                                                        
0031f4   0e08     MOVLW     0x8                                                                                             
0031f6   cff3     MOVFF     0xff3,0xfdb                                                                                     
0031f8   ffdb                                                                                                               
                                                 // Move to the next character                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0031fa   da62     RCALL     0x36c0               advance_RX_buf_out();                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0031fc   e104     BNZ       0x3206                                                                                          
0031fe   0e01     MOVLW     0x1                                                                                             
003200   184f     XORWF     0x4f,0x0,0x0                                                                                    
003202   e101     BNZ       0x3206                                                                                          
003204   6bcb     CLRF      0xcb,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // If we need to get a digit, go do that                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003206   0e04     MOVLW     0x4                (kASCII_CHAR != Type)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003208   db1c     RCALL     0x3842                                                                                          
                                               &&                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00320c   0e05     MOVLW     0x5                (kUCASE_ASCII_CHAR != Type)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00320e   db31     RCALL     0x3872                                                                                          
00320a   e009     BZ        0x321e           )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003210   e006     BZ        0x321e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003212   0e0a     MOVLW     0xa                extract_digit(&ULAccumulator, 10);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003214   daf1     RCALL     0x37f8                                                                                          
003216   d8e6     RCALL     0x33e4                                                                                          
003218   ec89     CALL      0x3b12,0x0                                                                                      
00321a   f01d                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00321c   d031     BRA       0x3280           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Otherwise just copy the byte                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00321e   51cb     MOVF      0xcb,0x0,0x1       ULAccumulator = g_RX_buf[g_RX_buf_out];                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003220   dbaf     RCALL     0x3980                                                                                          
003222   cfef     MOVFF     0xfef,0x4e                                                                                      
003224   f04e                                                                                                               
003226   0e00     MOVLW     0x0                                                                                             
003228   c04e     MOVFF     0x4e,0xfdf                                                                                      
00322a   ffdf                                                                                                               
00322c   db3f     RCALL     0x38ac                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Force uppercase if that's what type we have                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00322e   0e05     MOVLW     0x5                if (kUCASE_ASCII_CHAR == Type)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003230   db08     RCALL     0x3842                                                                                          
003232   e11f     BNZ       0x3272                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003234   0e00     MOVLW     0x0                  ULAccumulator = toupper(ULAccumulator);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003236   cfdf     MOVFF     0xfdf,0xfe6                                                                                     
003238   ffe6                                                                                                               
00323a   0e01     MOVLW     0x1                                                                                             
00323c   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
00323e   ffe6                                                                                                               
003240   ec8b     CALL      0x8d16,0x0                                                                                      
003242   f046                                                                                                               
003244   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003246   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003248   cff3     MOVFF     0xff3,0x4e                                                                                      
00324a   f04e                                                                                                               
00324c   cff4     MOVFF     0xff4,0x4f                                                                                      
00324e   f04f                                                                                                               
003250   6a50     CLRF      0x50,0x0                                                                                        
003252   6a51     CLRF      0x51,0x0                                                                                        
003254   ae4f     BTFSS     0x4f,0x7,0x0                                                                                    
003256   d002     BRA       0x325c                                                                                          
003258   6850     SETF      0x50,0x0                                                                                        
00325a   6851     SETF      0x51,0x0                                                                                        
00325c   c04e     MOVFF     0x4e,0xfdf                                                                                      
00325e   ffdf                                                                                                               
003260   0e01     MOVLW     0x1                                                                                             
003262   c04f     MOVFF     0x4f,0xfdb                                                                                      
003264   ffdb                                                                                                               
003266   0e02     MOVLW     0x2                                                                                             
003268   c050     MOVFF     0x50,0xfdb                                                                                      
00326a   ffdb                                                                                                               
00326c   0e03     MOVLW     0x3                                                                                             
00326e   c051     MOVFF     0x51,0xfdb                                                                                      
003270   ffdb                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Move to the next character                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003272   0100     MOVLB     0x0                advance_RX_buf_out();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003274   da25     RCALL     0x36c0                                                                                          
003276   e104     BNZ       0x3280                                                                                          
003278   0e01     MOVLW     0x1                                                                                             
00327a   184f     XORWF     0x4f,0x0,0x0                                                                                    
00327c   e101     BNZ       0x3280                                                                                          
00327e   6bcb     CLRF      0xcb,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Range check absolute values                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003280   0e08     MOVLW     0x8              if (Negative)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003282   50db     MOVF      0xdb,0x0,0x0                                                                                    
003284   e040     BZ        0x3306                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003286   0efe     MOVLW     0xfe                   kCHAR == Type                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003288   50db     MOVF      0xdb,0x0,0x0                                                                                    
                                                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00328c   da51     RCALL     0x3730                 (ULAccumulator > (unsigned long)128)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00328e   0e80     MOVLW     0x80                                                                                            
003290   da6e     RCALL     0x376e                                                                                          
003292   0e00     MOVLW     0x0                                                                                             
003294   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
00328a   e106     BNZ       0x3298               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003296   e312     BNC       0x32bc                                                                                          
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003298   0e02     MOVLW     0x2                    kINT == Type                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00329a   dad3     RCALL     0x3842                                                                                          
                                                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00329e   da48     RCALL     0x3730                 (ULAccumulator > (unsigned long)32768)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0032a0   0e00     MOVLW     0x0                                                                                             
0032a2   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
0032a4   0e80     MOVLW     0x80                                                                                            
0032a6   da63     RCALL     0x376e                                                                                          
00329c   e106     BNZ       0x32aa               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0032a8   e309     BNC       0x32bc                                                                                          
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0032aa   0e06     MOVLW     0x6                    kLONG == Type                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0032ac   dae2     RCALL     0x3872                                                                                          
                                                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0032b0   da3f     RCALL     0x3730                 (ULAccumulator > (unsigned long)0x80000000L)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0032b2   0e00     MOVLW     0x0                                                                                             
0032b4   da5c     RCALL     0x376e                                                                                          
0032b6   0e80     MOVLW     0x80                                                                                            
0032b8   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
0032ae   e108     BNZ       0x32c0               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0032ba   e202     BC        0x32c0                                                                                          
                                               )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0032bc   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0032be   d050     BRA       0x3360               return(kEXTRACT_PARAMETER_OUTSIDE_LIMIT);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0032c0   da7b     RCALL     0x37b8             Accumulator = ULAccumulator;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0037b8   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
0037ba   ffe9                                                                                                               
0037bc   cfda     MOVFF     0xfda,0xfea                                                                                     
0037be   ffea                                                                                                               
0037c0   0e04     MOVLW     0x4                                                                                             
0037c2   cfee     MOVFF     0xfee,0xfdb                                                                                     
0037c4   ffdb                                                                                                               
0037c6   0e05     MOVLW     0x5                                                                                             
0037c8   cfee     MOVFF     0xfee,0xfdb                                                                                     
0037ca   ffdb                                                                                                               
0037cc   0e06     MOVLW     0x6                                                                                             
0037ce   cfee     MOVFF     0xfee,0xfdb                                                                                     
0037d0   ffdb                                                                                                               
0037d2   0e07     MOVLW     0x7                                                                                             
0037d4   cfee     MOVFF     0xfee,0xfdb                                                                                     
0037d6   ffdb                                                                                                               
0037d8   0012     RETURN    0x0                                                                                             
                                               // Then apply the negative if that's the right thing to do                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0032c2   0e08     MOVLW     0x8                if (Negative)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0032c4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0032c6   e053     BZ        0x336e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0032c8   0e04     MOVLW     0x4                  Accumulator = -Accumulator;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0032ca   cfdb     MOVFF     0xfdb,0x40                                                                                      
0032cc   f040                                                                                                               
0032ce   0e05     MOVLW     0x5                                                                                             
0032d0   cfdb     MOVFF     0xfdb,0x41                                                                                      
0032d2   f041                                                                                                               
0032d4   0e06     MOVLW     0x6                                                                                             
0032d6   cfdb     MOVFF     0xfdb,0x42                                                                                      
0032d8   f042                                                                                                               
0032da   0e07     MOVLW     0x7                                                                                             
0032dc   cfdb     MOVFF     0xfdb,0x43                                                                                      
0032de   f043                                                                                                               
0032e0   6845     SETF      0x45,0x0                                                                                        
0032e2   6846     SETF      0x46,0x0                                                                                        
0032e4   6847     SETF      0x47,0x0                                                                                        
0032e6   6848     SETF      0x48,0x0                                                                                        
0032e8   ecd2     CALL      0x8ba4,0x0                                                                                      
0032ea   f045                                                                                                               
0032ec   0e04     MOVLW     0x4                                                                                             
0032ee   c03c     MOVFF     0x3c,0xfdb                                                                                      
0032f0   ffdb                                                                                                               
0032f2   0e05     MOVLW     0x5                                                                                             
0032f4   c03d     MOVFF     0x3d,0xfdb                                                                                      
0032f6   ffdb                                                                                                               
0032f8   0e06     MOVLW     0x6                                                                                             
0032fa   c03e     MOVFF     0x3e,0xfdb                                                                                      
0032fc   ffdb                                                                                                               
0032fe   0e07     MOVLW     0x7                                                                                             
003300   c03f     MOVFF     0x3f,0xfdb                                                                                      
003302   ffdb                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003304   d034     BRA       0x336e           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003306   0efe     MOVLW     0xfe                   kCHAR == Type                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003308   50db     MOVF      0xdb,0x0,0x0                                                                                    
                                                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00330c   da11     RCALL     0x3730                 (ULAccumulator > (unsigned long)127)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00330e   0e7f     MOVLW     0x7f                                                                                            
003310   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
003312   0e00     MOVLW     0x0                                                                                             
003314   da2c     RCALL     0x376e                                                                                          
00330a   e106     BNZ       0x3318               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003316   e323     BNC       0x335e                                                                                          
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   kUCHAR == Type                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003318   0efe     MOVLW     0xfe                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00331a   04db     DECF      0xdb,0x0,0x0                                                                                    
00331e   db73     RCALL     0x3a06                 (ULAccumulator > (unsigned long)255)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003320   0e00     MOVLW     0x0                                                                                             
003322   da25     RCALL     0x376e                                                                                          
00331c   e104     BNZ       0x3326               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003324   e31c     BNC       0x335e                                                                                          
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003326   0e02     MOVLW     0x2                    kINT == Type                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003328   da8c     RCALL     0x3842                                                                                          
                                                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00332c   db6c     RCALL     0x3a06                 (ULAccumulator > (unsigned long)32767)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00332e   0e7f     MOVLW     0x7f                                                                                            
003330   da1e     RCALL     0x376e                                                                                          
00332a   e104     BNZ       0x3334               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003332   e315     BNC       0x335e                                                                                          
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003334   0e03     MOVLW     0x3                    kUINT == Type                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003336   da9d     RCALL     0x3872                                                                                          
003872   6e4f     MOVWF     0x4f,0x0                                                                                        
003874   0efe     MOVLW     0xfe                                                                                            
003876   50db     MOVF      0xdb,0x0,0x0                                                                                    
003878   5c4f     SUBWF     0x4f,0x0,0x0           &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00387a   0012     RETURN    0x0                                                                                             
00333a   db65     RCALL     0x3a06                 (ULAccumulator > (unsigned long)65535)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00333c   0eff     MOVLW     0xff                                                                                            
00333e   da17     RCALL     0x376e                                                                                          
00376e   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
003770   0e00     MOVLW     0x0                                                                                             
003772   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
003774   0e00     MOVLW     0x0                                                                                             
003776   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
003778   0012     RETURN    0x0                                                                                             
003338   e104     BNZ       0x3342               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003340   e30e     BNC       0x335e                                                                                          
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003342   0e06     MOVLW     0x6                    kLONG == Type                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003344   6e50     MOVWF     0x50,0x0                                                                                        
003346   0efe     MOVLW     0xfe                                                                                            
003348   50db     MOVF      0xdb,0x0,0x0                                                                                    
00334a   5c50     SUBWF     0x50,0x0,0x0           &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00334e   db5b     RCALL     0x3a06                 (ULAccumulator > (unsigned long)0x7FFFFFFFL)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003350   0eff     MOVLW     0xff                                                                                            
003352   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
003354   0eff     MOVLW     0xff                                                                                            
003356   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
003358   0e7f     MOVLW     0x7f                                                                                            
00335a   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
003730   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
003732   ffe9                                                                                                               
003734   cfda     MOVFF     0xfda,0xfea                                                                                     
003736   ffea                                                                                                               
003738   80d8     BSF       0xd8,0x0,0x0                                                                                    
00373a   0012     RETURN    0x0                                                                                             
003a06   de94     RCALL     0x3730                                                                                          
003a08   0eff     MOVLW     0xff                                                                                            
003a0a   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
003a0c   0012     RETURN    0x0                                                                                             
00334c   e10c     BNZ       0x3366               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00335c   e204     BC        0x3366                                                                                          
                                               )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00335e   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003360   8d97     BSF       0x97,0x6,0x1                                                                                    
003362   0e01     MOVLW     0x1                  return(kEXTRACT_PARAMETER_OUTSIDE_LIMIT);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003364   d036     BRA       0x33d2                                                                                          
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003366   0e07     MOVLW     0x7                if (kULONG != Type)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003368   da6c     RCALL     0x3842                                                                                          
00336a   e001     BZ        0x336e                                                                                          
003842   6e4e     MOVWF     0x4e,0x0                                                                                        
003844   0efe     MOVLW     0xfe                                                                                            
003846   50db     MOVF      0xdb,0x0,0x0                                                                                    
003848   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
00384a   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00336c   da25     RCALL     0x37b8               Accumulator = ULAccumulator;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // If all went well, then copy the result                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00336e   0efe     MOVLW     0xfe             switch (Type)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003370   50db     MOVF      0xdb,0x0,0x0                                                                                    
003372   0a07     XORLW     0x7                                                                                             
003374   e021     BZ        0x33b8                                                                                          
003376   0a01     XORLW     0x1                                                                                             
003378   e017     BZ        0x33a8                                                                                          
00337a   0a05     XORLW     0x5                                                                                             
00337c   e011     BZ        0x33a0                                                                                          
00337e   0a01     XORLW     0x1                                                                                             
003380   e00f     BZ        0x33a0                                                                                          
003382   0a03     XORLW     0x3                                                                                             
003384   e008     BZ        0x3396                                                                                          
003386   0a05     XORLW     0x5                                                                                             
003388   e006     BZ        0x3396                                                                                          
00338a   0a01     XORLW     0x1                                                                                             
00338c   e004     BZ        0x3396                                                                                          
00338e   0a05     XORLW     0x5                                                                                             
003390   e002     BZ        0x3396                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kCHAR:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 *(signed char *)ReturnValue = (signed char)Accumulator;                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kUCHAR:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kASCII_CHAR:                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kUCASE_ASCII_CHAR:                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003396   da29     RCALL     0x37ea               *(unsigned char *)ReturnValue = (unsigned char)Accumulator;                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003398   0e04     MOVLW     0x4                                                                                             
00339a   cfdb     MOVFF     0xfdb,0xfef                                                                                     
00339c   ffef                                                                                                               
00339e   d018     BRA       0x33d0               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kINT:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 *(signed int *)ReturnValue = (signed int)Accumulator;                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kUINT:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0033a0   db72     RCALL     0x3a86               *(unsigned int *)ReturnValue = (unsigned int)Accumulator;                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0033a2   cfdb     MOVFF     0xfdb,0xfed                                                                                     
0033a4   ffed                                                                                                               
003a86   deb1     RCALL     0x37ea                                                                                          
003a88   0e04     MOVLW     0x4                                                                                             
003a8a   cfdb     MOVFF     0xfdb,0xfee                                                                                     
003a8c   ffee                                                                                                               
003a8e   0e05     MOVLW     0x5                                                                                             
003a90   0012     RETURN    0x0                                                                                             
0033a6   d014     BRA       0x33d0               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kLONG:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0033a8   db6e     RCALL     0x3a86               *(signed long *)ReturnValue = Accumulator;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0033aa   cfdb     MOVFF     0xfdb,0xfee                                                                                     
0033ac   ffee                                                                                                               
0033ae   0e06     MOVLW     0x6                                                                                             
0033b0   cfdb     MOVFF     0xfdb,0xfee                                                                                     
0033b2   ffee                                                                                                               
0033b4   0e07     MOVLW     0x7                                                                                             
0037ea   0efc     MOVLW     0xfc                                                                                            
0037ec   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0037ee   ffe9                                                                                                               
0037f0   0efd     MOVLW     0xfd                                                                                            
0037f2   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0037f4   ffea                                                                                                               
0037f6   0012     RETURN    0x0                                                                                             
0033b6   d00a     BRA       0x33cc               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kULONG:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0033b8   da18     RCALL     0x37ea               *(unsigned long *)ReturnValue = ULAccumulator;                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0033ba   cfdf     MOVFF     0xfdf,0xfee                                                                                     
0033bc   ffee                                                                                                               
0033be   0e01     MOVLW     0x1                                                                                             
0033c0   cfdb     MOVFF     0xfdb,0xfee                                                                                     
0033c2   ffee                                                                                                               
0033c4   0e02     MOVLW     0x2                                                                                             
0033c6   cfdb     MOVFF     0xfdb,0xfee                                                                                     
0033c8   ffee                                                                                                               
0033ca   0e03     MOVLW     0x3                                                                                             
0033cc   cfdb     MOVFF     0xfdb,0xfee                                                                                     
0033ce   ffee                                                                                                               
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               default:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003392   0e04     MOVLW     0x4                  return(kEXTRACT_INVALID_TYPE);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003394   d01e     BRA       0x33d2                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0033d0   0e00     MOVLW     0x0              return(kEXTRACT_OK);                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0033d2   6e4e     MOVWF     0x4e,0x0       }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0033d4   0e09     MOVLW     0x9                                                                                             
0033d6   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0033d8   e202     BC        0x33de                                                                                          
0033da   6ae1     CLRF      0xe1,0x0                                                                                        
0033dc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0033de   6ee1     MOVWF     0xe1,0x0                                                                                        
0033e0   504e     MOVF      0x4e,0x0,0x0                                                                                    
0033e2   d15b     BRA       0x369a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Loop 'digits' number of times, looking at the                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // byte in input_buffer index *ptr, and if it is                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // a digit, adding it to acc. Take care of                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // powers of ten as well. If you hit a non-numerical                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // char, then return FALSE, otherwise return TRUE.                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Store result as you go in *acc.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0033e4   db9a     RCALL     0x3b1a         signed char extract_digit(unsigned long * acc, unsigned char digits)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003b1a   ddba     RCALL     0x3690                                                                                          
003b1c   0e02     MOVLW     0x2                                                                                             
003b1e   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
003b20   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char val;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char digit_cnt;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0033e6   d9e1     RCALL     0x37aa           *acc = 0;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0033e8   6aee     CLRF      0xee,0x0                                                                                        
0033ea   6aee     CLRF      0xee,0x0                                                                                        
0033ec   6aee     CLRF      0xee,0x0                                                                                        
0033ee   6aee     CLRF      0xee,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0033f0   0e01     MOVLW     0x1              for (digit_cnt = 0; digit_cnt < digits; digit_cnt++)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0033f2   6adb     CLRF      0xdb,0x0                                                                                        
0033f4   0efc     MOVLW     0xfc                                                                                            
0033f6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0033f8   6ef3     MOVWF     0xf3,0x0                                                                                        
0033fa   0e01     MOVLW     0x1                                                                                             
0033fc   da1d     RCALL     0x3838                                                                                          
0033fe   e24f     BC        0x349e                                                                                          
003498   0e01     MOVLW     0x1                                                                                             
00349a   2adb     INCF      0xdb,0x1,0x0                                                                                    
00349c   d7ab     BRA       0x33f4                                                                                          
003838   cfdb     MOVFF     0xfdb,0xff4                                                                                     
00383a   fff4                                                                                                               
00383c   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00383e   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
003840   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003400   0100     MOVLB     0x0                val = g_RX_buf[g_RX_buf_out];                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003402   51cb     MOVF      0xcb,0x0,0x1                                                                                    
003404   dabd     RCALL     0x3980                                                                                          
003406   cfef     MOVFF     0xfef,0xfdf                                                                                     
003408   ffdf                                                                                                               
00340a   0e30     MOVLW     0x30               if ((val >= 48u) && (val <= 57u))                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00340c   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
00340e   e342     BNC       0x3494                                                                                          
003410   50df     MOVF      0xdf,0x0,0x0                                                                                    
003412   0839     SUBLW     0x39                                                                                            
003414   e33f     BNC       0x3494                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003416   d9c9     RCALL     0x37aa               *acc = (*acc * 10) + (val - 48);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003418   cfee     MOVFF     0xfee,0x4e                                                                                      
00341a   f04e                                                                                                               
00341c   cfee     MOVFF     0xfee,0x4f                                                                                      
00341e   f04f                                                                                                               
003420   cfee     MOVFF     0xfee,0x50                                                                                      
003422   f050                                                                                                               
003424   cfef     MOVFF     0xfef,0x51                                                                                      
003426   f051                                                                                                               
003428   0e0a     MOVLW     0xa                                                                                             
00342a   6e45     MOVWF     0x45,0x0                                                                                        
00342c   6a46     CLRF      0x46,0x0                                                                                        
00342e   6a47     CLRF      0x47,0x0                                                                                        
003430   6a48     CLRF      0x48,0x0                                                                                        
003432   c04e     MOVFF     0x4e,0x40                                                                                       
003434   f040                                                                                                               
003436   c04f     MOVFF     0x4f,0x41                                                                                       
003438   f041                                                                                                               
00343a   c050     MOVFF     0x50,0x42                                                                                       
00343c   f042                                                                                                               
00343e   c051     MOVFF     0x51,0x43                                                                                       
003440   f043                                                                                                               
003442   ecd2     CALL      0x8ba4,0x0                                                                                      
003444   f045                                                                                                               
003446   c03c     MOVFF     0x3c,0x4e                                                                                       
003448   f04e                                                                                                               
00344a   c03d     MOVFF     0x3d,0x4f                                                                                       
00344c   f04f                                                                                                               
00344e   c03e     MOVFF     0x3e,0x50                                                                                       
003450   f050                                                                                                               
003452   c03f     MOVFF     0x3f,0x51                                                                                       
003454   f051                                                                                                               
003456   0e30     MOVLW     0x30                                                                                            
003458   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
00345a   6e52     MOVWF     0x52,0x0                                                                                        
00345c   6a53     CLRF      0x53,0x0                                                                                        
00345e   6a54     CLRF      0x54,0x0                                                                                        
003460   6a55     CLRF      0x55,0x0                                                                                        
003462   50e8     MOVF      0xe8,0x0,0x0                                                                                    
003464   264e     ADDWF     0x4e,0x1,0x0                                                                                    
003466   5053     MOVF      0x53,0x0,0x0                                                                                    
003468   224f     ADDWFC    0x4f,0x1,0x0                                                                                    
00346a   5054     MOVF      0x54,0x0,0x0                                                                                    
00346c   2250     ADDWFC    0x50,0x1,0x0                                                                                    
00346e   5055     MOVF      0x55,0x0,0x0                                                                                    
003470   2251     ADDWFC    0x51,0x1,0x0                                                                                    
003472   d99b     RCALL     0x37aa                                                                                          
003474   c04e     MOVFF     0x4e,0xfee                                                                                      
003476   ffee                                                                                                               
003478   c04f     MOVFF     0x4f,0xfee                                                                                      
00347a   ffee                                                                                                               
00347c   c050     MOVFF     0x50,0xfee                                                                                      
00347e   ffee                                                                                                               
003480   c051     MOVFF     0x51,0xfee                                                                                      
003482   ffee                                                                                                               
0037aa   0efd     MOVLW     0xfd                                                                                            
0037ac   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0037ae   ffe9                                                                                                               
0037b0   0efe     MOVLW     0xfe                                                                                            
0037b2   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0037b4   ffea                                                                                                               
0037b6   0012     RETURN    0x0                                                                                             
                                                 // Move to the next character                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003484   0100     MOVLB     0x0                  advance_RX_buf_out();                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003486   d91c     RCALL     0x36c0                                                                                          
003488   e107     BNZ       0x3498                                                                                          
00348a   0e01     MOVLW     0x1                                                                                             
00348c   184f     XORWF     0x4f,0x0,0x0                                                                                    
00348e   e104     BNZ       0x3498                                                                                          
003490   6bcb     CLRF      0xcb,0x1                                                                                        
0036c0   2bcb     INCF      0xcb,0x1,0x1                                                                                    
0036c2   51cb     MOVF      0xcb,0x0,0x1                                                                                    
0036c4   6e4e     MOVWF     0x4e,0x0                                                                                        
0036c6   6a4f     CLRF      0x4f,0x0                                                                                        
0036c8   0e00     MOVLW     0x0                                                                                             
0036ca   184e     XORWF     0x4e,0x0,0x0                                                                                    
0036cc   0012     RETURN    0x0                                                                                             
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003492   d002     BRA       0x3498             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003494   0e00     MOVLW     0x0                  return(FALSE);                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003496   d004     BRA       0x34a0                                                                                          
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00349e   0e01     MOVLW     0x1              return(TRUE);                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0034a0   6e4e     MOVWF     0x4e,0x0       }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0034a2   0e02     MOVLW     0x2                                                                                             
0034a4   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0034a6   e202     BC        0x34ac                                                                                          
0034a8   6ae1     CLRF      0xe1,0x0                                                                                        
0034aa   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0034ac   6ee1     MOVWF     0xe1,0x0                                                                                        
0034ae   504e     MOVF      0x4e,0x0,0x0                                                                                    
0034b0   d0f4     BRA       0x369a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // For debugging, this command will spit out a bunch of values.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void print_status(void)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0034b2   0e18     MOVLW     0x18             ebb_print((far rom char*)"Status=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0034b4   6e4e     MOVWF     0x4e,0x0                                                                                        
0034b6   0e80     MOVLW     0x80                                                                                            
0034b8   d8cf     RCALL     0x3658                                                                                          
003658   d9b0     RCALL     0x39ba                                                                                          
00365a   ef89     GOTO      0x3b12                                                                                          
00365c   f01d                                                                                                               
0034ba   c091     MOVFF     0x91,0x4e        ebb_print_uint(ISR_D_FIFO_length);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0034bc   f04e                                                                                                               
0034be   dafc     RCALL     0x3ab8                                                                                          
0034c0   ef9f     GOTO      0x393e                                                                                          
0034c2   f01c                                                                                                               
00393e   d8e5     RCALL     0x3b0a                                                                                          
003b0a   c04e     MOVFF     0x4e,0xfe6                                                                                      
003b0c   ffe6                                                                                                               
003b0e   ef2f     GOTO      0x365e                                                                                          
003b10   f01b                                                                                                               
00366c   0e01     MOVLW     0x1              print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00366e   ef49     GOTO      0x3a92                                                                                          
003670   f01d                                                                                                               
003940   ef36     GOTO      0x366c                                                                                          
003942   f01b                                                                                                               
003a92   6ee6     MOVWF     0xe6,0x0                                                                                        
003a94   ecb0     CALL      0x1f60,0x0                                                                                      
003a96   f00f                                                                                                               
003a98   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003a9a   0012     RETURN    0x0                                                                                             
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Function:        void BlinkUSBStatus(void)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Overview:        BlinkUSBStatus turns on and off LEDs corresponding to        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  the USB device state.                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Note:            mLED macros can be found in io_cfg.h                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  usb_device_state is declared in usbmmap.c and is modified    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  in usbdrv.c, usbctrltrf.c, and usb9.c                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void BlinkUSBStatus(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             static WORD LEDCount = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             static unsigned char LEDState = 0;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0034c4   0105     MOVLB     0x5                USBDeviceState == DETACHED_STATE                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0034c6   51bc     MOVF      0xbc,0x0,0x1                                                                                    
                                               ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0034ca   0e01     MOVLW     0x1                1u == USBSuspendControl                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0034cc   6e4e     MOVWF     0x4e,0x0                                                                                        
0034ce   5065     MOVF      0x65,0x0,0x0                                                                                    
0034d0   0b02     ANDLW     0x2                                                                                             
0034d2   e001     BZ        0x34d6                                                                                          
0034d4   0e01     MOVLW     0x1                                                                                             
0034c8   e008     BZ        0x34da           )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0034d6   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
0034d8   e117     BNZ       0x3508                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0034da   d9d6     RCALL     0x3888             LEDCount--;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0034dc   e10b     BNZ       0x34f4             if (0u == LEDState)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0034de   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0034e0   117d     IORWF     0x7d,0x0,0x1                                                                                    
0034e2   e111     BNZ       0x3506                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0034e4   868c     BSF       0x8c,0x3,0x0           mLED_1_On();                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0034e6   0ea0     MOVLW     0xa0                   LEDCount = 4000U;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0034e8   6f7c     MOVWF     0x7c,0x1                                                                                        
0034ea   0e0f     MOVLW     0xf                                                                                             
0034ec   6f7d     MOVWF     0x7d,0x1                                                                                        
0034ee   0e01     MOVLW     0x1                    LEDState = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0034f0   6f7e     MOVWF     0x7e,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0034f2   0012     RETURN    0x0                else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0034f4   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0034f6   117d     IORWF     0x7d,0x0,0x1                                                                                    
0034f8   e152     BNZ       0x359e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0034fa   968c     BCF       0x8c,0x3,0x0           mLED_1_Off();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0034fc   0ea0     MOVLW     0xa0                   LEDCount = 4000U;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0034fe   6f7c     MOVWF     0x7c,0x1                                                                                        
003500   0e0f     MOVLW     0xf                                                                                             
003502   6f7d     MOVWF     0x7d,0x1                                                                                        
003504   6b7e     CLRF      0x7e,0x1               LEDState = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003506   0012     RETURN    0x0              else if (                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               USBDeviceState == ATTACHED_STATE                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003508   05bc     DECF      0xbc,0x0,0x1       ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00350c   0e02     MOVLW     0x2                USBDeviceState == POWERED_STATE                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00350a   e009     BZ        0x351e             ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00350e   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
003510   e006     BZ        0x351e                                                                                          
003512   0e04     MOVLW     0x4                USBDeviceState == DEFAULT_STATE                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003514   5dbc     SUBWF     0xbc,0x0,0x1       ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003516   e003     BZ        0x351e                                                                                          
003518   0e10     MOVLW     0x10               USBDeviceState == ADDRESS_STATE                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00351a   5dbc     SUBWF     0xbc,0x0,0x1     )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00351c   e117     BNZ       0x354c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00351e   d9b4     RCALL     0x3888             LEDCount--;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003520   e10b     BNZ       0x3538             if (0u == LEDState)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003522   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003524   117d     IORWF     0x7d,0x0,0x1                                                                                    
003526   e111     BNZ       0x354a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003528   868c     BSF       0x8c,0x3,0x0           mLED_1_On();                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00352a   0e20     MOVLW     0x20                   LEDCount = 20000U;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00352c   6f7c     MOVWF     0x7c,0x1                                                                                        
00352e   0e4e     MOVLW     0x4e                                                                                            
003530   6f7d     MOVWF     0x7d,0x1                                                                                        
003532   0e01     MOVLW     0x1                    LEDState = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003534   6f7e     MOVWF     0x7e,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003536   0012     RETURN    0x0                else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003538   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00353a   117d     IORWF     0x7d,0x0,0x1                                                                                    
00353c   e130     BNZ       0x359e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00353e   968c     BCF       0x8c,0x3,0x0           mLED_1_Off();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003540   0e20     MOVLW     0x20                   LEDCount = 20000U;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003542   6f7c     MOVWF     0x7c,0x1                                                                                        
003544   0e4e     MOVLW     0x4e                                                                                            
003546   6f7d     MOVWF     0x7d,0x1                                                                                        
003548   6b7e     CLRF      0x7e,0x1               LEDState = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00354a   0012     RETURN    0x0              else if (USBDeviceState == CONFIGURED_STATE)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00354c   0e20     MOVLW     0x20                                                                                            
00354e   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
003550   e126     BNZ       0x359e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003552   d99a     RCALL     0x3888             LEDCount--;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003888   0101     MOVLB     0x1                                                                                             
00388a   077c     DECF      0x7c,0x1,0x1                                                                                    
00388c   0e00     MOVLW     0x0                                                                                             
00388e   5b7d     SUBWFB    0x7d,0x1,0x1                                                                                    
003554   e107     BNZ       0x3564             if (0u == LEDState)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003890   517e     MOVF      0x7e,0x0,0x1                                                                                    
003892   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003556   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003558   117d     IORWF     0x7d,0x0,0x1                                                                                    
00355a   e121     BNZ       0x359e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00355c   868c     BSF       0x8c,0x3,0x0           mLED_1_On();                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00355e   d9ce     RCALL     0x38fc                 LEDCount = 10000U;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003560   0e01     MOVLW     0x1                    LEDState = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003562   d015     BRA       0x358e             else if (1u == LEDState)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003564   057e     DECF      0x7e,0x0,0x1                                                                                    
003566   e107     BNZ       0x3576                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003568   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00356a   117d     IORWF     0x7d,0x0,0x1                                                                                    
00356c   e118     BNZ       0x359e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00356e   968c     BCF       0x8c,0x3,0x0           mLED_1_Off();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003570   d9c5     RCALL     0x38fc                 LEDCount = 10000U;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003572   0e02     MOVLW     0x2                    LEDState = 2;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003574   d00c     BRA       0x358e             else if (2u == LEDState)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003576   0e02     MOVLW     0x2                                                                                             
003578   5d7e     SUBWF     0x7e,0x0,0x1                                                                                    
00357a   e10b     BNZ       0x3592                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00357c   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00357e   117d     IORWF     0x7d,0x0,0x1                                                                                    
003580   e10e     BNZ       0x359e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003582   868c     BSF       0x8c,0x3,0x0           mLED_1_On();                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003584   0ea0     MOVLW     0xa0                   LEDCount = 100000U;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003586   6f7c     MOVWF     0x7c,0x1                                                                                        
003588   0e86     MOVLW     0x86                                                                                            
00358a   6f7d     MOVWF     0x7d,0x1                                                                                        
00358c   0e03     MOVLW     0x3                    LEDState = 3;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00358e   6f7e     MOVWF     0x7e,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003590   0012     RETURN    0x0                else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003592   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003594   117d     IORWF     0x7d,0x0,0x1                                                                                    
003596   e103     BNZ       0x359e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003598   968c     BCF       0x8c,0x3,0x0           mLED_1_Off();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00359a   d9b0     RCALL     0x38fc                 LEDCount = 10000U;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0038fc   0e10     MOVLW     0x10                                                                                            
0038fe   6f7c     MOVWF     0x7c,0x1                                                                                        
003900   0e27     MOVLW     0x27                                                                                            
003902   6f7d     MOVWF     0x7d,0x1                                                                                        
003904   0012     RETURN    0x0                                                                                             
00359c   6b7e     CLRF      0x7e,0x1               LEDState = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00359e   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile near unsigned char * rom RPnTRISPort[25] = {                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISA,     // RP0                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISA,     // RP1                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISA,     // RP2                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP3                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP4                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP5                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP6                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP7                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP8                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP9                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP10                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP11                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP12                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP13                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP14                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP15                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP16                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP17                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP18                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISD,     // RP19                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISD,     // RP20                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISD,     // RP21                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISD,     // RP22                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISD,     // RP23                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISD,     // RP24                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile near unsigned char * rom RPnLATPort[25] = {                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATA,      // RP0                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATA,      // RP1                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATA,      // RP2                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP3                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP4                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP5                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP6                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP7                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP8                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP9                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP10                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP11                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP12                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP13                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP14                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP15                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP16                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP17                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP18                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATD,      // RP19                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATD,      // RP20                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATD,      // RP21                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATD,      // RP22                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATD,      // RP23                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATD,      // RP24                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           const char rom RPnBit[25] = {                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             0,          // RP0                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             1,          // RP1                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             5,          // RP2                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             0,          // RP3                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             1,          // RP4                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             2,          // RP5                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             3,          // RP6                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             4,          // RP7                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             5,          // RP8                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             6,          // RP9                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             7,          // RP10                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             0,          // RP11                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             1,          // RP12                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             2,          // RP13                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             3,          // RP14                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             4,          // RP15                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             5,          // RP16                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             6,          // RP17                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             7,          // RP18                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             2,          // RP19                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             3,          // RP20                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             4,          // RP21                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             5,          // RP22                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             6,          // RP23                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             7,          // RP24                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // From RPn (Pin) number, set LAT value for that pin                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0035a0   d877     RCALL     0x3690         void SetPinLATFromRPn(char Pin, char State)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0035a2   d9a0     RCALL     0x38e4           if (Pin > 25)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0035a4   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
0035a6   d002     BRA       0x35ac                                                                                          
0035a8   344e     RLCF      0x4e,0x0,0x0                                                                                    
0035aa   d003     BRA       0x35b2                                                                                          
0035ac   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0035ae   80d8     BSF       0xd8,0x0,0x0                                                                                    
0035b0   544e     SUBFWB    0x4e,0x0,0x0                                                                                    
0035b2   e323     BNC       0x35fa                                                                                          
0038e4   0efe     MOVLW     0xfe                                                                                            
0038e6   cfdb     MOVFF     0xfdb,0x4e                                                                                      
0038e8   f04e                                                                                                               
0038ea   0e19     MOVLW     0x19                                                                                            
0038ec   6ee7     MOVWF     0xe7,0x0                                                                                        
0038ee   184e     XORWF     0x4e,0x0,0x0                                                                                    
0038f0   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0035b4   0efd     MOVLW     0xfd             if (State)                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0035b6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0035b8   e010     BZ        0x35da                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0035ba   d90f     RCALL     0x37da             bitset(*RPnLATPort[Pin], RPnBit[Pin]);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0035bc   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
0035be   68f7     SETF      0xf7,0x0                                                                                        
0035c0   d8ad     RCALL     0x371c                                                                                          
0035c2   e004     BZ        0x35cc                                                                                          
0035c4   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
0035c6   0bfe     ANDLW     0xfe                                                                                            
0035c8   064f     DECF      0x4f,0x1,0x0                                                                                    
0035ca   e1fc     BNZ       0x35c4                                                                                          
0035cc   6e4e     MOVWF     0x4e,0x0                                                                                        
0035ce   d905     RCALL     0x37da                                                                                          
0035d0   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
0035d2   68f7     SETF      0xf7,0x0                                                                                        
0035d4   d9fe     RCALL     0x39d2                                                                                          
0035d6   12ef     IORWF     0xef,0x1,0x0                                                                                    
0039d2   90d8     BCF       0xd8,0x0,0x0                                                                                    
0039d4   36f6     RLCF      0xf6,0x1,0x0                                                                                    
0039d6   36f7     RLCF      0xf7,0x1,0x0                                                                                    
0039d8   0eb7     MOVLW     0xb7                                                                                            
0039da   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
0039dc   0e89     MOVLW     0x89                                                                                            
0039de   efaa     GOTO      0x3754                                                                                          
0039e0   f01b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0035d8   d010     BRA       0x35fa           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0035da   d8ff     RCALL     0x37da             bitclr(*RPnLATPort[Pin], RPnBit[Pin]);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0035dc   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
0035de   68f7     SETF      0xf7,0x0                                                                                        
0035e0   d89d     RCALL     0x371c                                                                                          
0035e2   e004     BZ        0x35ec                                                                                          
0035e4   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
0035e6   0bfe     ANDLW     0xfe                                                                                            
0035e8   064f     DECF      0x4f,0x1,0x0                                                                                    
0035ea   e1fc     BNZ       0x35e4                                                                                          
0035ec   1ce8     COMF      0xe8,0x0,0x0                                                                                    
0035ee   6e4e     MOVWF     0x4e,0x0                                                                                        
0035f0   d8f4     RCALL     0x37da                                                                                          
0035f2   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
0035f4   68f7     SETF      0xf7,0x0                                                                                        
0035f6   d9ed     RCALL     0x39d2                                                                                          
0035f8   16ef     ANDWF     0xef,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0035fa   d04f     BRA       0x369a         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // From RPn (Pin) number, set TRIS value for that pin                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0035fc   d849     RCALL     0x3690         void SetPinTRISFromRPn(char Pin, char State)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0035fe   d972     RCALL     0x38e4           if (Pin > 25)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003600   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
003602   d002     BRA       0x3608                                                                                          
003604   344e     RLCF      0x4e,0x0,0x0                                                                                    
003606   d003     BRA       0x360e                                                                                          
003608   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00360a   80d8     BSF       0xd8,0x0,0x0                                                                                    
00360c   544e     SUBFWB    0x4e,0x0,0x0                                                                                    
00360e   e323     BNC       0x3656                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003610   0efd     MOVLW     0xfd             if (OUTPUT_PIN == State)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003612   50db     MOVF      0xdb,0x0,0x0                                                                                    
003614   e111     BNZ       0x3638                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003616   d8e1     RCALL     0x37da             bitclr (*RPnTRISPort[Pin], RPnBit[Pin]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003618   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
00361a   68f7     SETF      0xf7,0x0                                                                                        
00361c   d87f     RCALL     0x371c                                                                                          
00361e   e004     BZ        0x3628                                                                                          
003620   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
003622   0bfe     ANDLW     0xfe                                                                                            
003624   064f     DECF      0x4f,0x1,0x0                                                                                    
003626   e1fc     BNZ       0x3620                                                                                          
003628   1ce8     COMF      0xe8,0x0,0x0                                                                                    
00362a   6e4e     MOVWF     0x4e,0x0                                                                                        
00362c   d8d6     RCALL     0x37da                                                                                          
00362e   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
003630   68f7     SETF      0xf7,0x0                                                                                        
003632   d9d7     RCALL     0x39e2                                                                                          
003634   16ef     ANDWF     0xef,0x1,0x0                                                                                    
0039e2   90d8     BCF       0xd8,0x0,0x0                                                                                    
0039e4   36f6     RLCF      0xf6,0x1,0x0                                                                                    
0039e6   36f7     RLCF      0xf7,0x1,0x0                                                                                    
0039e8   0e85     MOVLW     0x85                                                                                            
0039ea   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
0039ec   0e89     MOVLW     0x89                                                                                            
0039ee   efaa     GOTO      0x3754                                                                                          
0039f0   f01b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003636   d00f     BRA       0x3656           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003638   d8d0     RCALL     0x37da             bitset (*RPnTRISPort[Pin], RPnBit[Pin]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00363a   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
00363c   68f7     SETF      0xf7,0x0                                                                                        
00363e   d86e     RCALL     0x371c                                                                                          
003640   e004     BZ        0x364a                                                                                          
003642   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
003644   0bfe     ANDLW     0xfe                                                                                            
003646   064f     DECF      0x4f,0x1,0x0                                                                                    
003648   e1fc     BNZ       0x3642                                                                                          
00364a   6e4e     MOVWF     0x4e,0x0                                                                                        
00364c   d8c6     RCALL     0x37da                                                                                          
00364e   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
003650   68f7     SETF      0xf7,0x0                                                                                        
003652   d9c7     RCALL     0x39e2                                                                                          
003654   12ef     IORWF     0xef,0x1,0x0                                                                                    
00371c   0ee9     MOVLW     0xe9                                                                                            
00371e   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
003720   0e89     MOVLW     0x89                                                                                            
003722   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
003724   0008     TBLRD                                                                                                     
003726   50f5     MOVF      0xf5,0x0,0x0                                                                                    
003728   6e4f     MOVWF     0x4f,0x0                                                                                        
00372a   0e01     MOVLW     0x1                                                                                             
00372c   524f     MOVF      0x4f,0x1,0x0                                                                                    
00372e   0012     RETURN    0x0                                                                                             
003754   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
003756   0009     TBLRDPOSTINC                                                                                              
003758   cff5     MOVFF     0xff5,0xfe9                                                                                     
00375a   ffe9                                                                                                               
00375c   0008     TBLRD                                                                                                     
00375e   cff5     MOVFF     0xff5,0xfea                                                                                     
003760   ffea                                                                                                               
003762   504e     MOVF      0x4e,0x0,0x0                                                                                    
003764   0012     RETURN    0x0                                                                                             
0037da   0efe     MOVLW     0xfe                                                                                            
0037dc   cfdb     MOVFF     0xfdb,0xff6                                                                                     
0037de   fff6                                                                                                               
0037e0   6af7     CLRF      0xf7,0x0                                                                                        
0037e2   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003656   d021     BRA       0x369a         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00369a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00369c   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00369e   ffd9                                                                                                               
0036a0   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /** EOF user.c ***************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            FileName:      usb_descriptors.c                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Dependencies:  See INCLUDES section                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Processor:     PIC18 or PIC24 USB Microcontrollers                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Hardware:      The code is natively intended to be used on the following        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                           hardware platforms: PICDEM FS USB Demo Board,                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                           PIC18F87J50 FS USB Plug-In Module, or                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                           Explorer 16 + PIC24 USB PIM.  The firmware may be                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                           modified for use on other USB platforms by editing the           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                           HardwareProfile.h file.                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Complier:      Microchip C18 (for PIC18) or C30 (for PIC24)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Company:       Microchip Technology, Inc.                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Software License Agreement:                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            The software supplied herewith by Microchip Technology Incorporated             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            (the Company) for its PIC Microcontroller is intended and                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            supplied to you, the Companys customer, for use solely and                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            exclusively on Microchip PIC Microcontroller products. The                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            software is owned by the Company and/or its supplier, and is                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            protected under applicable copyright laws. All rights are reserved.             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Any use in violation of the foregoing restrictions may subject the              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            user to criminal sanctions under applicable laws, as well as to                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            civil liability for the breach of the terms and conditions of this              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            license.                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            THIS SOFTWARE IS PROVIDED IN AN AS IS CONDITION. NO WARRANTIES,               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           *********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           -usb_descriptors.c-                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           -------------------------------------------------------------------              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           Filling in the descriptor values in the usb_descriptors.c file:                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           -------------------------------------------------------------------              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           [Device Descriptors]                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The device descriptor is defined as a USB_DEVICE_DESCRIPTOR type.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           This type is defined in usb_ch9.h  Each entry into this structure                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           needs to be the correct length for the data type of the entry.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           [Configuration Descriptors]                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The configuration descriptor was changed in v2.x from a structure                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           to a BYTE array.  Given that the configuration is now a byte array               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           each byte of multi-byte fields must be listed individually.  This                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           means that for fields like the total size of the configuration where             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           the field is a 16-bit value "64,0," is the correct entry for a                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           configuration that is only 64 bytes long and not "64," which is one              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           too few bytes.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The configuration attribute must always have the _DEFAULT                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           definition at the minimum. Additional options can be ORed                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           to the _DEFAULT attribute. Available options are _SELF and _RWU.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           These definitions are defined in the usb_device.h file. The                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           _SELF tells the USB host that this device is self-powered. The                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           _RWU tells the USB host that this device supports Remote Wakeup.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           [Endpoint Descriptors]                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           Like the configuration descriptor, the endpoint descriptors were                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           changed in v2.x of the stack from a structure to a BYTE array.  As               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           endpoint descriptors also has a field that are multi-byte entities,              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           please be sure to specify both bytes of the field.  For example, for             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           the endpoint size an endpoint that is 64 bytes needs to have the size            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           defined as "64,0," instead of "64,"                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           Take the following example:                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               // Endpoint Descriptor //                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               0x07,                       //the size of this descriptor //                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               USB_DESCRIPTOR_ENDPOINT,    //Endpoint Descriptor                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               _EP02_IN,                   //EndpointAddress                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               _INT,                       //Attributes                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               0x08,0x00,                  //size (note: 2 bytes)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               0x02,                       //Interval                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The first two parameters are self-explanatory. They specify the                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           length of this endpoint descriptor (7) and the descriptor type.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The next parameter identifies the endpoint, the definitions are                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           defined in usb_device.h and has the following naming                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           convention:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           _EP<##>_<dir>                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           where ## is the endpoint number and dir is the direction of                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           transfer. The dir has the value of either 'OUT' or 'IN'.                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The next parameter identifies the type of the endpoint. Available                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           options are _BULK, _INT, _ISO, and _CTRL. The _CTRL is not                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           typically used because the default control transfer endpoint is                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           not defined in the USB descriptors. When _ISO option is used,                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           addition options can be ORed to _ISO. Example:                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           _ISO|_AD|_FE                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           This describes the endpoint as an isochronous pipe with adaptive                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           and feedback attributes. See usb_device.h and the USB                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           specification for details. The next parameter defines the size of                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           the endpoint. The last parameter in the polling interval.                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           -------------------------------------------------------------------              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           Adding a USB String                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           -------------------------------------------------------------------              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           A string descriptor array should have the following format:                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           rom struct{byte bLength;byte bDscType;word string[size];}sdxxx={                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           sizeof(sdxxx),DSC_STR,<text>};                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The above structure provides a means for the C compiler to                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           calculate the length of string descriptor sdxxx, where xxx is the                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           index number. The first two bytes of the descriptor are descriptor               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           length and type. The rest <text> are string texts which must be                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           in the unicode format. The unicode format is achieved by declaring               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           each character as a word type. The whole text string is declared                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           as a word array with the number of characters equals to <size>.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           <size> has to be manually counted and entered into the array                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           declaration. Let's study this through an example:                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           if the string is "USB" , then the string descriptor should be:                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           (Using index 02)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           rom struct{byte bLength;byte bDscType;word string[3];}sd002={                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           sizeof(sd002),DSC_STR,'U','S','B'};                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           A USB project may have multiple strings and the firmware supports                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           the management of multiple strings through a look-up table.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The look-up table is defined as:                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           rom const unsigned char *rom USB_SD_Ptr[]={&sd000,&sd001,&sd002};                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The above declaration has 3 strings, sd000, sd001, and sd002.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           Strings can be removed or added. sd000 is a specialized string                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           descriptor. It defines the language code, usually this is                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           US English (0x0409). The index of the string must match the index                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           position of the USB_SD_Ptr array, &sd000 must be in position                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           USB_SD_Ptr[0], &sd001 must be in position USB_SD_Ptr[1] and so on.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The look-up table USB_SD_Ptr is used by the get string handler                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           function.                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           -------------------------------------------------------------------              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The look-up table scheme also applies to the configuration                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           descriptor. A USB device may have multiple configuration                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           descriptors, i.e. CFG01, CFG02, etc. To add a configuration                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           descriptor, user must implement a structure similar to CFG01.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The next step is to add the configuration descriptor name, i.e.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           cfg01, cfg02,.., to the look-up table USB_CD_Ptr. USB_CD_Ptr[0]                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           is a dummy place holder since configuration 0 is the un-configured               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           state according to the definition in the USB specification.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           ********************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /*********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            * Descriptor specific type definitions are defined in:                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            * usb_device.h                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            * Configuration options are defined in:                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            * usb_config.h                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            ********************************************************************/           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #ifndef __USB_DESCRIPTORS_C                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #define __USB_DESCRIPTORS_C                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /** INCLUDES *******************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #include "./USB/usb.h"                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #include "./USB/usb_function_cdc.h"                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /** CONSTANTS ******************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #if defined(__18CXX)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #pragma romdata                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /* Device Descriptor */                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           ROM USB_DEVICE_DESCRIPTOR device_dsc =                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x12,                   // Size of this descriptor in bytes                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_DEVICE,  // DEVICE descriptor type                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x0200,                 // USB Spec Release Number in BCD format               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CDC_DEVICE,             // Class Code                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x00,                   // Subclass code                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x00,                   // Protocol code                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_EP0_BUFF_SIZE,      // Max packet size for EP0, see usb_config.h           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x04D8,                 // Vendor ID                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0xFD92,                 // Product ID: UBW based serial port device            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x0182,                 // Device release number in BCD format                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x01,                   // Manufacturer string index                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x02,                   // Product string index                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x03,                   // Device serial number string index                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x01                    // Number of possible configurations                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /* Configuration 1 Descriptor */                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           ROM BYTE configDescriptor1[] = {                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* Configuration Descriptor */                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x09,//sizeof(USB_CFG_DSC),    // Size of this descriptor in bytes             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_CONFIGURATION,  // CONFIGURATION descriptor type                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             67,0,                   // Total length of data for this cfg                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             2,                      // Number of interfaces in this cfg                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             1,                      // Index value of this configuration                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                      // Configuration string index                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _DEFAULT | _SELF,       // Attributes, see usb_device.h                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             50,                     // Max power consumption (2X mA)                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* Interface Descriptor */                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             9,//sizeof(USB_INTF_DSC),   // Size of this descriptor in bytes                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_INTERFACE,   // INTERFACE descriptor type                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                      // Interface Number                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                      // Alternate Setting Number                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             1,                      // Number of endpoints in this interface               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             COMM_INTF,              // Class code                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             ABSTRACT_CONTROL_MODEL, // Subclass code                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             V25TER,                 // Protocol code                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                      // Interface string index                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* CDC Class-Specific Descriptors */                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(USB_CDC_HEADER_FN_DSC),                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CS_INTERFACE,                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             DSC_FN_HEADER,                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x10,0x01,                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(USB_CDC_ACM_FN_DSC),                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CS_INTERFACE,                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             DSC_FN_ACM,                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_CDC_ACM_FN_DSC_VAL,                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(USB_CDC_UNION_FN_DSC),                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CS_INTERFACE,                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             DSC_FN_UNION,                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CDC_COMM_INTF_ID,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CDC_DATA_INTF_ID,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(USB_CDC_CALL_MGT_FN_DSC),                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CS_INTERFACE,                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             DSC_FN_CALL_MGT,                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x00,                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CDC_DATA_INTF_ID,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* Endpoint Descriptor */                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             //sizeof(USB_EP_DSC),DSC_EP,_EP02_IN,_INT,CDC_INT_EP_SIZE,0x02,                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x07,/*sizeof(USB_EP_DSC)*/                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_ENDPOINT,    // Endpoint Descriptor                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _EP01_IN,                   // EndpointAddress                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _INTERRUPT,                 // Attributes                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x08,0x00,                  // size                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x02,                       // Interval                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* Interface Descriptor */                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             9,//sizeof(USB_INTF_DSC),   // Size of this descriptor in bytes                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_INTERFACE,   // INTERFACE descriptor type                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             1,                          // Interface Number                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                          // Alternate Setting Number                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             2,                          // Number of endpoints in this interface           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             DATA_INTF,                  // Class code                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                          // Subclass code                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             NO_PROTOCOL,                // Protocol code                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                          // Interface string index                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* Endpoint Descriptor */                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             //sizeof(USB_EP_DSC),DSC_EP,_EP03_OUT,_BULK,CDC_BULK_OUT_EP_SIZE,0x00,         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x07,/*sizeof(USB_EP_DSC)*/                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_ENDPOINT,    // Endpoint Descriptor                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _EP02_OUT,                  // EndpointAddress                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _BULK,                      // Attributes                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x40,0x00,                  // size                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x00,                       // Interval                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* Endpoint Descriptor */                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             //sizeof(USB_EP_DSC),DSC_EP,_EP03_IN,_BULK,CDC_BULK_IN_EP_SIZE,0x00            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x07,/*sizeof(USB_EP_DSC)*/                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_ENDPOINT,    // Endpoint Descriptor                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _EP02_IN,                   // EndpointAddress                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _BULK,                      // Attributes                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x40,0x00,                  // size                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x00,                       // Interval                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // Language code string descriptor                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           struct{BYTE bLength;BYTE bDscType;WORD string[1];}sd000 = {                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(sd000),USB_DESCRIPTOR_STRING,{0x0409}                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // Manufacturer string descriptor                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           struct{BYTE bLength;BYTE bDscType;WORD string[11];}sd001 = {                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(sd001),USB_DESCRIPTOR_STRING,                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             {'S','c','h','m','a','l','z','H','a','u','s'}                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // Product string descriptor                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // As of EBB firmware v2.5.4 this is now stored in ram, and we set it up here to D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // have enough space to put the 'name' (set via the 'NS' command) on the end     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           struct{BYTE bLength;BYTE bDscType;WORD string[27];}sd002 = {                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(sd002),USB_DESCRIPTOR_STRING,                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             {'E','i','B','o','t','B','o','a','r','d',',',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '} D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           struct{BYTE bLength;BYTE bDscType;WORD string[16];}sd003 = {                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(sd003),USB_DESCRIPTOR_STRING,                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '}              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // Array of configuration descriptors                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           ROM BYTE *ROM USB_CD_Ptr[] = {                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             (ROM BYTE *ROM)&configDescriptor1                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // Array of string descriptors                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           BYTE * USB_SD_Ptr[USB_NUM_STRING_DESCRIPTORS] = {                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               (BYTE *)&sd000,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               (BYTE *)&sd001,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               (BYTE *)&sd002,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               (BYTE *)&sd003                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #pragma code                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /** EOF usb_descriptors.c ****************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /*                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * File:   ebb_print.c                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * Author: Brian Schmalz (brian@schmalzhaus.com)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * Created on October 2, 2023, 7:41 PM                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * The functions in this file are meant to replace (partially) the built-in      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * printf() functionality in MAPLB C18. Even simple printf() calls were using    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * up significant stack space. In an effort to maximize the number of possible   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * FIFO elements, we freed up as much RAM as possible, and put the stack in      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * GPR14, which is not an entire bank since there are some SFRs at the end of    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * that bank. So the stack only goes from 0xE00 to 0xEBF. With printf() taking   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * up lots of that space, and because the new higher-order move instructions     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * need more stack space to operate (mainly to pass lots of paramters around)    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * we were seeing stack overflows in versions around v3.0.0-a18. This re-written D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * print functionality is an attempt at fixing that problem.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * We do not need any floating point support.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * All of our printing goes to the PC via the USB port.                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * Virtually all of our printing can be broken down into the following types:    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * - Simple strings with no variables                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * - A signed or unsigned byte                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * - A signed or unsigned 16-bit integer                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * - A signed or unsigned 32-bit integer                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * - A byte as hex                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * - A 16-bit integer as hex                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            */                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           #include <p18cxxx.h>                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           #include "UBW.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           #include "ebb_print.h"                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // Maximum number of output characters, plus sign, plus trailing 0x00            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // hex needs FFFFFFFF = 9                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // uint needs 4294967296 = 11                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // int needs -2147483649 = 12                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           #define EBB_PRINT_MAX_OUTPUT_LENGTH_CHARS   12                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // String where we build up our output before printing it out                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           static char gOutputStr[EBB_PRINT_MAX_OUTPUT_LENGTH_CHARS];                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // Current position within gOutputStr                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           static UINT8 gPos;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           static UINT8 i;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           /* Print a simple string */                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0081c2   d8dd     RCALL     0x837e         void ebb_print(far rom char * print_str)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0081c4   d8d0     RCALL     0x8366           while (*print_str != 0x00)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0081c6   e00d     BZ        0x81e2                                                                                          
0081e0   d7f1     BRA       0x81c4                                                                                          
008366   0efc     MOVLW     0xfc                                                                                            
008368   cfdb     MOVFF     0xfdb,0xff6                                                                                     
00836a   fff6                                                                                                               
00836c   0efd     MOVLW     0xfd                                                                                            
00836e   cfdb     MOVFF     0xfdb,0xff7                                                                                     
008370   fff7                                                                                                               
008372   0efe     MOVLW     0xfe                                                                                            
008374   cfdb     MOVFF     0xfdb,0xff8                                                                                     
008376   fff8                                                                                                               
008378   0008     TBLRD                                                                                                     
00837a   50f5     MOVF      0xf5,0x0,0x0                                                                                    
00837c   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0081c8   d8ce     RCALL     0x8366             ebb_putc((char)*print_str);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0081ca   d8f3     RCALL     0x83b2                                                                                          
0081cc   50d9     MOVF      0xd9,0x0,0x0       print_str++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0081ce   0ffc     ADDLW     0xfc                                                                                            
0081d0   6ee9     MOVWF     0xe9,0x0                                                                                        
0081d2   0eff     MOVLW     0xff                                                                                            
0081d4   20da     ADDWFC    0xda,0x0,0x0                                                                                    
0081d6   6eea     MOVWF     0xea,0x0                                                                                        
0081d8   2aee     INCF      0xee,0x1,0x0                                                                                    
0081da   0e00     MOVLW     0x0                                                                                             
0081dc   22ee     ADDWFC    0xee,0x1,0x0                                                                                    
0081de   22ee     ADDWFC    0xee,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0081e2   d0f7     BRA       0x83d2         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0081e4   d8cc     RCALL     0x837e         void ebb_print_ram(char * print_str)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0081e6   d8d6     RCALL     0x8394           while (*print_str != 0x00)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0081e8   e008     BZ        0x81fa                                                                                          
0081f8   d7f6     BRA       0x81e6                                                                                          
008394   0efd     MOVLW     0xfd                                                                                            
008396   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
008398   ffe9                                                                                                               
00839a   0efe     MOVLW     0xfe                                                                                            
00839c   cfdb     MOVFF     0xfdb,0xfea                                                                                     
00839e   ffea                                                                                                               
0083a0   50ef     MOVF      0xef,0x0,0x0                                                                                    
0083a2   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0081ea   d8d4     RCALL     0x8394             ebb_putc(*print_str);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0081ec   d8e2     RCALL     0x83b2                                                                                          
0081ee   0efd     MOVLW     0xfd               print_str++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0081f0   2adb     INCF      0xdb,0x1,0x0                                                                                    
0081f2   0efe     MOVLW     0xfe                                                                                            
0081f4   e3f8     BNC       0x81e6                                                                                          
0081f6   2adb     INCF      0xdb,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0081fa   d0eb     BRA       0x83d2         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // Print out <data> as a hex value, zero-padded to <length> digits               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0081fc   d8ee     RCALL     0x83da         void ebb_print_hex(UINT32 data, UINT8 length)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083da   dfd1     RCALL     0x837e                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083dc   0105     MOVLB     0x5              gOutputStr[EBB_PRINT_MAX_OUTPUT_LENGTH_CHARS - 1] = 0x00;  // Always add string terminator D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083de   6bfb     CLRF      0xfb,0x1                                                                                        
0083e0   0e0a     MOVLW     0xa              gPos = (EBB_PRINT_MAX_OUTPUT_LENGTH_CHARS - 2);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083e2   6ffc     MOVWF     0xfc,0x1                                                                                        
0083e4   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             do                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0081fe   0e0f     MOVLW     0xf                i = data & 0x0000000F;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008200   6e4e     MOVWF     0x4e,0x0                                                                                        
008202   6a4f     CLRF      0x4f,0x0                                                                                        
008204   6a50     CLRF      0x50,0x0                                                                                        
008206   50d9     MOVF      0xd9,0x0,0x0                                                                                    
008208   d8bf     RCALL     0x8388                                                                                          
00820a   50ee     MOVF      0xee,0x0,0x0                                                                                    
00820c   164e     ANDWF     0x4e,0x1,0x0                                                                                    
00820e   50ee     MOVF      0xee,0x0,0x0                                                                                    
008210   164f     ANDWF     0x4f,0x1,0x0                                                                                    
008212   50ee     MOVF      0xee,0x0,0x0                                                                                    
008214   1650     ANDWF     0x50,0x1,0x0                                                                                    
008216   50ee     MOVF      0xee,0x0,0x0                                                                                    
008218   c04e     MOVFF     0x4e,0x5fd                                                                                      
00821a   f5fd                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00821c   504e     MOVF      0x4e,0x0,0x0       if (i <= 0x09u)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00821e   0809     SUBLW     0x9                                                                                             
008220   e302     BNC       0x8226                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008222   0e30     MOVLW     0x30                 gOutputStr[gPos] = i + '0';                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008224   d001     BRA       0x8228             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008226   0e37     MOVLW     0x37                 gOutputStr[gPos] = i + ('A' - 0x0A);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008228   25fd     ADDWF     0xfd,0x0,0x1                                                                                    
00822a   d8c8     RCALL     0x83bc                                                                                          
0083bc   6ee6     MOVWF     0xe6,0x0                                                                                        
0083be   51fc     MOVF      0xfc,0x0,0x1                                                                                    
0083c0   6aea     CLRF      0xea,0x0                                                                                        
0083c2   0ff0     ADDLW     0xf0                                                                                            
0083c4   6ee9     MOVWF     0xe9,0x0                                                                                        
0083c6   0e05     MOVLW     0x5                                                                                             
0083c8   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0083ca   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0083cc   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0083ce   6eef     MOVWF     0xef,0x0                                                                                        
0083d0   0012     RETURN    0x0                                                                                             
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00822c   d873     RCALL     0x8314             data = data >> 4;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00822e   0e04     MOVLW     0x4                                                                                             
008230   90d8     BCF       0xd8,0x0,0x0                                                                                    
008232   3251     RRCF      0x51,0x1,0x0                                                                                    
008234   3250     RRCF      0x50,0x1,0x0                                                                                    
008236   324f     RRCF      0x4f,0x1,0x0                                                                                    
008238   324e     RRCF      0x4e,0x1,0x0                                                                                    
00823a   06e8     DECF      0xe8,0x1,0x0                                                                                    
00823c   e1f9     BNZ       0x8230                                                                                          
00823e   0efb     MOVLW     0xfb                                                                                            
008240   c04e     MOVFF     0x4e,0xfdb                                                                                      
008242   ffdb                                                                                                               
008244   0efc     MOVLW     0xfc                                                                                            
008246   c04f     MOVFF     0x4f,0xfdb                                                                                      
008248   ffdb                                                                                                               
00824a   0efd     MOVLW     0xfd                                                                                            
00824c   c050     MOVFF     0x50,0xfdb                                                                                      
00824e   ffdb                                                                                                               
008250   0efe     MOVLW     0xfe                                                                                            
008252   c051     MOVFF     0x51,0xfdb                                                                                      
008254   ffdb                                                                                                               
008256   0105     MOVLB     0x5                gPos--;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008258   07fc     DECF      0xfc,0x1,0x1                                                                                    
00825a   0efa     MOVLW     0xfa               if (length)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00825c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00825e   e002     BZ        0x8264                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008260   0efa     MOVLW     0xfa                 length--;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008262   06db     DECF      0xdb,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008264   d8c0     RCALL     0x83e6           while (data != 0u || length != 0u);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008266   e1cb     BNZ       0x81fe                                                                                          
008268   0efa     MOVLW     0xfa                                                                                            
00826a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00826c   e1c8     BNZ       0x81fe                                                                                          
0083e6   df96     RCALL     0x8314                                                                                          
0083e8   504e     MOVF      0x4e,0x0,0x0                                                                                    
0083ea   104f     IORWF     0x4f,0x0,0x0                                                                                    
0083ec   1050     IORWF     0x50,0x0,0x0                                                                                    
0083ee   1051     IORWF     0x51,0x0,0x0                                                                                    
0083f0   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00826e   d06c     BRA       0x8348           gPos++;                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008348   2bfc     INCF      0xfc,0x1,0x1                                                                                    
                                             // gPos now points to the beginning of where we need to print from             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00834a   51fc     MOVF      0xfc,0x0,0x1     ebb_print_ram(&gOutputStr[gPos]);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00834c   6a4f     CLRF      0x4f,0x0                                                                                        
00834e   0ff0     ADDLW     0xf0                                                                                            
008350   6e4e     MOVWF     0x4e,0x0                                                                                        
008352   0e05     MOVLW     0x5                                                                                             
008354   224f     ADDWFC    0x4f,0x1,0x0                                                                                    
008356   c04e     MOVFF     0x4e,0xfe6                                                                                      
008358   ffe6                                                                                                               
00835a   c04f     MOVFF     0x4f,0xfe6                                                                                      
00835c   ffe6                                                                                                               
00835e   df42     RCALL     0x81e4                                                                                          
008360   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008362   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008364   d036     BRA       0x83d2         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083d2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0083d4   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0083d6   ffd9                                                                                                               
0083d8   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // Print out <data> as an unsigned integer                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008270   d8b4     RCALL     0x83da         void ebb_print_uint(UINT32 data)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             gOutputStr[EBB_PRINT_MAX_OUTPUT_LENGTH_CHARS - 1] = 0x00;  // Always add string terminator D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             gPos = (EBB_PRINT_MAX_OUTPUT_LENGTH_CHARS - 2);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             do                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008272   d85d     RCALL     0x832e             i = data % 10;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008274   d897     RCALL     0x83a4                                                                                          
008276   c03c     MOVFF     0x3c,0x5fd                                                                                      
008278   f5fd                                                                                                               
0083a4   0e0a     MOVLW     0xa                                                                                             
0083a6   6e45     MOVWF     0x45,0x0                                                                                        
0083a8   6a46     CLRF      0x46,0x0                                                                                        
0083aa   6a47     CLRF      0x47,0x0                                                                                        
0083ac   6a48     CLRF      0x48,0x0                                                                                        
0083ae   ef36     GOTO      0x8c6c                                                                                          
0083b0   f046                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00827a   0e30     MOVLW     0x30               gOutputStr[gPos] = i + '0';                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00827c   0105     MOVLB     0x5                                                                                             
00827e   243c     ADDWF     0x3c,0x0,0x0                                                                                    
008280   d89d     RCALL     0x83bc                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008282   d855     RCALL     0x832e             data = data / 10;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008284   d88f     RCALL     0x83a4                                                                                          
008286   0efb     MOVLW     0xfb                                                                                            
008288   c040     MOVFF     0x40,0xfdb                                                                                      
00828a   ffdb                                                                                                               
00828c   0efc     MOVLW     0xfc                                                                                            
00828e   c041     MOVFF     0x41,0xfdb                                                                                      
008290   ffdb                                                                                                               
008292   0efd     MOVLW     0xfd                                                                                            
008294   c042     MOVFF     0x42,0xfdb                                                                                      
008296   ffdb                                                                                                               
008298   0efe     MOVLW     0xfe                                                                                            
00829a   c043     MOVFF     0x43,0xfdb                                                                                      
00829c   ffdb                                                                                                               
00832e   0efb     MOVLW     0xfb                                                                                            
008330   cfdb     MOVFF     0xfdb,0x40                                                                                      
008332   f040                                                                                                               
008334   0efc     MOVLW     0xfc                                                                                            
008336   cfdb     MOVFF     0xfdb,0x41                                                                                      
008338   f041                                                                                                               
00833a   0efd     MOVLW     0xfd                                                                                            
00833c   cfdb     MOVFF     0xfdb,0x42                                                                                      
00833e   f042                                                                                                               
008340   0efe     MOVLW     0xfe                                                                                            
008342   cfdb     MOVFF     0xfdb,0x43                                                                                      
008344   f043                                                                                                               
008346   0012     RETURN    0x0                                                                                             
00829e   0105     MOVLB     0x5                gPos--;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0082a0   07fc     DECF      0xfc,0x1,0x1                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0082a2   d8a1     RCALL     0x83e6           while (data != 0u);                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0082a4   e1e6     BNZ       0x8272                                                                                          
008314   0efb     MOVLW     0xfb                                                                                            
008316   cfdb     MOVFF     0xfdb,0x4e                                                                                      
008318   f04e                                                                                                               
00831a   0efc     MOVLW     0xfc                                                                                            
00831c   cfdb     MOVFF     0xfdb,0x4f                                                                                      
00831e   f04f                                                                                                               
008320   0efd     MOVLW     0xfd                                                                                            
008322   cfdb     MOVFF     0xfdb,0x50                                                                                      
008324   f050                                                                                                               
008326   0efe     MOVLW     0xfe                                                                                            
008328   cfdb     MOVFF     0xfdb,0x51                                                                                      
00832a   f051                                                                                                               
00832c   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0082a6   d050     BRA       0x8348           gPos++;                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             // gPos now points to the beginning of where we need to print from             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             ebb_print_ram(&gOutputStr[gPos]);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // Print out <data> as a signed integer                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0082a8   d86a     RCALL     0x837e         void ebb_print_int(INT32 data)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00837e   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
008380   ffe6                                                                                                               
008382   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
008384   ffd9                                                                                                               
008386   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             // Handle negative sign                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0082aa   50e1     MOVF      0xe1,0x0,0x0     if (data < 0)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0082ac   d86d     RCALL     0x8388                                                                                          
0082ae   90d8     BCF       0xd8,0x0,0x0                                                                                    
0082b0   0e03     MOVLW     0x3                                                                                             
0082b2   50eb     MOVF      0xeb,0x0,0x0                                                                                    
0082b4   0a00     XORLW     0x0                                                                                             
0082b6   e608     BN        0x82c8                                                                                          
0082b8   0e00     MOVLW     0x0                                                                                             
0082ba   5cee     SUBWF     0xee,0x0,0x0                                                                                    
0082bc   0e00     MOVLW     0x0                                                                                             
0082be   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
0082c0   0e00     MOVLW     0x0                                                                                             
0082c2   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
0082c4   0e00     MOVLW     0x0                                                                                             
0082c6   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
0082c8   e215     BC        0x82f4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0082ca   0e2d     MOVLW     0x2d               ebb_print_char('-');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0082cc   d872     RCALL     0x83b2                                                                                          
0083b2   6ee6     MOVWF     0xe6,0x0                                                                                        
0083b4   ec2c     CALL      0x1858,0x0                                                                                      
0083b6   f00c                                                                                                               
0083b8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0083ba   0012     RETURN    0x0                                                                                             
0082ce   d82f     RCALL     0x832e             data = -data;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0082d0   6845     SETF      0x45,0x0                                                                                        
0082d2   6846     SETF      0x46,0x0                                                                                        
0082d4   6847     SETF      0x47,0x0                                                                                        
0082d6   6848     SETF      0x48,0x0                                                                                        
0082d8   ecd2     CALL      0x8ba4,0x0                                                                                      
0082da   f045                                                                                                               
0082dc   0efb     MOVLW     0xfb                                                                                            
0082de   c03c     MOVFF     0x3c,0xfdb                                                                                      
0082e0   ffdb                                                                                                               
0082e2   0efc     MOVLW     0xfc                                                                                            
0082e4   c03d     MOVFF     0x3d,0xfdb                                                                                      
0082e6   ffdb                                                                                                               
0082e8   0efd     MOVLW     0xfd                                                                                            
0082ea   c03e     MOVFF     0x3e,0xfdb                                                                                      
0082ec   ffdb                                                                                                               
0082ee   0efe     MOVLW     0xfe                                                                                            
0082f0   c03f     MOVFF     0x3f,0xfdb                                                                                      
0082f2   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0082f4   50d9     MOVF      0xd9,0x0,0x0     ebb_print_uint(data);                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0082f6   d848     RCALL     0x8388                                                                                          
0082f8   cfee     MOVFF     0xfee,0xfe6                                                                                     
0082fa   ffe6                                                                                                               
0082fc   cfee     MOVFF     0xfee,0xfe6                                                                                     
0082fe   ffe6                                                                                                               
008300   cfee     MOVFF     0xfee,0xfe6                                                                                     
008302   ffe6                                                                                                               
008304   cfef     MOVFF     0xfef,0xfe6                                                                                     
008306   ffe6                                                                                                               
008308   dfb3     RCALL     0x8270                                                                                          
00830a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00830c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00830e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008310   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008388   0ffb     ADDLW     0xfb                                                                                            
00838a   6ee9     MOVWF     0xe9,0x0                                                                                        
00838c   0eff     MOVLW     0xff                                                                                            
00838e   20da     ADDWFC    0xda,0x0,0x0                                                                                    
008390   6eea     MOVWF     0xea,0x0                                                                                        
008392   0012     RETURN    0x0                                                                                             
008312   d05f     BRA       0x83d2         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           #include <p18F46J50.inc>                                                         source\squareroot.s
                                                   LIST                                                                     C:\MCC18\mpasm\p18F46J50.inc
                                                                                                                            C:\MCC18\mpasm\p18F46J50.inc
                                           ;==========================================================================      C:\MCC18\mpasm\p18F46J50.inc
                                           ;  MPASM PIC18F46J50 processor include                                           C:\MCC18\mpasm\p18F46J50.inc
                                           ;                                                                                C:\MCC18\mpasm\p18F46J50.inc
                                           ;  (c) Copyright 1999-2013 Microchip Technology, All rights reserved             C:\MCC18\mpasm\p18F46J50.inc
                                           ;==========================================================================      C:\MCC18\mpasm\p18F46J50.inc
                                                                                                                            C:\MCC18\mpasm\p18F46J50.inc
                                                   LIST                                                                     C:\MCC18\mpasm\p18F46J50.inc
                                                                                                                            source\squareroot.s
                                           ; When assembly code is placed in a psect, it can be manipulated as a            source\squareroot.s
                                           ; whole by the linker and placed in memory.                                      source\squareroot.s
                                           ;                                                                                source\squareroot.s
                                           ; In this example, barfunc is the program section (psect) name, 'local' means    source\squareroot.s
                                           ; that the section will not be combined with other sections even if they have    source\squareroot.s
                                           ; the same name.  class=CODE means the barfunc must go in the CODE container.    source\squareroot.s
                                           ; PIC18 should have a delta (addressible unit size) of 1 (default) since they    source\squareroot.s
                                           ; are byte addressible.  PIC10/12/16 have a delta of 2 since they are word       source\squareroot.s
                                           ; addressible.  PIC18 should have a reloc (alignment) flag of 2 for any          source\squareroot.s
                                           ; psect which contains executable code.  PIC10/12/16 can use the default         source\squareroot.s
                                           ; reloc value of 1.  Use one of the psects below for the device you use:         source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ; psect   barfunc,local,class=CODE,delta=2 ; PIC10/12/16                         source\squareroot.s
                                           ;;;psect   barfunc,local,class=CODE,reloc=2 ; PIC18                              source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ;;;global _bar ; extern of bar function goes in the C source file                source\squareroot.s
                                           ;;;_bar:                                                                         source\squareroot.s
                                           ;;;    movf PORTA,w    ; here we use a symbol defined via xc.inc                 source\squareroot.s
                                           ;;;    return                                                                    source\squareroot.s
                                                                                                                            source\squareroot.s
                                                                                                                            source\squareroot.s
                                                                                                                            source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ;;;    RES0, RES1                                                                source\squareroot.s
                                           ;;;EXTERN Sqrt                                                                   source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ;;;W equ 0 ; Standard constants                                                  source\squareroot.s
                                           ;;;F equ 1                                                                       source\squareroot.s
                                           ;;;a equ 0                                                                       source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ;;;R_Vctr CODE 0x0000                                                            source\squareroot.s
                                           ;;;goto Main                                                                     source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ;Software License Agreement                                                      source\squareroot.s
                                           ;The software supplied herewith by Microchip Technology Incorporated             source\squareroot.s
                                           ;(the ?Company?) for its PICmicro Microcontroller is intended and               source\squareroot.s
                                           ;supplied to you, the Company?s customer, for use solely and                     source\squareroot.s
                                           ;exclusively on Microchip PICmicro Microcontroller products. The                 source\squareroot.s
                                           ;software is owned by the Company and/or its supplier, and is                    source\squareroot.s
                                           ;protected under applicable copyright laws. All rights are reserved.             source\squareroot.s
                                           ;Any use in violation of the foregoing restrictions may subject the              source\squareroot.s
                                           ;user to criminal sanctions under applicable laws, as well as to civil           source\squareroot.s
                                           ;liability for the breach of the terms and conditions of this license.           source\squareroot.s
                                           ;THIS SOFTWARE IS PROVIDED IN AN ?AS IS? CONDITION. NO WARRANTIES,               source\squareroot.s
                                           ;WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED TO,           source\squareroot.s
                                           ;IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR              source\squareroot.s
                                           ;PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT, IN ANY                   source\squareroot.s
                                           ;CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR CONSEQUENTIAL               source\squareroot.s
                                           ;DAMAGES, FOR ANY REASON WHATSOEVER.                                             source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; Calling Routine                                                                source\squareroot.s
                                           ;;;SRoot CODE                                                                    source\squareroot.s
                                           ;;;Main                                                                          source\squareroot.s
                                           ;;;movlw 0xCF                                                                    source\squareroot.s
                                           ;;;movwf ARGA1, a                                                                source\squareroot.s
                                           ;;;movlw 0x48                                                                    source\squareroot.s
                                           ;;;movwf ARGA0, a                                                                source\squareroot.s
                                           ;;;call Sqrt ; Sqrt(0xCF48)                                                      source\squareroot.s
                                           ; RES0 should now contain 0xE6                                                   source\squareroot.s
                                           ;;;movlw 0xE0                                                                    source\squareroot.s
                                           ;;;movwf ARGA3, a                                                                source\squareroot.s
                                           ;;;movlw 0x12                                                                    source\squareroot.s
                                           ;;;movwf ARGA2, a                                                                source\squareroot.s
                                           ;;;movlw 0xA1                                                                    source\squareroot.s
                                           ;;;movwf ARGA1, a                                                                source\squareroot.s
                                           ;;;movlw 0x40                                                                    source\squareroot.s
                                           ;;;movwf ARGA0, a                                                                source\squareroot.s
                                           ;;;call Sqrt ; Sqrt(0xE012A140)                                                  source\squareroot.s
                                           ; RES1:RES0 should now contain 0xEF81                                            source\squareroot.s
                                           ;;;bra Main                                                                      source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ;;;END                                                                           source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                               Title"16/32 bit Integer Square Root"                                         source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *** ***                                                                        source\squareroot.s
                                           ; *** Author: Ross Fosler ***                                                    source\squareroot.s
                                           ; *** Applications Engineer ***                                                  source\squareroot.s
                                           ; *** Microchip Technology Inc. ***                                              source\squareroot.s
                                           ; *** ***                                                                        source\squareroot.s
                                           ; *** Program:sqrt.asm ***                                                       source\squareroot.s
                                           ; *** This module contains code to perform fast integer ***                      source\squareroot.s
                                           ; *** square root functions on either 16 or 32 bit ***                           source\squareroot.s
                                           ; *** values. ***                                                                source\squareroot.s
                                           ; *** ***                                                                        source\squareroot.s
                                           ; *** Last Rev:August 10, 2000 ***                                               source\squareroot.s
                                           ; *** Ver 1.00 ***                                                               source\squareroot.s
                                           ; *** ***                                                                        source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ;;;#include P18C252.INC                                                          source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ;;;MSB	equ 7		    ; general literal constants                                    source\squareroot.s
                                           ;;;LSB	equ 0                                                                     source\squareroot.s
                                           ;;;W	equ 0                                                                       source\squareroot.s
                                           ;;;F	equ 1                                                                       source\squareroot.s
                                           ;;;a	equ 0                                                                       source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           sqrtVar	UDATA	0x500		    ; allocate RAM in grp5 section                          source\squareroot.s
                                           ARGA0	res 1			    ; various argument registers                                   source\squareroot.s
                                           ARGA1	res 1                                                                      source\squareroot.s
                                           ARGA2	res 1                                                                      source\squareroot.s
                                           ARGA3	res 1                                                                      source\squareroot.s
                                               GLOBAL ARGA0, ARGA1, ARGA2, ARGA3                                            source\squareroot.s
                                           ARG1H	res 1                                                                      source\squareroot.s
                                           ARG1L	res 1                                                                      source\squareroot.s
                                           ARG2H	res 1                                                                      source\squareroot.s
                                           ARG2L	res 1                                                                      source\squareroot.s
                                               GLOBAL ARG1H, ARG1L, ARG2H, ARG2L                                            source\squareroot.s
                                           SARG1	res 1			    ; signed arguments                                             source\squareroot.s
                                           SARG2	res 1                                                                      source\squareroot.s
                                               GLOBAL SARG1, SARG2                                                          source\squareroot.s
                                           RES1	res 1			    ; result registers                                              source\squareroot.s
                                           RES0	res 1                                                                       source\squareroot.s
                                               GLOBAL RES0, RES1                                                            source\squareroot.s
                                           SQRES0	res 1                                                                     source\squareroot.s
                                           SQRES1	res 1                                                                     source\squareroot.s
                                           SQRES2	res 1                                                                     source\squareroot.s
                                           SQRES3	res 1                                                                     source\squareroot.s
                                               GLOBAL SQRES0, SQRES1, SQRES2, SQRES3                                        source\squareroot.s
                                           BITLOC0 res 1			    ; temporary registers                                        source\squareroot.s
                                           BITLOC1 res 1                                                                    source\squareroot.s
                                           TEMP0	res 1                                                                      source\squareroot.s
                                           TEMP1	res 1                                                                      source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; The function of this square root routine is to determine the root              source\squareroot.s
                                           ; to the nearest integer. At the same time the root is found at the              source\squareroot.s
                                           ; best possible speed; therefore, the root is found a little differently         source\squareroot.s
                                           ; for the two basic sizes of numbers, 16-bit and 32-bit. The following           source\squareroot.s
                                           ; differentiates the two and jumps to the appropriate function.                  source\squareroot.s
                                           ; Sqrt(ARGA3:ARGA2:ARGA1:ARGA0) = PRODH:PRODL                                    source\squareroot.s
                                           	CODE                                                                            source\squareroot.s
                                           Sqrt	                                                                            source\squareroot.s
00871e   cfd9     MOVFF     0xfd9,0xfe6    	movff	0xfd9, 0xfe6                                                              source\squareroot.s
008720   ffe6                                                                                                               
008722   cfe1     MOVFF     0xfe1,0xfd9    	movff	0xfe1, 0xfd9                                                              source\squareroot.s
008724   ffd9                                                                                                               
008726   0105     MOVLB     0x5            	movlb	5		    ; All our RAM is in bank 5                                         source\squareroot.s
008728   0efb     MOVLW     0xfb           	movlw	0xFB		    ; load -1 into W                                                source\squareroot.s
00872a   cfdb     MOVFF     0xfdb,0x500    	movff	PLUSW2, ARGA0	    ; And offset FSR1 by W and store in ARGA3               source\squareroot.s
00872c   f500                                                                                                               
00872e   0efc     MOVLW     0xfc           	movlw	0xFC		    ; load -2 into W and do the same for the                        source\squareroot.s
008730   cfdb     MOVFF     0xfdb,0x501    	movff	PLUSW2, ARGA1	    ; other bytes in the input parameter                    source\squareroot.s
008732   f501                                                                                                               
008734   0efd     MOVLW     0xfd           	movlw	0xFD                                                                      source\squareroot.s
008736   cfdb     MOVFF     0xfdb,0x502    	movff	PLUSW2, ARGA2                                                             source\squareroot.s
008738   f502                                                                                                               
00873a   0efe     MOVLW     0xfe           	movlw	0xFE                                                                      source\squareroot.s
00873c   cfdb     MOVFF     0xfdb,0x503    	movff	PLUSW2, ARGA3                                                             source\squareroot.s
00873e   f503                                                                                                               
008740   6703     TSTFSZ    0x3,0x1        	tstfsz	ARGA3, BANKED	    ; determine if the number is 16-bit                    source\squareroot.s
008742   d025     BRA       0x878e         	bra	Sqrt32		    ; or 32-bit and call the best function                          source\squareroot.s
008744   6702     TSTFSZ    0x2,0x1        	tstfsz	ARGA2, BANKED                                                            source\squareroot.s
008746   d023     BRA       0x878e         	bra	Sqrt32                                                                      source\squareroot.s
                                           				    ; Fallthrough to Sqrt16                                                  source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; ******************** Square Root **********************************            source\squareroot.s
                                           ; Sqrt16(ARGA1:ARGA0) = PRODL                                                    source\squareroot.s
                                           Sqrt16	                                                                          source\squareroot.s
008748   6b12     CLRF      0x12,0x1       	clrf	TEMP0, BANKED	    ; clear the temp solution                                source\squareroot.s
00874a   0e80     MOVLW     0x80           	movlw	0x80		    ; setup the first bit                                           source\squareroot.s
00874c   6f10     MOVWF     0x10,0x1       	movwf	BITLOC0, BANKED                                                           source\squareroot.s
00874e   6f0b     MOVWF     0xb,0x1        	movwf	RES0, BANKED                                                              source\squareroot.s
008750   510b     MOVF      0xb,0x0,0x1    Square8 movf	RES0, W, BANKED	    ; square the guess                              source\squareroot.s
008752   030b     MULWF     0xb,0x1        	mulwf	RES0, BANKED                                                              source\squareroot.s
008754   50f3     MOVF      0xf3,0x0,0x0   	movf	PRODL, W, ACCESS    ; ARGA - PROD test                                     source\squareroot.s
008756   5d00     SUBWF     0x0,0x0,0x1    	subwf	ARGA0, W, BANKED                                                          source\squareroot.s
008758   50f4     MOVF      0xf4,0x0,0x0   	movf	PRODH, W, ACCESS                                                           source\squareroot.s
00875a   5901     SUBWFB    0x1,0x0,0x1    	subwfb	ARGA1, W, BANKED                                                         source\squareroot.s
00875c   b0d8     BTFSC     0xd8,0x0,0x0   	btfsc	STATUS, C, ACCESS                                                         source\squareroot.s
00875e   d008     BRA       0x8770         	bra	NextBit		    ; if positive then next bit                                    source\squareroot.s
                                           				    ; if negative then rotate right                                          source\squareroot.s
008760   c512     MOVFF     0x512,0x50b    	movff	TEMP0, RES0	    ; move last good value back into RES0                     source\squareroot.s
008762   f50b                                                                                                               
008764   4310     RRNCF     0x10,0x1,0x1   	rrncf	BITLOC0, F, BANKED  ; then rotote the bit and put it                      source\squareroot.s
008766   5110     MOVF      0x10,0x0,0x1   	movf	BITLOC0, W, BANKED  ; back into RES0                                       source\squareroot.s
008768   130b     IORWF     0xb,0x1,0x1    	iorwf	RES0, F, BANKED                                                           source\squareroot.s
00876a   bf10     BTFSC     0x10,0x7,0x1   	btfsc	BITLOC0, 7, BANKED  ; if last value was tested then get                   source\squareroot.s
00876c   d009     BRA       0x8780         	bra	Done		    ; out                                                             source\squareroot.s
00876e   d7f0     BRA       0x8750         	bra	Square8		    ; elso go back for another test                                source\squareroot.s
008770   c50b     MOVFF     0x50b,0x512    NextBit movff	RES0, TEMP0	    ; copy the last good approximation                 source\squareroot.s
008772   f512                                                                                                               
008774   4310     RRNCF     0x10,0x1,0x1   	rrncf	BITLOC0, F, BANKED  ; rotate the bit location register                    source\squareroot.s
008776   5110     MOVF      0x10,0x0,0x1   	movf	BITLOC0, W, BANKED                                                         source\squareroot.s
008778   130b     IORWF     0xb,0x1,0x1    	iorwf	RES0, F, BANKED                                                           source\squareroot.s
00877a   bf10     BTFSC     0x10,0x7,0x1   	btfsc	BITLOC0, 7, BANKED  ; if last value was tested then get                   source\squareroot.s
00877c   d001     BRA       0x8780         	bra	Done		    ; out                                                             source\squareroot.s
00877e   d7e8     BRA       0x8750         	bra	Square8                                                                     source\squareroot.s
008780   c512     MOVFF     0x512,0xff3    Done	movff	TEMP0,PRODL	    ; put the final result in PRODL                       source\squareroot.s
008782   fff3                                                                                                               
008784   6af4     CLRF      0xf4,0x0       	clrf	PRODH, ACCESS	    ; clear out upper byte to be nice                        source\squareroot.s
008786   52e5     MOVF      0xe5,0x1,0x0   	movf	0xe5, 0x1, 0x0                                                             source\squareroot.s
008788   cfe7     MOVFF     0xfe7,0xfd9    	movff	0xfe7, 0xfd9                                                              source\squareroot.s
00878a   ffd9                                                                                                               
00878c   0012     RETURN    0x0            	return                                                                          source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; ******************** Square Root **********************************            source\squareroot.s
                                           ; Sqrt32(ARGA3:ARGA2:ARGA1:ARGA0) = PRODH:PRODL                                  source\squareroot.s
                                           Sqrt32	                                                                          source\squareroot.s
00878e   6b12     CLRF      0x12,0x1       	clrf	TEMP0, BANKED	    ; clear the temp solution                                source\squareroot.s
008790   6b13     CLRF      0x13,0x1       	clrf	TEMP1, BANKED                                                              source\squareroot.s
008792   6b10     CLRF      0x10,0x1       	clrf	BITLOC0, BANKED	    ; setup the first bit                                  source\squareroot.s
008794   6b0b     CLRF      0xb,0x1        	clrf	RES0, BANKED                                                               source\squareroot.s
008796   0e80     MOVLW     0x80           	movlw	0x80                                                                      source\squareroot.s
008798   6f11     MOVWF     0x11,0x1       	movwf	BITLOC1, BANKED	    ; BitLoc = 0x8000                                     source\squareroot.s
00879a   6f0a     MOVWF     0xa,0x1        	movwf	RES1, BANKED	    ; RES = 0x8000                                           source\squareroot.s
00879c   c50b     MOVFF     0x50b,0x505    Squar16 movff	RES0, ARG1L	    ; square the guess                                 source\squareroot.s
00879e   f505                                                                                                               
0087a0   c50a     MOVFF     0x50a,0x504    	movff	RES1, ARG1H                                                               source\squareroot.s
0087a2   f504                                                                                                               
0087a4   ec02     CALL      0x8804,0x0     	call	Sq16                                                                       source\squareroot.s
0087a6   f044                                                                                                               
0087a8   510c     MOVF      0xc,0x0,0x1    	movf	SQRES0, W, BANKED   ; ARGA - PROD test                                     source\squareroot.s
0087aa   5d00     SUBWF     0x0,0x0,0x1    	subwf	ARGA0, W, BANKED                                                          source\squareroot.s
0087ac   510d     MOVF      0xd,0x0,0x1    	movf	SQRES1, W, BANKED                                                          source\squareroot.s
0087ae   5901     SUBWFB    0x1,0x0,0x1    	subwfb	ARGA1, W, BANKED                                                         source\squareroot.s
0087b0   510e     MOVF      0xe,0x0,0x1    	movf	SQRES2, W, BANKED                                                          source\squareroot.s
0087b2   5902     SUBWFB    0x2,0x0,0x1    	subwfb	ARGA2, W, BANKED                                                         source\squareroot.s
0087b4   510f     MOVF      0xf,0x0,0x1    	movf	SQRES3, W, BANKED                                                          source\squareroot.s
0087b6   5903     SUBWFB    0x3,0x0,0x1    	subwfb	ARGA3, W, BANKED                                                         source\squareroot.s
0087b8   b0d8     BTFSC     0xd8,0x0,0x0   	btfsc	STATUS, C, ACCESS                                                         source\squareroot.s
0087ba   d00e     BRA       0x87d8         	bra	NxtBt16		    ; if positive then next bit                                    source\squareroot.s
                                           				    ; if negative then rotate right                                          source\squareroot.s
0087bc   0f00     ADDLW     0x0            	addlw	0x00		    ; clear carry                                                   source\squareroot.s
0087be   c512     MOVFF     0x512,0x50b    	movff	TEMP0, RES0	    ; move last good value back into RES0                     source\squareroot.s
0087c0   f50b                                                                                                               
0087c2   c513     MOVFF     0x513,0x50a    	movff	TEMP1, RES1                                                               source\squareroot.s
0087c4   f50a                                                                                                               
0087c6   3311     RRCF      0x11,0x1,0x1   	rrcf	BITLOC1, F, BANKED  ; then rotote the bit and put it                       source\squareroot.s
0087c8   3310     RRCF      0x10,0x1,0x1   	rrcf	BITLOC0, F, BANKED                                                         source\squareroot.s
0087ca   5111     MOVF      0x11,0x0,0x1   	movf	BITLOC1, W, BANKED  ; back into RES1:RES0                                  source\squareroot.s
0087cc   130a     IORWF     0xa,0x1,0x1    	iorwf	RES1, F, BANKED                                                           source\squareroot.s
0087ce   5110     MOVF      0x10,0x0,0x1   	movf	BITLOC0, W, BANKED                                                         source\squareroot.s
0087d0   130b     IORWF     0xb,0x1,0x1    	iorwf	RES0, F, BANKED                                                           source\squareroot.s
0087d2   b0d8     BTFSC     0xd8,0x0,0x0   	btfsc	STATUS, C, ACCESS   ; if last value was tested then get                   source\squareroot.s
0087d4   d00f     BRA       0x87f4         	bra	Done32		    ; out                                                           source\squareroot.s
0087d6   d7e2     BRA       0x879c         	bra	Squar16		    ; elso go back for another test                                source\squareroot.s
0087d8   0f00     ADDLW     0x0            NxtBt16 addlw	0x00		    ; clear carry                                            source\squareroot.s
0087da   c50b     MOVFF     0x50b,0x512    	movff	RES0, TEMP0	    ; copy the last good approximation                        source\squareroot.s
0087dc   f512                                                                                                               
0087de   c50a     MOVFF     0x50a,0x513    	movff	RES1, TEMP1                                                               source\squareroot.s
0087e0   f513                                                                                                               
0087e2   3311     RRCF      0x11,0x1,0x1   	rrcf	BITLOC1, F, BANKED  ; rotate the bit location register                     source\squareroot.s
0087e4   3310     RRCF      0x10,0x1,0x1   	rrcf	BITLOC0, F, BANKED                                                         source\squareroot.s
0087e6   5111     MOVF      0x11,0x0,0x1   	movf	BITLOC1, W, BANKED  ; and put back into RES1:RES0                          source\squareroot.s
0087e8   130a     IORWF     0xa,0x1,0x1    	iorwf	RES1, F, BANKED                                                           source\squareroot.s
0087ea   5110     MOVF      0x10,0x0,0x1   	movf	BITLOC0, W, BANKED                                                         source\squareroot.s
0087ec   130b     IORWF     0xb,0x1,0x1    	iorwf	RES0, F, BANKED                                                           source\squareroot.s
0087ee   b0d8     BTFSC     0xd8,0x0,0x0   	btfsc	STATUS, C, ACCESS   ; if last value was tested then get                   source\squareroot.s
0087f0   d001     BRA       0x87f4         	bra	Done32		    ; out                                                           source\squareroot.s
0087f2   d7d4     BRA       0x879c         	bra	Squar16                                                                     source\squareroot.s
0087f4   c512     MOVFF     0x512,0xff3    Done32	movff	TEMP0,PRODL	    ; put the final result in PRODL:PRODH               source\squareroot.s
0087f6   fff3                                                                                                               
0087f8   c513     MOVFF     0x513,0xff4    	movff	TEMP1,PRODH                                                               source\squareroot.s
0087fa   fff4                                                                                                               
0087fc   52e5     MOVF      0xe5,0x1,0x0   	movf	0xe5, 0x1, 0x0                                                             source\squareroot.s
0087fe   cfe7     MOVFF     0xfe7,0xfd9    	movff	0xfe7, 0xfd9                                                              source\squareroot.s
008800   ffd9                                                                                                               
008802   0012     RETURN    0x0            	return                                                                          source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *********** 16 X 16 Unsigned Square *****************************              source\squareroot.s
                                           ; SQRES3:SQRES0 = ARG1H:ARG1L ^2                                                 source\squareroot.s
008804   5105     MOVF      0x5,0x0,0x1    Sq16	movf	ARG1L, W, BANKED                                                       source\squareroot.s
008806   0305     MULWF     0x5,0x1        	mulwf	ARG1L		    ; ARG1L * ARG2L ->                                             source\squareroot.s
                                           				    ; PRODH:PRODL                                                            source\squareroot.s
008808   cff4     MOVFF     0xff4,0x50d    	movff	PRODH, SQRES1                                                             source\squareroot.s
00880a   f50d                                                                                                               
00880c   cff3     MOVFF     0xff3,0x50c    	movff	PRODL, SQRES0                                                             source\squareroot.s
00880e   f50c                                                                                                               
008810   5104     MOVF      0x4,0x0,0x1    	movf	ARG1H, W, BANKED                                                           source\squareroot.s
008812   0304     MULWF     0x4,0x1        	mulwf	ARG1H		    ; ARG1H * ARG2H ->                                             source\squareroot.s
                                           				    ; PRODH:PRODL                                                            source\squareroot.s
008814   cff4     MOVFF     0xff4,0x50f    	movff	PRODH, SQRES3                                                             source\squareroot.s
008816   f50f                                                                                                               
008818   cff3     MOVFF     0xff3,0x50e    	movff	PRODL, SQRES2                                                             source\squareroot.s
00881a   f50e                                                                                                               
00881c   5105     MOVF      0x5,0x0,0x1    	movf	ARG1L, W, BANKED                                                           source\squareroot.s
00881e   0304     MULWF     0x4,0x1        	mulwf	ARG1H		    ; ARG1L * ARG2H ->                                             source\squareroot.s
                                           				    ; PRODH:PRODL                                                            source\squareroot.s
008820   50f3     MOVF      0xf3,0x0,0x0   	movf	PRODL, W, ACCESS                                                           source\squareroot.s
008822   270d     ADDWF     0xd,0x1,0x1    	addwf	SQRES1, F, BANKED   ; Add cross                                           source\squareroot.s
008824   50f4     MOVF      0xf4,0x0,0x0   	movf	PRODH, W, ACCESS    ; products                                             source\squareroot.s
008826   230e     ADDWFC    0xe,0x1,0x1    	addwfc	SQRES2, F, BANKED                                                        source\squareroot.s
008828   6ae8     CLRF      0xe8,0x0       	clrf	WREG, ACCESS                                                               source\squareroot.s
00882a   230f     ADDWFC    0xf,0x1,0x1    	addwfc	SQRES3, F, BANKED                                                        source\squareroot.s
00882c   5104     MOVF      0x4,0x0,0x1    	movf	ARG1H, W, BANKED                                                           source\squareroot.s
00882e   0305     MULWF     0x5,0x1        	mulwf	ARG1L		    ; ARG1H * ARG2L ->                                             source\squareroot.s
                                           				    ; PRODH:PRODL                                                            source\squareroot.s
008830   50f3     MOVF      0xf3,0x0,0x0   	movf	PRODL, W, ACCESS                                                           source\squareroot.s
008832   270d     ADDWF     0xd,0x1,0x1    	addwf	SQRES1, F, BANKED   ; Add cross                                           source\squareroot.s
008834   50f4     MOVF      0xf4,0x0,0x0   	movf	PRODH, W, ACCESS    ; products                                             source\squareroot.s
008836   230e     ADDWFC    0xe,0x1,0x1    	addwfc	SQRES2, F, BANKED                                                        source\squareroot.s
008838   6ae8     CLRF      0xe8,0x0       	clrf	WREG, ACCESS                                                               source\squareroot.s
00883a   230f     ADDWFC    0xf,0x1,0x1    	addwfc	SQRES3, F, BANKED                                                        source\squareroot.s
00883c   0012     RETURN    0x0            	return                                                                          source\squareroot.s
                                           	                                                                                source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           	GLOBAL	Sqrt                                                                     source\squareroot.s
                                                                                                                            source\squareroot.s
                                           	end                                                                             source\squareroot.s
