MP2COD 5.00, COFF to COD File Converter
Copyright (c) 1998-2013 Microchip Technology Inc.
Listing File Generated: Sun Mar 31 19:42:26 2024


Address  Value    Disassembly              Source                                                                           File
-------  -------  -----------------------  -------------------------------------------------------------------------------  -----
                                           /* $Id: c018i.c,v 1.7 2006/11/15 22:53:12 moshtaa Exp $ */                       C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* Copyright (c)1999 Microchip Technology */                                     C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* MPLAB-C18 startup code, including initialized data */                         C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* external reference to __init() function */                                    C:\MCC18\src\traditional\startup\c018i.c
                                           extern void __init (void);                                                       C:\MCC18\src\traditional\startup\c018i.c
                                           /* external reference to the user's main routine */                              C:\MCC18\src\traditional\startup\c018i.c
                                           extern void main (void);                                                         C:\MCC18\src\traditional\startup\c018i.c
                                           /* prototype for the startup function */                                         C:\MCC18\src\traditional\startup\c018i.c
                                           void _entry (void);                                                              C:\MCC18\src\traditional\startup\c018i.c
                                           void _startup (void);                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* prototype for the initialized data setup */                                   C:\MCC18\src\traditional\startup\c018i.c
                                           void _do_cinit (void);                                                           C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           extern volatile near unsigned long short TBLPTR;                                 C:\MCC18\src\traditional\startup\c018i.c
                                           extern near unsigned FSR0;                                                       C:\MCC18\src\traditional\startup\c018i.c
                                           extern near char __FPFLAGS;                                                      C:\MCC18\src\traditional\startup\c018i.c
                                           #define RND 6                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           #pragma code _entry_scn=0x000000                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           void                                                                             C:\MCC18\src\traditional\startup\c018i.c
                                           _entry (void)                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           _asm goto _startup _endasm                                                       C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           }                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           #pragma code _startup_scn                                                        C:\MCC18\src\traditional\startup\c018i.c
                                           void                                                                             C:\MCC18\src\traditional\startup\c018i.c
                                           _startup (void)                                                                  C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                             _asm                                                                           C:\MCC18\src\traditional\startup\c018i.c
                                               // Initialize the stack pointer                                              C:\MCC18\src\traditional\startup\c018i.c
008f42   ee1e     LFSR      0x1,0xe00          lfsr 1, _stack                                                               C:\MCC18\src\traditional\startup\c018i.c
008f44   f000                                                                                                               
008f46   ee2e     LFSR      0x2,0xe00          lfsr 2, _stack                                                               C:\MCC18\src\traditional\startup\c018i.c
008f48   f000                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
008f4a   6af8     CLRF      0xf8,0x0           clrf TBLPTRU, 0 // 1st silicon doesn't do this on POR                        C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
008f4c   9c3b     BCF       0x3b,0x6,0x0       bcf __FPFLAGS,RND,0 // Initialize rounding flag for floating point libs      C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                               _endasm                                                                      C:\MCC18\src\traditional\startup\c018i.c
008f4e   ecf2     CALL      0x8be4,0x0         _do_cinit ();                                                                C:\MCC18\src\traditional\startup\c018i.c
008f50   f045                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           loop:                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             // If user defined __init is not found, the one in clib.lib will be used       C:\MCC18\src\traditional\startup\c018i.c
008f52   ecba     CALL      0x8f74,0x0       __init ();                                                                     C:\MCC18\src\traditional\startup\c018i.c
008f54   f047                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             // Call the user's main routine                                                C:\MCC18\src\traditional\startup\c018i.c
008f56   ecd9     CALL      0x87b2,0x0       main ();                                                                       C:\MCC18\src\traditional\startup\c018i.c
008f58   f043                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
008f5a   d7fb     BRA       0x8f52           goto loop;                                                                     C:\MCC18\src\traditional\startup\c018i.c
008f5c   0012     RETURN    0x0            }                               /* end _startup() */                             C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* MPLAB-C18 initialized data memory support */                                  C:\MCC18\src\traditional\startup\c018i.c
                                           /* The linker will populate the _cinit table */                                  C:\MCC18\src\traditional\startup\c018i.c
                                           extern far rom struct                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                             unsigned short num_init;                                                       C:\MCC18\src\traditional\startup\c018i.c
                                             struct _init_entry                                                             C:\MCC18\src\traditional\startup\c018i.c
                                             {                                                                              C:\MCC18\src\traditional\startup\c018i.c
                                               unsigned long from;                                                          C:\MCC18\src\traditional\startup\c018i.c
                                               unsigned long to;                                                            C:\MCC18\src\traditional\startup\c018i.c
                                               unsigned long size;                                                          C:\MCC18\src\traditional\startup\c018i.c
                                             }                                                                              C:\MCC18\src\traditional\startup\c018i.c
                                             entries[];                                                                     C:\MCC18\src\traditional\startup\c018i.c
                                           }                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           _cinit;                                                                          C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           #pragma code _cinit_scn                                                          C:\MCC18\src\traditional\startup\c018i.c
                                           void                                                                             C:\MCC18\src\traditional\startup\c018i.c
                                           _do_cinit (void)                                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                             /* we'll make the assumption in the following code that these statics          C:\MCC18\src\traditional\startup\c018i.c
                                              * will be allocated into the same bank.                                       C:\MCC18\src\traditional\startup\c018i.c
                                              */                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             static short long prom;                                                        C:\MCC18\src\traditional\startup\c018i.c
                                             static unsigned short curr_byte;                                               C:\MCC18\src\traditional\startup\c018i.c
                                             static unsigned short curr_entry;                                              C:\MCC18\src\traditional\startup\c018i.c
                                             static short long data_ptr;                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             // Initialized data...                                                         C:\MCC18\src\traditional\startup\c018i.c
008be4   0e2a     MOVLW     0x2a             TBLPTR = (short long)&_cinit;                                                  C:\MCC18\src\traditional\startup\c018i.c
008be6   6ef6     MOVWF     0xf6,0x0                                                                                        
008be8   0e10     MOVLW     0x10                                                                                            
008bea   6ef7     MOVWF     0xf7,0x0                                                                                        
008bec   0e00     MOVLW     0x0                                                                                             
008bee   6ef8     MOVWF     0xf8,0x0                                                                                        
                                             _asm                                                                           C:\MCC18\src\traditional\startup\c018i.c
008bf0   0105     MOVLB     0x5                movlb data_ptr                                                               C:\MCC18\src\traditional\startup\c018i.c
008bf2   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\MCC18\src\traditional\startup\c018i.c
008bf4   50f5     MOVF      0xf5,0x0,0x0       movf TABLAT, 0, 0                                                            C:\MCC18\src\traditional\startup\c018i.c
008bf6   6ff5     MOVWF     0xf5,0x1           movwf curr_entry, 1                                                          C:\MCC18\src\traditional\startup\c018i.c
008bf8   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\MCC18\src\traditional\startup\c018i.c
008bfa   50f5     MOVF      0xf5,0x0,0x0       movf TABLAT, 0, 0                                                            C:\MCC18\src\traditional\startup\c018i.c
008bfc   6ff6     MOVWF     0xf6,0x1           movwf curr_entry+1, 1                                                        C:\MCC18\src\traditional\startup\c018i.c
                                             _endasm                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                               //while (curr_entry)                                                         C:\MCC18\src\traditional\startup\c018i.c
                                               //{                                                                          C:\MCC18\src\traditional\startup\c018i.c
                                               test:                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                               _asm                                                                         C:\MCC18\src\traditional\startup\c018i.c
008bfe   e103     BNZ       0x8c06              bnz 3                                                                       C:\MCC18\src\traditional\startup\c018i.c
008c00   67f5     TSTFSZ    0xf5,0x1           tstfsz curr_entry, 1                                                         C:\MCC18\src\traditional\startup\c018i.c
008c02   d001     BRA       0x8c06             bra 1                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                               _endasm                                                                      C:\MCC18\src\traditional\startup\c018i.c
008c04   d03d     BRA       0x8c80             goto done;                                                                   C:\MCC18\src\traditional\startup\c018i.c
                                                 /* Count down so we only have to look up the data in _cinit                C:\MCC18\src\traditional\startup\c018i.c
                                                  * once.                                                                   C:\MCC18\src\traditional\startup\c018i.c
                                                  *                                                                         C:\MCC18\src\traditional\startup\c018i.c
                                                  * At this point we know that TBLPTR points to the top of the current      C:\MCC18\src\traditional\startup\c018i.c
                                                  * entry in _cinit, so we can just start reading the from, to, and         C:\MCC18\src\traditional\startup\c018i.c
                                                  * size values.                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                  */                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                                 _asm                                                                       C:\MCC18\src\traditional\startup\c018i.c
                                           	/* read the source address */                                                   C:\MCC18\src\traditional\startup\c018i.c
008c06   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008c08   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008c0a   6ff0     MOVWF     0xf0,0x1       	movwf prom, 1                                                                   C:\MCC18\src\traditional\startup\c018i.c
008c0c   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008c0e   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008c10   6ff1     MOVWF     0xf1,0x1       	movwf prom+1, 1                                                                 C:\MCC18\src\traditional\startup\c018i.c
008c12   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008c14   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008c16   6ff2     MOVWF     0xf2,0x1       	movwf prom+2, 1                                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           	/* skip a byte since it's stored as a 32bit int */                              C:\MCC18\src\traditional\startup\c018i.c
008c18   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                           	/* read the destination address directly into FSR0 */                           C:\MCC18\src\traditional\startup\c018i.c
008c1a   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008c1c   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008c1e   6ee9     MOVWF     0xe9,0x0       	movwf FSR0L, 0                                                                  C:\MCC18\src\traditional\startup\c018i.c
008c20   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008c22   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008c24   6eea     MOVWF     0xea,0x0       	movwf FSR0H, 0                                                                  C:\MCC18\src\traditional\startup\c018i.c
                                           	/* skip two bytes since it's stored as a 32bit int */                           C:\MCC18\src\traditional\startup\c018i.c
008c26   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008c28   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                           	/* read the destination address directly into FSR0 */                           C:\MCC18\src\traditional\startup\c018i.c
008c2a   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008c2c   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008c2e   6ff3     MOVWF     0xf3,0x1       	movwf curr_byte, 1                                                              C:\MCC18\src\traditional\startup\c018i.c
008c30   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008c32   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008c34   6ff4     MOVWF     0xf4,0x1       	movwf curr_byte+1, 1                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           	/* skip two bytes since it's stored as a 32bit int */                           C:\MCC18\src\traditional\startup\c018i.c
008c36   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008c38   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                 _endasm                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                 //prom = data_ptr->from;                                                   C:\MCC18\src\traditional\startup\c018i.c
                                                 //FSR0 = data_ptr->to;                                                     C:\MCC18\src\traditional\startup\c018i.c
                                                 //curr_byte = (unsigned short) data_ptr->size;                             C:\MCC18\src\traditional\startup\c018i.c
                                                 /* the table pointer now points to the next entry. Save it                 C:\MCC18\src\traditional\startup\c018i.c
                                                  * off since we'll be using the table pointer to do the copying            C:\MCC18\src\traditional\startup\c018i.c
                                                  * for the entry.                                                          C:\MCC18\src\traditional\startup\c018i.c
                                                  */                                                                        C:\MCC18\src\traditional\startup\c018i.c
008c3a   cff6     MOVFF     0xff6,0x5f7          data_ptr = TBLPTR;                                                         C:\MCC18\src\traditional\startup\c018i.c
008c3c   f5f7                                                                                                               
008c3e   cff7     MOVFF     0xff7,0x5f8                                                                                     
008c40   f5f8                                                                                                               
008c42   cff8     MOVFF     0xff8,0x5f9                                                                                     
008c44   f5f9                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                 /* now assign the source address to the table pointer */                   C:\MCC18\src\traditional\startup\c018i.c
008c46   c5f0     MOVFF     0x5f0,0xff6          TBLPTR = prom;                                                             C:\MCC18\src\traditional\startup\c018i.c
008c48   fff6                                                                                                               
008c4a   c5f1     MOVFF     0x5f1,0xff7                                                                                     
008c4c   fff7                                                                                                               
008c4e   c5f2     MOVFF     0x5f2,0xff8                                                                                     
008c50   fff8                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                 /* do the copy loop */                                                     C:\MCC18\src\traditional\startup\c018i.c
                                                 _asm                                                                       C:\MCC18\src\traditional\startup\c018i.c
                                                   // determine if we have any more bytes to copy                           C:\MCC18\src\traditional\startup\c018i.c
008c52   0105     MOVLB     0x5            	movlb curr_byte                                                                 C:\MCC18\src\traditional\startup\c018i.c
008c54   53f3     MOVF      0xf3,0x1,0x1   	movf curr_byte, 1, 1                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           copy_loop:                                                                       C:\MCC18\src\traditional\startup\c018i.c
008c56   e102     BNZ       0x8c5c         	bnz 2 // copy_one_byte                                                          C:\MCC18\src\traditional\startup\c018i.c
008c58   53f4     MOVF      0xf4,0x1,0x1   	movf curr_byte + 1, 1, 1                                                        C:\MCC18\src\traditional\startup\c018i.c
008c5a   e007     BZ        0x8c6a         	bz 7 // done_copying                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           copy_one_byte:                                                                   C:\MCC18\src\traditional\startup\c018i.c
008c5c   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008c5e   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008c60   6eee     MOVWF     0xee,0x0       	movwf POSTINC0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           	// decrement byte counter                                                       C:\MCC18\src\traditional\startup\c018i.c
008c62   07f3     DECF      0xf3,0x1,0x1   	decf curr_byte, 1, 1                                                            C:\MCC18\src\traditional\startup\c018i.c
008c64   e2f8     BC        0x8c56         	bc -8 // copy_loop                                                              C:\MCC18\src\traditional\startup\c018i.c
008c66   07f4     DECF      0xf4,0x1,0x1           decf curr_byte + 1, 1, 1                                                 C:\MCC18\src\traditional\startup\c018i.c
008c68   d7f9     BRA       0x8c5c         	bra -7 // copy_one_byte                                                         C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           done_copying:                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                 _endasm                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                 /* restore the table pointer for the next entry */                         C:\MCC18\src\traditional\startup\c018i.c
008c6a   c5f7     MOVFF     0x5f7,0xff6          TBLPTR = data_ptr;                                                         C:\MCC18\src\traditional\startup\c018i.c
008c6c   fff6                                                                                                               
008c6e   c5f8     MOVFF     0x5f8,0xff7                                                                                     
008c70   fff7                                                                                                               
008c72   c5f9     MOVFF     0x5f9,0xff8                                                                                     
008c74   fff8                                                                                                               
                                                 /* next entry... */                                                        C:\MCC18\src\traditional\startup\c018i.c
008c76   0105     MOVLB     0x5                  curr_entry--;                                                              C:\MCC18\src\traditional\startup\c018i.c
008c78   07f5     DECF      0xf5,0x1,0x1                                                                                    
008c7a   0e00     MOVLW     0x0                                                                                             
008c7c   5bf6     SUBWFB    0xf6,0x1,0x1                                                                                    
008c7e   d7bf     BRA       0x8bfe               goto test;                                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           done:                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           ;                                                                                C:\MCC18\src\traditional\startup\c018i.c
008c80   0012     RETURN    0x0            }                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             File Information:                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               FileName:     	usb_device.c                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Dependencies:	See INCLUDES section                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Processor:		PIC18,PIC24, PIC32 and dsPIC33E USB Microcontrollers             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Hardware:		This code is natively intended to be used on Mirochip USB         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               demo boards.  See www.microchip.com/usb (Software & Tools    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               section) for list of available platforms.  The firmware may  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               be modified for use on other USB platforms by editing the    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               				HardwareProfile.h and HardwareProfile - [platform].h files.              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Complier:  	    Microchip C18 (for PIC18),C30 (for PIC24 and dsPIC33E)       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               and C32 (for PIC32)                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Company:		Microchip Technology, Inc.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Software License Agreement:                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               The software supplied herewith by Microchip Technology Incorporated          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               (the "Company") for its PIC(r) Microcontroller is intended and               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               supplied to you, the Company's customer, for use solely and                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               exclusively on Microchip PIC Microcontroller products. The                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               software is owned by the Company and/or its supplier, and is                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               protected under applicable copyright laws. All rights are reserved.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Any use in violation of the foregoing restrictions may subject the           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               user to criminal sanctions under applicable laws, as well as to              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               civil liability for the breach of the terms and conditions of this           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               license.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               THIS SOFTWARE IS PROVIDED IN AN "AS IS" CONDITION. NO WARRANTIES,            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This file contains functions, macros, definitions, variables,                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               datatypes, etc. that are required for usage with the MCHPFSUSB device        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               stack. This file should be included in projects that use the device stack.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This file is located in the "\<Install Directory\>\\Microchip\\USB"          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               directory.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USB Device Stack File                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This file contains functions, macros, definitions, variables,                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               datatypes, etc. that are required for usage with the MCHPFSUSB device        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               stack. This file should be included in projects that use the device stack.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This file is located in the "\<Install Directory\>\\Microchip\\USB"          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               directory.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               When including this file in a new project, this file can either be           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               referenced from the directory in which it was installed or copied            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               directly into the user application folder. If the first method is            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               chosen to keep the file located in the folder in which it is installed       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               then include paths need to be added so that the library and the              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               application both know where to reference each others files. If the           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               application folder is located in the same folder as the Microchip            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               folder (like the current demo folders), then the following include           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               paths need to be added to the application's project:                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               .                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               ..\\..\\MicrochipInclude                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               If a different directory structure is used, modify the paths as              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               required. An example using absolute paths instead of relative paths          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               would be the following:                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               C:\\Microchip Solutions\\Microchip\\Include                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               C:\\Microchip Solutions\\My Demo Application                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           ********************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            File Description:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            Change History:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Rev    Description                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             ----   -----------                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             2.6    Added USBCancelIO() function.  Moved and some stack                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    defintions to be more consistant with the host stack.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             2.6a   Fixed issue where a SET_CONFIGURATION received could cause              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    inability to transmit on an endpoint if using ping-pong                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    and an odd number of packets had been sent on that endpoint             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             2.7    Fixed error where the USB error interrupt flag was not getting          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    cleared properly for PIC32 resulting in lots of extra error interrupts. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    http://www.microchip.com/forums/tm.aspx?m=479085                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Fixed issue with dual role mode when device run in polling              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    mode.  Interrupts were remaining enabled after the host mode            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    operation was complete.  This was incompatible with polling             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    mode operation.                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Changed how the bus sensing works.  In previous revisions it            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    was impossible to use the USBDeviceDetach to detach from the            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    bus if the bus voltage was still present.  This is now                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    possible.  It was also possible to move the device to the               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    ATTACHED state in interrupt mode even if the bus voltage                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    wasn't available.  This is now prohibited unless VBUS is                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    present.                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Improved error case handling when the host sends more OUT               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    bytes in a control transfer than the firmware was expecting             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    to receive (based on the size parameter when calling USBEP0Receive()).  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    In the USBStdSetCfgHandler(), modified the code so the USBDeviceState   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    variable only gets updated to the CONFIGURED_STATE at the end of the    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    function.                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             2.7a   Update to support the PIC18F47J53 A1 and later revision                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    devices.                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Fixed an error on 16-bit and 32-bit processors where a word access      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    could be performed on a byte pointer resulting in possible address      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    errors with odd aligned pointers.                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             2.8    Several changes to the way control transfers get processed,             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    so as to support the ability to allow application/class specific        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    handler code to defer the status stage.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Implemented USBCtrlEPAllowStatusStage() API function.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Implemented USBDeferStatusStage() API function (macro).                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    These changes also greatly relax the USBDeviceTasks() calling frequency  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    requirement, while allowing USB class handlers more flexibility.        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Also implemented the following API functions and macros, for delaying   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    the data stage of a control transfer (with data stage):                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBDeferINDataStage()                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBDeferOUTDataStage()                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBOUTDataStageDeferred()                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBINDataStageDeferred()                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBCtrlEPAllowDataStage()                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Fixed USB reset event handler issue, where the USB stack would          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    re-initialize global interrupt settings in the interrupt context, on    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    PIC18 devices with the stack operated in USB_INTERRUPT mode.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Fixed handling of SET/CLEAR FEATURE (endpoint halt) host requests.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Previous implementation would not always initialize endpoints correctly  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    to DATA0 DTS state after a clear feature endpoint halt request, for     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    all ping pong mode and usage scenarios.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              2.9   Fixed an issue with STALL handling behavior on non-EP0 endpoints, for   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    PIC24 and PIC32 devices.                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		 Fixed an issue where the ep_data_in[]/ep_data_out[] flags weren't          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		 getting re-initialized coincident with the hardware ping pong pointer      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		 reset during set configuration events.                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		 Implemented USBGetNextHandle() API function (actually a macro, defined     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		 in usb_device.h).                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              2.9d  Added build option for disabling DTS checking                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              2.9f  Adding pragma for PIC18F97J94 Family BDT location.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              2.9h  Updated to be able to support optional Microsoft OS Descriptors         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              2.9i  Updated to set UCON<SUSPND> bit on PIC16F USB devices during            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    suspend, so as to save power.                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           ********************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /*---------------------------------------------------------------------------------- D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           The USBDeviceTasks() function is responsible for detecting and processing various D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB bus events and host requests, such as those required for USB enumeration, when D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           the USB cable is first attached to the host.  This function is the main dispatcher D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           routine for the USB stack.                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Additional API functions and macros are also provided by the USB stack, which can be  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           used to send/receive USB data to/from the host, among other things.  A full list  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           of the available implemented functions/macros are provided in the                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           "MCHPFSUSB Library Help".  For normal installations of the MCHPFSUSB Framework,  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           the USB API documentation can be found from:                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Start menu --> (All Programs) --> Microchip --> MCHPFSUSB vX.x --> Documents --> MCHPFSUSB Library Help D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Once the help file is opened, the API functions/macros are described in the following section: D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Library Interface (API) --> Device/Peripheral --> Device Stack --> Interface Routines D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Additional API functions may also be provided depending upon the specific USB device class D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           implemented, and these functions are also documented in the MCHPFSUSB Library Help. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           If the USB stack is operated in "USB_POLLING" mode (user selectable option in    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           usb_config.h), then the application firmware is reponsible for calling the       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USBDeviceTasks() function periodically.  If the USB stack is operated in the     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           "USB_INTERRUPT" mode, then the application firmware does not have to directly    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           call USBDeviceTasks(), as it will execute only when necessary as an interrupt handler. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           In order to properly operate a USB connection, and to correctly process and respond D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           to control transfers in the maximum time allowed by the USB specifications, the  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USBDeviceTasks() function/interrupt handler must be allowed to execute in a timely D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           fashion.                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           When the USB module is enabled, the USB cable is attached to the host, the USB bus D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           is not in the suspend state, and the USB stack is operated in the USB_POLLING mode  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           with ping pong buffering enabled (at least) on EP0 OUT,  then the maximum allowed  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           time between calls to the USBDeviceTasks() function needs to be:                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           The faster of:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           1.  Once per ~1.8ms, when USBDeviceState == ADR_PENDING_STATE                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           2.  Once per ~9.8ms, when USBDeviceState == (any other value other than ADR_PENDING_STATE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           3.  Fast enough to ensure the USTAT FIFO can never get full.  See additional explanation below. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Additional details of the above timing limits are provided:                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Timing item #1: This parameter originates from the 2ms set address "recovery interval" D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           specification dictated by section "9.2.6.3 Set Address Processing" of the official  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB 2.0 specifications.                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Timing item #2: This parameter originates from several "10 ms" criteria in the   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB 2.0 specifications.  For example, reset recovery intervals, resume recovery  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           intervals, suspend to actual current reduction, etc. have timing maximums of 10ms. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Timing item #3: This is not a fixed X.X ms parameter, but depends on the         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           transaction rate implemented by the application.  The USBDeviceTasks() function is D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           responsible for popping entries off the USTAT FIFO.  If the FIFO ever gets full, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           then no further USB transactions are allowed to occur, until the firmware pops entries D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           off the FIFO.  In practice, this means the firmware should call USBDeviceTasks() at D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           a rate at least as fast as once every three times the USBTransferOnePacket() function D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           is called.  This ensures that the rate that USTAT FIFO entries are getting added to D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           the FIFO is lower than the rate that the entries are getting popped off the FIFO (the D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USBDeviceTasks() function will pop up to 4 entries per call), which is a         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           necessary criteria to ensure the USTAT FIFO entries don't "pile up."  Calling    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USBDeviceTasks() even more often, ex: >=1 to 1 ratio of USBDeviceTasks() to      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USBTransferOnePacket(), adds further protection against the USTAT FIFO getting full, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           and is therefore recommended.                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           When the USB stack is operated in USB_INTERRUPT mode, then the above timing      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           parameters should be interpreted to be the longest allowed time that the USB     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           interrupts may be masked/disabled for, before re-enabling the USB interrupts.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Calling USBDeviceTasks() (or allowing USBDeviceTasks() to be called) more often  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           will still have potential USB data rate speed and processing latency benefits.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           It is also beneficial to call USBDeviceTasks() more often than theoretically     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           required, since it has been observed that not all host/drivers/bios/hubs are     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           100% consistently compliant with all timing parameters of the USB 2.0 specifications. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Therefore, in a USB_POLLING based application, it is still suggested to call     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USBDeviceTasks() as often as there are free CPU cycles.  This ensures best       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           performance, along with best possible compatibility with all existing USB        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           hosts/hubs (both those that are compliant and [partially] non-compliant).        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           If ping pong buffering is not enabled on (at least) EP0 OUT, then it is required D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           to call (or allow to execute) USBDeviceTasks() much more frequently (ex: once    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           per 100us, or preferrably faster).  Therefore, in all applications, it is        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           normally recommended to select either the USB_PING_PONG__FULL_PING_PONG or       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_PING_PONG__EP0_OUT_ONLY mode (user option in usb_config.h), as these modes   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           allow for much more relaxed timing requirements, and therefore greater application D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           firmware design flexibility.                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //----------------------------------------------------------------------------------*/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** INCLUDES *******************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #include "./USB/usb.h"                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #include "HardwareProfile.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #include "../USB/usb_device_local.h"                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(USB_USE_MSD)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #include "./USB/usb_function_msd.h"                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if !defined(USE_USB_BUS_SENSE_IO)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #undef USB_BUS_SENSE                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define USB_BUS_SENSE 1                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(USB_DEVICE_DISABLE_DTS_CHECKING)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define _DTS_CHECKING_ENABLED 0                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define _DTS_CHECKING_ENABLED _DTSEN                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** DEFINITIONS ****************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** VARIABLES ******************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(__18CXX)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #pragma udata                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE USB_DEVICE_STATE USBDeviceState;                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE USBActiveConfiguration;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE USBAlternateInterface[USB_MAX_NUM_INT];                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BDT_ENTRY *pBDTEntryEP0OutCurrent;                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BDT_ENTRY *pBDTEntryEP0OutNext;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BDT_ENTRY *pBDTEntryOut[USB_MAX_EP_NUMBER+1];                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BDT_ENTRY *pBDTEntryIn[USB_MAX_EP_NUMBER+1];                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE shortPacketStatus;                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE controlTransferState;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE IN_PIPE inPipes[1];                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE OUT_PIPE outPipes[1];                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE *pDst;                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BOOL RemoteWakeup;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BOOL USBBusIsSuspended;                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE USTAT_FIELDS USTATcopy;                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE endpoint_number;                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BOOL BothEP0OutUOWNsSet;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE EP_STATUS ep_data_in[USB_MAX_EP_NUMBER+1];                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE EP_STATUS ep_data_out[USB_MAX_EP_NUMBER+1];                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE USBStatusStageTimeoutCounter;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BOOL USBDeferStatusStagePacket;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BOOL USBStatusStageEnabledFlag1;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BOOL USBStatusStageEnabledFlag2;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BOOL USBDeferINDataStagePackets;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BOOL USBDeferOUTDataStagePackets;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if (USB_PING_PONG_MODE == USB_PING_PONG__NO_PING_PONG)                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define BDT_NUM_ENTRIES      ((USB_MAX_EP_NUMBER + 1) * 2)                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #elif (USB_PING_PONG_MODE == USB_PING_PONG__EP0_OUT_ONLY)                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define BDT_NUM_ENTRIES      (((USB_MAX_EP_NUMBER + 1) * 2)+1)               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #elif (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define BDT_NUM_ENTRIES      ((USB_MAX_EP_NUMBER + 1) * 4)                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #elif (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define BDT_NUM_ENTRIES      (((USB_MAX_EP_NUMBER + 1) * 4)-2)               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #error "No ping pong mode defined."                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** USB FIXED LOCATION VARIABLES ***********************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(__18CXX)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #pragma udata USB_BDT=USB_BDT_ADDRESS                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BDT_ENTRY BDT[BDT_NUM_ENTRIES] BDT_BASE_ADDR_TAG;                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Section B: EP0 Buffer Space                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile CTRL_TRF_SETUP SetupPkt CTRL_TRF_SETUP_ADDR_TAG;                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BYTE CtrlTrfData[USB_EP0_BUFF_SIZE] CTRL_TRF_DATA_ADDR_TAG;             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Section C: non-EP0 Buffer Space                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(USB_USE_MSD)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//volatile far USB_MSD_CBW_CSW msd_cbw_csw;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	volatile USB_MSD_CBW msd_cbw;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	volatile USB_MSD_CSW msd_csw;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//#pragma udata                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	#if defined(__18CXX)                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		#pragma udata myMSD=MSD_BUFFER_ADDRESS                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	#endif                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	volatile char msd_buffer[512];                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           ////Depricated in v2.2 - will be removed in a future revision                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if !defined(USB_USER_DEVICE_DESCRIPTOR)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Device descriptor                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               extern ROM USB_DEVICE_DESCRIPTOR device_dsc;                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USB_USER_DEVICE_DESCRIPTOR_INCLUDE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if !defined(USB_USER_CONFIG_DESCRIPTOR)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Array of configuration descriptors                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               extern ROM BYTE *ROM USB_CD_Ptr[];                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USB_USER_CONFIG_DESCRIPTOR_INCLUDE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           extern BYTE * USB_SD_Ptr[];                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** DECLARATIONS ***************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(__18CXX)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #pragma code                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** Macros *********************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** Function Prototypes ********************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //External                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //This is the prototype for the required user event handler                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           BOOL USER_USB_CALLBACK_EVENT_HANDLER(int event, void *pdata, WORD size);         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //Internal Functions                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlEPService(void);                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfSetupHandler(void);                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfInHandler(void);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCheckStdRequest(void);                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStdGetDscHandler(void);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlEPServiceComplete(void);                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfTxService(void);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfRxService(void);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStdSetCfgHandler(void);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStdGetStatusHandler(void);                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStdFeatureReqHandler(void);                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfOutHandler(void);                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBConfigureEndpoint(BYTE EPNum, BYTE direction);                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBWakeFromSuspend(void);                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBSuspend(void);                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStallHandler(void);                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //static BOOL USBIsTxBusy(BYTE EPNumber);                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //static void USBPut(BYTE EPNum, BYTE Data);                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //static void USBEPService(void);                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //static void USBProtocolResetHandler(void);                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** Function Implementations *************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** Internal Macros *********************************************************/   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /****************************************************************************    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               void USBAdvancePingPongBuffer(BDT_ENTRY** buffer)                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function will advance the passed pointer to the next buffer based on    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the ping pong option setting.  This function should be used for EP1-EP15     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               only.  This function is not valid for EP0.                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Precondition:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Parameters:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BDT_ENTRY** - pointer to the BDT_ENTRY pointer that you want to be advanced  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               to the next buffer state                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Return Values:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             ***************************************************************************/   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #define USBAdvancePingPongBuffer(buffer) ((BYTE_VAL*)buffer)->Val ^= USB_NEXT_PING_PONG; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #define USBHALPingPongSetToOdd(buffer)   {((BYTE_VAL*)buffer)->Val |= USB_NEXT_PING_PONG;} D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #define USBHALPingPongSetToEven(buffer)  {((BYTE_VAL*)buffer)->Val &= ~USB_NEXT_PING_PONG;} D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** External API Functions ****************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Function:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBDeviceInit(void)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Description:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function initializes the device stack it in the default state. The  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USB module will be completely reset including all of the internal        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   variables, registers, and interrupt flags.                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Precondition:                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function must be called before any of the other USB Device          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   functions can be called, including USBDeviceTasks().                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Parameters:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Return Values:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Remarks:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             ***************************************************************************/   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006744   ec0c     CALL      0x7418,0x0     void USBDeviceInit(void)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006746   f03a                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE i;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006748   98a0     BCF       0xa0,0x4,0x0       USBDisableInterrupts();                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Clear all USB error flags                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00674a   6a63     CLRF      0x63,0x0           USBClearInterruptRegister(U1EIR);                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Clears all USB interrupts                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00674c   6a62     CLRF      0x62,0x0           USBClearInterruptRegister(U1IR);                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Clear all of the endpoint control registers                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00674e   010f     MOVLB     0xf                U1EP0 = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006750   6b26     CLRF      0x26,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006752   eceb     CALL      0x73d6,0x0         DisableNonZeroEndpoints(USB_MAX_EP_NUMBER);                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006754   f039                                                                                                               
0073d6   0e02     MOVLW     0x2                                                                                             
0073d8   6ee6     MOVWF     0xe6,0x0                                                                                        
0073da   6ae6     CLRF      0xe6,0x0                                                                                        
0073dc   6ae6     CLRF      0xe6,0x0                                                                                        
0073de   0e27     MOVLW     0x27                                                                                            
0073e0   6ee6     MOVWF     0xe6,0x0                                                                                        
0073e2   0e0f     MOVLW     0xf                                                                                             
0073e4   ef54     GOTO      0x72a8                                                                                          
0073e6   f039                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006756   010f     MOVLB     0xf                SetConfigurationOptions();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006758   ecaa     CALL      0x7354,0x0                                                                                      
00675a   f039                                                                                                               
007354   0e16     MOVLW     0x16                                                                                            
007356   6f39     MOVWF     0x39,0x1                                                                                        
007358   0e9f     MOVLW     0x9f                                                                                            
00735a   6f37     MOVWF     0x37,0x1                                                                                        
00735c   0e7b     MOVLW     0x7b                                                                                            
00735e   6f36     MOVWF     0x36,0x1                                                                                        
007360   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //power up the module (if not already powered)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBPowerModule();                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //set the address of the BDT (if applicable)                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBSetBDTAddress(BDT);                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Clear all of the BDT entries                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00675c   6adf     CLRF      0xdf,0x0           for(i=0;i<(sizeof(BDT)/sizeof(BDT_ENTRY));i++)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00675e   50df     MOVF      0xdf,0x0,0x0                                                                                    
006760   6e4e     MOVWF     0x4e,0x0                                                                                        
006762   6a4f     CLRF      0x4f,0x0                                                                                        
006764   0e0c     MOVLW     0xc                                                                                             
006766   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
006768   0e00     MOVLW     0x0                                                                                             
00676a   584f     SUBWFB    0x4f,0x0,0x0                                                                                    
00676c   e210     BC        0x678e                                                                                          
00678a   2adf     INCF      0xdf,0x1,0x0                                                                                    
00678c   d7e8     BRA       0x675e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00676e   50df     MOVF      0xdf,0x0,0x0           BDT[i].Val = 0x00;                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006770   0d04     MULLW     0x4                                                                                             
006772   cff3     MOVFF     0xff3,0xfe9                                                                                     
006774   ffe9                                                                                                               
006776   cff4     MOVFF     0xff4,0xfea                                                                                     
006778   ffea                                                                                                               
00677a   0e00     MOVLW     0x0                                                                                             
00677c   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00677e   0e04     MOVLW     0x4                                                                                             
006780   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006782   6aee     CLRF      0xee,0x0                                                                                        
006784   6aee     CLRF      0xee,0x0                                                                                        
006786   6aee     CLRF      0xee,0x0                                                                                        
006788   6aee     CLRF      0xee,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Assert reset request to all of the Ping Pong buffer pointers              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00678e   8c65     BSF       0x65,0x6,0x0       USBPingPongBufferReset = 1;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Reset to default address                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006790   010f     MOVLB     0xf                U1ADDR = 0x00;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006792   6b38     CLRF      0x38,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Make sure packet processing is enabled                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006794   9865     BCF       0x65,0x4,0x0       USBPacketDisable = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Stop trying to reset ping pong buffer pointers                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006796   9c65     BCF       0x65,0x6,0x0       USBPingPongBufferReset = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Flush any pending transactions                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006798   a662     BTFSS     0x62,0x3,0x0       while(USBTransactionCompleteIF == 1u)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00679a   d007     BRA       0x67aa                                                                                          
0067a8   d7f7     BRA       0x6798                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00679c   9662     BCF       0x62,0x3,0x0           USBClearInterruptFlag(USBTransactionCompleteIFReg,USBTransactionCompleteIFBitNum); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Initialize USB stack software state variables                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00679e   0105     MOVLB     0x5                    inPipes[0].info.Val = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067a0   6bd3     CLRF      0xd3,0x1                                                                                        
0067a2   6bd8     CLRF      0xd8,0x1               outPipes[0].info.Val = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067a4   6bd9     CLRF      0xd9,0x1               outPipes[0].wCount.Val = 0;                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067a6   6bda     CLRF      0xda,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Set flags to TRUE, so the USBCtrlEPAllowStatusStage() function knows not to D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //try and arm a status stage, even before the first control transfer starts. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067aa   0105     MOVLB     0x5                USBStatusStageEnabledFlag1 = TRUE;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067ac   0e01     MOVLW     0x1                                                                                             
0067ae   6fec     MOVWF     0xec,0x1                                                                                        
0067b0   6fed     MOVWF     0xed,0x1           USBStatusStageEnabledFlag2 = TRUE;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Initialize other flags                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067b2   6bee     CLRF      0xee,0x1           USBDeferINDataStagePackets = FALSE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067b4   6bef     CLRF      0xef,0x1           USBDeferOUTDataStagePackets = FALSE;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067b6   6be0     CLRF      0xe0,0x1           USBBusIsSuspended = FALSE;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//Initialize all pBDTEntryIn[] and pBDTEntryOut[]                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//pointers to NULL, so they don't get used inadvertently.                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067b8   6adf     CLRF      0xdf,0x0       	for(i = 0; i < (BYTE)(USB_MAX_EP_NUMBER+1u); i++)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067ba   0e03     MOVLW     0x3                                                                                             
0067bc   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0067be   e211     BC        0x67e2                                                                                          
0067e0   d7ec     BRA       0x67ba                                                                                          
0072e6   2adf     INCF      0xdf,0x1,0x0                                                                                    
0072e8   0012     RETURN    0x0                                                                                             
                                           	{                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067c0   6aea     CLRF      0xea,0x0       		pBDTEntryIn[i] = 0u;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067c2   34df     RLCF      0xdf,0x0,0x0                                                                                    
0067c4   ec0f     CALL      0x741e,0x0                                                                                      
0067c6   f03a                                                                                                               
0067c8   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0067ca   6aee     CLRF      0xee,0x0                                                                                        
0067cc   6aed     CLRF      0xed,0x0                                                                                        
00741e   0bfe     ANDLW     0xfe                                                                                            
007420   36ea     RLCF      0xea,0x1,0x0                                                                                    
007422   6ee9     MOVWF     0xe9,0x0                                                                                        
007424   0ec9     MOVLW     0xc9                                                                                            
007426   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007428   0e05     MOVLW     0x5                                                                                             
00742a   0012     RETURN    0x0                                                                                             
0067ce   6aea     CLRF      0xea,0x0       		pBDTEntryOut[i] = 0u;		                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067d0   34df     RLCF      0xdf,0x0,0x0                                                                                    
0067d2   ec16     CALL      0x742c,0x0                                                                                      
0067d4   f03a                                                                                                               
0067d6   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0067d8   6aee     CLRF      0xee,0x0                                                                                        
0067da   6aed     CLRF      0xed,0x0                                                                                        
00742c   0bfe     ANDLW     0xfe                                                                                            
00742e   36ea     RLCF      0xea,0x1,0x0                                                                                    
007430   6ee9     MOVWF     0xe9,0x0                                                                                        
007432   0ec3     MOVLW     0xc3                                                                                            
007434   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007436   0e05     MOVLW     0x5                                                                                             
007438   0012     RETURN    0x0                                                                                             
0067dc   ec6b     CALL      0x72d6,0x0     		ep_data_in[i].Val = 0u;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067de   f039                                                                                                               
0072d6   50df     MOVF      0xdf,0x0,0x0                                                                                    
0072d8   d8bc     RCALL     0x7452                                                                                          
0072da   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0072dc   6aef     CLRF      0xef,0x0                                                                                        
0072de   50df     MOVF      0xdf,0x0,0x0           ep_data_out[i].Val = 0u;                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072e0   d8b3     RCALL     0x7448                                                                                          
0072e2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0072e4   6aef     CLRF      0xef,0x0                                                                                        
                                           	}                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Get ready for the first packet                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067e2   0105     MOVLB     0x5                pBDTEntryIn[0] = (volatile BDT_ENTRY*)&BDT[EP0_IN_EVEN];                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067e4   0e08     MOVLW     0x8                                                                                             
0067e6   6fc9     MOVWF     0xc9,0x1                                                                                        
0067e8   0e04     MOVLW     0x4                                                                                             
0067ea   6fca     MOVWF     0xca,0x1                                                                                        
                                               // Initialize EP0 as a Ctrl EP                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067ec   010f     MOVLB     0xf                U1EP0 = EP_CTRL|USB_HANDSHAKE_ENABLED;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067ee   0e16     MOVLW     0x16                                                                                            
0067f0   6f26     MOVWF     0x26,0x1                                                                                        
                                           	//Prepare for the first SETUP on EP0 OUT                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067f2   0104     MOVLB     0x4                BDT[EP0_OUT_EVEN].ADR = ConvertToPhysicalAddress(&SetupPkt);                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067f4   0e30     MOVLW     0x30                                                                                            
0067f6   6f02     MOVWF     0x2,0x1                                                                                         
0067f8   0e04     MOVLW     0x4                                                                                             
0067fa   6f03     MOVWF     0x3,0x1                                                                                         
0067fc   0e40     MOVLW     0x40               BDT[EP0_OUT_EVEN].CNT = USB_EP0_BUFF_SIZE;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0067fe   6f01     MOVWF     0x1,0x1                                                                                         
006800   0e84     MOVLW     0x84               BDT[EP0_OUT_EVEN].STAT.Val = _USIE|_DAT0|_BSTALL;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006802   6f00     MOVWF     0x0,0x1                                                                                         
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Clear active configuration                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006804   0105     MOVLB     0x5                USBActiveConfiguration = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006806   6bbd     CLRF      0xbd,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Indicate that we are now in the detached state                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006808   6bbc     CLRF      0xbc,0x1           USBDeviceState = DETACHED_STATE;                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00680a   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00680c   ef3d     GOTO      0x727a                                                                                          
00680e   f039                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBDeviceTasks(void)                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function is the main state machine/transaction handler of the USB       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               device side stack.  When the USB stack is operated in "USB_POLLING" mode     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               (usb_config.h user option) the USBDeviceTasks() function should be called    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               periodically to receive and transmit packets through the stack. This         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               function also takes care of control transfers associated with the USB        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               enumeration process, and detecting various USB events (such as suspend).     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function should be called at least once every 1.8ms during the USB      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               enumeration process. After the enumeration process is complete (which can    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               be determined when USBGetDeviceState() returns CONFIGURED_STATE), the        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBDeviceTasks() handler may be called the faster of: either once            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               every 9.8ms, or as often as needed to make sure that the hardware USTAT      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               FIFO never gets full.  A good rule of thumb is to call USBDeviceTasks() at   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               a minimum rate of either the frequency that USBTransferOnePacket() gets      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               called, or, once/1.8ms, whichever is faster.  See the inline code comments   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               near the top of usb_device.c for more details about minimum timing           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               requirements when calling USBDeviceTasks().                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               When the USB stack is operated in "USB_INTERRUPT" mode, it is not necessary  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               to call USBDeviceTasks() from the main loop context.  In the USB_INTERRUPT   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               mode, the USBDeviceTasks() handler only needs to execute when a USB          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               interrupt occurs, and therefore only needs to be called from the interrupt   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               context.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function is the main state machine/transaction handler of the USB       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               device side stack.  When the USB stack is operated in "USB_POLLING" mode     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               (usb_config.h user option) the USBDeviceTasks() function should be called    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               periodically to receive and transmit packets through the stack. This         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               function also takes care of control transfers associated with the USB        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               enumeration process, and detecting various USB events (such as suspend).     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function should be called at least once every 1.8ms during the USB      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               enumeration process. After the enumeration process is complete (which can    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               be determined when USBGetDeviceState() returns CONFIGURED_STATE), the        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBDeviceTasks() handler may be called the faster of: either once            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               every 9.8ms, or as often as needed to make sure that the hardware USTAT      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               FIFO never gets full.  A good rule of thumb is to call USBDeviceTasks() at   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               a minimum rate of either the frequency that USBTransferOnePacket() gets      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               called, or, once/1.8ms, whichever is faster.  See the inline code comments   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               near the top of usb_device.c for more details about minimum timing           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               requirements when calling USBDeviceTasks().                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               When the USB stack is operated in "USB_INTERRUPT" mode, it is not necessary  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               to call USBDeviceTasks() from the main loop context.  In the USB_INTERRUPT   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               mode, the USBDeviceTasks() handler only needs to execute when a USB          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               interrupt occurs, and therefore only needs to be called from the interrupt   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               context.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Typical usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               void main(void)                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBDeviceInit();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   while(1)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBDeviceTasks(); //Takes care of enumeration and other USB events   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       if((USBGetDeviceState() \< CONFIGURED_STATE) ||                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                          (USBIsDeviceSuspended() == TRUE))                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Either the device is not configured or we are suspended,       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           // so we don't want to execute any USB related application code  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           continue;   //go back to the top of the while loop               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       else                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Otherwise we are free to run USB and non-USB related user      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //application code.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           UserApplication();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Precondition:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Make sure the USBDeviceInit() function has been called prior to calling      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBDeviceTasks() for the first time.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBDeviceTasks() does not need to be called while in the USB suspend mode,   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if the user application firmware in the USBCBSuspend() callback function     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               enables the ACTVIF USB interrupt source and put the microcontroller into     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               sleep mode.  If the application firmware decides not to sleep the            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               microcontroller core during USB suspend (ex: continues running at full       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               frequency, or clock switches to a lower frequency), then the USBDeviceTasks() D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               function must still be called periodically, at a rate frequent enough to     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               ensure the 10ms resume recovery interval USB specification is met.  Assuming D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               a worst case primary oscillator and PLL start up time of <5ms, then          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBDeviceTasks() should be called once every 5ms in this scenario.           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               When the USB cable is detached, or the USB host is not actively powering     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the VBUS line to +5V nominal, the application firmware does not always have  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               to call USBDeviceTasks() frequently, as no USB activity will be taking       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               place.  However, if USBDeviceTasks() is not called regularly, some           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               alternative means of promptly detecting when VBUS is powered (indicating     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               host attachment), or not powered (host powered down or USB cable unplugged)  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               is still needed.  For self or dual self/bus powered USB applications, see    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the USBDeviceAttach() and USBDeviceDetach() API documentation for additional  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               considerations.                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             **************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(USB_INTERRUPT)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(__18CXX) || defined (_PIC14E)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               void USBDeviceTasks(void)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             #elif defined(__C30__) || defined __XC16__                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               void __attribute__((interrupt,auto_psv)) _USB1Interrupt()                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             #elif defined(__PIC32MX__)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               void __attribute__((interrupt(),vector(_USB_1_VECTOR))) _USB1Interrupt( void )  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             #endif                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006810   ec0c     CALL      0x7418,0x0     void USBDeviceTasks(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006812   f03a                                                                                                               
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE i;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #ifdef USB_SUPPORT_OTG                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //SRP Time Out Check                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if (USBOTGSRPIsReady())                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if (USBT1MSECIF && USBT1MSECIE)                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       if (USBOTGGetSRPTimeOutFlag())                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           if (USBOTGIsSRPTimeOutExpired())                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               USB_OTGEventHandler(0,OTG_EVENT_SRP_FAILED,0,0);             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Clear Interrupt Flag                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBClearInterruptFlag(USBT1MSECIFReg,USBT1MSECIFBitNum);             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(USB_POLLING)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If the interrupt option is selected then the customer is required          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //  to notify the stack when the device is attached or removed from the      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //  bus by calling the USBDeviceAttach() and USBDeviceDetach() functions.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006814   be82     BTFSC     0x82,0x7,0x0       if (USB_BUS_SENSE != 1u)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006816   d006     BRA       0x6824                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    // Disable module & detach from bus                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006818   6a65     CLRF      0x65,0x0                U1CON = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    // Mask all USB interrupts                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00681a   010f     MOVLB     0xf                     U1IE = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00681c   6b36     CLRF      0x36,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    //Move to the detached state                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00681e   0105     MOVLB     0x5                     USBDeviceState = DETACHED_STATE;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006820   6bbc     CLRF      0xbc,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #ifdef  USB_SUPPORT_OTG                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Disable D+ Pullup                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        U1OTGCONbits.DPPULUP = 0;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Disable HNP                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        USBOTGDisableHnp();                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Deactivate HNP                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        USBOTGDeactivateHnp();                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //If ID Pin Changed State                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        if (USBIDIF && USBIDIE)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        {                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            //Re-detect & Initialize                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                             USBOTGInitialize();                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                             //Clear ID Interrupt Flag                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                             USBClearInterruptFlag(USBIDIFReg,USBIDIFBitNum);               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        }                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #endif                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #if defined __C30__ || defined __XC16__                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //USBClearInterruptFlag(U1OTGIR, 3);                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #endif                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //return so that we don't go through the rest of                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //the state machine                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBClearUSBInterrupt();                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006822   d06f     BRA       0x6902                  return;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	#ifdef USB_SUPPORT_OTG                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If Session Is Started Then                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	{                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //If SRP Is Ready                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if (USBOTGSRPIsReady())                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Clear SRPReady                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGClearSRPReady();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Clear SRP Timeout Flag                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGClearSRPTimeOutFlag();                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Indicate Session Started                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       UART2PrintString( "\r\n***** USB OTG B Event - Session Started  *****\r\n" ); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	#endif	//#ifdef USB_SUPPORT_OTG                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //if we are in the detached state                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006824   0105     MOVLB     0x5                if(USBDeviceState == DETACHED_STATE)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006826   51bc     MOVF      0xbc,0x0,0x1                                                                                    
006828   e10c     BNZ       0x6842                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //Initialize register to known value                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00682a   6a65     CLRF      0x65,0x0               U1CON = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   // Mask all USB interrupts                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00682c   010f     MOVLB     0xf                    U1IE = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00682e   6b36     CLRF      0x36,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Enable/set things like: pull ups, full/low-speed mode,                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //set the ping pong mode, and set internal transceiver                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006830   ecaa     CALL      0x7354,0x0             SetConfigurationOptions();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006832   f039                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   // Enable module & attach to bus                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006834   b665     BTFSC     0x65,0x3,0x0           while(!U1CONbits.USBEN){U1CONbits.USBEN = 1;}                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006836   d002     BRA       0x683c                                                                                          
006838   8665     BSF       0x65,0x3,0x0                                                                                    
00683a   d7fc     BRA       0x6834                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //moved to the attached state                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00683c   0105     MOVLB     0x5                    USBDeviceState = ATTACHED_STATE;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00683e   0e01     MOVLW     0x1                                                                                             
006840   6fbc     MOVWF     0xbc,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #ifdef  USB_SUPPORT_OTG                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       U1OTGCON |= USB_OTG_DPLUS_ENABLE | USB_OTG_ENABLE;                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	#endif  //#if defined(USB_POLLING)                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006842   05bc     DECF      0xbc,0x0,0x1       if(USBDeviceState == ATTACHED_STATE)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006844   e10a     BNZ       0x685a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    * After enabling the USB module, it takes some time for the             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    * voltage on the D+ or D- line to rise high enough to get out           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    * of the SE0 condition. The USB Reset interrupt should not be           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    * unmasked until the SE0 condition is cleared. This helps               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    * prevent the firmware from misinterpreting this unique event           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    * as a USB bus reset from the USB host.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006846   ba65     BTFSC     0x65,0x5,0x0           if(!USBSE0Event)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006848   d008     BRA       0x685a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00684a   6a62     CLRF      0x62,0x0                   USBClearInterruptRegister(U1IR);// Clear all USB interrupts          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #if defined(USB_POLLING)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00684c   010f     MOVLB     0xf                            U1IE=0;                        // Mask all USB interrupts        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00684e   6b36     CLRF      0x36,0x1                                                                                        
                                                       #endif                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006850   8136     BSF       0x36,0x0,0x1               USBResetIE = 1;             // Unmask RESET interrupt                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006852   8936     BSF       0x36,0x4,0x1               USBIdleIE = 1;             // Unmask IDLE interrupt                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006854   0105     MOVLB     0x5                        USBDeviceState = POWERED_STATE;                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006856   0e02     MOVLW     0x2                                                                                             
006858   6fbc     MOVWF     0xbc,0x1                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #ifdef  USB_SUPPORT_OTG                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //If ID Pin Changed State                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if (USBIDIF && USBIDIE)                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Re-detect & Initialize                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGInitialize();                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBClearInterruptFlag(USBIDIFReg,USBIDIFBitNum);                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Task A: Service USB Activity Interrupt                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00685a   5062     MOVF      0x62,0x0,0x0       if(USBActivityIF && USBActivityIE)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00685c   0b04     ANDLW     0x4                                                                                             
00685e   e006     BZ        0x686c                                                                                          
006860   010f     MOVLB     0xf                                                                                             
006862   5136     MOVF      0x36,0x0,0x1                                                                                    
006864   0b04     ANDLW     0x4                                                                                             
006866   e002     BZ        0x686c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006868   9462     BCF       0x62,0x2,0x0           USBClearInterruptFlag(USBActivityIFReg,USBActivityIFBitNum);             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if defined(USB_SUPPORT_OTG)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       U1OTGIR = 0x10;                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #else                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00686a   db47     RCALL     0x6efa                     USBWakeFromSuspend();                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Pointless to continue servicing if the device is in suspend mode.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00686c   b265     BTFSC     0x65,0x1,0x0       if(USBSuspendControl==1u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00686e   d049     BRA       0x6902                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBClearUSBInterrupt();                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Task B: Service USB Bus Reset Interrupt.                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * When bus reset is received during suspend, ACTVIF will be set first,      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * once the UCONbits.SUSPND is clear, then the URSTIF bit will be asserted.  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * This is why URSTIF is checked after ACTVIF.                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * The USB reset flag is masked when the USB state is in                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * DETACHED_STATE or ATTACHED_STATE, and therefore cannot                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * cause a USB reset event during these two states.                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006870   5062     MOVF      0x62,0x0,0x0       if(USBResetIF && USBResetIE)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006872   0b01     ANDLW     0x1                                                                                             
006874   e009     BZ        0x6888                                                                                          
006876   010f     MOVLB     0xf                                                                                             
006878   5136     MOVF      0x36,0x0,0x1                                                                                    
00687a   0b01     ANDLW     0x1                                                                                             
00687c   e005     BZ        0x6888                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00687e   df62     RCALL     0x6744                 USBDeviceInit();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Re-enable the interrupts since the USBDeviceInit() function will       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //  disable them.  This will do nothing in a polling setup               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBUnmaskInterrupts();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006880   0105     MOVLB     0x5                    USBDeviceState = DEFAULT_STATE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006882   0e04     MOVLW     0x4                                                                                             
006884   6fbc     MOVWF     0xbc,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #ifdef USB_SUPPORT_OTG                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Disable HNP                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        USBOTGDisableHnp();                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Deactivate HNP                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        USBOTGDeactivateHnp();                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006886   9062     BCF       0x62,0x0,0x0           USBClearInterruptFlag(USBResetIFReg,USBResetIFBitNum);                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Task C: Service other USB interrupts                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006888   5062     MOVF      0x62,0x0,0x0       if(USBIdleIF && USBIdleIE)                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00688a   0b10     ANDLW     0x10                                                                                            
00688c   e006     BZ        0x689a                                                                                          
00688e   010f     MOVLB     0xf                                                                                             
006890   5136     MOVF      0x36,0x0,0x1                                                                                    
006892   0b10     ANDLW     0x10                                                                                            
006894   e002     BZ        0x689a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #ifdef  USB_SUPPORT_OTG                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //If Suspended, Try to switch to Host                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGSelectRole(ROLE_HOST);                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #else                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006896   db26     RCALL     0x6ee4                     USBSuspend();                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006898   9862     BCF       0x62,0x4,0x0           USBClearInterruptFlag(USBIdleIFReg,USBIdleIFBitNum);                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00689a   ac62     BTFSS     0x62,0x6,0x0       if(USBSOFIF)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00689c   d010     BRA       0x68be                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00689e   010f     MOVLB     0xf                    if(USBSOFIE)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068a0   ad36     BTFSS     0x36,0x6,0x1                                                                                    
0068a2   d005     BRA       0x68ae                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068a4   ecb1     CALL      0x7362,0x0                 USB_SOF_HANDLER(EVENT_SOF,0,1);                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068a6   f039                                                                                                               
0068a8   0e73     MOVLW     0x73                                                                                            
0068aa   ec2a     CALL      0x7254,0x0                                                                                      
0068ac   f039                                                                                                               
007362   0e01     MOVLW     0x1                                                                                             
007364   6ee6     MOVWF     0xe6,0x0                                                                                        
007366   6ae6     CLRF      0xe6,0x0                                                                                        
007368   0e00     MOVLW     0x0                                                                                             
00736a   6ee6     MOVWF     0xe6,0x0                                                                                        
00736c   6ae6     CLRF      0xe6,0x0                                                                                        
00736e   0012     RETURN    0x0                                                                                             
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068ae   9c62     BCF       0x62,0x6,0x0           USBClearInterruptFlag(USBSOFIFReg,USBSOFIFBitNum);                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if defined(USB_ENABLE_STATUS_STAGE_TIMEOUTS)                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Supporting this feature requires a 1ms timebase for keeping track of the timeout interval. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #if(USB_SPEED_OPTION == USB_LOW_SPEED)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #warning "Double click this message.  See inline code comments." D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //The "USB_ENABLE_STATUS_STAGE_TIMEOUTS" feature is optional and is D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //not strictly needed in all applications (ex: those that never call  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //USBDeferStatusStage() and don't use host to device (OUT) control D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //transfers with data stage).                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //However, if this feature is enabled and used, it requires a timer  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //(preferrably 1ms) to decrement the USBStatusStageTimeoutCounter.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //In USB Full Speed applications, the host sends Start-of-Frame (SOF)  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //packets at a 1ms rate, which generates SOFIF interrupts.       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //These interrupts can be used to decrement USBStatusStageTimeoutCounter as shown  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //below.  However, the host does not send SOF packets to Low Speed devices.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Therefore, some other method  (ex: using a general purpose microcontroller  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //timer, such as Timer0) needs to be implemented to call and execute the below code D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //at a once/1ms rate, in a low speed USB application.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Note: Pre-condition to executing the below code: USBDeviceInit() should have D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //been called at least once (since the last microcontroller reset/power up),  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //prior to executing the below code.                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #endif                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Decrement our status stage counter.                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068b0   0105     MOVLB     0x5                        if(USBStatusStageTimeoutCounter != 0u)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068b2   51ea     MOVF      0xea,0x0,0x1                                                                                    
0068b4   e001     BZ        0x68b8                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068b6   07ea     DECF      0xea,0x1,0x1                   USBStatusStageTimeoutCounter--;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Check if too much time has elapsed since progress was made in      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //processing the control transfer, without arming the status stage.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //If so, auto-arm the status stage to ensure that the control        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //transfer can [eventually] complete, within the timing limits       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //dictated by section 9.2.6 of the official USB 2.0 specifications.  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068b8   51ea     MOVF      0xea,0x0,0x1               if(USBStatusStageTimeoutCounter == 0u)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068ba   e101     BNZ       0x68be                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068bc   d8f4     RCALL     0x6aa6                         USBCtrlEPAllowStatusStage();    //Does nothing if the status stage was already armed. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068be   5062     MOVF      0x62,0x0,0x0       if(USBStallIF && USBStallIE)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068c0   0b20     ANDLW     0x20                                                                                            
0068c2   e005     BZ        0x68ce                                                                                          
0068c4   010f     MOVLB     0xf                                                                                             
0068c6   5136     MOVF      0x36,0x0,0x1                                                                                    
0068c8   0b20     ANDLW     0x20                                                                                            
0068ca   e001     BZ        0x68ce                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068cc   dafa     RCALL     0x6ec2                 USBStallHandler();                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068ce   5062     MOVF      0x62,0x0,0x0       if(USBErrorIF && USBErrorIE)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068d0   0b02     ANDLW     0x2                                                                                             
0068d2   e00c     BZ        0x68ec                                                                                          
0068d4   010f     MOVLB     0xf                                                                                             
0068d6   5136     MOVF      0x36,0x0,0x1                                                                                    
0068d8   0b02     ANDLW     0x2                                                                                             
0068da   e008     BZ        0x68ec                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068dc   ecb1     CALL      0x7362,0x0             USB_ERROR_HANDLER(EVENT_BUS_ERROR,0,1);                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068de   f039                                                                                                               
0068e0   68e6     SETF      0xe6,0x0                                                                                        
0068e2   0e7f     MOVLW     0x7f                                                                                            
0068e4   6ee6     MOVWF     0xe6,0x0                                                                                        
0068e6   ec1d     CALL      0x743a,0x0                                                                                      
0068e8   f03a                                                                                                               
00743a   ec36     CALL      0x886c,0x0                                                                                      
00743c   f044                                                                                                               
00743e   6e4e     MOVWF     0x4e,0x0                                                                                        
007440   0e06     MOVLW     0x6                                                                                             
007442   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
007444   504e     MOVF      0x4e,0x0,0x0                                                                                    
007446   0012     RETURN    0x0                                                                                             
0068ea   6a63     CLRF      0x63,0x0               USBClearInterruptRegister(U1EIR);               // This clears UERRIF    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //On PIC18, clearing the source of the error will automatically clear    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //  the interrupt flag.  On other devices the interrupt flag must be     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //  manually cleared.                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if defined(__C32__) || defined(__C30__) || defined __XC16__             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBClearInterruptFlag( USBErrorIFReg, USBErrorIFBitNum );            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Pointless to continue servicing if the host has not sent a bus reset.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Once bus reset is received, the device transitions into the DEFAULT       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * state and is ready for communication.                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068ec   0e04     MOVLW     0x4                if(USBDeviceState < DEFAULT_STATE)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068ee   0105     MOVLB     0x5                                                                                             
0068f0   6ee7     MOVWF     0xe7,0x0                                                                                        
0068f2   19bc     XORWF     0xbc,0x0,0x1                                                                                    
0068f4   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
0068f6   d002     BRA       0x68fc                                                                                          
0068f8   34e7     RLCF      0xe7,0x0,0x0                                                                                    
0068fa   d002     BRA       0x6900                                                                                          
0068fc   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0068fe   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
006900   e202     BC        0x6906                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006902   98a1     BCF       0xa1,0x4,0x0   	    USBClearUSBInterrupt();                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006904   d02f     BRA       0x6964         	    return;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	}                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Task D: Servicing USB Transaction Complete Interrupt                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006906   010f     MOVLB     0xf                if(USBTransactionCompleteIE)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006908   a736     BTFSS     0x36,0x3,0x1                                                                                    
00690a   d02b     BRA       0x6962                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00690c   6adf     CLRF      0xdf,0x0       	    for(i = 0; i < 4u; i++)	//Drain or deplete the USAT FIFO entries.  If the USB FIFO ever gets full, USB bandwidth  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00690e   0e04     MOVLW     0x4                                                                                             
006910   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
006912   e227     BC        0x6962                                                                                          
00695e   2adf     INCF      0xdf,0x1,0x0                                                                                    
006960   d7d6     BRA       0x690e                                                                                          
                                           		{						//utilization can be compromised, and the device won't be able to receive SETUP packets. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006914   a662     BTFSS     0x62,0x3,0x0   		    if(USBTransactionCompleteIF)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006916   d025     BRA       0x6962                                                                                          
                                           		    {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               		    //Save and extract USTAT register info.  Will use this info later.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006918   cf64     MOVFF     0xf64,0x5e1                    USTATcopy.Val = U1STAT;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00691a   f5e1                                                                                                               
00691c   0105     MOVLB     0x5                            endpoint_number = USBHALGetLastEndpoint(USTATcopy);              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00691e   51e1     MOVF      0xe1,0x0,0x1                                                                                    
006920   0b78     ANDLW     0x78                                                                                            
006922   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
006924   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
006926   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
006928   6fe2     MOVWF     0xe2,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00692a   9662     BCF       0x62,0x3,0x0                   USBClearInterruptFlag(USBTransactionCompleteIFReg,USBTransactionCompleteIFBitNum); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Keep track of the hardware ping pong state for endpoints other D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //than EP0, if ping pong buffering is enabled.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #if (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0) || (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00692c   b5e1     BTFSC     0xe1,0x2,0x1                       if(USBHALGetLastDirection(USTATcopy) == OUT_FROM_HOST)       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00692e   d004     BRA       0x6938                                                                                          
                                                               {                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006930   51e2     MOVF      0xe2,0x0,0x1                           ep_data_out[endpoint_number].bits.ping_pong_state ^= 1;  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006932   ec24     CALL      0x7448,0x0                                                                                      
006934   f03a                                                                                                               
                                                               }                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006936   d003     BRA       0x693e                             else                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               {                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006938   51e2     MOVF      0xe2,0x0,0x1                           ep_data_in[endpoint_number].bits.ping_pong_state ^= 1;   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00693a   ec29     CALL      0x7452,0x0                                                                                      
00693c   f03a                                                                                                               
00693e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006940   70ef     BTG       0xef,0x0,0x0                                                                                    
                                                               }                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #endif                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //USBCtrlEPService only services transactions over EP0.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //It ignores all other EP transactions.                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006942   51e2     MOVF      0xe2,0x0,0x1                   if(endpoint_number == 0u)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006944   e102     BNZ       0x694a                                                                                          
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006946   dae6     RCALL     0x6f14                             USBCtrlEPService();                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006948   d00a     BRA       0x695e                         else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00694a   0e00     MOVLW     0x0                                USB_TRANSFER_COMPLETE_HANDLER(EVENT_TRANSFER, (BYTE*)&USTATcopy.Val, 0); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00694c   6ee6     MOVWF     0xe6,0x0                                                                                        
00694e   6ae6     CLRF      0xe6,0x0                                                                                        
006950   0ee1     MOVLW     0xe1                                                                                            
006952   6ee6     MOVWF     0xe6,0x0                                                                                        
006954   0e05     MOVLW     0x5                                                                                             
006956   6ee6     MOVWF     0xe6,0x0                                                                                        
006958   0e72     MOVLW     0x72                                                                                            
00695a   ec2a     CALL      0x7254,0x0                                                                                      
00695c   f039                                                                                                               
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		    }//end if(USBTransactionCompleteIF)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		    else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		    	break;	//USTAT FIFO must be empty.                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		}//end for()                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	}//end if(USBTransactionCompleteIE)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006962   98a1     BCF       0xa1,0x4,0x0       USBClearUSBInterrupt();                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006964   52e5     MOVF      0xe5,0x1,0x0   }//end of USBDeviceTasks()                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006966   ef3d     GOTO      0x727a                                                                                          
006968   f039                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************* D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBEnableEndpoint(BYTE ep, BYTE options)                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function will enable the specified endpoint with the specified          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               options                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function will enable the specified endpoint with the specified          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               options.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               void USBCBInitEP(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBEnableEndpoint(MSD_DATA_IN_EP,USB_IN_ENABLED|USB_OUT_ENABLED|USB_HANDSHAKE_ENABLED|USB_DISALLOW_SETUP); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBMSDInit();                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               In the above example endpoint number MSD_DATA_IN_EP is being configured      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               for both IN and OUT traffic with handshaking enabled. Also since             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               MSD_DATA_IN_EP is not endpoint 0 (MSD does not allow this), then we can      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               explicitly disable SETUP packets on this endpoint.                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE ep -       the endpoint to be configured                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE options -  optional settings for the endpoint. The options should       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               be ORed together to form a single options string. The        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               available optional settings for the endpoint. The            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               options should be ORed together to form a single options     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               string. The available options are the following\:            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_HANDSHAKE_ENABLED enables USB handshaking (ACK,        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                 NAK)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_HANDSHAKE_DISABLED disables USB handshaking (ACK,      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                 NAK)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_OUT_ENABLED enables the out direction                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_OUT_DISABLED disables the out direction                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_IN_ENABLED enables the in direction                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_IN_DISABLED disables the in direction                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_ALLOW_SETUP enables control transfers                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_DISALLOW_SETUP disables control transfers              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_STALL_ENDPOINT STALLs this endpoint                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Return:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             *****************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00696a   ecdd     CALL      0x73ba,0x0     void USBEnableEndpoint(BYTE ep, BYTE options)                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00696c   f039                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               unsigned char* p;                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Use USBConfigureEndpoint() to set up the pBDTEntryIn/Out[ep] pointer and   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //starting DTS state in the BDT entry.                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00696e   0efd     MOVLW     0xfd               if(options & USB_OUT_ENABLED)                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006970   a4db     BTFSS     0xdb,0x2,0x0                                                                                    
006972   d003     BRA       0x697a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006974   6ae6     CLRF      0xe6,0x0               USBConfigureEndpoint(ep, OUT_FROM_HOST);                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006976   eca2     CALL      0x7344,0x0                                                                                      
006978   f039                                                                                                               
007344   0efe     MOVLW     0xfe                                                                                            
007346   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
007348   ffe6                                                                                                               
00734a   ec98     CALL      0x6b30,0x0                                                                                      
00734c   f035                                                                                                               
00734e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007350   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007352   0012     RETURN    0x0                                                                                             
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00697a   0efd     MOVLW     0xfd               if(options & USB_IN_ENABLED)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00697c   a2db     BTFSS     0xdb,0x1,0x0                                                                                    
00697e   d004     BRA       0x6988                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006980   0e01     MOVLW     0x1                    USBConfigureEndpoint(ep, IN_TO_HOST);                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006982   6ee6     MOVWF     0xe6,0x0                                                                                        
006984   eca2     CALL      0x7344,0x0                                                                                      
006986   f039                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Update the relevant UEPx register to actually enable the endpoint with     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //the specified options (ex: handshaking enabled, control transfers allowed, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //etc.)                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(__C32__)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   p = (unsigned char*)(&U1EP0+(4*ep));                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #else                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006988   0efe     MOVLW     0xfe                   p = (unsigned char*)(&U1EP0+ep);                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00698a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00698c   6a4f     CLRF      0x4f,0x0                                                                                        
00698e   0f26     ADDLW     0x26                                                                                            
006990   6e4e     MOVWF     0x4e,0x0                                                                                        
006992   0e0f     MOVLW     0xf                                                                                             
006994   ec9c     CALL      0x7338,0x0                                                                                      
006996   f039                                                                                                               
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006998   ec2e     CALL      0x725c,0x0         *p = options;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00699a   f039                                                                                                               
00699c   0efd     MOVLW     0xfd                                                                                            
00699e   cfdb     MOVFF     0xfdb,0xfef                                                                                     
0069a0   ffef                                                                                                               
0069a2   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069a4   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0069a6   e202     BC        0x69ac                                                                                          
0069a8   6ae1     CLRF      0xe1,0x0                                                                                        
0069aa   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0069ac   6ee1     MOVWF     0xe1,0x0                                                                                        
0069ae   ef3d     GOTO      0x727a                                                                                          
0069b0   f039                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /*************************************************************************       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USB_HANDLE USBTransferOnePacket(BYTE ep, BYTE dir, BYTE* data, BYTE len)     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Transfers a single packet (one transaction) of data on the USB bus.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               The USBTransferOnePacket() function prepares a USB endpoint                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               so that it may send data to the host (an IN transaction), or                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               receive data from the host (an OUT transaction).  The                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBTransferOnePacket() function can be used both to receive	and              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               send data to the host.  This function is the primary API function            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               provided by the USB stack firmware for sending or receiving application      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               data over the USB port.                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               The USBTransferOnePacket() is intended for use with all application          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               endpoints.  It is not used for sending or receiving applicaiton data         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               through endpoint 0 by using control transfers.  Separate API                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               functions, such as USBEP0Receive(), USBEP0SendRAMPtr(), and                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBEP0SendROMPtr() are provided for this purpose.                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               The	USBTransferOnePacket() writes to the Buffer Descriptor Table (BDT)       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               entry associated with an endpoint buffer, and sets the UOWN bit, which       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               prepares the USB hardware to allow the transaction to complete.  The         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               application firmware can use the USBHandleBusy() macro to check the          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               status of the transaction, to see if the data has been successfully          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               transmitted yet.                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Typical Usage                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //make sure that the we are in the configured state                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if(USBGetDeviceState() == CONFIGURED_STATE)                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //make sure that the last transaction isn't busy by checking the handle  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(!USBHandleBusy(USBInHandle))                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        //Write the new data that we wish to send to the host to the INPacket[] array D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        INPacket[0] = USEFUL_APPLICATION_VALUE1;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        INPacket[1] = USEFUL_APPLICATION_VALUE2;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        //INPacket[2] = ... (fill in the rest of the packet data)               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Send the data contained in the INPacket[] array through endpoint "EP_NUM" D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBInHandle = USBTransferOnePacket(EP_NUM,IN_TO_HOST,(BYTE*)&INPacket[0],sizeof(INPacket)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Before calling USBTransferOnePacket(), the following should be true.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               1.  The USB stack has already been initialized (USBDeviceInit() was called). D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               2.  A transaction is not already pending on the specified endpoint.  This    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   is done by checking the previous request using the USBHandleBusy()       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   macro (see the typical usage example).                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               3.  The host has already sent a set configuration request and the            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   enumeration process is complete.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This can be checked by verifying that the USBGetDeviceState()            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   macro returns "CONFIGURED_STATE", prior to calling                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBTransferOnePacket().                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            					                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE ep - The endpoint number that the data will be transmitted or           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	          received on                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE dir - The direction of the transfer                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                          This value is either OUT_FROM_HOST or IN_TO_HOST                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE* data - For IN transactions: pointer to the RAM buffer containing       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            the data to be sent to the host.  For OUT transactions: pointer D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            to the RAM buffer that the received data should get written to. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              BYTE len - Length of the data needing to be sent (for IN transactions).       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                         For OUT transactions, the len parameter should normally be set     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                         to the endpoint size specified in the endpoint descriptor.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Return Values:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USB_HANDLE - handle to the transfer.  The handle is a pointer to             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            the BDT entry associated with this transaction.  The            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            status of the transaction (ex: if it is complete or still       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            pending) can be checked using the USBHandleBusy() macro         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            and supplying the USB_HANDLE provided by                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            USBTransferOnePacket().                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               If calling the USBTransferOnePacket() function from within the USBCBInitEP() D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               callback function, the set configuration is still being processed and the    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBDeviceState may not be == CONFIGURED_STATE yet.  In this	special case,    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the USBTransferOnePacket() may still be called, but make sure that the       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               endpoint has been enabled and initialized by the USBEnableEndpoint()         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               function first.                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             *************************************************************************/     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069b2   ecdd     CALL      0x73ba,0x0     USB_HANDLE USBTransferOnePacket(BYTE ep,BYTE dir,BYTE* data,BYTE len)            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069b4   f039                                                                                                               
0073ba   df5a     RCALL     0x7270                                                                                          
0073bc   0e02     MOVLW     0x2                                                                                             
0073be   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
0073c0   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               volatile BDT_ENTRY* handle;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If the direction is IN                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069b6   0efd     MOVLW     0xfd               if(dir != 0u)                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069b8   50db     MOVF      0xdb,0x0,0x0                                                                                    
0069ba   e003     BZ        0x69c2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //point to the IN BDT of the specified endpoint                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069bc   ec25     CALL      0x724a,0x0             handle = pBDTEntryIn[ep];                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069be   f039                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069c0   d002     BRA       0x69c6             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //else point to the OUT BDT of the specified endpoint                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069c2   ec5c     CALL      0x72b8,0x0             handle = pBDTEntryOut[ep];                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069c4   f039                                                                                                               
0069c6   ec88     CALL      0x7310,0x0                                                                                      
0069c8   f039                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Error checking code.  Make sure the handle (pBDTEntryIn[ep] or             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //pBDTEntryOut[ep]) is initialized before using it.                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069ca   cfd9     MOVFF     0xfd9,0xfe9        if(handle == 0)                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069cc   ffe9                                                                                                               
0069ce   cfda     MOVFF     0xfda,0xfea                                                                                     
0069d0   ffea                                                                                                               
0069d2   50ee     MOVF      0xee,0x0,0x0                                                                                    
0069d4   10ed     IORWF     0xed,0x0,0x0                                                                                    
0069d6   e103     BNZ       0x69de                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069d8   6af3     CLRF      0xf3,0x0       	    return 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069da   6af4     CLRF      0xf4,0x0                                                                                        
0069dc   d028     BRA       0x6a2e                                                                                          
                                           	}                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Toggle the DTS bit if required                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if (USB_PING_PONG_MODE == USB_PING_PONG__NO_PING_PONG)                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   handle->STAT.Val ^= _DTSMASK;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #elif (USB_PING_PONG_MODE == USB_PING_PONG__EP0_OUT_ONLY)                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(ep != 0)                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       handle->STAT.Val ^= _DTSMASK;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Set the data pointer, data length, and enable the endpoint                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069de   ec2e     CALL      0x725c,0x0         handle->ADR = ConvertToPhysicalAddress(data);                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069e0   f039                                                                                                               
0069e2   ec38     CALL      0x7470,0x0                                                                                      
0069e4   f03a                                                                                                               
0069e6   0efb     MOVLW     0xfb                                                                                            
0069e8   cfdb     MOVFF     0xfdb,0xfee                                                                                     
0069ea   ffee                                                                                                               
0069ec   0efc     MOVLW     0xfc                                                                                            
0069ee   cfdb     MOVFF     0xfdb,0xfed                                                                                     
0069f0   ffed                                                                                                               
0069f2   ec2e     CALL      0x725c,0x0         handle->CNT = len;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069f4   f039                                                                                                               
0069f6   52ee     MOVF      0xee,0x1,0x0                                                                                    
0069f8   0efa     MOVLW     0xfa                                                                                            
0069fa   cfdb     MOVFF     0xfdb,0xfef                                                                                     
0069fc   ffef                                                                                                               
0069fe   0e40     MOVLW     0x40               handle->STAT.Val &= _DTSMASK;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a00   ec2e     CALL      0x745c,0x0                                                                                      
006a02   f03a                                                                                                               
006a04   0e88     MOVLW     0x88               handle->STAT.Val |= _USIE | (_DTSEN & _DTS_CHECKING_ENABLED);                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a06   ec3d     CALL      0x747a,0x0                                                                                      
006a08   f03a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Point to the next buffer for ping pong purposes.                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a0a   0efd     MOVLW     0xfd               if(dir != OUT_FROM_HOST)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a0c   50db     MOVF      0xdb,0x0,0x0                                                                                    
006a0e   e003     BZ        0x6a16                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //toggle over the to the next buffer for an IN endpoint                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a10   ec25     CALL      0x724a,0x0             USBAdvancePingPongBuffer(&pBDTEntryIn[ep]);                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a12   f039                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a14   d002     BRA       0x6a1a             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //toggle over the to the next buffer for an OUT endpoint                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a16   ec5c     CALL      0x72b8,0x0             USBAdvancePingPongBuffer(&pBDTEntryOut[ep]);                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a18   f039                                                                                                               
006a1a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006a1c   74ef     BTG       0xef,0x2,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a1e   cfde     MOVFF     0xfde,0x4e         return (USB_HANDLE)handle;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a20   f04e                                                                                                               
006a22   cfdd     MOVFF     0xfdd,0x4f                                                                                      
006a24   f04f                                                                                                               
006a26   c04e     MOVFF     0x4e,0xff3                                                                                      
006a28   fff3                                                                                                               
006a2a   c04f     MOVFF     0x4f,0xff4                                                                                      
006a2c   fff4                                                                                                               
006a2e   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a30   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
006a32   e202     BC        0x6a38                                                                                          
006a34   6ae1     CLRF      0xe1,0x0                                                                                        
006a36   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006a38   6ee1     MOVWF     0xe1,0x0                                                                                        
006a3a   ef3d     GOTO      0x727a                                                                                          
006a3c   f039                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Function:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBStallEndpoint(BYTE ep, BYTE dir)                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Summary:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Configures the specified endpoint to send STALL to the host, the next   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    time the host tries to access the endpoint.                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               PreCondition:                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Parameters:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   BYTE ep - The endpoint number that should be configured to send STALL.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   BYTE dir - The direction of the endpoint to STALL, either                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                              IN_TO_HOST or OUT_FROM_HOST.                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Return Values:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Remarks:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a3e   ecdd     CALL      0x73ba,0x0     void USBStallEndpoint(BYTE ep, BYTE dir)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a40   f039                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BDT_ENTRY *p;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a42   0efe     MOVLW     0xfe               if(ep == 0u)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a44   50db     MOVF      0xdb,0x0,0x0                                                                                    
006a46   e103     BNZ       0x6a4e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //For control endpoints (ex: EP0), we need to STALL both IN and OUT      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //endpoints.  EP0 OUT must also be prepared to receive the next SETUP    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //packet that will arrrive.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a48   ecf4     CALL      0x73e8,0x0             pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a4a   f039                                                                                                               
0073e8   df2c     RCALL     0x7242                                                                                          
                                                   pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0073ea   0e8c     MOVLW     0x8c                   pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT0|(_DTSEN & _DTS_CHECKING_ENABLED)|_BSTALL; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0073ec   6eef     MOVWF     0xef,0x0                                                                                        
0073ee   df3b     RCALL     0x7266                 pBDTEntryIn[0]->STAT.Val = _USIE|_BSTALL;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0073f0   0e84     MOVLW     0x84                                                                                            
0073f2   6eef     MOVWF     0xef,0x0                                                                                        
0073f4   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a4c   d009     BRA       0x6a60             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a4e   ec61     CALL      0x72c2,0x0             p = (BDT_ENTRY*)(&BDT[EP(ep,dir,0)]);                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a50   f039                                                                                                               
006a52   eccb     CALL      0x7396,0x0                                                                                      
006a54   f039                                                                                                               
007396   0d04     MULLW     0x4                                                                                             
007398   cff3     MOVFF     0xff3,0x4e                                                                                      
00739a   f04e                                                                                                               
00739c   cff4     MOVFF     0xff4,0x4f                                                                                      
00739e   f04f                                                                                                               
0073a0   0e00     MOVLW     0x0                                                                                             
0073a2   264e     ADDWF     0x4e,0x1,0x0                                                                                    
0073a4   0e04     MOVLW     0x4                                                                                             
0073a6   dfc8     RCALL     0x7338                                                                                          
0073a8   0e84     MOVLW     0x84                   p->STAT.Val |= _BSTALL | _USIE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0073aa   ef3d     GOTO      0x747a                                                                                          
0073ac   f03a                                                                                                               
00747a   def0     RCALL     0x725c                                                                                          
00747c   50e8     MOVF      0xe8,0x0,0x0                                                                                    
00747e   12ef     IORWF     0xef,0x1,0x0                                                                                    
007480   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //If the device is in FULL or ALL_BUT_EP0 ping pong modes                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //then stall that entry as well                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG) || (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a56   ec61     CALL      0x72c2,0x0             p = (BDT_ENTRY*)(&BDT[EP(ep,dir,1)]);                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a58   f039                                                                                                               
006a5a   0f01     ADDLW     0x1                                                                                             
006a5c   eccb     CALL      0x7396,0x0                                                                                      
006a5e   f039                                                                                                               
007338   224f     ADDWFC    0x4f,0x1,0x0                                                                                    
00733a   c04e     MOVFF     0x4e,0xfde                                                                                      
00733c   ffde                                                                                                               
00733e   c04f     MOVFF     0x4f,0xfdd                                                                                      
007340   ffdd                                                                                                               
007342   0012     RETURN    0x0                                                                                             
                                                   p->STAT.Val |= _BSTALL | _USIE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a60   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a62   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
006a64   e202     BC        0x6a6a                                                                                          
006a66   6ae1     CLRF      0xe1,0x0                                                                                        
006a68   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006a6a   6ee1     MOVWF     0xe1,0x0                                                                                        
006a6c   ef3d     GOTO      0x727a                                                                                          
006a6e   f039                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Function:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBCancelIO(BYTE endpoint)                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Description:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function cancels the transfers pending on the specified endpoint.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function can only be used after a SETUP packet is received and      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   before that setup packet is handled.  This is the time period in which   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   the EVENT_EP0_REQUEST is thrown, before the event handler function       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   returns to the stack.                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Precondition:                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Parameters:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   BYTE endpoint - the endpoint number you wish to cancel the transfers for D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Return Values:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Remarks:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             **************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a70   ec38     CALL      0x7270,0x0     void USBCancelIO(BYTE endpoint)                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a72   f039                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a74   a865     BTFSS     0x65,0x4,0x0       if(USBPacketDisable == 1u)                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a76   d016     BRA       0x6aa4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               	//The PKTDIS bit is currently set right now.  It is therefore "safe"        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               	//to mess with the BDT right now.                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a78   ec05     CALL      0x740a,0x0         	pBDTEntryIn[endpoint]->Val &= _DTSMASK;	//Makes UOWN = 0 (_UCPU mode).  Deactivates endpoint.  Only sends NAKs. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a7a   f03a                                                                                                               
006a7c   0e40     MOVLW     0x40                                                                                            
006a7e   16ee     ANDWF     0xee,0x1,0x0                                                                                    
006a80   6aee     CLRF      0xee,0x0                                                                                        
006a82   6aee     CLRF      0xee,0x0                                                                                        
006a84   6aee     CLRF      0xee,0x0                                                                                        
006a86   ec05     CALL      0x740a,0x0         	pBDTEntryIn[endpoint]->Val ^= _DTSMASK;	//Toggle the DTS bit.  This packet didn't get sent yet, and the next call to USBTransferOnePacket() will re-toggle the DTS bit back to the original (correct) value. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a88   f03a                                                                                                               
006a8a   7cee     BTG       0xee,0x6,0x0                                                                                    
                                               	                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               	//Need to do additional handling if ping-pong buffering is being used       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if ((USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG) || (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0)) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Point to the next buffer for ping pong purposes.  UOWN getting cleared D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //(either due to SIE clearing it after a transaction, or the firmware    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //clearing it) makes hardware ping pong pointer advance.                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a8c   dbde     RCALL     0x724a                 USBAdvancePingPongBuffer(&pBDTEntryIn[endpoint]);                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a8e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006a90   74ef     BTG       0xef,0x2,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a92   0e40     MOVLW     0x40               	pBDTEntryIn[endpoint]->STAT.Val &= _DTSMASK;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a94   6e4e     MOVWF     0x4e,0x0                                                                                        
006a96   ec05     CALL      0x740a,0x0                                                                                      
006a98   f03a                                                                                                               
006a9a   504e     MOVF      0x4e,0x0,0x0                                                                                    
006a9c   16ef     ANDWF     0xef,0x1,0x0                                                                                    
006a9e   ec05     CALL      0x740a,0x0         	pBDTEntryIn[endpoint]->STAT.Val ^= _DTSMASK;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aa0   f03a                                                                                                               
006aa2   7cef     BTG       0xef,0x6,0x0                                                                                    
00740a   df1f     RCALL     0x724a                                                                                          
00740c   ef75     GOTO      0x72ea                                                                                          
00740e   f039                                                                                                               
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aa4   d3ea     BRA       0x727a         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Function:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBDeviceDetach(void)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Summary:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function configures the USB module to "soft detach" itself from     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   the USB host.                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Description:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function configures the USB module to perform a "soft detach"       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   operation, by disabling the D+ (or D-) ~1.5k pull up resistor, which     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   lets the host know the device is present and attached.  This will make   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   the host think that the device has been unplugged.  This is potentially  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   useful, as it allows the USB device to force the host to re-enumerate    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   the device (on the firmware has re-enabled the USB module/pull up, by    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   calling USBDeviceAttach(), to "soft re-attach" to the host).             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Precondition:                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Should only be called when USB_INTERRUPT is defined.  See remarks        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   section if USB_POLLING mode option is being used (usb_config.h option).  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Additionally, this function should only be called from the main() loop   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   context.  Do not call this function from within an interrupt handler, as  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   this function may modify global interrupt enable bits and settings.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Parameters:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Return Values:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Remarks:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   If the application firmware calls USBDeviceDetach(), it is strongly      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   recommended that the firmware wait at least >= 80ms before calling       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBDeviceAttach().  If the firmeware performs a soft detach, and then    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   re-attaches too soon (ex: after a few micro seconds for instance), some  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   hosts may interpret this as an unexpected "glitch" rather than as a      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   physical removal/re-attachment of the USB device.  In this case the host D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   may simply ignore the event without re-enumerating the device.  To       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   ensure that the host properly detects and processes the device soft      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   detach/re-attach, it is recommended to make sure the device remains      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   detached long enough to mimic a real human controlled USB                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   unplug/re-attach event (ex: after calling USBDeviceDetach(), do not      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   call USBDeviceAttach() for at least 80+ms, preferrably longer.           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Neither the USBDeviceDetach() or USBDeviceAttach() functions are blocking D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   or take long to execute.  It is the application firmware's               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   responsibility for adding the 80+ms delay, when using these API          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   functions.                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Note: The Windows plug and play event handler processing is fairly       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   slow, especially in certain versions of Windows, and for certain USB     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   device classes.  It has been observed that some device classes need to   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   provide even more USB detach dwell interval (before calling              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBDeviceAttach()), in order to work correctly after re-enumeration.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   If the USB device is a CDC class device, it is recommended to wait       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   at least 1.5 seconds or longer, before soft re-attaching to the host,    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   to provide the plug and play event handler enough time to finish         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   processing the removal event, before the re-attach occurs.               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   If the application is using the USB_POLLING mode option, then the        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBDeviceDetach() and USBDeviceAttach() functions are not available.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   In this mode, the USB stack relies on the "#define USE_USB_BUS_SENSE_IO"  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   and "#define USB_BUS_SENSE" options in the                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   HardwareProfile  [platform name].h file.                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   When using the USB_POLLING mode option, and the                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   "#define USE_USB_BUS_SENSE_IO" definition has been commented out, then   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   the USB stack assumes that it should always enable the USB module at     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   pretty much all times.  Basically, anytime the application firmware      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   calls USBDeviceTasks(), the firmware will automatically enable the USB   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   module.  This mode would typically be selected if the application was    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   designed to be a purely bus powered device.  In this case, the           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   application is powered from the +5V VBUS supply from the USB port, so    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   it is correct and sensible in this type of application to power up and   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   turn on the USB module, at anytime that the microcontroller is           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   powered (which implies the USB cable is attached and the host is also    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   powered).                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   In a self powered application, the USB stack is designed with the        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   intention that the user will enable the "#define USE_USB_BUS_SENSE_IO"   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   option in the HardwareProfile  [platform name].h file.  When this     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   option is defined, then the USBDeviceTasks() function will automatically  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   check the I/O pin port value of the designated pin (based on the         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #define USB_BUS_SENSE option in the HardwareProfile  [platform name].h  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   file), every time the application calls USBDeviceTasks().  If the        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBDeviceTasks() function is executed and finds that the pin defined by  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   the #define USB_BUS_SENSE is in a logic low state, then it will          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   automatically disable the USB module and tri-state the D+ and D- pins.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   If however the USBDeviceTasks() function is executed and finds the pin   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   defined by the #define USB_BUS_SENSE is in a logic high state, then it   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   will automatically enable the USB module, if it has not already been     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   enabled.                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             **************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(USB_INTERRUPT)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           void USBDeviceDetach(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If the interrupt option is selected then the customer is required          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //  to notify the stack when the device is attached or removed from the      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //  bus by calling the USBDeviceAttach() and USBDeviceDetach() functions.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #ifdef USB_SUPPORT_OTG                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if (USB_BUS_SENSE != 1)                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    // Disable module & detach from bus                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    U1CON = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    // Mask all USB interrupts                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    U1IE = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    //Move to the detached state                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBDeviceState = DETACHED_STATE;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #ifdef  USB_SUPPORT_OTG                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Disable D+ Pullup                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        U1OTGCONbits.DPPULUP = 0;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Disable HNP                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        USBOTGDisableHnp();                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Deactivate HNP                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        USBOTGDeactivateHnp();                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //If ID Pin Changed State                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        if (USBIDIF && USBIDIE)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        {                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            //Re-detect & Initialize                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                             USBOTGInitialize();                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                             //Clear ID Interrupt Flag                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                             USBClearInterruptFlag(USBIDIFReg,USBIDIFBitNum);               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        }                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #endif                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #if defined __C30__ || defined __XC16__                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //USBClearInterruptFlag(U1OTGIR, 3);                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #endif                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //return so that we don't go through the rest of                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //the state machine                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                     return;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #ifdef USB_SUPPORT_OTG                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If Session Is Started Then                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              else                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              {                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //If SRP Is Ready                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if (USBOTGSRPIsReady())                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Clear SRPReady                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGClearSRPReady();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Clear SRP Timeout Flag                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGClearSRPTimeOutFlag();                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Indicate Session Started                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       UART2PrintString( "\r\n***** USB OTG B Event - Session Started  *****\r\n" ); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif  //#if defined(USB_INTERRUPT)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Function:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBDeviceAttach(void)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Summary:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Checks if VBUS is present, and that the USB module is not already        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   initalized, and if so, enables the USB module so as to signal device     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   attachment to the USB host.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Description:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function indicates to the USB host that the USB device has been     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   attached to the bus.  This function needs to be called in order for the  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   device to start to enumerate on the bus.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Precondition:                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Should only be called when USB_INTERRUPT is defined.  Also, should only  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   be called from the main() loop context.  Do not call USBDeviceAttach()   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   from within an interrupt handler, as the USBDeviceAttach() function      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   may modify global interrupt enable bits and settings.                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   For normal USB devices:                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Make sure that if the module was previously on, that it has been turned off  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   for a long time (ex: 100ms+) before calling this function to re-enable the module. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   If the device turns off the D+ (for full speed) or D- (for low speed) ~1.5k ohm D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   pull up resistor, and then turns it back on very quickly, common hosts will sometimes  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   reject this event, since no human could ever unplug and reattach a USB device in a  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   microseconds (or nanoseconds) timescale.  The host could simply treat this as some kind  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   of glitch and ignore the event altogether.                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Parameters:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Return Values:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Remarks:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		See also the USBDeviceDetach() API function documentation.                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           ****************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(USB_INTERRUPT)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           void USBDeviceAttach(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //if we are in the detached state                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if(USBDeviceState == DETACHED_STATE)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(USB_BUS_SENSE == 1)                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               	    //Initialize registers to known states.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       U1CON = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       // Mask all USB interrupts                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       U1IE = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Configure things like: pull ups, full/low-speed mode,              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //set the ping pong mode, and set internal transceiver               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       SetConfigurationOptions();                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBEnableInterrupts();  //Modifies global interrupt settings         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       // Enable module & attach to bus                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       while(!U1CONbits.USBEN){U1CONbits.USBEN = 1;}                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //moved to the attached state                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBDeviceState = ATTACHED_STATE;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #ifdef  USB_SUPPORT_OTG                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           U1OTGCON = USB_OTG_DPLUS_ENABLE | USB_OTG_ENABLE;                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #endif                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif  //#if defined(USB_INTERRUPT)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************* D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Function: void USBCtrlEPAllowStatusStage(void);                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Summary: This function prepares the proper endpoint 0 IN or endpoint 0 OUT     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       (based on the controlTransferState) to allow the status stage packet D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       of a control transfer to complete.  This function gets used          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       internally by the USB stack itself, but it may also be called from   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       the application firmware, IF the application firmware called         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       the USBDeferStatusStage() function during the initial processing     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       of the control transfer request.  In this case, the application      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       must call the USBCtrlEPAllowStatusStage() once, after it has fully   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       completed processing and handling the data stage portion of the      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       request.                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       If the application firmware has no need for delaying control         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       transfers, and therefore never calls USBDeferStatusStage(), then the D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       application firmware should not call USBCtrlEPAllowStatusStage().    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Return:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             *****************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           void USBCtrlEPAllowStatusStage(void)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Check and set two flags, prior to actually modifying any BDT entries.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //This double checking is necessary to make certain that                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //USBCtrlEPAllowStatusStage() can be called twice simultaneously (ex: once   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //in main loop context, while simultaneously getting an interrupt which      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //tries to call USBCtrlEPAllowStatusStage() again, at the same time).        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aa6   0105     MOVLB     0x5                if(USBStatusStageEnabledFlag1 == FALSE)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aa8   51ec     MOVF      0xec,0x0,0x1                                                                                    
006aaa   e122     BNZ       0x6af0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aac   0e01     MOVLW     0x1                    USBStatusStageEnabledFlag1 = TRUE;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aae   6fec     MOVWF     0xec,0x1                                                                                        
006ab0   51ed     MOVF      0xed,0x0,0x1           if(USBStatusStageEnabledFlag2 == FALSE)                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ab2   e11e     BNZ       0x6af0                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ab4   0e01     MOVLW     0x1                        USBStatusStageEnabledFlag2 = TRUE;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ab6   6fed     MOVWF     0xed,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Determine which endpoints (EP0 IN or OUT needs arming for the status D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //stage), based on the type of control transfer currently pending.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ab8   0e02     MOVLW     0x2                        if(controlTransferState == CTRL_TRF_RX)                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aba   5dd0     SUBWF     0xd0,0x0,0x1                                                                                    
006abc   e107     BNZ       0x6acc                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006abe   dbd3     RCALL     0x7266                         pBDTEntryIn[0]->CNT = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ac0   52ee     MOVF      0xee,0x1,0x0                                                                                    
006ac2   6aef     CLRF      0xef,0x0                                                                                        
006ac4   dbd0     RCALL     0x7266                         pBDTEntryIn[0]->STAT.Val = _USIE|_DAT1|(_DTSEN & _DTS_CHECKING_ENABLED);         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ac6   0ec8     MOVLW     0xc8                                                                                            
006ac8   6eef     MOVWF     0xef,0x0                                                                                        
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aca   0012     RETURN    0x0                        else if(controlTransferState == CTRL_TRF_TX)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006acc   05d0     DECF      0xd0,0x0,0x1                                                                                    
006ace   e110     BNZ       0x6af0                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ad0   6be3     CLRF      0xe3,0x1               		BothEP0OutUOWNsSet = FALSE;	//Indicator flag used in USBCtrlTrfOutHandler() D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //This buffer (when ping pong buffering is enabled on EP0 OUT) receives the D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //next SETUP packet.                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   		#if((USB_PING_PONG_MODE == USB_PING_PONG__EP0_OUT_ONLY) || (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ad2   dbdf     RCALL     0x7292                 		pBDTEntryEP0OutCurrent->CNT = USB_EP0_BUFF_SIZE;                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ad4   52ee     MOVF      0xee,0x1,0x0                                                                                    
006ad6   0e40     MOVLW     0x40                                                                                            
006ad8   6eef     MOVWF     0xef,0x0                                                                                        
006ada   dbdb     RCALL     0x7292                 		pBDTEntryEP0OutCurrent->ADR = ConvertToPhysicalAddress(&SetupPkt);     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006adc   ecd7     CALL      0x73ae,0x0                                                                                      
006ade   f039                                                                                                               
006ae0   dbd8     RCALL     0x7292                 		pBDTEntryEP0OutCurrent->STAT.Val = _USIE|_BSTALL; //Prepare endpoint to accept a SETUP transaction D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ae2   0e84     MOVLW     0x84                                                                                            
006ae4   6eef     MOVWF     0xef,0x0                                                                                        
006ae6   0e01     MOVLW     0x1                    		BothEP0OutUOWNsSet = TRUE;	//Indicator flag used in USBCtrlTrfOutHandler() D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ae8   6fe3     MOVWF     0xe3,0x1                                                                                        
                                                   		#endif                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //This EP0 OUT buffer receives the 0-byte OUT status stage packet. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aea   dbab     RCALL     0x7242                 		pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   		pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aec   0e80     MOVLW     0x80                   		pBDTEntryEP0OutNext->STAT.Val = _USIE;           // Note: DTSEN is 0   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aee   6eef     MOVWF     0xef,0x0                                                                                        
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006af0   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************* D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Function: void USBCtrlEPAllowDataStage(void);                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Summary: This function allows the data stage of either a host-to-device or     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       device-to-host control transfer (with data stage) to complete.       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       This function is meant to be used in conjunction with either the     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBDeferOUTDataStage() or USBDeferINDataStage().  If the firmware    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       does not call either USBDeferOUTDataStage() or USBDeferINDataStage(), D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       then the firmware does not need to manually call                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBCtrlEPAllowDataStage(), as the USB stack will call this function  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       instead.                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Conditions: A control transfer (with data stage) should already be pending,    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           if the firmware calls this function.  Additionally, the firmware D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           should have called either USBDeferOUTDataStage() or              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           USBDeferINDataStage() at the start of the control transfer, if   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           the firmware will be calling this function manually.             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Return:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             *****************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           void USBCtrlEPAllowDataStage(void)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006af2   0105     MOVLB     0x5                USBDeferINDataStagePackets = FALSE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006af4   6bee     CLRF      0xee,0x1                                                                                        
006af6   6bef     CLRF      0xef,0x1           USBDeferOUTDataStagePackets = FALSE;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006af8   0e02     MOVLW     0x2                if(controlTransferState == CTRL_TRF_RX) //(<setup><out><out>...<out><in>)    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006afa   5dd0     SUBWF     0xd0,0x0,0x1                                                                                    
006afc   e106     BNZ       0x6b0a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Prepare EP0 OUT to receive the first OUT data packet in the data stage sequence. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006afe   ec32     CALL      0x7464,0x0             pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b00   f03a                                                                                                               
006b02   dbcc     RCALL     0x729c                 pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&CtrlTrfData);       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b04   ecc6     CALL      0x738c,0x0             pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT1|(_DTSEN & _DTS_CHECKING_ENABLED); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b06   f039                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b08   d010     BRA       0x6b2a             else    //else must be controlTransferState == CTRL_TRF_TX (<setup><in><in>...<in><out>) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Error check the data stage byte count.  Make sure the user specified   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //value was no greater than the number of bytes the host requested.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b0a   51d4     MOVF      0xd4,0x0,0x1   		if(SetupPkt.wLength < inPipes[0].wCount.Val)                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b0c   0104     MOVLB     0x4                                                                                             
006b0e   5d36     SUBWF     0x36,0x0,0x1                                                                                    
006b10   0105     MOVLB     0x5                                                                                             
006b12   51d5     MOVF      0xd5,0x0,0x1                                                                                    
006b14   0104     MOVLB     0x4                                                                                             
006b16   5937     SUBWFB    0x37,0x0,0x1                                                                                    
006b18   e204     BC        0x6b22                                                                                          
                                           		{                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b1a   c436     MOVFF     0x436,0x5d4    			inPipes[0].wCount.Val = SetupPkt.wLength;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b1c   f5d4                                                                                                               
006b1e   c437     MOVFF     0x437,0x5d5                                                                                     
006b20   f5d5                                                                                                               
                                           		}                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b22   d861     RCALL     0x6be6         		USBCtrlTrfTxService();  //Copies one IN data packet worth of data from application buffer D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		                        //to CtrlTrfData buffer.  Also keeps track of how many bytes remaining. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //Cnt should have been initialized by responsible request owner (ex: by     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //using the USBEP0SendRAMPtr() or USBEP0SendROMPtr() API function).         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b24   dba0     RCALL     0x7266         		pBDTEntryIn[0]->ADR = ConvertToPhysicalAddress(&CtrlTrfData);                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b26   dbba     RCALL     0x729c                                                                                          
006b28   db9e     RCALL     0x7266         		pBDTEntryIn[0]->STAT.Val = _USIE|_DAT1|(_DTSEN & _DTS_CHECKING_ENABLED);       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b2a   0ec8     MOVLW     0xc8                                                                                            
006b2c   6eef     MOVWF     0xef,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b2e   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** Internal Functions *********************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBConfigureEndpoint(BYTE EPNum, BYTE direction)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           BYTE EPNum - the endpoint to be configured                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  BYTE direction - the direction to be configured              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                   (either OUT_FROM_HOST or IN_TO_HOST)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This function will configure the specified                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  endpoint                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b30   ecdd     CALL      0x73ba,0x0     static void USBConfigureEndpoint(BYTE EPNum, BYTE direction)                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b32   f039                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               volatile BDT_ENTRY* handle;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Compute a pointer to the even BDT entry corresponding to the               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //EPNum and direction values passed to this function.                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b34   0e00     MOVLW     0x0                handle = (volatile BDT_ENTRY*)&BDT[EP0_OUT_EVEN]; //Get address of start of BDT D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b36   6ede     MOVWF     0xde,0x0                                                                                        
006b38   0e04     MOVLW     0x4                                                                                             
006b3a   6edd     MOVWF     0xdd,0x0                                                                                        
006b3c   dbc2     RCALL     0x72c2             handle += EP(EPNum,direction,0u);     //Add in offset to the BDT of interest D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b3e   0d04     MULLW     0x4                                                                                             
006b40   cff4     MOVFF     0xff4,0x4f                                                                                      
006b42   f04f                                                                                                               
006b44   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
006b46   ffe9                                                                                                               
006b48   cfda     MOVFF     0xfda,0xfea                                                                                     
006b4a   ffea                                                                                                               
006b4c   50f3     MOVF      0xf3,0x0,0x0                                                                                    
006b4e   26ee     ADDWF     0xee,0x1,0x0                                                                                    
006b50   504f     MOVF      0x4f,0x0,0x0                                                                                    
006b52   22ed     ADDWFC    0xed,0x1,0x0                                                                                    
0072c2   0efd     MOVLW     0xfd                                                                                            
0072c4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0072c6   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
0072c8   6e50     MOVWF     0x50,0x0                                                                                        
0072ca   0efe     MOVLW     0xfe                                                                                            
0072cc   50db     MOVF      0xdb,0x0,0x0                                                                                    
0072ce   0d04     MULLW     0x4                                                                                             
0072d0   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0072d2   2450     ADDWF     0x50,0x0,0x0                                                                                    
0072d4   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b54   db83     RCALL     0x725c             handle->STAT.UOWN = 0;  //mostly redundant, since USBStdSetCfgHandler()      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b56   9eef     BCF       0xef,0x7,0x0                                                                                    
                                               //already cleared the entire BDT table                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Make sure our pBDTEntryIn/Out[] pointer is initialized.  Needed later      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //for USBTransferOnePacket() API calls.                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b58   0efd     MOVLW     0xfd               if(direction == OUT_FROM_HOST)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b5a   50db     MOVF      0xdb,0x0,0x0                                                                                    
006b5c   e102     BNZ       0x6b62                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b5e   dbac     RCALL     0x72b8                 pBDTEntryOut[EPNum] = handle;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072b8   0efe     MOVLW     0xfe                                                                                            
0072ba   6aea     CLRF      0xea,0x0                                                                                        
0072bc   34db     RLCF      0xdb,0x0,0x0                                                                                    
0072be   ef16     GOTO      0x742c                                                                                          
0072c0   f03a                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b60   d001     BRA       0x6b64             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b62   db73     RCALL     0x724a                 pBDTEntryIn[EPNum] = handle;                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b64   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006b66   cfde     MOVFF     0xfde,0xfee                                                                                     
006b68   ffee                                                                                                               
006b6a   cfdd     MOVFF     0xfdd,0xfed                                                                                     
006b6c   ffed                                                                                                               
00724a   0efe     MOVLW     0xfe                                                                                            
00724c   6aea     CLRF      0xea,0x0                                                                                        
00724e   34db     RLCF      0xdb,0x0,0x0                                                                                    
007250   ef0f     GOTO      0x741e                                                                                          
007252   f03a                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b6e   db76     RCALL     0x725c                 handle->STAT.DTS = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b70   9cef     BCF       0xef,0x6,0x0                                                                                    
006b72   db74     RCALL     0x725c                 (handle+1)->STAT.DTS = 1;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b74   0e04     MOVLW     0x4                                                                                             
006b76   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
006b78   0e00     MOVLW     0x0                                                                                             
006b7a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006b7c   8cef     BSF       0xef,0x6,0x0                                                                                    
                                               #elif (USB_PING_PONG_MODE == USB_PING_PONG__NO_PING_PONG)                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Set DTS to one because the first thing we will do                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //when transmitting is toggle the bit                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   handle->STAT.DTS = 1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #elif (USB_PING_PONG_MODE == USB_PING_PONG__EP0_OUT_ONLY)                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(EPNum != 0)                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       handle->STAT.DTS = 1;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #elif (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0)                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(EPNum != 0)                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       handle->STAT.DTS = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       (handle+1)->STAT.DTS = 1;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b7e   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b80   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
006b82   e202     BC        0x6b88                                                                                          
006b84   6ae1     CLRF      0xe1,0x0                                                                                        
006b86   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006b88   6ee1     MOVWF     0xe1,0x0                                                                                        
006b8a   d377     BRA       0x727a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlEPServiceComplete(void)                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine wrap up the remaining tasks in servicing        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  a Setup Request. Its main task is to set the endpoint        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  controls appropriately for a given situation. See code       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  below.                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  There are three main scenarios:                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  a) There was no handler for the Request, in this case        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     a STALL should be sent out.                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  b) The host has requested a read control transfer,           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     endpoints are required to be setup in a specific way.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  c) The host has requested a write control transfer, or       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     a control data stage is not required, endpoints are       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     required to be setup in a specific way.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  Packet processing is resumed by clearing PKTDIS bit.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlEPServiceComplete(void)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * PKTDIS bit is set when a Setup Transaction is received.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Clear to resume packet processing.                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b8c   9865     BCF       0x65,0x4,0x0       USBPacketDisable = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//Check the busy bits and the SetupPtk.DataDir variables to determine what type of D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//control transfer is currently in progress.  We need to know the type of control D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//transfer that is currently pending, in order to know how to properly arm the  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//EP0 IN and EP0 OUT endpoints.                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b8e   0105     MOVLB     0x5                if(inPipes[0].info.bits.busy == 0u)                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b90   bfd3     BTFSC     0xd3,0x7,0x1                                                                                    
006b92   d00d     BRA       0x6bae                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b94   afd8     BTFSS     0xd8,0x7,0x1           if(outPipes[0].info.bits.busy == 1u)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b96   d009     BRA       0x6baa                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b98   0e02     MOVLW     0x2                        controlTransferState = CTRL_TRF_RX;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b9a   6fd0     MOVWF     0xd0,0x1                                                                                        
                                                       /*                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        * Control Write:                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        * <SETUP[0]><OUT[1]><OUT[0]>...<IN[1]> | <SETUP[0]>                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        */                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //1. Prepare OUT EP to receive data, unless a USB class request handler D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //   function decided to defer the data stage (ex: because the intended D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //   RAM buffer wasn't available yet) by calling USBDeferDataStage(). D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //   If it did so, it is then responsible for calling USBCtrlEPAllowDataStage(), D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //   once it is ready to begin receiving the data.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b9c   51ef     MOVF      0xef,0x0,0x1               if(USBDeferOUTDataStagePackets == FALSE)                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b9e   e101     BNZ       0x6ba2                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ba0   dfa8     RCALL     0x6af2                         USBCtrlEPAllowDataStage();                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //2.  IN endpoint 0 status stage will be armed by USBCtrlEPAllowStatusStage()  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //after all of the OUT data has been received and consumed, or if a timeout occurs. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ba2   0105     MOVLB     0x5                        USBStatusStageEnabledFlag2 = FALSE;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ba4   6bed     CLRF      0xed,0x1                                                                                        
006ba6   6bec     CLRF      0xec,0x1                   USBStatusStageEnabledFlag1 = FALSE;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ba8   0012     RETURN    0x0                    else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       /*                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        * If no one knows how to service this request then stall.           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        * Must also prepare EP0 to receive the next SETUP transaction.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        */                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006baa   eff4     GOTO      0x73e8                     pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bac   f039                                                                                                               
                                                       pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT0|(_DTSEN & _DTS_CHECKING_ENABLED)|_BSTALL; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       pBDTEntryIn[0]->STAT.Val = _USIE|_BSTALL;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               else    // A module has claimed ownership of the control transfer session.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bae   0104     MOVLB     0x4            		if(SetupPkt.DataDir == USB_SETUP_DEVICE_TO_HOST_BITFIELD)                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bb0   af30     BTFSS     0x30,0x7,0x1                                                                                    
006bb2   d00d     BRA       0x6bce                                                                                          
                                           		{                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bb4   0105     MOVLB     0x5            			controlTransferState = CTRL_TRF_TX;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bb6   0e01     MOVLW     0x1                                                                                             
006bb8   6fd0     MOVWF     0xd0,0x1                                                                                        
                                           			/*                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 * Control Read:                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 * <SETUP[0]><IN[1]><IN[0]>...<OUT[1]> | <SETUP[0]>                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 * 1. Prepare IN EP to transfer data to the host.  If however the data        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    wasn't ready yet (ex: because the firmware needs to go and read it from D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    some slow/currently unavailable resource, such as an external I2C EEPROM), D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    Then the class request handler reponsible should call the USBDeferDataStage() D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    macro.  In this case, the firmware may wait up to 500ms, before it is required D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    to transmit the first IN data packet.  Once the data is ready, and the firmware D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    is ready to begin sending the data, it should then call the             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    USBCtrlEPAllowDataStage() function to start the data stage.             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 */                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bba   51ee     MOVF      0xee,0x0,0x1   			if(USBDeferINDataStagePackets == FALSE)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bbc   e101     BNZ       0x6bc0                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bbe   df99     RCALL     0x6af2                         USBCtrlEPAllowDataStage();                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			}                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       // 2. (Optionally) allow the status stage now, to prepare for early termination. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    Note: If a class request handler decided to set USBDeferStatusStagePacket == TRUE, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    then it is responsible for eventually calling USBCtrlEPAllowStatusStage() once it D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    is ready.  If the class request handler does this, it needs to be careful to D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    be written so that it can handle the early termination scenario. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    Ex: It should call USBCtrlEPAllowStatusStage() when any of the following occurs: D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    1.  The desired total number of bytes were sent to the host.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    2.  The number of bytes that the host originally requested (in the SETUP packet that  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //        started the control transfer) has been reached.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    3.  Or, if a timeout occurs (ex: <50ms since the last successful EP0 IN transaction), regardless  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //        of how many bytes have actually been sent.  This is necessary to prevent a deadlock situation D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //        (where the control transfer can't complete, due to continuous NAK on status stage) if the D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //        host performs early termination.  If enabled, the USB_ENABLE_STATUS_STAGE_TIMEOUTS usb_config.h D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //        option can take care of this for you.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    Note: For this type of control transfer, there is normally no harm in simply arming the D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    status stage packet right now, even if the IN data is not ready yet.  This allows for D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    immediate early termination, without adding unecessary delay.  Therefore, it is generally not D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    recommended for the USB class handler firmware to call USBDeferStatusStage(), for this  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    type of control transfer.  If the USB class handler firmware needs more time to fetch the IN D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    data that needs to be sent to the host, it should instead use the USBDeferDataStage() function. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bc0   0105     MOVLB     0x5                        USBStatusStageEnabledFlag2 = FALSE;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bc2   6bed     CLRF      0xed,0x1                                                                                        
006bc4   6bec     CLRF      0xec,0x1                   USBStatusStageEnabledFlag1 = FALSE;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bc6   51eb     MOVF      0xeb,0x0,0x1               if(USBDeferStatusStagePacket == FALSE)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bc8   e10d     BNZ       0x6be4                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bca   ef53     GOTO      0x6aa6                         USBCtrlEPAllowStatusStage();                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bcc   f035                                                                                                               
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		}                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		else   // (SetupPkt.DataDir == USB_SETUP_DIRECTION_HOST_TO_DEVICE)             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		{                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//This situation occurs for special types of control transfers,               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//such as that which occurs when the host sends a SET_ADDRESS                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//control transfer.  Ex:                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//<SETUP[0]><IN[1]> | <SETUP[0]>                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           				                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Although the data direction is HOST_TO_DEVICE, there is no data stage       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//(hence: outPipes[0].info.bits.busy == 0).  There is however still           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//an IN status stage.                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bce   0105     MOVLB     0x5            			controlTransferState = CTRL_TRF_RX;     //Since this is a HOST_TO_DEVICE control transfer D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bd0   0e02     MOVLW     0x2                                                                                             
006bd2   6fd0     MOVWF     0xd0,0x1                                                                                        
                                           			                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//1. Prepare OUT EP to receive the next SETUP packet.                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bd4   db36     RCALL     0x7242         			pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bd6   0e84     MOVLW     0x84           			pBDTEntryEP0OutNext->STAT.Val = _USIE|_BSTALL;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bd8   6eef     MOVWF     0xef,0x0                                                                                        
                                           				                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//2. Prepare for IN status stage of the control transfer                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bda   6bed     CLRF      0xed,0x1                   USBStatusStageEnabledFlag2 = FALSE;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bdc   6bec     CLRF      0xec,0x1                   USBStatusStageEnabledFlag1 = FALSE;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bde   51eb     MOVF      0xeb,0x0,0x1   			if(USBDeferStatusStagePacket == FALSE)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006be0   e101     BNZ       0x6be4                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006be2   df61     RCALL     0x6aa6                         USBCtrlEPAllowStatusStage();                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		}                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end if(ctrl_trf_session_owner == MUID_NULL)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006be4   0012     RETURN    0x0            }//end USBCtrlEPServiceComplete                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlTrfTxService(void)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    pSrc, wCount, and usb_stat.ctrl_trf_mem are setup properly.  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine is used for device to host control transfers    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					(IN transactions).  This function takes care of managing a                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  transfer over multiple USB transactions.                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					This routine should be called from only two places.                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  One from USBCtrlEPServiceComplete() and one from             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  USBCtrlTrfInHandler().                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006be6   ec0c     CALL      0x7418,0x0     static void USBCtrlTrfTxService(void)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006be8   f03a                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE byteToSend;                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Figure out how many bytes of data to send in the next IN transaction.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Assume a full size packet, unless otherwise determined below.              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bea   0e40     MOVLW     0x40               byteToSend = USB_EP0_BUFF_SIZE;                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bec   6edf     MOVWF     0xdf,0x0                                                                                        
006bee   0105     MOVLB     0x5                if(inPipes[0].wCount.Val < (BYTE)USB_EP0_BUFF_SIZE)                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bf0   5dd4     SUBWF     0xd4,0x0,0x1                                                                                    
006bf2   0e00     MOVLW     0x0                                                                                             
006bf4   59d5     SUBWFB    0xd5,0x0,0x1                                                                                    
006bf6   e20a     BC        0x6c0c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bf8   c5d4     MOVFF     0x5d4,0xfdf            byteToSend = inPipes[0].wCount.Val;                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bfa   ffdf                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Keep track of whether or not we have sent a "short packet" yet.        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //This is useful so that later on, we can configure EP0 IN to STALL,     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //after we have sent all of the intended data.  This makes sure the      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //hardware STALLs if the host erroneously tries to send more IN token    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //packets, requesting more data than intended in the control transfer.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bfc   51cf     MOVF      0xcf,0x0,0x1           if(shortPacketStatus == SHORT_PKT_NOT_USED)                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bfe   e102     BNZ       0x6c04                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c00   0e01     MOVLW     0x1                        shortPacketStatus = SHORT_PKT_PENDING;                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c02   d003     BRA       0x6c0a                 else if(shortPacketStatus == SHORT_PKT_PENDING)                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c04   05cf     DECF      0xcf,0x0,0x1                                                                                    
006c06   e102     BNZ       0x6c0c                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c08   0e02     MOVLW     0x2                        shortPacketStatus = SHORT_PKT_SENT;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c0a   6fcf     MOVWF     0xcf,0x1                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Keep track of how many bytes remain to be sent in the transfer, by         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //subtracting the number of bytes about to be sent from the total.           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c0c   50df     MOVF      0xdf,0x0,0x0       inPipes[0].wCount.Val = inPipes[0].wCount.Val - byteToSend;                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c0e   6a4f     CLRF      0x4f,0x0                                                                                        
006c10   50e8     MOVF      0xe8,0x0,0x0                                                                                    
006c12   5dd4     SUBWF     0xd4,0x0,0x1                                                                                    
006c14   6fd4     MOVWF     0xd4,0x1                                                                                        
006c16   504f     MOVF      0x4f,0x0,0x0                                                                                    
006c18   59d5     SUBWFB    0xd5,0x0,0x1                                                                                    
006c1a   6fd5     MOVWF     0xd5,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Next, load the number of bytes to send to BC7..0 in buffer descriptor.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Note: Control endpoints may never have a max packet size of > 64 bytes.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Therefore, the BC8 and BC9 bits should always be maintained clear.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c1c   db24     RCALL     0x7266             pBDTEntryIn[0]->CNT = byteToSend;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c1e   52ee     MOVF      0xee,0x1,0x0                                                                                    
006c20   cfdf     MOVFF     0xfdf,0xfef                                                                                     
006c22   ffef                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Now copy the data from the source location, to the CtrlTrfData[] buffer,   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //which we will send to the host.                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c24   0e38     MOVLW     0x38               pDst = (USB_VOLATILE BYTE*)CtrlTrfData;                // Set destination pointer D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c26   6fdd     MOVWF     0xdd,0x1                                                                                        
006c28   0e04     MOVLW     0x4                                                                                             
006c2a   6fde     MOVWF     0xde,0x1                                                                                        
006c2c   b1d3     BTFSC     0xd3,0x0,0x1       if(inPipes[0].info.bits.ctrl_trf_mem == USB_EP0_ROM)   // Determine type of memory source D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c2e   d00d     BRA       0x6c4a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c30   50df     MOVF      0xdf,0x0,0x0           while(byteToSend)                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c32   e017     BZ        0x6c62                                                                                          
006c48   d7f3     BRA       0x6c30                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c34   c5d1     MOVFF     0x5d1,0xff6                *pDst++ = *inPipes[0].pSrc.bRom++;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c36   fff6                                                                                                               
006c38   c5d2     MOVFF     0x5d2,0xff7                                                                                     
006c3a   fff7                                                                                                               
006c3c   2bd1     INCF      0xd1,0x1,0x1                                                                                    
006c3e   0e00     MOVLW     0x0                                                                                             
006c40   23d2     ADDWFC    0xd2,0x1,0x1                                                                                    
006c42   0008     TBLRD                                                                                                     
006c44   50f5     MOVF      0xf5,0x0,0x0                                                                                    
006c46   db57     RCALL     0x72f6                                                                                          
0072f6   6ee6     MOVWF     0xe6,0x0                                                                                        
0072f8   c5dd     MOVFF     0x5dd,0xfe9                                                                                     
0072fa   ffe9                                                                                                               
0072fc   c5de     MOVFF     0x5de,0xfea                                                                                     
0072fe   ffea                                                                                                               
007300   2bdd     INCF      0xdd,0x1,0x1                                                                                    
007302   0e00     MOVLW     0x0                                                                                             
007304   23de     ADDWFC    0xde,0x1,0x1                                                                                    
007306   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007308   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00730a   6eef     MOVWF     0xef,0x0                                                                                        
00730c   06df     DECF      0xdf,0x1,0x0               byteToSend--;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00730e   0012     RETURN    0x0                                                                                             
                                                   }//end while(byte_to_send.Val)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               else  // RAM                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c4a   50df     MOVF      0xdf,0x0,0x0           while(byteToSend)                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c4c   e00a     BZ        0x6c62                                                                                          
006c60   d7f4     BRA       0x6c4a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c4e   c5d1     MOVFF     0x5d1,0xfe9                *pDst++ = *inPipes[0].pSrc.bRam++;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c50   ffe9                                                                                                               
006c52   c5d2     MOVFF     0x5d2,0xfea                                                                                     
006c54   ffea                                                                                                               
006c56   2bd1     INCF      0xd1,0x1,0x1                                                                                    
006c58   0e00     MOVLW     0x0                                                                                             
006c5a   23d2     ADDWFC    0xd2,0x1,0x1                                                                                    
006c5c   50ef     MOVF      0xef,0x0,0x0                                                                                    
006c5e   db4b     RCALL     0x72f6                                                                                          
                                                       byteToSend--;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }//end while(byte_to_send.Val)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end if(usb_stat.ctrl_trf_mem == _ROM)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c62   52e5     MOVF      0xe5,0x1,0x0   }//end USBCtrlTrfTxService                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c64   d30a     BRA       0x727a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlTrfRxService(void)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    pDst and wCount are setup properly.                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  pSrc is always &CtrlTrfData                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  usb_stat.ctrl_trf_mem is always USB_EP0_RAM.                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  wCount should be set to 0 at the start of each control       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  transfer.                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine is used for host to device control transfers    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					(uses OUT transactions).  This function receives the data that arrives    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					on EP0 OUT, and copies it into the appropriate outPipes[0].pDst.bRam      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					buffer.  Once the host has sent all the data it was intending             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					to send, this function will call the appropriate outPipes[0].pFunc()      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					handler (unless it is NULL), so that it can be used by the                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					intended target firmware.                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c66   dba9     RCALL     0x73ba         static void USBCtrlTrfRxService(void)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE byteToRead;                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE i;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Load byteToRead with the number of bytes the host just sent us in the      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //last OUT transaction.                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c68   db14     RCALL     0x7292             byteToRead = pBDTEntryEP0OutCurrent->CNT;                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c6a   52ee     MOVF      0xee,0x1,0x0                                                                                    
006c6c   cfef     MOVFF     0xfef,0xfdf                                                                                     
006c6e   ffdf                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Update the "outPipes[0].wCount.Val", which keeps track of the total number D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //of remaining bytes expected to be received from the host, in the control   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //transfer.  First check to see if the host sent us more bytes than the      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //application firmware was expecting to receive.                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c70   cfdf     MOVFF     0xfdf,0x4e         if(byteToRead > outPipes[0].wCount.Val)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c72   f04e                                                                                                               
006c74   504e     MOVF      0x4e,0x0,0x0                                                                                    
006c76   0105     MOVLB     0x5                                                                                             
006c78   5dd9     SUBWF     0xd9,0x0,0x1                                                                                    
006c7a   0e00     MOVLW     0x0                                                                                             
006c7c   59da     SUBWFB    0xda,0x0,0x1                                                                                    
006c7e   e202     BC        0x6c84                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c80   c5d9     MOVFF     0x5d9,0xfdf            byteToRead = outPipes[0].wCount.Val;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c82   ffdf                                                                                                               
                                               }	                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Reduce the number of remaining bytes by the number we just received.       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c84   50df     MOVF      0xdf,0x0,0x0   	outPipes[0].wCount.Val = outPipes[0].wCount.Val - byteToRead;                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c86   6e4e     MOVWF     0x4e,0x0                                                                                        
006c88   6a4f     CLRF      0x4f,0x0                                                                                        
006c8a   50e8     MOVF      0xe8,0x0,0x0                                                                                    
006c8c   5dd9     SUBWF     0xd9,0x0,0x1                                                                                    
006c8e   6fd9     MOVWF     0xd9,0x1                                                                                        
006c90   504f     MOVF      0x4f,0x0,0x0                                                                                    
006c92   59da     SUBWFB    0xda,0x0,0x1                                                                                    
006c94   6fda     MOVWF     0xda,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Copy the OUT DATAx packet bytes that we just received from the host,       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //into the user application buffer space.                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c96   0e01     MOVLW     0x1                for(i=0;i<byteToRead;i++)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c98   6adb     CLRF      0xdb,0x0                                                                                        
006c9a   50df     MOVF      0xdf,0x0,0x0                                                                                    
006c9c   6ef3     MOVWF     0xf3,0x0                                                                                        
006c9e   0e01     MOVLW     0x1                                                                                             
006ca0   cfdb     MOVFF     0xfdb,0xff4                                                                                     
006ca2   fff4                                                                                                               
006ca4   50f3     MOVF      0xf3,0x0,0x0                                                                                    
006ca6   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
006ca8   e216     BC        0x6cd6                                                                                          
006cd0   0e01     MOVLW     0x1                                                                                             
006cd2   2adb     INCF      0xdb,0x1,0x0                                                                                    
006cd4   d7e2     BRA       0x6c9a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006caa   0e01     MOVLW     0x1                    *outPipes[0].pDst.bRam++ = CtrlTrfData[i];                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cac   50db     MOVF      0xdb,0x0,0x0                                                                                    
006cae   6aea     CLRF      0xea,0x0                                                                                        
006cb0   0f38     ADDLW     0x38                                                                                            
006cb2   6ee9     MOVWF     0xe9,0x0                                                                                        
006cb4   0e04     MOVLW     0x4                                                                                             
006cb6   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006cb8   50ef     MOVF      0xef,0x0,0x0                                                                                    
006cba   6ee6     MOVWF     0xe6,0x0                                                                                        
006cbc   c5d6     MOVFF     0x5d6,0xfe9                                                                                     
006cbe   ffe9                                                                                                               
006cc0   c5d7     MOVFF     0x5d7,0xfea                                                                                     
006cc2   ffea                                                                                                               
006cc4   2bd6     INCF      0xd6,0x1,0x1                                                                                    
006cc6   0e00     MOVLW     0x0                                                                                             
006cc8   23d7     ADDWFC    0xd7,0x1,0x1                                                                                    
006cca   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006ccc   50e7     MOVF      0xe7,0x0,0x0                                                                                    
006cce   6eef     MOVWF     0xef,0x0                                                                                        
                                               }//end while(byteToRead.Val)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If there is more data to receive, prepare EP0 OUT so that it can receive   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//the next packet in the sequence.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cd6   0e00     MOVLW     0x0                if(outPipes[0].wCount.Val > 0u)                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cd8   80d8     BSF       0xd8,0x0,0x0                                                                                    
006cda   55d9     SUBFWB    0xd9,0x0,0x1                                                                                    
006cdc   0e00     MOVLW     0x0                                                                                             
006cde   55da     SUBFWB    0xda,0x0,0x1                                                                                    
006ce0   e20d     BC        0x6cfc                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ce2   dbc0     RCALL     0x7464                 pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007464   df93     RCALL     0x738c                                                                                          
007466   52ee     MOVF      0xee,0x1,0x0                                                                                    
007468   0e40     MOVLW     0x40                                                                                            
00746a   6eef     MOVWF     0xef,0x0                                                                                        
006ce4   dadb     RCALL     0x729c                 pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&CtrlTrfData);       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00746c   efc6     GOTO      0x738c                                                                                          
00746e   f039                                                                                                               
006ce6   dad5     RCALL     0x7292                 if(pBDTEntryEP0OutCurrent->STAT.DTS == 0u)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ce8   50ef     MOVF      0xef,0x0,0x0                                                                                    
006cea   0b40     ANDLW     0x40                                                                                            
006cec   e103     BNZ       0x6cf4                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cee   db4e     RCALL     0x738c                     pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT1|(_DTSEN & _DTS_CHECKING_ENABLED); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cf0   0ec8     MOVLW     0xc8                                                                                            
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cf2   d002     BRA       0x6cf8                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cf4   db4b     RCALL     0x738c                     pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT0|(_DTSEN & _DTS_CHECKING_ENABLED); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cf6   0e88     MOVLW     0x88                                                                                            
006cf8   6eef     MOVWF     0xef,0x0                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cfa   d012     BRA       0x6d20             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //We have received all OUT packets that we were expecting to                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //receive for the control transfer.  Prepare EP0 OUT to receive             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//the next SETUP transaction that may arrive.                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cfc   daa2     RCALL     0x7242                 pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Configure EP0 OUT to receive the next SETUP transaction for any future D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //control transfers.  However, set BSTALL in case the host tries to send D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //more data than it claims it was going to send.                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cfe   0e84     MOVLW     0x84                   pBDTEntryEP0OutNext->STAT.Val = _USIE|_BSTALL;                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d00   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//All data bytes for the host to device control write (OUT) have now been      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//received successfully.                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//Go ahead and call the user specified callback function, to use/consume       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//the control transfer data (ex: if the "void (*function)" parameter           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//was non-NULL when USBEP0Receive() was called).                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d02   51db     MOVF      0xdb,0x0,0x1           if(outPipes[0].pFunc != NULL)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d04   11dc     IORWF     0xdc,0x0,0x1                                                                                    
006d06   e007     BZ        0x6d16                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #if defined(__XC8)                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Special pragmas to suppress an expected/harmless warning       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //message when building with the XC8 compiler                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #pragma warning push                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #pragma warning disable 1088                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           outPipes[0].pFunc();    //Call the user's callback function      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #pragma warning pop                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #else                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d08   d005     BRA       0x6d14                         outPipes[0].pFunc();    //Call the user's callback function      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d0a   c5dc     MOVFF     0x5dc,0xffa                                                                                     
006d0c   fffa                                                                                                               
006d0e   0105     MOVLB     0x5                                                                                             
006d10   51db     MOVF      0xdb,0x0,0x1                                                                                    
006d12   6ef9     MOVWF     0xf9,0x0                                                                                        
006d14   dffa     RCALL     0x6d0a                                                                                          
                                                       #endif                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d16   0105     MOVLB     0x5                    outPipes[0].info.bits.busy = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d18   9fd8     BCF       0xd8,0x7,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Ready to arm status stage IN transaction now, if the application       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //firmware has completed processing the request.  If it is still busy    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //and needs more time to finish handling the request, then the user      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //callback (the one called by the outPipes[0].pFunc();) should set the   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //USBDeferStatusStagePacket to TRUE (by calling USBDeferStatusStage()).  In  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //this case, it is the application's firmware responsibility to call     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //the USBCtrlEPAllowStatusStage() function, once it is fully done handling the request. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Note: The application firmware must process the request and call       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //USBCtrlEPAllowStatusStage() in a semi-timely fashion.  "Semi-timely"   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //means either 50ms, 500ms, or 5 seconds, depending on the type of       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //control transfer.  See the USB 2.0 specification section 9.2.6 for     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //more details.                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d1a   51eb     MOVF      0xeb,0x0,0x1           if(USBDeferStatusStagePacket == FALSE)                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d1c   e101     BNZ       0x6d20                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d1e   dec3     RCALL     0x6aa6                     USBCtrlEPAllowStatusStage();                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d20   0e02     MOVLW     0x2            }//end USBCtrlTrfRxService                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d22   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
006d24   e202     BC        0x6d2a                                                                                          
006d26   6ae1     CLRF      0xe1,0x0                                                                                        
006d28   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006d2a   6ee1     MOVWF     0xe1,0x0                                                                                        
006d2c   d2a6     BRA       0x727a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBStdSetCfgHandler(void)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine first disables all endpoints by                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  clearing UEP registers. It then configures                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  (initializes) endpoints by calling the callback              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  function USBCBInitEP().                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d2e   db74     RCALL     0x7418         static void USBStdSetCfgHandler(void)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE i;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // This will generate a zero length packet                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d30   0105     MOVLB     0x5                inPipes[0].info.bits.busy = 1;                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d32   8fd3     BSF       0xd3,0x7,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Clear all of the endpoint control registers                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d34   db50     RCALL     0x73d6             DisableNonZeroEndpoints(USB_MAX_EP_NUMBER);                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Clear all of the BDT entries                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d36   0e30     MOVLW     0x30               memset((void*)&BDT[0], 0x00, sizeof(BDT));                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d38   6ee6     MOVWF     0xe6,0x0                                                                                        
006d3a   6ae6     CLRF      0xe6,0x0                                                                                        
006d3c   6ae6     CLRF      0xe6,0x0                                                                                        
006d3e   0e00     MOVLW     0x0                                                                                             
006d40   6ee6     MOVWF     0xe6,0x0                                                                                        
006d42   0e04     MOVLW     0x4                                                                                             
006d44   dab1     RCALL     0x72a8                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Assert reset request to all of the Ping Pong buffer pointers              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d46   8c65     BSF       0x65,0x6,0x0       USBPingPongBufferReset = 1;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//Re-Initialize all ping pong software state bits to 0 (which corresponds to    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//the EVEN buffer being the next one that will be used), since we are also      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//doing a hardware ping pong pointer reset above.                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d48   6adf     CLRF      0xdf,0x0       	for(i = 0; i < (BYTE)(USB_MAX_EP_NUMBER+1u); i++)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d4a   0e03     MOVLW     0x3                                                                                             
006d4c   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
006d4e   e202     BC        0x6d54                                                                                          
006d52   d7fb     BRA       0x6d4a                                                                                          
                                           	{                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d50   dac2     RCALL     0x72d6         		ep_data_in[i].Val = 0u;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   ep_data_out[i].Val = 0u;                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	}                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //clear the alternate interface settings                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d54   0e01     MOVLW     0x1                memset((void*)&USBAlternateInterface,0x00,USB_MAX_NUM_INT);                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d56   6ee6     MOVWF     0xe6,0x0                                                                                        
006d58   6ae6     CLRF      0xe6,0x0                                                                                        
006d5a   6ae6     CLRF      0xe6,0x0                                                                                        
006d5c   0ebe     MOVLW     0xbe                                                                                            
006d5e   6ee6     MOVWF     0xe6,0x0                                                                                        
006d60   0e05     MOVLW     0x5                                                                                             
006d62   daa2     RCALL     0x72a8                                                                                          
0072a8   6ee6     MOVWF     0xe6,0x0                                                                                        
0072aa   ec4b     CALL      0x8e96,0x0                                                                                      
0072ac   f047                                                                                                               
0072ae   6e4e     MOVWF     0x4e,0x0                                                                                        
0072b0   0e05     MOVLW     0x5                                                                                             
0072b2   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
0072b4   504e     MOVF      0x4e,0x0,0x0                                                                                    
0072b6   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Stop trying to reset ping pong buffer pointers                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d64   9c65     BCF       0x65,0x6,0x0       USBPingPongBufferReset = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d66   0105     MOVLB     0x5                pBDTEntryIn[0] = (volatile BDT_ENTRY*)&BDT[EP0_IN_EVEN];                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d68   0e08     MOVLW     0x8                                                                                             
006d6a   6fc9     MOVWF     0xc9,0x1                                                                                        
006d6c   0e04     MOVLW     0x4                                                                                             
006d6e   6fca     MOVWF     0xca,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//Set the next out to the current out packet                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d70   0e00     MOVLW     0x0                pBDTEntryEP0OutCurrent = (volatile BDT_ENTRY*)&BDT[EP0_OUT_EVEN];            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d72   6fbf     MOVWF     0xbf,0x1                                                                                        
006d74   0e04     MOVLW     0x4                                                                                             
006d76   6fc0     MOVWF     0xc0,0x1                                                                                        
006d78   c5bf     MOVFF     0x5bf,0x5c1        pBDTEntryEP0OutNext = pBDTEntryEP0OutCurrent;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d7a   f5c1                                                                                                               
006d7c   6fc2     MOVWF     0xc2,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //set the current configuration                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d7e   c432     MOVFF     0x432,0x5bd        USBActiveConfiguration = SetupPkt.bConfigurationValue;                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d80   f5bd                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //if the configuration value == 0                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d82   51bd     MOVF      0xbd,0x0,0x1       if(USBActiveConfiguration == 0u)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d84   e102     BNZ       0x6d8a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Go back to the addressed state                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d86   0e10     MOVLW     0x10                   USBDeviceState = ADDRESS_STATE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d88   d00b     BRA       0x6da0             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //initialize the required endpoints                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d8a   0e01     MOVLW     0x1                    USB_SET_CONFIGURATION_HANDLER(EVENT_CONFIGURED,(void*)&USBActiveConfiguration,1); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d8c   6ee6     MOVWF     0xe6,0x0                                                                                        
006d8e   6ae6     CLRF      0xe6,0x0                                                                                        
006d90   0ebd     MOVLW     0xbd                                                                                            
006d92   6ee6     MOVWF     0xe6,0x0                                                                                        
006d94   0e05     MOVLW     0x5                                                                                             
006d96   6ee6     MOVWF     0xe6,0x0                                                                                        
006d98   0e01     MOVLW     0x1                                                                                             
006d9a   da5c     RCALL     0x7254                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Otherwise go to the configured state.  Update the state variable last, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //after performing all of the set configuration related initialization   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //tasks.                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d9c   0105     MOVLB     0x5                    USBDeviceState = CONFIGURED_STATE;		                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d9e   0e20     MOVLW     0x20                                                                                            
006da0   6fbc     MOVWF     0xbc,0x1                                                                                        
                                               }//end if(SetupPkt.bConfigurationValue == 0)                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006da2   52e5     MOVF      0xe5,0x1,0x0   }//end USBStdSetCfgHandler                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006da4   d26a     BRA       0x727a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBStdGetDscHandler(void)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine handles the standard GET_DESCRIPTOR             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  request.                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStdGetDscHandler(void)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006da6   0e80     MOVLW     0x80               if(SetupPkt.bmRequestType == 0x80)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006da8   0104     MOVLB     0x4                                                                                             
006daa   5d30     SUBWF     0x30,0x0,0x1                                                                                    
006dac   e14e     BNZ       0x6e4a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dae   0105     MOVLB     0x5                    inPipes[0].info.Val = USB_EP0_ROM | USB_EP0_BUSY | USB_EP0_INCLUDE_ZERO; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006db0   0ec0     MOVLW     0xc0                                                                                            
006db2   6fd3     MOVWF     0xd3,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006db4   0104     MOVLB     0x4                    switch(SetupPkt.bDescriptorType)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006db6   5133     MOVF      0x33,0x0,0x1                                                                                    
006db8   0a03     XORLW     0x3                                                                                             
006dba   e025     BZ        0x6e06                                                                                          
006dbc   0a01     XORLW     0x1                                                                                             
006dbe   e009     BZ        0x6dd2                                                                                          
006dc0   0a03     XORLW     0x3                                                                                             
006dc2   e141     BNZ       0x6e46                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       case USB_DESCRIPTOR_DEVICE:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #if !defined(USB_USER_DEVICE_DESCRIPTOR)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               inPipes[0].pSrc.bRom = (ROM BYTE*)&device_dsc;               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #else                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dc4   0105     MOVLB     0x5                                inPipes[0].pSrc.bRom = (ROM BYTE*)USB_USER_DEVICE_DESCRIPTOR; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dc6   0ef6     MOVLW     0xf6                                                                                            
006dc8   6fd1     MOVWF     0xd1,0x1                                                                                        
006dca   0e8d     MOVLW     0x8d                                                                                            
006dcc   6fd2     MOVWF     0xd2,0x1                                                                                        
                                                           #endif                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dce   0e12     MOVLW     0x12                           inPipes[0].wCount.Val = sizeof(device_dsc);                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dd0   d034     BRA       0x6e3a                         break;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       case USB_DESCRIPTOR_CONFIGURATION:                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #if !defined(USB_USER_CONFIG_DESCRIPTOR)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               inPipes[0].pSrc.bRom = *(USB_CD_Ptr+SetupPkt.bDscIndex);     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #else                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dd2   5132     MOVF      0x32,0x0,0x1                       inPipes[0].pSrc.bRom = *(USB_USER_CONFIG_DESCRIPTOR+SetupPkt.bDscIndex); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dd4   6ef6     MOVWF     0xf6,0x0                                                                                        
006dd6   6af7     CLRF      0xf7,0x0                                                                                        
006dd8   90d8     BCF       0xd8,0x0,0x0                                                                                    
006dda   36f6     RLCF      0xf6,0x1,0x0                                                                                    
006ddc   36f7     RLCF      0xf7,0x1,0x0                                                                                    
006dde   0e4b     MOVLW     0x4b                                                                                            
006de0   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
006de2   0e8e     MOVLW     0x8e                                                                                            
006de4   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
006de6   0009     TBLRDPOSTINC                                                                                              
006de8   cff5     MOVFF     0xff5,0x5d1                                                                                     
006dea   f5d1                                                                                                               
006dec   000a     TBLRDPOSTDEC                                                                                              
006dee   cff5     MOVFF     0xff5,0x5d2                                                                                     
006df0   f5d2                                                                                                               
                                                           #endif                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //This must be loaded using byte addressing.  The source pointer D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //  may not be word aligned for the 16 or 32 bit machines resulting D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //  in an address error on the dereference.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006df2   0e02     MOVLW     0x2                            inPipes[0].wCount.byte.LB = *(inPipes[0].pSrc.bRom+2);           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006df4   0105     MOVLB     0x5                                                                                             
006df6   dabc     RCALL     0x7370                                                                                          
006df8   cff5     MOVFF     0xff5,0x5d4                                                                                     
006dfa   f5d4                                                                                                               
007370   6af7     CLRF      0xf7,0x0                                                                                        
007372   25d1     ADDWF     0xd1,0x0,0x1                                                                                    
007374   6ef6     MOVWF     0xf6,0x0                                                                                        
007376   51d2     MOVF      0xd2,0x0,0x1                                                                                    
007378   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
00737a   0008     TBLRD                                                                                                     
00737c   0012     RETURN    0x0                                                                                             
006dfc   0e03     MOVLW     0x3                            inPipes[0].wCount.byte.HB = *(inPipes[0].pSrc.bRom+3);           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dfe   dab8     RCALL     0x7370                                                                                          
006e00   cff5     MOVFF     0xff5,0x5d5                                                                                     
006e02   f5d5                                                                                                               
006e04   0012     RETURN    0x0                            break;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       case USB_DESCRIPTOR_STRING:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //USB_NUM_STRING_DESCRIPTORS was introduced as optional in release v2.3.  In v2.4 and D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //  later it is now manditory.  This should be defined in usb_config.h and should D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //  indicate the number of string descriptors.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e06   0e04     MOVLW     0x4                            if(SetupPkt.bDscIndex<USB_NUM_STRING_DESCRIPTORS)                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e08   5d32     SUBWF     0x32,0x0,0x1                                                                                    
006e0a   e21a     BC        0x6e40                                                                                          
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               // Set memory type to RAM                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e0c   0105     MOVLB     0x5                                inPipes[0].info.bits.ctrl_trf_mem = USB_EP0_RAM;             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e0e   81d3     BSF       0xd3,0x0,0x1                                                                                    
                                                               //Get a pointer to the String descriptor requested           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e10   0104     MOVLB     0x4                                inPipes[0].pSrc.bRam = *(USB_SD_Ptr+SetupPkt.bDscIndex);     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e12   5132     MOVF      0x32,0x0,0x1                                                                                    
006e14   6ee9     MOVWF     0xe9,0x0                                                                                        
006e16   6aea     CLRF      0xea,0x0                                                                                        
006e18   90d8     BCF       0xd8,0x0,0x0                                                                                    
006e1a   36e9     RLCF      0xe9,0x1,0x0                                                                                    
006e1c   36ea     RLCF      0xea,0x1,0x0                                                                                    
006e1e   0ef6     MOVLW     0xf6                                                                                            
006e20   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
006e22   0e02     MOVLW     0x2                                                                                             
006e24   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006e26   cfee     MOVFF     0xfee,0x5d1                                                                                     
006e28   f5d1                                                                                                               
006e2a   cfed     MOVFF     0xfed,0x5d2                                                                                     
006e2c   f5d2                                                                                                               
                                                               // Set data count                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e2e   c5d1     MOVFF     0x5d1,0xfe9                        inPipes[0].wCount.Val = *inPipes[0].pSrc.bRam;               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e30   ffe9                                                                                                               
006e32   c5d2     MOVFF     0x5d2,0xfea                                                                                     
006e34   ffea                                                                                                               
006e36   50ef     MOVF      0xef,0x0,0x0                                                                                    
006e38   0105     MOVLB     0x5                                                                                             
006e3a   6fd4     MOVWF     0xd4,0x1                                                                                        
006e3c   6bd5     CLRF      0xd5,0x1                                                                                        
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #if defined(IMPLEMENT_MICROSOFT_OS_DESCRIPTOR)                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           else if(SetupPkt.bDscIndex == MICROSOFT_OS_DESCRIPTOR_INDEX)     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //Get a pointer to the special MS OS string descriptor requested D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               inPipes[0].pSrc.bRom = (ROM BYTE*)&MSOSDescriptor;           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               // Set data count                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               inPipes[0].wCount.Val = *inPipes[0].pSrc.bRom;                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #endif                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e3e   0012     RETURN    0x0                            else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e40   0105     MOVLB     0x5                                inPipes[0].info.Val = 0;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e42   6bd3     CLRF      0xd3,0x1                                                                                        
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e44   0012     RETURN    0x0                            break;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       default:                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e46   0105     MOVLB     0x5                            inPipes[0].info.Val = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e48   6bd3     CLRF      0xd3,0x1                                                                                        
                                                           break;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }//end switch                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end if                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e4a   0012     RETURN    0x0            }//end USBStdGetDscHandler                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBStdGetStatusHandler(void)                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine handles the standard GET_STATUS request         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e4c   dab6     RCALL     0x73ba         static void USBStdGetStatusHandler(void)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e4e   0104     MOVLB     0x4                CtrlTrfData[0] = 0;                 // Initialize content                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e50   6b38     CLRF      0x38,0x1                                                                                        
006e52   6b39     CLRF      0x39,0x1           CtrlTrfData[1] = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e54   5130     MOVF      0x30,0x0,0x1       switch(SetupPkt.Recipient)                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e56   0b1f     ANDLW     0x1f                                                                                            
006e58   0a02     XORLW     0x2                                                                                             
006e5a   e011     BZ        0x6e7e                                                                                          
006e5c   0a03     XORLW     0x3                                                                                             
006e5e   e00c     BZ        0x6e78                                                                                          
006e60   0a01     XORLW     0x1                                                                                             
006e62   e11e     BNZ       0x6ea0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_SETUP_RECIPIENT_DEVICE_BITFIELD:                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e64   0105     MOVLB     0x5                        inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e66   8fd3     BSF       0xd3,0x7,0x1                                                                                    
                                                       /*                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        * [0]: bit0: Self-Powered Status [0] Bus-Powered [1] Self-Powered   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        *      bit1: RemoteWakeup        [0] Disabled    [1] Enabled        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        */                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       if(self_power == 1) // self_power is defined in HardwareProfile.h    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e68   0104     MOVLB     0x4                            CtrlTrfData[0]|=0x01;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e6a   8138     BSF       0x38,0x0,0x1                                                                                    
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e6c   0105     MOVLB     0x5                        if(RemoteWakeup == TRUE)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e6e   05df     DECF      0xdf,0x0,0x1                                                                                    
006e70   e117     BNZ       0x6ea0                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e72   0104     MOVLB     0x4                            CtrlTrfData[0]|=0x02;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e74   8338     BSF       0x38,0x1,0x1                                                                                    
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e76   d014     BRA       0x6ea0                     break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_SETUP_RECIPIENT_INTERFACE_BITFIELD:                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e78   0105     MOVLB     0x5                        inPipes[0].info.bits.busy = 1;     // No data to update              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e7a   8fd3     BSF       0xd3,0x7,0x1                                                                                    
006e7c   d011     BRA       0x6ea0                     break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_SETUP_RECIPIENT_ENDPOINT_BITFIELD:                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e7e   0105     MOVLB     0x5                        inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e80   8fd3     BSF       0xd3,0x7,0x1                                                                                    
                                                       /*                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        * [0]: bit0: Halt Status [0] Not Halted [1] Halted                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        */                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           BDT_ENTRY *p;                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e82   0104     MOVLB     0x4                            if(SetupPkt.EPDir == 0u)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e84   bf34     BTFSC     0x34,0x7,0x1                                                                                    
006e86   d002     BRA       0x6e8c                                                                                          
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e88   dab6     RCALL     0x73f6                             p = (BDT_ENTRY*)pBDTEntryOut[SetupPkt.EPNum];                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e8a   d001     BRA       0x6e8e                         else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e8c   dab9     RCALL     0x7400                             p = (BDT_ENTRY*)pBDTEntryIn[SetupPkt.EPNum];                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e8e   da40     RCALL     0x7310                                                                                          
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e90   dabf     RCALL     0x7410                         if((p->STAT.UOWN == 1u) && (p->STAT.BSTALL == 1u))               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e92   e006     BZ        0x6ea0                                                                                          
006e94   d9e3     RCALL     0x725c                                                                                          
006e96   50ef     MOVF      0xef,0x0,0x0                                                                                    
006e98   0b04     ANDLW     0x4                                                                                             
006e9a   e002     BZ        0x6ea0                                                                                          
006e9c   0e01     MOVLW     0x1                                CtrlTrfData[0]=0x01;    // Set bit0                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e9e   6f38     MOVWF     0x38,0x1                                                                                        
                                                           break;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end switch                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ea0   0105     MOVLB     0x5                if(inPipes[0].info.bits.busy == 1u)                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ea2   afd3     BTFSS     0xd3,0x7,0x1                                                                                    
006ea4   d007     BRA       0x6eb4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ea6   0e38     MOVLW     0x38                   inPipes[0].pSrc.bRam = (BYTE*)&CtrlTrfData;            // Set Source     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ea8   6fd1     MOVWF     0xd1,0x1                                                                                        
006eaa   0e04     MOVLW     0x4                                                                                             
006eac   6fd2     MOVWF     0xd2,0x1                                                                                        
006eae   81d3     BSF       0xd3,0x0,0x1           inPipes[0].info.bits.ctrl_trf_mem = USB_EP0_RAM;               // Set memory type D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006eb0   0e02     MOVLW     0x2                    inPipes[0].wCount.v[0] = 2;                         // Set data count    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006eb2   6fd4     MOVWF     0xd4,0x1                                                                                        
                                               }//end if(...)                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006eb4   0e02     MOVLW     0x2            }//end USBStdGetStatusHandler                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006eb6   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
006eb8   e202     BC        0x6ebe                                                                                          
006eba   6ae1     CLRF      0xe1,0x0                                                                                        
006ebc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006ebe   6ee1     MOVWF     0xe1,0x0                                                                                        
006ec0   d1dc     BRA       0x727a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBStallHandler(void)                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This function handles the event of a STALL                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  occuring on the bus                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStallHandler(void)                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Does not really have to do anything here,                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * even for the control endpoint.                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * All BDs of Endpoint 0 are owned by SIE right now,                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * but once a Setup Transaction is received, the ownership                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * for EP0_OUT will be returned to CPU.                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * When the Setup Transaction is serviced, the ownership                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * for EP0_IN will then be forced back to CPU by firmware.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /* v2b fix */                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ec2   010f     MOVLB     0xf                if(U1EP0bits.EPSTALL == 1u)                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ec4   a126     BTFSS     0x26,0x0,0x1                                                                                    
006ec6   d00c     BRA       0x6ee0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   // UOWN - if 0, owned by CPU, if 1, owned by SIE                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ec8   d9e4     RCALL     0x7292                 if((pBDTEntryEP0OutCurrent->STAT.Val == _USIE) && (pBDTEntryIn[0]->STAT.Val == (_USIE|_BSTALL))) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006eca   50ef     MOVF      0xef,0x0,0x0                                                                                    
006ecc   0880     SUBLW     0x80                                                                                            
006ece   e107     BNZ       0x6ede                                                                                          
006ed0   d9ca     RCALL     0x7266                                                                                          
006ed2   50ef     MOVF      0xef,0x0,0x0                                                                                    
006ed4   0884     SUBLW     0x84                                                                                            
006ed6   e103     BNZ       0x6ede                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       // Set ep0Bo to stall also                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ed8   d9dc     RCALL     0x7292                     pBDTEntryEP0OutCurrent->STAT.Val = _USIE|_DAT0|(_DTSEN & _DTS_CHECKING_ENABLED)|_BSTALL; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006eda   0e8c     MOVLW     0x8c                                                                                            
006edc   6eef     MOVWF     0xef,0x0                                                                                        
                                                   }//end if                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ede   9126     BCF       0x26,0x0,0x1           U1EP0bits.EPSTALL = 0;               // Clear stall status               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end if                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ee0   9a62     BCF       0x62,0x5,0x0       USBClearInterruptFlag(USBStallIFReg,USBStallIFBitNum);                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ee2   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBSuspend(void)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This function handles if the host tries to                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  suspend the device                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBSuspend(void)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * NOTE: Do not clear UIRbits.ACTVIF here!                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Reason:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * ACTVIF is only generated once an IDLEIF has been generated.               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * This is a 1:1 ratio interrupt generation.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * For every IDLEIF, there will be only one ACTVIF regardless of             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * the number of subsequent bus transitions.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * If the ACTIF is cleared here, a problem could occur when:                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * [       IDLE       ][bus activity ->                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * <--- 3 ms ----->     ^                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                ^     ACTVIF=1                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                IDLEIF=1                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *  #           #           #           #   (#=Program polling flags)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          ^                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          This polling loop will see both                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          IDLEIF=1 and ACTVIF=1.                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          However, the program services IDLEIF first       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          because ACTIVIE=0.                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          If this routine clears the only ACTIVIF,         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          then it can never get out of the suspend         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          mode.                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ee4   010f     MOVLB     0xf                USBActivityIE = 1;                     // Enable bus activity interrupt      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ee6   8536     BSF       0x36,0x2,0x1                                                                                    
006ee8   9862     BCF       0x62,0x4,0x0       USBClearInterruptFlag(USBIdleIFReg,USBIdleIFBitNum);                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(__18CXX) || defined(_PIC14E)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006eea   8265     BSF       0x65,0x1,0x0           U1CONbits.SUSPND = 1;                   // Put USB module in power conserve D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                           // mode, SIE clock inactive      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006eec   0105     MOVLB     0x5                USBBusIsSuspended = TRUE;                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006eee   0e01     MOVLW     0x1                                                                                             
006ef0   6fe0     MOVWF     0xe0,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * At this point the PIC can go into sleep,idle, or                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * switch to a slower clock, etc.  This should be done in the                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * USBCBSuspend() if necessary.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ef2   da14     RCALL     0x731c             USB_SUSPEND_HANDLER(EVENT_SUSPEND,0,0);                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ef4   0e75     MOVLW     0x75                                                                                            
006ef6   ef2a     GOTO      0x7254                                                                                          
006ef8   f039                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBWakeFromSuspend(void)                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBWakeFromSuspend(void)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006efa   0105     MOVLB     0x5                USBBusIsSuspended = FALSE;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006efc   6be0     CLRF      0xe0,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * If using clock switching, the place to restore the original               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * microcontroller core clock frequency is in the USBCBWakeFromSuspend() callback D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006efe   da0e     RCALL     0x731c             USB_WAKEUP_FROM_SUSPEND_HANDLER(EVENT_RESUME,0,0);                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f00   0e74     MOVLW     0x74                                                                                            
006f02   d9a8     RCALL     0x7254                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(__18CXX) || defined(_PIC14E)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //To avoid improperly clocking the USB module, make sure the oscillator  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //settings are consistant with USB operation before clearing the SUSPND bit. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Make sure the correct oscillator settings are selected in the          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //"USB_WAKEUP_FROM_SUSPEND_HANDLER(EVENT_RESUME,0,0)" handler.           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f04   9265     BCF       0x65,0x1,0x0           U1CONbits.SUSPND = 0;   // Bring USB module out of power conserve        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                           // mode.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f06   010f     MOVLB     0xf                USBActivityIE = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f08   9536     BCF       0x36,0x2,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /********************************************************************        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Bug Fix: Feb 26, 2007 v2.1                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               *********************************************************************        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               The ACTVIF bit cannot be cleared immediately after the USB module wakes      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               up from Suspend or while the USB module is suspended. A few clock cycles     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               are required to synchronize the internal hardware state machine before       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the ACTIVIF bit can be cleared by firmware. Clearing the ACTVIF bit          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               before the internal hardware is synchronized may not have an effect on       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the value of ACTVIF. Additonally, if the USB module uses the clock from      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the 96 MHz PLL source, then after clearing the SUSPND bit, the USB           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               module may not be immediately operational while waiting for the 96 MHz       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               PLL to lock.                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               ********************************************************************/        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // UIRbits.ACTVIF = 0;                      // Removed                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(__18CXX)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f0a   a462     BTFSS     0x62,0x2,0x0       while(USBActivityIF)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f0c   d002     BRA       0x6f12                                                                                          
006f10   d7fc     BRA       0x6f0a                                                                                          
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f0e   9462     BCF       0x62,0x2,0x0           USBClearInterruptFlag(USBActivityIFReg,USBActivityIFBitNum);             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }  // Added                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f12   0012     RETURN    0x0            }//end USBWakeFromSuspend                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlEPService(void)                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    USTAT is loaded with a valid endpoint address.               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        USBCtrlEPService checks for three transaction                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  types that it knows how to service and services              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  them:                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  1. EP0 SETUP                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  2. EP0 OUT                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  3. EP0 IN                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  It ignores all other types (i.e. EP1, EP2, etc.)             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f14   da81     RCALL     0x7418         static void USBCtrlEPService(void)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If we get to here, that means a successful transaction has just occurred   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //on EP0.  This means "progress" has occurred in the currently pending       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //control transfer, so we should re-initialize our timeout counter.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(USB_ENABLE_STATUS_STAGE_TIMEOUTS)                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f16   0105     MOVLB     0x5                    USBStatusStageTimeoutCounter = USB_STATUS_STAGE_TIMEOUT;                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f18   0e2d     MOVLW     0x2d                                                                                            
006f1a   6fea     MOVWF     0xea,0x1                                                                                        
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//Check if the last transaction was on EP0 OUT endpoint (of any kind, to either the even or odd buffer if ping pong buffers used) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f1c   0efd     MOVLW     0xfd               if((USTATcopy.Val & USTAT_EP0_PP_MASK) == USTAT_EP0_OUT_EVEN)                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f1e   15e1     ANDWF     0xe1,0x0,0x1                                                                                    
006f20   e139     BNZ       0x6f94                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//Point to the EP0 OUT buffer of the buffer that arrived                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if defined (_PIC14E) || defined(__18CXX)                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f22   0e7e     MOVLW     0x7e                       pBDTEntryEP0OutCurrent = (volatile BDT_ENTRY*)&BDT[(USTATcopy.Val & USTAT_EP_MASK)>>1]; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f24   15e1     ANDWF     0xe1,0x0,0x1                                                                                    
006f26   40e8     RRNCF     0xe8,0x0,0x0                                                                                    
006f28   0b7f     ANDLW     0x7f                                                                                            
006f2a   0d04     MULLW     0x4                                                                                             
006f2c   cff3     MOVFF     0xff3,0x5bf                                                                                     
006f2e   f5bf                                                                                                               
006f30   cff4     MOVFF     0xff4,0x5c0                                                                                     
006f32   f5c0                                                                                                               
006f34   0e00     MOVLW     0x0                                                                                             
006f36   27bf     ADDWF     0xbf,0x1,0x1                                                                                    
006f38   0e04     MOVLW     0x4                                                                                             
006f3a   23c0     ADDWFC    0xc0,0x1,0x1                                                                                    
                                                   #elif defined(__C30__) || defined(__C32__) || defined __XC16__           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       pBDTEntryEP0OutCurrent = (volatile BDT_ENTRY*)&BDT[(USTATcopy.Val & USTAT_EP_MASK)>>2]; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #else                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #error "unimplemented"                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//Set the next out to the current out packet                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f3c   c5bf     MOVFF     0x5bf,0x5c1            pBDTEntryEP0OutNext = pBDTEntryEP0OutCurrent;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f3e   f5c1                                                                                                               
006f40   c5c0     MOVFF     0x5c0,0x5c2                                                                                     
006f42   f5c2                                                                                                               
                                           		//Toggle it to the next ping pong buffer (if applicable)                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f44   75c1     BTG       0xc1,0x2,0x1           ((BYTE_VAL*)&pBDTEntryEP0OutNext)->Val ^= USB_NEXT_EP0_OUT_PING_PONG;    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//If the current EP0 OUT buffer has a SETUP packet                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f46   d9a5     RCALL     0x7292                 if(pBDTEntryEP0OutCurrent->STAT.PID == PID_SETUP)                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f48   50ef     MOVF      0xef,0x0,0x0                                                                                    
006f4a   0b3c     ANDLW     0x3c                                                                                            
006f4c   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
006f4e   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
006f50   080d     SUBLW     0xd                                                                                             
006f52   e11e     BNZ       0x6f90                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       unsigned char setup_cnt;                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        //The SETUP transaction data may have gone into the the CtrlTrfData     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        //buffer, or elsewhere, depending upon how the BDT was prepared         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        //before the transaction.  Therefore, we should copy the data to the    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        //SetupPkt buffer so it can be processed correctly by USBCtrlTrfSetupHandler().		     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f54   6adf     CLRF      0xdf,0x0                   for(setup_cnt = 0; setup_cnt < 8u; setup_cnt++) //SETUP data packets always contain exactly 8 bytes. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f56   0e08     MOVLW     0x8                                                                                             
006f58   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
006f5a   e216     BC        0x6f88                                                                                          
006f84   2adf     INCF      0xdf,0x1,0x0                                                                                    
006f86   d7e7     BRA       0x6f56                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f5c   d99a     RCALL     0x7292                         *(BYTE*)((BYTE*)&SetupPkt + setup_cnt) = *(BYTE*)ConvertToVirtualAddress(pBDTEntryEP0OutCurrent->ADR); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f5e   0e02     MOVLW     0x2                                                                                             
006f60   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
006f62   0e00     MOVLW     0x0                                                                                             
006f64   d9c2     RCALL     0x72ea                                                                                          
006f66   50ef     MOVF      0xef,0x0,0x0                                                                                    
006f68   6ee6     MOVWF     0xe6,0x0                                                                                        
006f6a   50df     MOVF      0xdf,0x0,0x0                                                                                    
006f6c   6aea     CLRF      0xea,0x0                                                                                        
006f6e   0f30     ADDLW     0x30                                                                                            
006f70   6ee9     MOVWF     0xe9,0x0                                                                                        
006f72   0e04     MOVLW     0x4                                                                                             
006f74   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006f76   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006f78   50e7     MOVF      0xe7,0x0,0x0                                                                                    
006f7a   6eef     MOVWF     0xef,0x0                                                                                        
0072ea   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0072ec   50ee     MOVF      0xee,0x0,0x0                                                                                    
0072ee   cfef     MOVFF     0xfef,0xfea                                                                                     
0072f0   ffea                                                                                                               
0072f2   6ee9     MOVWF     0xe9,0x0                                                                                        
0072f4   0012     RETURN    0x0                                                                                             
006f7c   d98a     RCALL     0x7292                         pBDTEntryEP0OutCurrent->ADR++;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f7e   da78     RCALL     0x7470                                                                                          
006f80   2aee     INCF      0xee,0x1,0x0                                                                                    
006f82   22ef     ADDWFC    0xef,0x1,0x0                                                                                    
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f88   d984     RCALL     0x7292                     pBDTEntryEP0OutCurrent->ADR = ConvertToPhysicalAddress(&SetupPkt);   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f8a   da11     RCALL     0x73ae                                                                                          
007292   c5bf     MOVFF     0x5bf,0xfe9                                                                                     
007294   ffe9                                                                                                               
007296   c5c0     MOVFF     0x5c0,0xfea                                                                                     
007298   ffea                                                                                                               
00729a   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Handle the control transfer (parse the 8-byte SETUP command and figure out what to do) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f8c   d80a     RCALL     0x6fa2                     USBCtrlTrfSetupHandler();                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f8e   d007     BRA       0x6f9e                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Handle the DATA transfer                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f90   d823     RCALL     0x6fd8                     USBCtrlTrfOutHandler();                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f92   d005     BRA       0x6f9e             else if((USTATcopy.Val & USTAT_EP0_PP_MASK) == USTAT_EP0_IN)                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f94   0efd     MOVLW     0xfd                                                                                            
006f96   15e1     ANDWF     0xe1,0x0,0x1                                                                                    
006f98   0804     SUBLW     0x4                                                                                             
006f9a   e101     BNZ       0x6f9e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//Otherwise the transmission was and EP0 IN                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//  so take care of the IN transfer                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f9c   d82c     RCALL     0x6ff6                 USBCtrlTrfInHandler();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f9e   52e5     MOVF      0xe5,0x1,0x0   }//end USBCtrlEPService                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fa0   d16c     BRA       0x727a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlTrfSetupHandler(void)                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    SetupPkt buffer is loaded with valid USB Setup Data          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine is a task dispatcher and has 3 stages.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  1. It initializes the control transfer state machine.        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  2. It calls on each of the module that may know how to       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     service the Setup Request from the host.                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     Module Example: USBD, HID, CDC, MSD, ...                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     A callback function, USBCBCheckOtherReq(),                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     is required to call other module handlers.                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  3. Once each of the modules has had a chance to check if     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     it is responsible for servicing the request, stage 3      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     then checks direction of the transfer to determine how    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     to prepare EP0 for the control transfer.                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     Refer to USBCtrlEPServiceComplete() for more details.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            Microchip USB Firmware has three different states for        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  the control transfer state machine:                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  1. WAIT_SETUP                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  2. CTRL_TRF_TX (device sends data to host through IN transactions) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  3. CTRL_TRF_RX (device receives data from host through OUT transactions) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  Refer to firmware manual to find out how one state           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  is transitioned to another.                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  A Control Transfer is composed of many USB transactions.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  When transferring data over multiple transactions,           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  it is important to keep track of data source, data           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  destination, and data count. These three parameters are      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  stored in pSrc,pDst, and wCount. A flag is used to           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  note if the data source is from ROM or RAM.                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfSetupHandler(void)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //-------------------------------------------------------------------------- D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //1. Re-initialize state tracking variables related to control transfers.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //-------------------------------------------------------------------------- D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fa2   0105     MOVLB     0x5                shortPacketStatus = SHORT_PKT_NOT_USED;                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fa4   6bcf     CLRF      0xcf,0x1                                                                                        
006fa6   6beb     CLRF      0xeb,0x1           USBDeferStatusStagePacket = FALSE;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fa8   6bee     CLRF      0xee,0x1           USBDeferINDataStagePackets = FALSE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006faa   6bef     CLRF      0xef,0x1           USBDeferOUTDataStagePackets = FALSE;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fac   6be3     CLRF      0xe3,0x1           BothEP0OutUOWNsSet = FALSE;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fae   6bd0     CLRF      0xd0,0x1           controlTransferState = WAIT_SETUP;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Abandon any previous control transfers that might have been using EP0.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Ordinarily, nothing actually needs abandoning, since the previous control  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //transfer would have completed successfully prior to the host sending the next D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //SETUP packet.  However, in a timeout error case, or after an EP0 STALL event, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //one or more UOWN bits might still be set.  If so, we should clear the UOWN bits, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //so the EP0 IN/OUT endpoints are in a known inactive state, ready for re-arming D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //by the class request handler that will be called next.                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fb0   d95a     RCALL     0x7266             pBDTEntryIn[0]->STAT.Val &= ~(_USIE);                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fb2   9eef     BCF       0xef,0x7,0x0                                                                                    
006fb4   75c9     BTG       0xc9,0x2,0x1       ((BYTE_VAL*)&pBDTEntryIn[0])->Val ^= USB_NEXT_EP0_IN_PING_PONG;              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fb6   d957     RCALL     0x7266             pBDTEntryIn[0]->STAT.Val &= ~(_USIE);                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fb8   9eef     BCF       0xef,0x7,0x0                                                                                    
006fba   75c9     BTG       0xc9,0x2,0x1       ((BYTE_VAL*)&pBDTEntryIn[0])->Val ^= USB_NEXT_EP0_IN_PING_PONG;              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fbc   d9e7     RCALL     0x738c             pBDTEntryEP0OutNext->STAT.Val &= ~(_USIE);                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fbe   9eef     BCF       0xef,0x7,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fc0   6bd3     CLRF      0xd3,0x1           inPipes[0].info.Val = 0;                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fc2   6bd4     CLRF      0xd4,0x1           inPipes[0].wCount.Val = 0;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fc4   6bd5     CLRF      0xd5,0x1                                                                                        
006fc6   6bd8     CLRF      0xd8,0x1           outPipes[0].info.Val = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fc8   6bd9     CLRF      0xd9,0x1           outPipes[0].wCount.Val = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fca   6bda     CLRF      0xda,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //-------------------------------------------------------------------------- D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //2. Now find out what was in the SETUP packet, and begin handling the request. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //-------------------------------------------------------------------------- D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fcc   d851     RCALL     0x7070             USBCheckStdRequest();                                               //Check for standard USB "Chapter 9" requests. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fce   d9a6     RCALL     0x731c             USB_NONSTANDARD_EP0_REQUEST_HANDLER(EVENT_EP0_REQUEST,0,0); //Check for USB device class specific requests D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fd0   0e03     MOVLW     0x3                                                                                             
006fd2   d940     RCALL     0x7254                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //-------------------------------------------------------------------------- D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //3. Re-arm EP0 IN and EP0 OUT endpoints, based on the control transfer in   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   progress.  If one of the above handlers (in step 2) knew how to process D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   the request, it will have set one of the inPipes[0].info.bits.busy or   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   outPipes[0].info.bits.busy flags = 1.  This lets the                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   USBCtrlEPServiceComplete() function know how and which endpoints to     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   arm.  If both info.bits.busy flags are = 0, then no one knew how to     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   process the request.  In this case, the default behavior will be to     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   perform protocol STALL on EP0.                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //--------------------------------------------------------------------------  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fd4   efc6     GOTO      0x6b8c             USBCtrlEPServiceComplete();                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fd6   f035                                                                                                               
                                           }//end USBCtrlTrfSetupHandler                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlTrfOutHandler(void)                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine handles an OUT transaction according to         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  which control transfer state is currently active.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            Note that if the the control transfer was from               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  host to device, the session owner should be notified         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  at the end of each OUT transaction to service the            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  received data.                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfOutHandler(void)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fd8   0e02     MOVLW     0x2                if(controlTransferState == CTRL_TRF_RX)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fda   0105     MOVLB     0x5                                                                                             
006fdc   5dd0     SUBWF     0xd0,0x0,0x1                                                                                    
006fde   e102     BNZ       0x6fe4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fe0   ef33     GOTO      0x6c66                 USBCtrlTrfRxService();	//Copies the newly received data into the appropriate buffer and configures EP0 OUT for next transaction. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fe2   f036                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               else //In this case the last OUT transaction must have been a status stage of a CTRL_TRF_TX (<setup><in><in>...<OUT>  <-- this last OUT just occurred as the status stage) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //If the status stage is complete, this means we are done with the       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //control transfer.  Go back to the idle "WAIT_SETUP" state.             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fe4   6bd0     CLRF      0xd0,0x1               controlTransferState = WAIT_SETUP;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //Prepare EP0 OUT for the next SETUP transaction, however, it may have      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //already been prepared if ping-pong buffering was enabled on EP0 OUT,      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //and the last control transfer was of direction: device to host, see       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //USBCtrlEPServiceComplete().  If it was already prepared, do not want      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //to do anything to the BDT.                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fe6   51e3     MOVF      0xe3,0x0,0x1   		if(BothEP0OutUOWNsSet == FALSE)                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fe8   e104     BNZ       0x6ff2                                                                                          
                                           		{                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fea   d92b     RCALL     0x7242         	        pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007242   d910     RCALL     0x7464                                                                                          
00738c   c5c1     MOVFF     0x5c1,0xfe9                                                                                     
00738e   ffe9                                                                                                               
007390   c5c2     MOVFF     0x5c2,0xfea                                                                                     
007392   ffea                                                                                                               
007394   0012     RETURN    0x0                                                                                             
007244   d8b4     RCALL     0x73ae         	        pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0073ae   d860     RCALL     0x7470                                                                                          
0073b0   0e30     MOVLW     0x30                                                                                            
0073b2   6eee     MOVWF     0xee,0x0                                                                                        
0073b4   0e04     MOVLW     0x4                                                                                             
0073b6   6eed     MOVWF     0xed,0x0                                                                                        
0073b8   0012     RETURN    0x0                                                                                             
007470   0e02     MOVLW     0x2                                                                                             
007472   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007474   0e00     MOVLW     0x0                                                                                             
007476   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007478   0012     RETURN    0x0                                                                                             
006fec   0e8c     MOVLW     0x8c           	        pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT0|(_DTSEN & _DTS_CHECKING_ENABLED)|_BSTALL;			 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fee   6eef     MOVWF     0xef,0x0                                                                                        
007246   efc6     GOTO      0x738c                                                                                          
007248   f039                                                                                                               
                                           		}                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ff0   0012     RETURN    0x0            		else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		{                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ff2   6be3     CLRF      0xe3,0x1       			BothEP0OutUOWNsSet = FALSE;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		}                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ff4   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlTrfInHandler(void)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine handles an IN transaction according to          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  which control transfer state is currently active.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            A Set Address Request must not change the acutal address     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  of the device until the completion of the control            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  transfer. The end of the control transfer for Set Address    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  Request is an IN transaction. Therefore it is necessary      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  to service this unique situation when the condition is       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  right. Macro mUSBCheckAdrPendingState is defined in          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  usb9.h and its function is to specifically service this      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  event.                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ff6   da10     RCALL     0x7418         static void USBCtrlTrfInHandler(void)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007270   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
007272   ffe6                                                                                                               
007274   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
007276   ffd9                                                                                                               
007278   0012     RETURN    0x0                                                                                             
007418   df2b     RCALL     0x7270                                                                                          
00741a   52e6     MOVF      0xe6,0x1,0x0                                                                                    
00741c   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE lastDTS;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ff8   d936     RCALL     0x7266             lastDTS = pBDTEntryIn[0]->STAT.DTS;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ffa   50ef     MOVF      0xef,0x0,0x0                                                                                    
006ffc   0b40     ANDLW     0x40                                                                                            
006ffe   e001     BZ        0x7002                                                                                          
007000   0e01     MOVLW     0x1                                                                                             
007002   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //switch to the next ping pong buffer                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007004   0105     MOVLB     0x5                ((BYTE_VAL*)&pBDTEntryIn[0])->Val ^= USB_NEXT_EP0_IN_PING_PONG;              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007006   75c9     BTG       0xc9,0x2,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Must check if in ADR_PENDING_STATE.  If so, we need to update the address  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //now, since the IN status stage of the (set address) control transfer has   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //evidently completed successfully.                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007008   0e08     MOVLW     0x8                if(USBDeviceState == ADR_PENDING_STATE)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00700a   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
00700c   e10b     BNZ       0x7024                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00700e   c432     MOVFF     0x432,0xf38            U1ADDR = SetupPkt.bDevADR.Val;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007010   ff38                                                                                                               
007012   010f     MOVLB     0xf                    if(U1ADDR != 0u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007014   5138     MOVF      0x38,0x0,0x1                                                                                    
007016   e003     BZ        0x701e                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007018   0105     MOVLB     0x5                        USBDeviceState=ADDRESS_STATE;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00701a   0e10     MOVLW     0x10                                                                                            
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00701c   d002     BRA       0x7022                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00701e   0105     MOVLB     0x5                        USBDeviceState=DEFAULT_STATE;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007020   0e04     MOVLW     0x4                                                                                             
007022   6fbc     MOVWF     0xbc,0x1                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end if                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007024   05d0     DECF      0xd0,0x0,0x1       if(controlTransferState == CTRL_TRF_TX)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007026   e113     BNZ       0x704e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007028   d91e     RCALL     0x7266                 pBDTEntryIn[0]->ADR = ConvertToPhysicalAddress(CtrlTrfData);             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00702a   d938     RCALL     0x729c                                                                                          
00729c   d8e9     RCALL     0x7470                                                                                          
00729e   0e38     MOVLW     0x38                                                                                            
0072a0   6eee     MOVWF     0xee,0x0                                                                                        
0072a2   0e04     MOVLW     0x4                                                                                             
0072a4   6eed     MOVWF     0xed,0x0                                                                                        
0072a6   0012     RETURN    0x0                                                                                             
00702c   dddc     RCALL     0x6be6                 USBCtrlTrfTxService();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Check if we have already sent a short packet.  If so, configure        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //the endpoint to STALL in response to any further IN tokens (in the     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //case that the host erroneously tries to receive more data than it      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //should).                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00702e   0e02     MOVLW     0x2                    if(shortPacketStatus == SHORT_PKT_SENT)                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007030   0105     MOVLB     0x5                                                                                             
007032   5dcf     SUBWF     0xcf,0x0,0x1                                                                                    
007034   e103     BNZ       0x703c                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       // If a short packet has been sent, don't want to send any more,     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       // stall next time if host is still trying to read.                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007036   d917     RCALL     0x7266                     pBDTEntryIn[0]->STAT.Val = _USIE|_BSTALL;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007038   0e84     MOVLW     0x84                                                                                            
007266   c5c9     MOVFF     0x5c9,0xfe9                                                                                     
007268   ffe9                                                                                                               
00726a   c5ca     MOVFF     0x5ca,0xfea                                                                                     
00726c   ffea                                                                                                               
00726e   0012     RETURN    0x0                                                                                             
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00703a   d007     BRA       0x704a                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00703c   50df     MOVF      0xdf,0x0,0x0               if(lastDTS == 0u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00703e   e103     BNZ       0x7046                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007040   d912     RCALL     0x7266                         pBDTEntryIn[0]->STAT.Val = _USIE|_DAT1|(_DTSEN & _DTS_CHECKING_ENABLED); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007042   0ec8     MOVLW     0xc8                                                                                            
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007044   d002     BRA       0x704a                     else                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007046   d90f     RCALL     0x7266                         pBDTEntryIn[0]->STAT.Val = _USIE|_DAT0|(_DTSEN & _DTS_CHECKING_ENABLED); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007048   0e88     MOVLW     0x88                                                                                            
00704a   6eef     MOVWF     0xef,0x0                                                                                        
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }//end if(...)else                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00704c   d00f     BRA       0x706c         	else // must have been a CTRL_TRF_RX status stage IN packet (<setup><out><out>...<IN>  <-- this last IN just occurred as the status stage) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	{                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //if someone is still expecting data from the control transfer           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //  then make sure to terminate that request and let them know that      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //  they are done                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00704e   afd8     BTFSS     0xd8,0x7,0x1           if(outPipes[0].info.bits.busy == 1u)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007050   d00c     BRA       0x706a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007052   51db     MOVF      0xdb,0x0,0x1               if(outPipes[0].pFunc != NULL)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007054   11dc     IORWF     0xdc,0x0,0x1                                                                                    
007056   e007     BZ        0x7066                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007058   d005     BRA       0x7064                         outPipes[0].pFunc();                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00705a   c5dc     MOVFF     0x5dc,0xffa                                                                                     
00705c   fffa                                                                                                               
00705e   0105     MOVLB     0x5                                                                                             
007060   51db     MOVF      0xdb,0x0,0x1                                                                                    
007062   6ef9     MOVWF     0xf9,0x0                                                                                        
007064   dffa     RCALL     0x705a                                                                                          
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007066   0105     MOVLB     0x5                        outPipes[0].info.bits.busy = 0;                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007068   9fd8     BCF       0xd8,0x7,0x1                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               	                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00706a   6bd0     CLRF      0xd0,0x1               controlTransferState = WAIT_SETUP;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Don't need to arm EP0 OUT here.  It was already armed by the last <out> that D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //got processed by the USBCtrlTrfRxService() handler.                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	}	                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00706c   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00706e   d105     BRA       0x727a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCheckStdRequest(void)                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine checks the setup data packet to see             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  if it knows how to handle it                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCheckStdRequest(void)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007070   0104     MOVLB     0x4                if(SetupPkt.RequestType != USB_SETUP_TYPE_STANDARD_BITFIELD) return;         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007072   5130     MOVF      0x30,0x0,0x1                                                                                    
007074   0b60     ANDLW     0x60                                                                                            
007076   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
007078   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
00707a   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
00707c   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
00707e   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
007080   0900     IORLW     0x0                                                                                             
007082   e001     BZ        0x7086                                                                                          
007084   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007086   5131     MOVF      0x31,0x0,0x1       switch(SetupPkt.bRequest)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007088   0a0c     XORLW     0xc                                                                                             
00708a   e045     BZ        0x7116                                                                                          
00708c   0a0b     XORLW     0xb                                                                                             
00708e   e03f     BZ        0x710e                                                                                          
007090   0a0c     XORLW     0xc                                                                                             
007092   e031     BZ        0x70f6                                                                                          
007094   0a01     XORLW     0x1                                                                                             
007096   e022     BZ        0x70dc                                                                                          
007098   0a0b     XORLW     0xb                                                                                             
00709a   e01e     BZ        0x70d8                                                                                          
00709c   0a02     XORLW     0x2                                                                                             
00709e   e01c     BZ        0x70d8                                                                                          
0070a0   0a03     XORLW     0x3                                                                                             
0070a2   e018     BZ        0x70d4                                                                                          
0070a4   0a08     XORLW     0x8                                                                                             
0070a6   e010     BZ        0x70c8                                                                                          
0070a8   0a01     XORLW     0x1                                                                                             
0070aa   e00c     BZ        0x70c4                                                                                          
0070ac   0a0f     XORLW     0xf                                                                                             
0070ae   e008     BZ        0x70c0                                                                                          
0070b0   0a03     XORLW     0x3                                                                                             
0070b2   e001     BZ        0x70b6                                                                                          
0070b4   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_SET_ADDRESS:                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070b6   0105     MOVLB     0x5                        inPipes[0].info.bits.busy = 1;            // This will generate a zero length packet D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070b8   8fd3     BSF       0xd3,0x7,0x1                                                                                    
0070ba   0e08     MOVLW     0x8                        USBDeviceState = ADR_PENDING_STATE;       // Update state only       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070bc   6fbc     MOVWF     0xbc,0x1                                                                                        
                                                       /* See USBCtrlTrfInHandler() for the next step */                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070be   0012     RETURN    0x0                        break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_GET_DESCRIPTOR:                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070c0   efd3     GOTO      0x6da6                     USBStdGetDscHandler();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070c2   f036                                                                                                               
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_SET_CONFIGURATION:                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070c4   ef97     GOTO      0x6d2e                     USBStdSetCfgHandler();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070c6   f036                                                                                                               
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_GET_CONFIGURATION:                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070c8   0105     MOVLB     0x5                        inPipes[0].pSrc.bRam = (BYTE*)&USBActiveConfiguration;         // Set Source D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070ca   0ebd     MOVLW     0xbd                                                                                            
0070cc   6fd1     MOVWF     0xd1,0x1                                                                                        
0070ce   0e05     MOVLW     0x5                                                                                             
0070d0   6fd2     MOVWF     0xd2,0x1                                                                                        
                                                       inPipes[0].info.bits.ctrl_trf_mem = USB_EP0_RAM;               // Set memory type D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       inPipes[0].wCount.v[0] = 1;                         // Set data count D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070d2   d00c     BRA       0x70ec                     break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_GET_STATUS:                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070d4   ef26     GOTO      0x6e4c                     USBStdGetStatusHandler();                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070d6   f037                                                                                                               
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_CLEAR_FEATURE:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_SET_FEATURE:                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070d8   ef8c     GOTO      0x7118                     USBStdFeatureReqHandler();                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070da   f038                                                                                                               
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_GET_INTERFACE:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070dc   5134     MOVF      0x34,0x0,0x1               inPipes[0].pSrc.bRam = (BYTE*)&USBAlternateInterface[SetupPkt.bIntfID];  // Set source D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070de   0105     MOVLB     0x5                                                                                             
0070e0   6fd1     MOVWF     0xd1,0x1                                                                                        
0070e2   6bd2     CLRF      0xd2,0x1                                                                                        
0070e4   0ebe     MOVLW     0xbe                                                                                            
0070e6   27d1     ADDWF     0xd1,0x1,0x1                                                                                    
0070e8   0e05     MOVLW     0x5                                                                                             
0070ea   23d2     ADDWFC    0xd2,0x1,0x1                                                                                    
0070ec   81d3     BSF       0xd3,0x0,0x1               inPipes[0].info.bits.ctrl_trf_mem = USB_EP0_RAM;               // Set memory type D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070ee   0e01     MOVLW     0x1                        inPipes[0].wCount.v[0] = 1;                         // Set data count D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070f0   6fd4     MOVWF     0xd4,0x1                                                                                        
0070f2   8fd3     BSF       0xd3,0x7,0x1               inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070f4   0012     RETURN    0x0                        break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_SET_INTERFACE:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070f6   0105     MOVLB     0x5                        inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070f8   8fd3     BSF       0xd3,0x7,0x1                                                                                    
0070fa   0104     MOVLB     0x4                        USBAlternateInterface[SetupPkt.bIntfID] = SetupPkt.bAltID;           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070fc   5134     MOVF      0x34,0x0,0x1                                                                                    
0070fe   6aea     CLRF      0xea,0x0                                                                                        
007100   0fbe     ADDLW     0xbe                                                                                            
007102   6ee9     MOVWF     0xe9,0x0                                                                                        
007104   0e05     MOVLW     0x5                                                                                             
007106   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007108   c432     MOVFF     0x432,0xfef                                                                                     
00710a   ffef                                                                                                               
00710c   0012     RETURN    0x0                        break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_SET_DESCRIPTOR:                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00710e   d906     RCALL     0x731c                     USB_SET_DESCRIPTOR_HANDLER(EVENT_SET_DESCRIPTOR,0,0);                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007110   0e02     MOVLW     0x2                                                                                             
007112   ef2a     GOTO      0x7254                                                                                          
007114   f039                                                                                                               
00731c   0e00     MOVLW     0x0                                                                                             
00731e   6ee6     MOVWF     0xe6,0x0                                                                                        
007320   6ae6     CLRF      0xe6,0x0                                                                                        
007322   6ee6     MOVWF     0xe6,0x0                                                                                        
007324   6ae6     CLRF      0xe6,0x0                                                                                        
007326   0012     RETURN    0x0                                                                                             
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_SYNCH_FRAME:                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   default:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end switch                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007116   0012     RETURN    0x0            }//end USBCheckStdRequest                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBStdFeatureReqHandler(void)                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          Can alter BDT entries.  Can also modify USB stack            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  Maintained variables.                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine handles the standard SET & CLEAR                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  FEATURES requests                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            This is a private function, intended for internal            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  use by the USB stack, when processing SET/CLEAR              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  feature requests.                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007118   d8ab     RCALL     0x7270         static void USBStdFeatureReqHandler(void)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00711a   0e05     MOVLW     0x5                                                                                             
00711c   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BDT_ENTRY *p;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               EP_STATUS current_ep_data;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(__C32__)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   DWORD* pUEP;                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #else                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   unsigned char* pUEP;                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #ifdef	USB_SUPPORT_OTG                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Check for USB On-The-Go (OTG) specific requests                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if ((SetupPkt.bFeature == OTG_FEATURE_B_HNP_ENABLE)&&                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   (SetupPkt.Recipient == USB_SETUP_RECIPIENT_DEVICE_BITFIELD))             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   inPipes[0].info.bits.busy = 1;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGEnableHnp();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGDisableHnp();                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if ((SetupPkt.bFeature == OTG_FEATURE_A_HNP_SUPPORT)&&                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   (SetupPkt.Recipient == USB_SETUP_RECIPIENT_DEVICE_BITFIELD))             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   inPipes[0].info.bits.busy = 1;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGEnableSupportHnp();                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGDisableSupportHnp();                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if ((SetupPkt.bFeature == OTG_FEATURE_A_ALT_HNP_SUPPORT)&&                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   (SetupPkt.Recipient == USB_SETUP_RECIPIENT_DEVICE_BITFIELD))             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   inPipes[0].info.bits.busy = 1;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGEnableAltHnp();                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGDisableAltHnp();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif   //#ifdef USB_SUPPORT_OTG                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Check if the host sent a valid SET or CLEAR feature (remote wakeup) request. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00711e   0104     MOVLB     0x4                if((SetupPkt.bFeature == USB_FEATURE_DEVICE_REMOTE_WAKEUP)&&                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007120   0532     DECF      0x32,0x0,0x1                                                                                    
007122   e110     BNZ       0x7144                (SetupPkt.Recipient == USB_SETUP_RECIPIENT_DEVICE_BITFIELD))              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007124   5130     MOVF      0x30,0x0,0x1                                                                                    
007126   0b1f     ANDLW     0x1f                                                                                            
007128   0900     IORLW     0x0                                                                                             
00712a   e10c     BNZ       0x7144                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00712c   0105     MOVLB     0x5                    inPipes[0].info.bits.busy = 1;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00712e   8fd3     BSF       0xd3,0x7,0x1                                                                                    
007130   0e03     MOVLW     0x3                    if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007132   0104     MOVLB     0x4                                                                                             
007134   5d31     SUBWF     0x31,0x0,0x1                                                                                    
007136   e104     BNZ       0x7140                                                                                          
007138   0105     MOVLB     0x5                        RemoteWakeup = TRUE;                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00713a   0e01     MOVLW     0x1                                                                                             
00713c   6fdf     MOVWF     0xdf,0x1                                                                                        
00713e   d002     BRA       0x7144                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007140   0105     MOVLB     0x5                        RemoteWakeup = FALSE;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007142   6bdf     CLRF      0xdf,0x1                                                                                        
                                               }//end if                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Check if the host sent a valid SET or CLEAR endpoint halt request.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007144   0104     MOVLB     0x4                if((SetupPkt.bFeature == USB_FEATURE_ENDPOINT_HALT)&&                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007146   5132     MOVF      0x32,0x0,0x1                                                                                    
007148   e001     BZ        0x714c                (SetupPkt.Recipient == USB_SETUP_RECIPIENT_ENDPOINT_BITFIELD)&&           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00714a   d074     BRA       0x7234                                                                                          
00714c   5130     MOVF      0x30,0x0,0x1                                                                                    
00714e   0b1f     ANDLW     0x1f                                                                                            
007150   0802     SUBLW     0x2                                                                                             
007152   e170     BNZ       0x7234                                                                                          
007154   5134     MOVF      0x34,0x0,0x1          (SetupPkt.EPNum != 0u) && (SetupPkt.EPNum <= USB_MAX_EP_NUMBER)&&         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007156   0b0f     ANDLW     0xf                                                                                             
007158   0900     IORLW     0x0                                                                                             
00715a   e06c     BZ        0x7234                                                                                          
00715c   5134     MOVF      0x34,0x0,0x1                                                                                    
00715e   0b0f     ANDLW     0xf                                                                                             
007160   0802     SUBLW     0x2                                                                                             
007162   e368     BNC       0x7234                                                                                          
007164   0e20     MOVLW     0x20                  (USBDeviceState == CONFIGURED_STATE))                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007166   0105     MOVLB     0x5                                                                                             
007168   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
00716a   e164     BNZ       0x7234                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//The request was valid.  Take control of the control transfer and             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//perform the host requested action.                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00716c   8fd3     BSF       0xd3,0x7,0x1   		inPipes[0].info.bits.busy = 1;                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Fetch a pointer to the BDT that the host wants to SET/CLEAR halt on.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00716e   0104     MOVLB     0x4                    if(SetupPkt.EPDir == OUT_FROM_HOST)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007170   bf34     BTFSC     0x34,0x7,0x1                                                                                    
007172   d004     BRA       0x717c                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007174   d940     RCALL     0x73f6                     p = (BDT_ENTRY*)pBDTEntryOut[SetupPkt.EPNum];                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007176   d8cc     RCALL     0x7310                                                                                          
007178   d8d7     RCALL     0x7328                     current_ep_data.Val = ep_data_out[SetupPkt.EPNum].Val;               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00717a   d003     BRA       0x7182                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00717c   d941     RCALL     0x7400                     p = (BDT_ENTRY*)pBDTEntryIn[SetupPkt.EPNum];                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00717e   d8c8     RCALL     0x7310                                                                                          
007310   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007312   cfee     MOVFF     0xfee,0xfde                                                                                     
007314   ffde                                                                                                               
007316   cfed     MOVFF     0xfed,0xfdd                                                                                     
007318   ffdd                                                                                                               
00731a   0012     RETURN    0x0                                                                                             
007180   d8d7     RCALL     0x7330                     current_ep_data.Val = ep_data_in[SetupPkt.EPNum].Val;                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007182   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007184   0e02     MOVLW     0x2                                                                                             
007186   cfef     MOVFF     0xfef,0xfdb                                                                                     
007188   ffdb                                                                                                               
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //If ping pong buffering is enabled on the requested endpoint, need      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //to point to the one that is the active BDT entry which the SIE will    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //use for the next attempted transaction on that EP number.              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0) || (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00718a   d8f9     RCALL     0x737e                     if(current_ep_data.bits.ping_pong_state == 0u) //Check if even       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00718c   0b01     ANDLW     0x1                                                                                             
00718e   e103     BNZ       0x7196                                                                                          
00737e   50d9     MOVF      0xd9,0x0,0x0                                                                                    
007380   0f02     ADDLW     0x2                                                                                             
007382   6ee9     MOVWF     0xe9,0x0                                                                                        
007384   cfda     MOVFF     0xfda,0xfea                                                                                     
007386   ffea                                                                                                               
007388   50ef     MOVF      0xef,0x0,0x0                                                                                    
00738a   0012     RETURN    0x0                                                                                             
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007190   0e00     MOVLW     0x0                            USBHALPingPongSetToEven(&p);                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007192   94df     BCF       0xdf,0x2,0x0                                                                                    
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007194   d001     BRA       0x7198                     else //else must have been odd                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007196   84df     BSF       0xdf,0x2,0x0                   USBHALPingPongSetToOdd(&p);                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Update the BDT pointers with the new, next entry based on the feature  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //  request                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007198   bf34     BTFSC     0x34,0x7,0x1           if(SetupPkt.EPDir == OUT_FROM_HOST)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00719a   d002     BRA       0x71a0                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00719c   d92c     RCALL     0x73f6                     pBDTEntryOut[SetupPkt.EPNum] = (volatile BDT_ENTRY *)p;              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007282   5134     MOVF      0x34,0x0,0x1                                                                                    
007284   0b0f     ANDLW     0xf                                                                                             
007286   6ee9     MOVWF     0xe9,0x0                                                                                        
007288   6aea     CLRF      0xea,0x0                                                                                        
00728a   90d8     BCF       0xd8,0x0,0x0                                                                                    
00728c   36e9     RLCF      0xe9,0x1,0x0                                                                                    
00728e   36ea     RLCF      0xea,0x1,0x0                                                                                    
007290   0012     RETURN    0x0                                                                                             
0073f6   df45     RCALL     0x7282                                                                                          
0073f8   0ec3     MOVLW     0xc3                                                                                            
0073fa   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0073fc   0e05     MOVLW     0x5                                                                                             
0073fe   0012     RETURN    0x0                                                                                             
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00719e   d001     BRA       0x71a2                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071a0   d92f     RCALL     0x7400                     pBDTEntryIn[SetupPkt.EPNum] = (volatile BDT_ENTRY *)p;               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071a2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0071a4   cfde     MOVFF     0xfde,0xfee                                                                                     
0071a6   ffee                                                                                                               
0071a8   cfdd     MOVFF     0xfdd,0xfed                                                                                     
0071aa   ffed                                                                                                               
007400   df40     RCALL     0x7282                                                                                          
007402   0ec9     MOVLW     0xc9                                                                                            
007404   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007406   0e05     MOVLW     0x5                                                                                             
007408   0012     RETURN    0x0                                                                                             
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//Check if it was a SET_FEATURE endpoint halt request                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071ac   0e03     MOVLW     0x3                    if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071ae   5d31     SUBWF     0x31,0x0,0x1                                                                                    
0071b0   e10c     BNZ       0x71ca                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071b2   d92e     RCALL     0x7410                     if(p->STAT.UOWN == 1u)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071b4   e007     BZ        0x71c4                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Mark that we are terminating this transfer and that the user   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //  needs to be notified later                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071b6   bf34     BTFSC     0x34,0x7,0x1                   if(SetupPkt.EPDir == OUT_FROM_HOST)                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071b8   d002     BRA       0x71be                                                                                          
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071ba   d8b6     RCALL     0x7328                             ep_data_out[SetupPkt.EPNum].bits.transfer_terminated = 1;    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071bc   d001     BRA       0x71c0                         else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071be   d8b8     RCALL     0x7330                             ep_data_in[SetupPkt.EPNum].bits.transfer_terminated = 1;     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071c0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0071c2   82ef     BSF       0xef,0x1,0x0                                                                                    
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Then STALL the endpoint                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071c4   0e84     MOVLW     0x84                       p->STAT.Val |= _USIE|_BSTALL;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071c6   d959     RCALL     0x747a                                                                                          
                                                   }//if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071c8   d035     BRA       0x7234                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Else the request must have been a CLEAR_FEATURE endpoint halt.              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #if (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0) || (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //toggle over the to the non-active BDT                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071ca   74df     BTG       0xdf,0x2,0x0                   USBAdvancePingPongBuffer(&p);                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071cc   d921     RCALL     0x7410                         if(p->STAT.UOWN == 1u)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071ce   e006     BZ        0x71dc                                                                                          
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //Clear UOWN and set DTS state so it will be correct the next time D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //the application firmware uses USBTransferOnePacket() on the EP. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071d0   d845     RCALL     0x725c                             p->STAT.Val &= (~_USIE);    //Clear UOWN bit                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071d2   9eef     BCF       0xef,0x7,0x0                                                                                    
0071d4   d843     RCALL     0x725c                             p->STAT.Val |= _DAT1;       //Set DTS to DATA1               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071d6   8cef     BSF       0xef,0x6,0x0                                                                                    
0071d8   d8f4     RCALL     0x73c2                             USB_TRANSFER_TERMINATED_HANDLER(EVENT_TRANSFER_TERMINATED,p,sizeof(p)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0073c2   0e02     MOVLW     0x2                                                                                             
0073c4   6ee6     MOVWF     0xe6,0x0                                                                                        
0073c6   6ae6     CLRF      0xe6,0x0                                                                                        
0073c8   cfde     MOVFF     0xfde,0xfe6                                                                                     
0073ca   ffe6                                                                                                               
0073cc   cfdd     MOVFF     0xfdd,0xfe6                                                                                     
0073ce   ffe6                                                                                                               
0073d0   0e05     MOVLW     0x5                                                                                             
0073d2   ef2a     GOTO      0x7254                                                                                          
0073d4   f039                                                                                                               
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071da   d002     BRA       0x71e0                         else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //UOWN already clear, but still need to set DTS to DATA1      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071dc   d83f     RCALL     0x725c         					p->STAT.Val |= _DAT1;                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071de   8cef     BSF       0xef,0x6,0x0                                                                                    
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //toggle back to the active BDT (the one the SIE is currently looking at D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //and will use for the next successful transaction to take place on the EP D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071e0   74df     BTG       0xdf,0x2,0x0                   USBAdvancePingPongBuffer(&p);                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Check if we are currently terminating, or have previously terminated D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //a transaction on the given endpoint.  If so, need to clear UOWN, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //set DTS to the proper state, and call the application callback D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //function.                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071e2   d8cd     RCALL     0x737e                         if((current_ep_data.bits.transfer_terminated != 0u) || (p->STAT.UOWN == 1u)) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071e4   0b02     ANDLW     0x2                                                                                             
0071e6   e102     BNZ       0x71ec                                                                                          
0071e8   d913     RCALL     0x7410                                                                                          
0071ea   e00d     BZ        0x7206                                                                                          
007410   df25     RCALL     0x725c                                                                                          
007412   50ef     MOVF      0xef,0x0,0x0                                                                                    
007414   0b80     ANDLW     0x80                                                                                            
007416   0012     RETURN    0x0                                                                                             
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071ec   0104     MOVLB     0x4                                if(SetupPkt.EPDir == OUT_FROM_HOST)                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071ee   bf34     BTFSC     0x34,0x7,0x1                                                                                    
0071f0   d002     BRA       0x71f6                                                                                          
                                                               {                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071f2   d89a     RCALL     0x7328                                 ep_data_out[SetupPkt.EPNum].bits.transfer_terminated = 0; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007328   5134     MOVF      0x34,0x0,0x1                                                                                    
00732a   0b0f     ANDLW     0xf                                                                                             
00732c   ef24     GOTO      0x7448                                                                                          
00732e   f03a                                                                                                               
007448   6aea     CLRF      0xea,0x0                                                                                        
00744a   0fe7     ADDLW     0xe7                                                                                            
00744c   6ee9     MOVWF     0xe9,0x0                                                                                        
00744e   0e05     MOVLW     0x5                                                                                             
007450   0012     RETURN    0x0                                                                                             
                                                               }                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071f4   d001     BRA       0x71f8                             else                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               {                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071f6   d89c     RCALL     0x7330                                 ep_data_in[SetupPkt.EPNum].bits.transfer_terminated = 0; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071f8   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0071fa   92ef     BCF       0xef,0x1,0x0                                                                                    
007330   5134     MOVF      0x34,0x0,0x1                                                                                    
007332   0b0f     ANDLW     0xf                                                                                             
007334   ef29     GOTO      0x7452                                                                                          
007336   f03a                                                                                                               
007452   6aea     CLRF      0xea,0x0                                                                                        
007454   0fe4     ADDLW     0xe4                                                                                            
007456   6ee9     MOVWF     0xe9,0x0                                                                                        
007458   0e05     MOVLW     0x5                                                                                             
00745a   0012     RETURN    0x0                                                                                             
                                                               }                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //clear UOWN, clear DTS to DATA0, and finally remove the STALL condition      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071fc   0e3b     MOVLW     0x3b                               p->STAT.Val &= ~(_USIE | _DAT1 | _BSTALL);                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071fe   6e4e     MOVWF     0x4e,0x0                                                                                        
007200   d92d     RCALL     0x745c                                                                                          
                                                               //Call the application event handler callback function, so it can  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           					//decide if the endpoint should get re-armed again or not.                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007202   d8df     RCALL     0x73c2                             USB_TRANSFER_TERMINATED_HANDLER(EVENT_TRANSFER_TERMINATED,p,sizeof(p)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007254   6ee6     MOVWF     0xe6,0x0                                                                                        
007256   6ae6     CLRF      0xe6,0x0                                                                                        
007258   ef1d     GOTO      0x743a                                                                                          
00725a   f03a                                                                                                               
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007204   d002     BRA       0x720a                         else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //clear UOWN, clear DTS to DATA0, and finally remove the STALL condition      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007206   0e3b     MOVLW     0x3b                               p->STAT.Val &= ~(_USIE | _DAT1 | _BSTALL);                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007208   d929     RCALL     0x745c                                                                                          
00725c   cfde     MOVFF     0xfde,0xfe9                                                                                     
00725e   ffe9                                                                                                               
007260   cfdd     MOVFF     0xfdd,0xfea                                                                                     
007262   ffea                                                                                                               
007264   0012     RETURN    0x0                                                                                             
00745c   deff     RCALL     0x725c                                                                                          
00745e   50e8     MOVF      0xe8,0x0,0x0                                                                                    
007460   16ef     ANDWF     0xef,0x1,0x0                                                                                    
007462   0012     RETURN    0x0                                                                                             
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #else //else we must not be using ping-pong buffering on the requested endpoint D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Check if we need to call the user transfer terminated event callback function. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //We should call the callback, if the endpoint was previously terminated, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //or the endpoint is currently armed, and the host is performing clear D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //endpoint halt, even though the endpoint wasn't stalled.        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           if((current_ep_data.bits.transfer_terminated != 0) || (p->STAT.UOWN == 1)) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //We are going to call the user transfer terminated callback. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //Clear the flag so we know we took care of it and don't need D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //to call it again later.                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               if(SetupPkt.EPDir == OUT_FROM_HOST)                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               {                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                   ep_data_out[SetupPkt.EPNum].bits.transfer_terminated = 0; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               }                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               else                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               {                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                   ep_data_in[SetupPkt.EPNum].bits.transfer_terminated = 0; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               }                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //Clear UOWN and remove the STALL condition.                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //  In this case we also need to set the DTS bit to 1 so that D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //  it toggles to DATA0 the next time the application firmware D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //  calls USBTransferOnePacket() (or equivalent macro).      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               p->STAT.Val &= ~(_USIE | _BSTALL);                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               p->STAT.Val |= _DAT1;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //Let the application firmware know a transaction just       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //got terminated by the host, and that it is now free to     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //re-arm the endpoint or do other tasks if desired.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               USB_TRANSFER_TERMINATED_HANDLER(EVENT_TRANSFER_TERMINATED,p,sizeof(p)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //Clear UOWN and remove the STALL condition.                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //  In this case we also need to set the DTS bit to 1 so that D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //  it toggles to DATA0 the next time the application firmware D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //  calls USBTransferOnePacket() (or equivalent macro).      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               p->STAT.Val &= ~(_USIE | _BSTALL);                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               p->STAT.Val |= _DAT1;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #endif //end of #if (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0) || (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Get a pointer to the appropriate UEPn register                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #if defined(__C32__)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           pUEP = (DWORD*)(&U1EP0);                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           pUEP += (SetupPkt.EPNum*4);                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #else                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00720a   0104     MOVLB     0x4                            pUEP = (unsigned char*)(&U1EP0+SetupPkt.EPNum);                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00720c   5134     MOVF      0x34,0x0,0x1                                                                                    
00720e   0b0f     ANDLW     0xf                                                                                             
007210   6a4f     CLRF      0x4f,0x0                                                                                        
007212   0f26     ADDLW     0x26                                                                                            
007214   6e4e     MOVWF     0x4e,0x0                                                                                        
007216   0e0f     MOVLW     0xf                                                                                             
007218   224f     ADDWFC    0x4f,0x1,0x0                                                                                    
00721a   0e03     MOVLW     0x3                                                                                             
00721c   c04e     MOVFF     0x4e,0xfdb                                                                                      
00721e   ffdb                                                                                                               
007220   0e04     MOVLW     0x4                                                                                             
007222   c04f     MOVFF     0x4f,0xfdb                                                                                      
007224   ffdb                                                                                                               
                                                       #endif                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Clear the STALL bit in the UEP register                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007226   0e03     MOVLW     0x3                        *pUEP &= ~UEP_STALL;                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007228   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
00722a   ffe9                                                                                                               
00722c   0e04     MOVLW     0x4                                                                                             
00722e   cfdb     MOVFF     0xfdb,0xfea                                                                                     
007230   ffea                                                                                                               
007232   90ef     BCF       0xef,0x0,0x0                                                                                    
                                                   }//end if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end if (lots of checks for set/clear endpoint halt)                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007234   0e05     MOVLW     0x5            }//end USBStdFeatureReqHandler                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007236   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
007238   e202     BC        0x723e                                                                                          
00723a   6ae1     CLRF      0xe1,0x0                                                                                        
00723c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00723e   6ee1     MOVWF     0xe1,0x0                                                                                        
007240   d01c     BRA       0x727a                                                                                          
00727a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00727c   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00727e   ffd9                                                                                                               
007280   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** EOF USBDevice.c *****************************************************/       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************** D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             File Information:                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               FileName:       usb_function_cdc.c                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Dependencies:   See INCLUDES section                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Processor:      PIC18 or PIC24 USB Microcontrollers                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Hardware:       The code is natively intended to be used on the following    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               hardware platforms: PICDEM(TM) FS USB Demo Board,            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               PIC18F87J50 FS USB Plug-In Module, or                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               Explorer 16 + PIC24 USB PIM.  The firmware may be            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               modified for use on other USB platforms by editing the       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               HardwareProfile.h file.                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Complier:   Microchip C18 (for PIC18) or C30 (for PIC24)                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Company:        Microchip Technology, Inc.                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Software License Agreement:                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               The software supplied herewith by Microchip Technology Incorporated          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               (the "Company") for its PIC(R) Microcontroller is intended and               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               supplied to you, the Company's customer, for use solely and                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               exclusively on Microchip PIC Microcontroller products. The                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               software is owned by the Company and/or its supplier, and is                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               protected under applicable copyright laws. All rights are reserved.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Any use in violation of the foregoing restrictions may subject the           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               user to criminal sanctions under applicable laws, as well as to              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               civil liability for the breach of the terms and conditions of this           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               license.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               THIS SOFTWARE IS PROVIDED IN AN "AS IS" CONDITION. NO WARRANTIES,            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This file contains all of functions, macros, definitions, variables,         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               datatypes, etc. that are required for usage with the CDC function            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               driver. This file should be included in projects that use the CDC            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               \function driver.                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This file is located in the "\<Install Directory\>\\Microchip\\USB\\CDC      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Device Driver" directory.                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USB CDC Function Driver File                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This file contains all of functions, macros, definitions, variables,         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               datatypes, etc. that are required for usage with the CDC function            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               driver. This file should be included in projects that use the CDC            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               \function driver.                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This file is located in the "\<Install Directory\>\\Microchip\\USB\\CDC      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Device Driver" directory.                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               When including this file in a new project, this file can either be           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               referenced from the directory in which it was installed or copied            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               directly into the user application folder. If the first method is            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               chosen to keep the file located in the folder in which it is installed       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               then include paths need to be added so that the library and the              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               application both know where to reference each others files. If the           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               application folder is located in the same folder as the Microchip            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               folder (like the current demo folders), then the following include           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               paths need to be added to the application's project:                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               ..\\Include                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               .                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               If a different directory structure is used, modify the paths as              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               required. An example using absolute paths instead of relative paths          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               would be the following:                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               C:\\Microchip Solutions\\Microchip\\Include                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               C:\\Microchip Solutions\\My Demo Application                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             ********************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            Change History:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Rev    Description                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             ----   -----------                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             2.3    Decricated the mUSBUSARTIsTxTrfReady() macro.  It is                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    replaced by the USBUSARTIsTxTrfReady() function.                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             2.6    Minor definition changes                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             2.6a   No Changes                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             2.7    Fixed error in the part support list of the variables section           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    where the address of the CDC variables are defined.  The                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    PIC18F2553 was incorrectly named PIC18F2453 and the PIC18F4558          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    was incorrectly named PIC18F4458.                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    http://www.microchip.com/forums/fb.aspx?m=487397                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             2.8    Minor change to CDCInitEP() to enhance ruggedness in                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    multithreaded usage scenarios.                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             2.9b   Updated to implement optional support for DTS reporting.                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           ********************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** I N C L U D E S **********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #include "USB/usb.h"                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #include "USB/usb_function_cdc.h"                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #include "HardwareProfile.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #ifdef USB_USE_CDC                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** V A R I A B L E S ********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(__18CXX)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //The cdc_data_rx[] and cdc_data_tx[] arrays and associated variables are used  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //as USB packet buffers in this firmware.  Therefore, they must be located in D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //a USB module accessible portion of microcontroller RAM.                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #if defined(__18F14K50) || defined(__18F13K50) || defined(__18LF14K50) || defined(__18LF13K50)  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #pragma udata usbram2                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #elif defined(__18F2455) || defined(__18F2550) || defined(__18F4455) || defined(__18F4550)\ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   || defined(__18F2458) || defined(__18F2553) || defined(__18F4458) || defined(__18F4553)\ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   || defined(__18LF24K50) || defined(__18F24K50) || defined(__18LF25K50)\  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   || defined(__18F25K50) || defined(__18LF45K50) || defined(__18F45K50)    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #pragma udata USB_VARIABLES=0x500                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #elif defined(__18F4450) || defined(__18F2450)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #pragma udata USB_VARIABLES=0x480                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #else                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #pragma udata                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(__XC8)                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #if defined(_18F14K50) || defined(_18F13K50) || defined(_18LF14K50) || defined(_18LF13K50) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS 0x260                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS (IN_DATA_BUFFER_ADDRESS + CDC_DATA_IN_EP_SIZE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS (OUT_DATA_BUFFER_ADDRESS + CDC_DATA_OUT_EP_SIZE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS (LINE_CODING_ADDRESS + LINE_CODING_LENGTH)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS_TAG  @IN_DATA_BUFFER_ADDRESS              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS_TAG @OUT_DATA_BUFFER_ADDRESS             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS_TAG     @LINE_CODING_ADDRESS                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS_TAG          @NOTICE_ADDRESS                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #elif  defined(_18F2455)   || defined(_18F2550)   || defined(_18F4455)  || defined(_18F4550)\ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   || defined(_18F2458)   || defined(_18F2453)   || defined(_18F4558)  || defined(_18F4553)\ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   || defined(_18LF24K50) || defined(_18F24K50)  || defined(_18LF25K50)\    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   || defined(_18F25K50)  || defined(_18LF45K50) || defined(_18F45K50)      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS 0x500                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS (IN_DATA_BUFFER_ADDRESS + CDC_DATA_IN_EP_SIZE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS (OUT_DATA_BUFFER_ADDRESS + CDC_DATA_OUT_EP_SIZE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS (LINE_CODING_ADDRESS + LINE_CODING_LENGTH)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS_TAG  @IN_DATA_BUFFER_ADDRESS              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS_TAG @OUT_DATA_BUFFER_ADDRESS             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS_TAG     @LINE_CODING_ADDRESS                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS_TAG          @NOTICE_ADDRESS                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #elif defined(_18F4450) || defined(_18F2450)                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS 0x480                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS (IN_DATA_BUFFER_ADDRESS + CDC_DATA_IN_EP_SIZE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS (OUT_DATA_BUFFER_ADDRESS + CDC_DATA_OUT_EP_SIZE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS (LINE_CODING_ADDRESS + LINE_CODING_LENGTH)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS_TAG  @IN_DATA_BUFFER_ADDRESS              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS_TAG @OUT_DATA_BUFFER_ADDRESS             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS_TAG     @LINE_CODING_ADDRESS                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS_TAG          @NOTICE_ADDRESS                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #elif defined(_16F1459) || defined(_16LF1459) || defined(_16F1454) || defined(_16LF1454) || defined(_16F1455) || defined(_16LF1455) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS 0x2140                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS 0x2190                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS 0x20A0                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS (LINE_CODING_ADDRESS + LINE_CODING_LENGTH)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS_TAG  @IN_DATA_BUFFER_ADDRESS              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS_TAG @OUT_DATA_BUFFER_ADDRESS             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS_TAG     @LINE_CODING_ADDRESS                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS_TAG          @NOTICE_ADDRESS                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #else                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS_TAG                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS_TAG                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS_TAG                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS_TAG                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #define IN_DATA_BUFFER_ADDRESS_TAG                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #define OUT_DATA_BUFFER_ADDRESS_TAG                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #define LINE_CODING_ADDRESS_TAG                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #define NOTICE_ADDRESS_TAG                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           volatile FAR unsigned char cdc_data_tx[CDC_DATA_IN_EP_SIZE] IN_DATA_BUFFER_ADDRESS_TAG; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           volatile FAR unsigned char cdc_data_rx[CDC_DATA_OUT_EP_SIZE] OUT_DATA_BUFFER_ADDRESS_TAG; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           LINE_CODING line_coding LINE_CODING_ADDRESS_TAG;    // Buffer to store line coding information D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           volatile FAR CDC_NOTICE cdc_notice NOTICE_ADDRESS_TAG;                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(USB_CDC_SUPPORT_DSR_REPORTING)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               SERIAL_STATE_NOTIFICATION SerialStatePacket;                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(__18CXX)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #pragma udata                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           BYTE cdc_rx_len;            // total rx length                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           BYTE cdc_trf_state;         // States are defined cdc.h                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           POINTER pCDCSrc;            // Dedicated source pointer                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           POINTER pCDCDst;            // Dedicated destination pointer                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           BYTE cdc_tx_len;            // total tx length                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           BYTE cdc_mem_type;          // _ROM, _RAM                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           USB_HANDLE CDCDataOutHandle;                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           USB_HANDLE CDCDataInHandle;                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           CONTROL_SIGNAL_BITMAP control_signal_bitmap;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           DWORD BaudRateGen;			// BRG value calculated from baudrate                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(USB_CDC_SUPPORT_DSR_REPORTING)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BM_SERIAL_STATE SerialStateBitmap;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BM_SERIAL_STATE OldSerialStateBitmap;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USB_HANDLE CDCNotificationInHandle;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             SEND_ENCAPSULATED_COMMAND and GET_ENCAPSULATED_RESPONSE are required           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             requests according to the CDC specification.                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             However, it is not really being used here, therefore a dummy buffer is         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             used for conformance.                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            **************************************************************************/     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #define dummy_length    0x08                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           BYTE_VAL dummy_encapsulated_cmd_response[dummy_length];                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(USB_CDC_SET_LINE_CODING_HANDLER)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           CTRL_TRF_RETURN USB_CDC_SET_LINE_CODING_HANDLER(CTRL_TRF_PARAMS);                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           void USBCDCSetLineCoding(void);                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** D E C L A R A T I O N S **************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           //#pragma code                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** C L A S S  S P E C I F I C  R E Q ****************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            	Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		void USBCheckCDCRequest(void)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            	Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		This routine checks the most recently received SETUP data packet to           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		see if the request is specific to the CDC class.  If the request was          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		a CDC specific request, this function will take care of handling the          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		request and responding appropriately.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            	PreCondition:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		This function should only be called after a control transfer SETUP            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		packet has arrived from the host.                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           	Parameters:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		None                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           	Return Values:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		None                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           	Remarks:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		This function does not change status or do anything if the SETUP packet        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		did not contain a CDC class specific request.		                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             *****************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           void USBCheckCDCRequest(void)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * If request recipient is not an interface then return                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ce0   0104     MOVLB     0x4                if(SetupPkt.Recipient != USB_SETUP_RECIPIENT_INTERFACE_BITFIELD) return;     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ce2   5130     MOVF      0x30,0x0,0x1                                                                                    
007ce4   0b1f     ANDLW     0x1f                                                                                            
007ce6   0801     SUBLW     0x1                                                                                             
007ce8   e001     BZ        0x7cec                                                                                          
007cea   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * If request type is not class-specific then return                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007cec   5130     MOVF      0x30,0x0,0x1       if(SetupPkt.RequestType != USB_SETUP_TYPE_CLASS_BITFIELD) return;            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007cee   0b60     ANDLW     0x60                                                                                            
007cf0   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
007cf2   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
007cf4   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
007cf6   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
007cf8   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
007cfa   0801     SUBLW     0x1                                                                                             
007cfc   e001     BZ        0x7d00                                                                                          
007cfe   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Interface ID must match interface numbers associated with                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * CDC class, else return                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d00   5134     MOVF      0x34,0x0,0x1       if((SetupPkt.bIntfID != CDC_COMM_INTF_ID)&&                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d02   e003     BZ        0x7d0a                (SetupPkt.bIntfID != CDC_DATA_INTF_ID)) return;                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d04   0534     DECF      0x34,0x0,0x1                                                                                    
007d06   e001     BZ        0x7d0a                                                                                          
007d08   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d0a   5131     MOVF      0x31,0x0,0x1       switch(SetupPkt.bRequest)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d0c   0a22     XORLW     0x22                                                                                            
007d0e   e031     BZ        0x7d72                                                                                          
007d10   0a03     XORLW     0x3                                                                                             
007d12   e024     BZ        0x7d5c                                                                                          
007d14   0a01     XORLW     0x1                                                                                             
007d16   e015     BZ        0x7d42                                                                                          
007d18   0a21     XORLW     0x21                                                                                            
007d1a   e00d     BZ        0x7d36                                                                                          
007d1c   0a01     XORLW     0x1                                                                                             
007d1e   e001     BZ        0x7d22                                                                                          
007d20   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //****** These commands are required ******//                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case SEND_ENCAPSULATED_COMMAND:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    //send the packet                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d22   0105     MOVLB     0x5                        inPipes[0].pSrc.bRam = (BYTE*)&dummy_encapsulated_cmd_response;      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d24   0eb4     MOVLW     0xb4                                                                                            
007d26   6fd1     MOVWF     0xd1,0x1                                                                                        
007d28   0e05     MOVLW     0x5                                                                                             
007d2a   6fd2     MOVWF     0xd2,0x1                                                                                        
007d2c   0e08     MOVLW     0x8                        inPipes[0].wCount.Val = dummy_length;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d2e   6fd4     MOVWF     0xd4,0x1                                                                                        
007d30   6bd5     CLRF      0xd5,0x1                                                                                        
007d32   81d3     BSF       0xd3,0x0,0x1               inPipes[0].info.bits.ctrl_trf_mem = USB_EP0_RAM;                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d34   d021     BRA       0x7d78                     break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case GET_ENCAPSULATED_RESPONSE:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       // Populate dummy_encapsulated_cmd_response first.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d36   0105     MOVLB     0x5                        inPipes[0].pSrc.bRam = (BYTE*)&dummy_encapsulated_cmd_response;      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d38   0eb4     MOVLW     0xb4                                                                                            
007d3a   6fd1     MOVWF     0xd1,0x1                                                                                        
007d3c   0e05     MOVLW     0x5                                                                                             
007d3e   6fd2     MOVWF     0xd2,0x1                                                                                        
                                                       inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d40   d01b     BRA       0x7d78                     break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //****** End of required commands ******//                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #if defined(USB_CDC_SUPPORT_ABSTRACT_CONTROL_MANAGEMENT_CAPABILITIES_D1) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case SET_LINE_CODING:                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d42   c436     MOVFF     0x436,0x5d9                outPipes[0].wCount.Val = SetupPkt.wLength;                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d44   f5d9                                                                                                               
007d46   c437     MOVFF     0x437,0x5da                                                                                     
007d48   f5da                                                                                                               
007d4a   0105     MOVLB     0x5                        outPipes[0].pDst.bRam = (BYTE*)LINE_CODING_TARGET;                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d4c   0e94     MOVLW     0x94                                                                                            
007d4e   6fd6     MOVWF     0xd6,0x1                                                                                        
007d50   0e05     MOVLW     0x5                                                                                             
007d52   6fd7     MOVWF     0xd7,0x1                                                                                        
007d54   6bdb     CLRF      0xdb,0x1                   outPipes[0].pFunc = LINE_CODING_PFUNC;                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d56   6bdc     CLRF      0xdc,0x1                                                                                        
007d58   8fd8     BSF       0xd8,0x7,0x1               outPipes[0].info.bits.busy = 1;                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d5a   0012     RETURN    0x0                        break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case GET_LINE_CODING:                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d5c   0105     MOVLB     0x5                        USBEP0SendRAMPtr(                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d5e   0e94     MOVLW     0x94                                                                                            
007d60   6fd1     MOVWF     0xd1,0x1                                                                                        
007d62   0e05     MOVLW     0x5                                                                                             
007d64   6fd2     MOVWF     0xd2,0x1                                                                                        
007d66   0e07     MOVLW     0x7                                                                                             
007d68   6fd4     MOVWF     0xd4,0x1                                                                                        
007d6a   6bd5     CLRF      0xd5,0x1                                                                                        
007d6c   0ec1     MOVLW     0xc1                                                                                            
007d6e   6fd3     MOVWF     0xd3,0x1                                                                                        
007d70   0012     RETURN    0x0                            (BYTE*)&line_coding,                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           LINE_CODING_LENGTH,                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           USB_EP0_INCLUDE_ZERO);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d72   c432     MOVFF     0x432,0x5af                break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d74   f5af                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case SET_CONTROL_LINE_STATE:                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       control_signal_bitmap._byte = (BYTE)SetupPkt.W_Value.v[0];           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //------------------------------------------------------------------             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //One way to control the RTS pin is to allow the USB host to decide the value D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //that should be output on the RTS pin.  Although RTS and CTS pin functions D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //are technically intended for UART hardware based flow control, some legacy D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //UART devices use the RTS pin like a "general purpose" output pin   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //from the PC host.  In this usage model, the RTS pin is not related D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //to flow control for RX/TX.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //In this scenario, the USB host would want to be able to control the RTS D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //pin, and the below line of code should be uncommented.             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //However, if the intention is to implement true RTS/CTS flow control D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //for the RX/TX pair, then this application firmware should override D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //the USB host's setting for RTS, and instead generate a real RTS signal, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //based on the amount of remaining buffer space available for the    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //actual hardware UART of this microcontroller.  In this case, the   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //below code should be left commented out, but instead RTS should be  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //controlled in the application firmware reponsible for operating the  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //hardware UART of this microcontroller.                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //---------                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //CONFIGURE_RTS(control_signal_bitmap.CARRIER_CONTROL);              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //------------------------------------------------------------------             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       #if defined(USB_CDC_SUPPORT_DTR_SIGNALING)                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           if(control_signal_bitmap.DTE_PRESENT == 1)                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               UART_DTR = USB_CDC_DTR_ACTIVE_LEVEL;                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               UART_DTR = (USB_CDC_DTR_ACTIVE_LEVEL ^ 1);                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       #endif                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d76   0105     MOVLB     0x5                        inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d78   8fd3     BSF       0xd3,0x7,0x1                                                                                    
007d7a   0012     RETURN    0x0                        break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #if defined(USB_CDC_SUPPORT_ABSTRACT_CONTROL_MANAGEMENT_CAPABILITIES_D2) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case SEND_BREAK:                        // Optional                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			if (SetupPkt.wValue == 0xFFFF)  //0xFFFF means send break indefinitely until a new SEND_BREAK command is received D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			{                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           				UART_Tx = 0;       // Prepare to drive TX low (for break signalling)         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           				UART_TRISTx = 0;   // Make sure TX pin configured as an output               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           				UART_ENABLE = 0;   // Turn off USART (to relinquish TX pin control)          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			}                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			else if (SetupPkt.wValue == 0x0000) //0x0000 means stop sending indefinite break  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			{                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               			UART_ENABLE = 1;   // turn on USART                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           				UART_TRISTx = 1;   // Make TX pin an input                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			}                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			else                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			{                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           //Send break signalling on the pin for (SetupPkt.wValue) milliseconds D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           UART_SEND_BREAK();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			}                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   default:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }//end switch(SetupPkt.bRequest)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           }//end USBCheckCDCRequest                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** U S E R  A P I ***********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   void CDCInitEP(void)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This function initializes the CDC function driver. This function should      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               be called after the SET_CONFIGURATION command (ex: within the context of     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the USBCBInitEP() function).                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This function initializes the CDC function driver. This function sets        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the default line coding (baud rate, bit parity, number of data bits,         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               and format). This function also enables the endpoints and prepares for       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the first transfer from the host.                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This function should be called after the SET_CONFIGURATION command.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This is most simply done by calling this function from the                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBCBInitEP() function.                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   void USBCBInitEP(void)                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       CDCInitEP();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             **************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           void CDCInitEP(void)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                              	//Abstract line coding information                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d7c   0105     MOVLB     0x5               	line_coding.dwDTERate.Val = 19200;      // baud rate                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d7e   6b94     CLRF      0x94,0x1                                                                                        
007d80   0e4b     MOVLW     0x4b                                                                                            
007d82   6f95     MOVWF     0x95,0x1                                                                                        
007d84   6b96     CLRF      0x96,0x1                                                                                        
007d86   6b97     CLRF      0x97,0x1                                                                                        
007d88   6b98     CLRF      0x98,0x1          	line_coding.bCharFormat = 0x00;             // 1 stop bit                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d8a   6b99     CLRF      0x99,0x1          	line_coding.bParityType = 0x00;             // None                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d8c   0e08     MOVLW     0x8               	line_coding.bDataBits = 0x08;               // 5,6,7,8, or 16                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d8e   6f9a     MOVWF     0x9a,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d90   6ba3     CLRF      0xa3,0x1           cdc_rx_len = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Do not have to init Cnt of IN pipes here.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Reason:  Number of BYTEs to send to the host                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          varies from one transaction to                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          another. Cnt should equal the exact                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          number of BYTEs to transmit for                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          a given IN transaction.                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          This number of BYTEs will only                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          be known right before the data is                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          sent.                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d92   0e1a     MOVLW     0x1a               USBEnableEndpoint(CDC_COMM_EP,USB_IN_ENABLED|USB_HANDSHAKE_ENABLED|USB_DISALLOW_SETUP); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007d94   6ee6     MOVWF     0xe6,0x0                                                                                        
007d96   0e01     MOVLW     0x1                                                                                             
007d98   6ee6     MOVWF     0xe6,0x0                                                                                        
007d9a   ecb5     CALL      0x696a,0x0                                                                                      
007d9c   f034                                                                                                               
007d9e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007da0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007da2   0e1e     MOVLW     0x1e               USBEnableEndpoint(CDC_DATA_EP,USB_IN_ENABLED|USB_OUT_ENABLED|USB_HANDSHAKE_ENABLED|USB_DISALLOW_SETUP); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007da4   6ee6     MOVWF     0xe6,0x0                                                                                        
007da6   0e02     MOVLW     0x2                                                                                             
007da8   6ee6     MOVWF     0xe6,0x0                                                                                        
007daa   ecb5     CALL      0x696a,0x0                                                                                      
007dac   f034                                                                                                               
007dae   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007db0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007db2   d91c     RCALL     0x7fec             CDCDataOutHandle = USBRxOnePacket(CDC_DATA_EP,(BYTE*)&cdc_data_rx,sizeof(cdc_data_rx)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007db4   0105     MOVLB     0x5                CDCDataInHandle = NULL;                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007db6   6bad     CLRF      0xad,0x1                                                                                        
007db8   6bae     CLRF      0xae,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #if defined(USB_CDC_SUPPORT_DSR_REPORTING)                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                 	CDCNotificationInHandle = NULL;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   mInitDTSPin();  //Configure DTS as a digital input                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                 	SerialStateBitmap.byte = 0x00;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                 	OldSerialStateBitmap.byte = !SerialStateBitmap.byte;    //To force firmware to send an initial serial state packet to the host. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //Prepare a SerialState notification element packet (contains info like DSR state) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.bmRequestType = 0xA1; //Always 0xA1 for this type of packet. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.bNotification = SERIAL_STATE;                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.wValue = 0x0000;  //Always 0x0000 for this type of packet D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.wIndex = CDC_COMM_INTF_ID;  //Interface number         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.SerialState.byte = 0x00;                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.Reserved = 0x00;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.wLength = 0x02;   //Always 2 bytes for this type of packet     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   CDCNotificationHandler();                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	#endif                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	#if defined(USB_CDC_SUPPORT_DTR_SIGNALING)                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	    mInitDTRPin();                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	#endif                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	#if defined(USB_CDC_SUPPORT_HARDWARE_FLOW_CONTROL)                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	    mInitRTSPin();                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	    mInitCTSPin();                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	#endif                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007dba   6ba4     CLRF      0xa4,0x1           cdc_trf_state = CDC_TX_READY;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007dbc   0012     RETURN    0x0            }//end CDCInitEP                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function: void CDCNotificationHandler(void)                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary: Checks for changes in DSR status and reports them to the USB host.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description: Checks for changes in DSR pin state and reports any changes       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                          to the USB host.                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions: CDCInitEP() must have been called previously, prior to calling     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                         CDCNotificationHandler() for the first time.                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This function is only implemented and needed when the                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USB_CDC_SUPPORT_DSR_REPORTING option has been enabled.  If the function is   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               enabled, it should be called periodically to sample the DSR pin and feed     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the information to the USB host.  This can be done by calling                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CDCNotificationHandler() by itself, or, by calling CDCTxService() which      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               also calls CDCNotificationHandler() internally, when appropriate.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             **************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(USB_CDC_SUPPORT_DSR_REPORTING)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           void CDCNotificationHandler(void)                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //Check the DTS I/O pin and if a state change is detected, notify the        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //USB host by sending a serial state notification element packet.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               if(UART_DTS == USB_CDC_DSR_ACTIVE_LEVEL) //UART_DTS must be defined to be an I/O pin in the hardware profile to use the DTS feature (ex: "PORTXbits.RXY") D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStateBitmap.bits.DSR = 1;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStateBitmap.bits.DSR = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //If the state has changed, and the endpoint is available, send a packet to  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //notify the hUSB host of the change.                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               if((SerialStateBitmap.byte != OldSerialStateBitmap.byte) && (!USBHandleBusy(CDCNotificationInHandle))) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //Copy the updated value into the USB packet buffer to send.             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.SerialState.byte = SerialStateBitmap.byte;             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //We don't need to write to the other bytes in the SerialStatePacket USB D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //buffer, since they don't change and will always be the same as our     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //initialized value.                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //Send the packet over USB to the host.                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   CDCNotificationInHandle = USBTransferOnePacket(CDC_COMM_EP, IN_TO_HOST, (BYTE*)&SerialStatePacket, sizeof(SERIAL_STATE_NOTIFICATION)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //Save the old value, so we can detect changes later.                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   OldSerialStateBitmap.byte = SerialStateBitmap.byte;                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           }//void CDCNotificationHandler(void)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #define CDCNotificationHandler() {}                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /********************************************************************************** D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BOOL USBCDCEventHandler(USB_EVENT event, void *pdata, WORD size)             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Handles events from the USB stack, which may have an effect on the CDC       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               endpoint(s).                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Handles events from the USB stack.  This function should be called when      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               there is a USB event that needs to be processed by the CDC driver.           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Value of input argument 'len' should be smaller than the maximum             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               endpoint size responsible for receiving bulk data from USB host for CDC      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               class. Input argument 'buffer' should point to a buffer area that is         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               bigger or equal to the size specified by 'len'.                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               event - the type of event that occured                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               pdata - pointer to the data that caused the event                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               size - the size of the data that is pointed to by pdata                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             **********************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007dbe   d941     RCALL     0x8042         BOOL USBCDCEventHandler(USB_EVENT event, void *pdata, WORD size)                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007dc0   d965     RCALL     0x808c             switch( (INT)event )                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007dc2   0e05     MOVLW     0x5                                                                                             
007dc4   1842     XORWF     0x42,0x0,0x0                                                                                    
007dc6   e101     BNZ       0x7dca                                                                                          
007dc8   5043     MOVF      0x43,0x0,0x0                                                                                    
007dca   e002     BZ        0x7dd0                                                                                          
00808c   0efd     MOVLW     0xfd                                                                                            
00808e   cfdb     MOVFF     0xfdb,0x42                                                                                      
008090   f042                                                                                                               
008092   0efe     MOVLW     0xfe                                                                                            
008094   cfdb     MOVFF     0xfdb,0x43                                                                                      
008096   f043                                                                                                               
008098   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case EVENT_TRANSFER_TERMINATED:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007dd0   d948     RCALL     0x8062                     if(pdata == CDCDataOutHandle)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007dd2   0105     MOVLB     0x5                                                                                             
007dd4   51ab     MOVF      0xab,0x0,0x1                                                                                    
007dd6   184e     XORWF     0x4e,0x0,0x0                                                                                    
007dd8   e104     BNZ       0x7de2                                                                                          
007dda   51ac     MOVF      0xac,0x0,0x1                                                                                    
007ddc   184f     XORWF     0x4f,0x0,0x0                                                                                    
007dde   e101     BNZ       0x7de2                                                                                          
008062   0efb     MOVLW     0xfb                                                                                            
008064   cfdb     MOVFF     0xfdb,0x4e                                                                                      
008066   f04e                                                                                                               
008068   0efc     MOVLW     0xfc                                                                                            
00806a   cfdb     MOVFF     0xfdb,0x4f                                                                                      
00806c   f04f                                                                                                               
00806e   0012     RETURN    0x0                                                                                             
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007de0   d905     RCALL     0x7fec                         CDCDataOutHandle = USBRxOnePacket(CDC_DATA_EP,(BYTE*)&cdc_data_rx,sizeof(cdc_data_rx));   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007de2   d93f     RCALL     0x8062                     if(pdata == CDCDataInHandle)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007de4   0105     MOVLB     0x5                                                                                             
007de6   51ad     MOVF      0xad,0x0,0x1                                                                                    
007de8   184e     XORWF     0x4e,0x0,0x0                                                                                    
007dea   e105     BNZ       0x7df6                                                                                          
007dec   51ae     MOVF      0xae,0x0,0x1                                                                                    
007dee   184f     XORWF     0x4f,0x0,0x0                                                                                    
007df0   e102     BNZ       0x7df6                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           //flush all of the data in the CDC buffer                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007df2   6ba4     CLRF      0xa4,0x1                       cdc_trf_state = CDC_TX_READY;                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007df4   6ba9     CLRF      0xa9,0x1                       cdc_tx_len = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   default:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007dcc   0e00     MOVLW     0x0                        return FALSE;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007dce   d014     BRA       0x7df8                                                                                          
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007df6   0e01     MOVLW     0x1                return TRUE;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007df8   d129     BRA       0x804c         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /********************************************************************************** D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   BYTE getsUSBUSART(char *buffer, BYTE len)                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               getsUSBUSART copies a string of BYTEs received through USB CDC Bulk OUT      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               endpoint to a user's specified location. It is a non-blocking function.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               It does not wait for data if there is no data available. Instead it          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               returns '0' to notify the caller that there is no data available.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               getsUSBUSART copies a string of BYTEs received through USB CDC Bulk OUT      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               endpoint to a user's specified location. It is a non-blocking function.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               It does not wait for data if there is no data available. Instead it          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               returns '0' to notify the caller that there is no data available.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   BYTE numBytes;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   BYTE buffer[64]                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   numBytes = getsUSBUSART(buffer,sizeof(buffer)); //until the buffer is free. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   if(numBytes \> 0)                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //we received numBytes bytes of data and they are copied into        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //  the "buffer" variable.  We can do something with the data        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //  here.                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Value of input argument 'len' should be smaller than the maximum             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               endpoint size responsible for receiving bulk data from USB host for CDC      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               class. Input argument 'buffer' should point to a buffer area that is         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               bigger or equal to the size specified by 'len'.                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               buffer -  Pointer to where received BYTEs are to be stored                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               len -     The number of BYTEs expected.                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             **********************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007dfa   d923     RCALL     0x8042         BYTE getsUSBUSART(char *buffer, BYTE len)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007dfc   0105     MOVLB     0x5                cdc_rx_len = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007dfe   6ba3     CLRF      0xa3,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e00   51ab     MOVF      0xab,0x0,0x1       if(!USBHandleBusy(CDCDataOutHandle))                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e02   11ac     IORWF     0xac,0x0,0x1                                                                                    
007e04   e102     BNZ       0x7e0a                                                                                          
007e06   0e00     MOVLW     0x0                                                                                             
007e08   d005     BRA       0x7e14                                                                                          
007e0a   d932     RCALL     0x8070                                                                                          
007e0c   50ef     MOVF      0xef,0x0,0x0                                                                                    
007e0e   0b80     ANDLW     0x80                                                                                            
007e10   e001     BZ        0x7e14                                                                                          
007e12   0e01     MOVLW     0x1                                                                                             
007e14   0900     IORLW     0x0                                                                                             
007e16   e12d     BNZ       0x7e72                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * Adjust the expected number of BYTEs to equal                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * the actual number of BYTEs received.                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e18   0efc     MOVLW     0xfc                   if(len > USBHandleGetLength(CDCDataOutHandle))                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e1a   cfdb     MOVFF     0xfdb,0x4e                                                                                      
007e1c   f04e                                                                                                               
007e1e   d928     RCALL     0x8070                                                                                          
007e20   52ee     MOVF      0xee,0x1,0x0                                                                                    
007e22   50ef     MOVF      0xef,0x0,0x0                                                                                    
007e24   80d8     BSF       0xd8,0x0,0x0                                                                                    
007e26   544e     SUBFWB    0x4e,0x0,0x0                                                                                    
007e28   e205     BC        0x7e34                                                                                          
007e2a   d922     RCALL     0x8070                     len = USBHandleGetLength(CDCDataOutHandle);                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e2c   52ee     MOVF      0xee,0x1,0x0                                                                                    
007e2e   0efc     MOVLW     0xfc                                                                                            
007e30   cfef     MOVFF     0xfef,0xfdb                                                                                     
007e32   ffdb                                                                                                               
008070   c5ab     MOVFF     0x5ab,0xfe9                                                                                     
008072   ffe9                                                                                                               
008074   c5ac     MOVFF     0x5ac,0xfea                                                                                     
008076   ffea                                                                                                               
008078   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * Copy data from dual-ram buffer to user's buffer                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e34   6ba3     CLRF      0xa3,0x1               for(cdc_rx_len = 0; cdc_rx_len < len; cdc_rx_len++)                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e36   0efc     MOVLW     0xfc                                                                                            
007e38   50db     MOVF      0xdb,0x0,0x0                                                                                    
007e3a   5da3     SUBWF     0xa3,0x0,0x1                                                                                    
007e3c   e219     BC        0x7e70                                                                                          
007e6c   2ba3     INCF      0xa3,0x1,0x1                                                                                    
007e6e   d7e3     BRA       0x7e36                                                                                          
007e3e   51a3     MOVF      0xa3,0x0,0x1               buffer[cdc_rx_len] = cdc_data_rx[cdc_rx_len];                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e40   6aea     CLRF      0xea,0x0                                                                                        
007e42   0f54     ADDLW     0x54                                                                                            
007e44   6ee9     MOVWF     0xe9,0x0                                                                                        
007e46   0e05     MOVLW     0x5                                                                                             
007e48   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007e4a   50ef     MOVF      0xef,0x0,0x0                                                                                    
007e4c   6ee6     MOVWF     0xe6,0x0                                                                                        
007e4e   51a3     MOVF      0xa3,0x0,0x1                                                                                    
007e50   6ee7     MOVWF     0xe7,0x0                                                                                        
007e52   0efd     MOVLW     0xfd                                                                                            
007e54   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
007e56   ffe9                                                                                                               
007e58   0efe     MOVLW     0xfe                                                                                            
007e5a   cfdb     MOVFF     0xfdb,0xfea                                                                                     
007e5c   ffea                                                                                                               
007e5e   50e7     MOVF      0xe7,0x0,0x0                                                                                    
007e60   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007e62   0e00     MOVLW     0x0                                                                                             
007e64   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007e66   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007e68   50e7     MOVF      0xe7,0x0,0x0                                                                                    
007e6a   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * Prepare dual-ram buffer for next OUT transaction                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e70   d8bd     RCALL     0x7fec                 CDCDataOutHandle = USBRxOnePacket(CDC_DATA_EP,(BYTE*)&cdc_data_rx,sizeof(cdc_data_rx)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fec   0e40     MOVLW     0x40                                                                                            
007fee   6ee6     MOVWF     0xe6,0x0                                                                                        
007ff0   0e54     MOVLW     0x54                                                                                            
007ff2   6ee6     MOVWF     0xe6,0x0                                                                                        
007ff4   0e05     MOVLW     0x5                                                                                             
007ff6   6ee6     MOVWF     0xe6,0x0                                                                                        
007ff8   6ae6     CLRF      0xe6,0x0                                                                                        
007ffa   d83f     RCALL     0x807a                                                                                          
007ffc   cff3     MOVFF     0xff3,0x5ab                                                                                     
007ffe   f5ab                                                                                                               
008000   cff4     MOVFF     0xff4,0x5ac                                                                                     
008002   f5ac                                                                                                               
008004   0012     RETURN    0x0                                                                                             
00807a   0e02     MOVLW     0x2                                                                                             
00807c   6ee6     MOVWF     0xe6,0x0                                                                                        
00807e   ecd9     CALL      0x69b2,0x0                                                                                      
008080   f034                                                                                                               
008082   6e4e     MOVWF     0x4e,0x0                                                                                        
008084   0e05     MOVLW     0x5                                                                                             
008086   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
008088   504e     MOVF      0x4e,0x0,0x0                                                                                    
00808a   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }//end if                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e72   0105     MOVLB     0x5                return cdc_rx_len;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e74   51a3     MOVF      0xa3,0x0,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e76   d0ea     BRA       0x804c         }//end getsUSBUSART                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           	void putUSBUSART(char *data, BYTE length)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               putUSBUSART writes an array of data to the USB. Use this version, is         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               capable of transfering 0x00 (what is typically a NULL character in any of    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the string transfer functions).                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               putUSBUSART writes an array of data to the USB. Use this version, is         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               capable of transfering 0x00 (what is typically a NULL character in any of    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the string transfer functions).                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   if(USBUSARTIsTxTrfReady())                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       char data[] = {0x00, 0x01, 0x02, 0x03, 0x04};                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       putUSBUSART(data,5);                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               The transfer mechanism for device-to-host(put) is more flexible than         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               host-to-device(get). It can handle a string of data larger than the          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               maximum size of bulk IN endpoint. A state machine is used to transfer a      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               \long string of data over multiple USB transactions. CDCTxService()          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               must be called periodically to keep sending blocks of data to the host.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBUSARTIsTxTrfReady() must return TRUE. This indicates that the last        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               transfer is complete and is ready to receive a new block of data. The        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               string of characters pointed to by 'data' must equal to or smaller than      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               255 BYTEs.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               char *data - pointer to a RAM array of data to be transfered to the host     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BYTE length - the number of bytes to be transfered (must be less than 255).  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e78   d8e4     RCALL     0x8042         void putUSBUSART(char *data, BYTE  length)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * User should have checked that cdc_trf_state is in CDC_TX_READY state      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * before calling this function.                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * As a safety precaution, this fuction checks the state one more time       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * to make sure it does not override any pending transactions.               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Currently it just quits the routine without reporting any errors back     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * to the user.                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Bottomline: User MUST make sure that USBUSARTIsTxTrfReady()==1            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *             before calling this function!                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Example:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * if(USBUSARTIsTxTrfReady())                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *     putUSBUSART(pData, Length);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * IMPORTANT: Never use the following blocking while loop to wait:           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * while(!USBUSARTIsTxTrfReady())                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *     putUSBUSART(pData, Length);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * The whole firmware framework is written based on cooperative              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * multi-tasking and a blocking code is not acceptable.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Use a state machine instead.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBMaskInterrupts();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e7a   0105     MOVLB     0x5                if(cdc_trf_state == CDC_TX_READY)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e7c   51a4     MOVF      0xa4,0x0,0x1                                                                                    
007e7e   e107     BNZ       0x7e8e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e80   d8e9     RCALL     0x8054                 mUSBUSARTTxRam((BYTE*)data, length);     // See cdc.h                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e82   0efc     MOVLW     0xfc                                                                                            
007e84   cfdb     MOVFF     0xfdb,0x5a9                                                                                     
007e86   f5a9                                                                                                               
007e88   0e01     MOVLW     0x1                                                                                             
007e8a   6faa     MOVWF     0xaa,0x1                                                                                        
007e8c   6fa4     MOVWF     0xa4,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBUnmaskInterrupts();                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e8e   d0de     BRA       0x804c         }//end putUSBUSART                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           	Function:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		void putsUSBUSART(char *data)                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               putsUSBUSART writes a string of data to the USB including the null           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               character. Use this version, 'puts', to transfer data from a RAM buffer.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               putsUSBUSART writes a string of data to the USB including the null           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               character. Use this version, 'puts', to transfer data from a RAM buffer.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   if(USBUSARTIsTxTrfReady())                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       char data[] = "Hello World";                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       putsUSBUSART(data);                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               The transfer mechanism for device-to-host(put) is more flexible than         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               host-to-device(get). It can handle a string of data larger than the          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               maximum size of bulk IN endpoint. A state machine is used to transfer a      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               \long string of data over multiple USB transactions. CDCTxService()          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               must be called periodically to keep sending blocks of data to the host.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBUSARTIsTxTrfReady() must return TRUE. This indicates that the last        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               transfer is complete and is ready to receive a new block of data. The        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               string of characters pointed to by 'data' must equal to or smaller than      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               255 BYTEs.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               char *data -  null\-terminated string of constant data. If a                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                       null character is not found, 255 BYTEs of data       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                       will be transferred to the host.                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e90   d904     RCALL     0x809a         void putsUSBUSART(char *data)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00809a   dfd3     RCALL     0x8042                                                                                          
00809c   0e03     MOVLW     0x3                                                                                             
00809e   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BYTE len;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               char *pData;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * User should have checked that cdc_trf_state is in CDC_TX_READY state      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * before calling this function.                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * As a safety precaution, this fuction checks the state one more time       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * to make sure it does not override any pending transactions.               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Currently it just quits the routine without reporting any errors back     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * to the user.                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Bottomline: User MUST make sure that USBUSARTIsTxTrfReady()==1            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *             before calling this function!                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Example:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * if(USBUSARTIsTxTrfReady())                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *     putsUSBUSART(pData, Length);                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * IMPORTANT: Never use the following blocking while loop to wait:           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * while(!USBUSARTIsTxTrfReady())                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *     putsUSBUSART(pData);                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * The whole firmware framework is written based on cooperative              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * multi-tasking and a blocking code is not acceptable.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Use a state machine instead.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBMaskInterrupts();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e92   e117     BNZ       0x7ec2             if(cdc_trf_state != CDC_TX_READY)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0080a0   0105     MOVLB     0x5                                                                                             
0080a2   51a4     MOVF      0xa4,0x0,0x1                                                                                    
0080a4   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   USBUnmaskInterrupts();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * While loop counts the number of BYTEs to send including the               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * null character.                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e94   d8c0     RCALL     0x8016             len = 0;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008016   6adf     CLRF      0xdf,0x0                                                                                        
008018   d839     RCALL     0x808c             pData = data;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00801a   52de     MOVF      0xde,0x1,0x0                                                                                    
00801c   c042     MOVFF     0x42,0xfde                                                                                      
00801e   ffde                                                                                                               
008020   c043     MOVFF     0x43,0xfdd                                                                                      
008022   ffdd                                                                                                               
008024   52dd     MOVF      0xdd,0x1,0x0                                                                                    
008026   0012     RETURN    0x0                                                                                             
                                               do                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e96   2adf     INCF      0xdf,0x1,0x0           len++;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e98   0eff     MOVLW     0xff                   if(len == 255u) break;       // Break loop once max len is reached.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007e9a   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
007e9c   e00b     BZ        0x7eb4                                                                                          
007e9e   0e01     MOVLW     0x1                }while(*pData++);                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ea0   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
007ea2   ffe9                                                                                                               
007ea4   2adb     INCF      0xdb,0x1,0x0                                                                                    
007ea6   0e02     MOVLW     0x2                                                                                             
007ea8   cfdb     MOVFF     0xfdb,0xfea                                                                                     
007eaa   ffea                                                                                                               
007eac   e301     BNC       0x7eb0                                                                                          
007eae   2adb     INCF      0xdb,0x1,0x0                                                                                    
007eb0   50ef     MOVF      0xef,0x0,0x0                                                                                    
007eb2   e1f1     BNZ       0x7e96                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Second piece of information (length of data to send) is ready.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Call mUSBUSARTTxRam to setup the transfer.                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * The actual transfer process will be handled by CDCTxService(),            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * which should be called once per Main Program loop.                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007eb4   d8cf     RCALL     0x8054             mUSBUSARTTxRam((BYTE*)data, len);     // See cdc.h                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007eb6   cfdf     MOVFF     0xfdf,0x5a9                                                                                     
007eb8   f5a9                                                                                                               
007eba   0105     MOVLB     0x5                                                                                             
007ebc   0e01     MOVLW     0x1                                                                                             
007ebe   6faa     MOVWF     0xaa,0x1                                                                                        
007ec0   6fa4     MOVWF     0xa4,0x1                                                                                        
                                               USBUnmaskInterrupts();                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ec2   0e03     MOVLW     0x3            }//end putsUSBUSART                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ec4   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
007ec6   e202     BC        0x7ecc                                                                                          
007ec8   6ae1     CLRF      0xe1,0x0                                                                                        
007eca   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007ecc   6ee1     MOVWF     0xe1,0x0                                                                                        
007ece   d0be     BRA       0x804c                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   void putrsUSBUSART(const ROM char *data)                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               putrsUSBUSART writes a string of data to the USB including the null          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               character. Use this version, 'putrs', to transfer data literals and          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               data located in program memory.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               putrsUSBUSART writes a string of data to the USB including the null          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               character. Use this version, 'putrs', to transfer data literals and          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               data located in program memory.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   if(USBUSARTIsTxTrfReady())                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       putrsUSBUSART("Hello World");                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               The transfer mechanism for device-to-host(put) is more flexible than         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               host-to-device(get). It can handle a string of data larger than the          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               maximum size of bulk IN endpoint. A state machine is used to transfer a      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               \long string of data over multiple USB transactions. CDCTxService()          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               must be called periodically to keep sending blocks of data to the host.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBUSARTIsTxTrfReady() must return TRUE. This indicates that the last        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               transfer is complete and is ready to receive a new block of data. The        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               string of characters pointed to by 'data' must equal to or smaller than      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               255 BYTEs.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               const ROM char *data -  null\-terminated string of constant data. If a       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                       null character is not found, 255 BYTEs of data       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                       will be transferred to the host.                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             **************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ed0   d8e4     RCALL     0x809a         void putrsUSBUSART(const ROM char *data)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BYTE len;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               const ROM char *pData;                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * User should have checked that cdc_trf_state is in CDC_TX_READY state      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * before calling this function.                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * As a safety precaution, this fuction checks the state one more time       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * to make sure it does not override any pending transactions.               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Currently it just quits the routine without reporting any errors back     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * to the user.                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Bottomline: User MUST make sure that USBUSARTIsTxTrfReady()               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *             before calling this function!                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Example:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * if(USBUSARTIsTxTrfReady())                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *     putsUSBUSART(pData);                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * IMPORTANT: Never use the following blocking while loop to wait:           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * while(cdc_trf_state != CDC_TX_READY)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *     putsUSBUSART(pData);                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * The whole firmware framework is written based on cooperative              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * multi-tasking and a blocking code is not acceptable.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Use a state machine instead.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBMaskInterrupts();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ed2   e118     BNZ       0x7f04             if(cdc_trf_state != CDC_TX_READY)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   USBUnmaskInterrupts();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * While loop counts the number of BYTEs to send including the               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * null character.                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ed4   d8a0     RCALL     0x8016             len = 0;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               pData = data;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               do                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ed6   2adf     INCF      0xdf,0x1,0x0           len++;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ed8   0eff     MOVLW     0xff                   if(len == 255u) break;       // Break loop once max len is reached.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007eda   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
007edc   e00c     BZ        0x7ef6                                                                                          
007ede   0e01     MOVLW     0x1                }while(*pData++);                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ee0   cfdb     MOVFF     0xfdb,0xff6                                                                                     
007ee2   fff6                                                                                                               
007ee4   2adb     INCF      0xdb,0x1,0x0                                                                                    
007ee6   0e02     MOVLW     0x2                                                                                             
007ee8   cfdb     MOVFF     0xfdb,0xff7                                                                                     
007eea   fff7                                                                                                               
007eec   e301     BNC       0x7ef0                                                                                          
007eee   2adb     INCF      0xdb,0x1,0x0                                                                                    
007ef0   0008     TBLRD                                                                                                     
007ef2   50f5     MOVF      0xf5,0x0,0x0                                                                                    
007ef4   e1f0     BNZ       0x7ed6                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Second piece of information (length of data to send) is ready.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Call mUSBUSARTTxRom to setup the transfer.                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * The actual transfer process will be handled by CDCTxService(),            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * which should be called once per Main Program loop.                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ef6   d8ae     RCALL     0x8054             mUSBUSARTTxRom((ROM BYTE*)data,len); // See cdc.h                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007ef8   cfdf     MOVFF     0xfdf,0x5a9                                                                                     
007efa   f5a9                                                                                                               
007efc   0105     MOVLB     0x5                                                                                             
007efe   6baa     CLRF      0xaa,0x1                                                                                        
007f00   0e01     MOVLW     0x1                                                                                             
007f02   6fa4     MOVWF     0xa4,0x1                                                                                        
008054   0efd     MOVLW     0xfd                                                                                            
008056   cfdb     MOVFF     0xfdb,0x5a5                                                                                     
008058   f5a5                                                                                                               
00805a   0efe     MOVLW     0xfe                                                                                            
00805c   cfdb     MOVFF     0xfdb,0x5a6                                                                                     
00805e   f5a6                                                                                                               
008060   0012     RETURN    0x0                                                                                             
                                               USBUnmaskInterrupts();                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f04   0e03     MOVLW     0x3            }//end putrsUSBUSART                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f06   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
007f08   e202     BC        0x7f0e                                                                                          
007f0a   6ae1     CLRF      0xe1,0x0                                                                                        
007f0c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007f0e   6ee1     MOVWF     0xe1,0x0                                                                                        
007f10   d09d     BRA       0x804c                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /************************************************************************        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   void CDCTxService(void)                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CDCTxService handles device-to-host transaction(s). This function            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               should be called once per Main Program loop after the device reaches         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the configured state.                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CDCTxService handles device-to-host transaction(s). This function            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               should be called once per Main Program loop after the device reaches         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the configured state (after the CDCIniEP() function has already executed).   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This function is needed, in order to advance the internal software state     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               machine that takes care of sending multiple transactions worth of IN USB     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               data to the host, associated with CDC serial data.  Failure to call          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CDCTxService() perioidcally will prevent data from being sent to the         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USB host, over the CDC serial data interface.                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               void main(void)                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   USBDeviceInit();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   while(1)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       USBDeviceTasks();                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       if((USBGetDeviceState() \< CONFIGURED_STATE) ||                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                          (USBIsDeviceSuspended() == TRUE))                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           //Either the device is not configured or we are suspended        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           //  so we don't want to do execute any application code          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           continue;   //go back to the top of the while loop               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       else                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           //Keep trying to send data to the PC as required                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           CDCTxService();                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           //Run application code.                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           UserApplication();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CDCIniEP() function should have already executed/the device should be        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               in the CONFIGURED_STATE.                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             ************************************************************************/      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f12   d897     RCALL     0x8042         void CDCTxService(void)                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f14   0e02     MOVLW     0x2                                                                                             
007f16   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
008042   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
008044   ffe6                                                                                                               
008046   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
008048   ffd9                                                                                                               
00804a   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BYTE byte_to_send;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BYTE i;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBMaskInterrupts();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CDCNotificationHandler();                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f18   0105     MOVLB     0x5                if(USBHandleBusy(CDCDataInHandle))                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f1a   51ad     MOVF      0xad,0x0,0x1                                                                                    
007f1c   11ae     IORWF     0xae,0x0,0x1                                                                                    
007f1e   e102     BNZ       0x7f24                                                                                          
007f20   0e00     MOVLW     0x0                                                                                             
007f22   d008     BRA       0x7f34                                                                                          
007f24   c5ad     MOVFF     0x5ad,0xfe9                                                                                     
007f26   ffe9                                                                                                               
007f28   c5ae     MOVFF     0x5ae,0xfea                                                                                     
007f2a   ffea                                                                                                               
007f2c   50ef     MOVF      0xef,0x0,0x0                                                                                    
007f2e   0b80     ANDLW     0x80                                                                                            
007f30   e001     BZ        0x7f34                                                                                          
007f32   0e01     MOVLW     0x1                                                                                             
007f34   0900     IORLW     0x0                                                                                             
007f36   e153     BNZ       0x7fde                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   USBUnmaskInterrupts();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Completing stage is necessary while [ mCDCUSartTxIsBusy()==1 ].           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * By having this stage, user can always check cdc_trf_state,                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * and not having to call mCDCUsartTxIsBusy() directly.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f38   0e03     MOVLW     0x3                if(cdc_trf_state == CDC_TX_COMPLETING)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f3a   5da4     SUBWF     0xa4,0x0,0x1                                                                                    
007f3c   e101     BNZ       0x7f40                                                                                          
007f3e   6ba4     CLRF      0xa4,0x1               cdc_trf_state = CDC_TX_READY;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * If CDC_TX_READY state, nothing to do, just return.                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f40   51a4     MOVF      0xa4,0x0,0x1       if(cdc_trf_state == CDC_TX_READY)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f42   e04d     BZ        0x7fde                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   USBUnmaskInterrupts();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * If CDC_TX_BUSY_ZLP state, send zero length packet                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f44   0e02     MOVLW     0x2                if(cdc_trf_state == CDC_TX_BUSY_ZLP)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f46   5da4     SUBWF     0xa4,0x0,0x1                                                                                    
007f48   e109     BNZ       0x7f5c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f4a   6ae6     CLRF      0xe6,0x0               CDCDataInHandle = USBTxOnePacket(CDC_DATA_EP,NULL,0);                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f4c   0e00     MOVLW     0x0                                                                                             
007f4e   6ee6     MOVWF     0xe6,0x0                                                                                        
007f50   6ae6     CLRF      0xe6,0x0                                                                                        
007f52   d859     RCALL     0x8006                                                                                          
008006   0e01     MOVLW     0x1                                                                                             
008008   6ee6     MOVWF     0xe6,0x0                                                                                        
00800a   d837     RCALL     0x807a                                                                                          
00800c   cff3     MOVFF     0xff3,0x5ad                                                                                     
00800e   f5ad                                                                                                               
008010   cff4     MOVFF     0xff4,0x5ae                                                                                     
008012   f5ae                                                                                                               
008014   0012     RETURN    0x0                                                                                             
                                                   //CDC_DATA_BD_IN.CNT = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f54   0105     MOVLB     0x5                    cdc_trf_state = CDC_TX_COMPLETING;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f56   0e03     MOVLW     0x3                                                                                             
007f58   6fa4     MOVWF     0xa4,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f5a   d041     BRA       0x7fde             else if(cdc_trf_state == CDC_TX_BUSY)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f5c   05a4     DECF      0xa4,0x0,0x1                                                                                    
007f5e   e13f     BNZ       0x7fde                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * First, have to figure out how many byte of data to send.              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f60   0e40     MOVLW     0x40               	if(cdc_tx_len > sizeof(cdc_data_tx))                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f62   6e4e     MOVWF     0x4e,0x0                                                                                        
007f64   6a4f     CLRF      0x4f,0x0                                                                                        
007f66   51a9     MOVF      0xa9,0x0,0x1                                                                                    
007f68   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
007f6a   0e00     MOVLW     0x0                                                                                             
007f6c   584f     SUBWFB    0x4f,0x0,0x0                                                                                    
007f6e   e203     BC        0x7f76                                                                                          
007f70   0e40     MOVLW     0x40               	    byte_to_send = sizeof(cdc_data_tx);                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f72   6edf     MOVWF     0xdf,0x0                                                                                        
007f74   d002     BRA       0x7f7a             	else                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f76   c5a9     MOVFF     0x5a9,0xfdf        	    byte_to_send = cdc_tx_len;                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f78   ffdf                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * Subtract the number of bytes just about to be sent from the total.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f7a   50df     MOVF      0xdf,0x0,0x0       	cdc_tx_len = cdc_tx_len - byte_to_send;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f7c   5da9     SUBWF     0xa9,0x0,0x1                                                                                    
007f7e   6fa9     MOVWF     0xa9,0x1                                                                                        
                                               	                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f80   0e14     MOVLW     0x14                   pCDCDst.bRam = (BYTE*)&cdc_data_tx; // Set destination pointer           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f82   6fa7     MOVWF     0xa7,0x1                                                                                        
007f84   0e05     MOVLW     0x5                                                                                             
007f86   6fa8     MOVWF     0xa8,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f88   0e01     MOVLW     0x1                    i = byte_to_send;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f8a   cfdf     MOVFF     0xfdf,0xfdb                                                                                     
007f8c   ffdb                                                                                                               
007f8e   51aa     MOVF      0xaa,0x0,0x1           if(cdc_mem_type == USB_EP0_ROM)            // Determine type of memory source D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f90   e10b     BNZ       0x7fa8                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f92   0e01     MOVLW     0x1                        while(i)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f94   50db     MOVF      0xdb,0x0,0x0                                                                                    
007f96   e012     BZ        0x7fbc                                                                                          
007fa6   d7f5     BRA       0x7f92                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f98   c5a5     MOVFF     0x5a5,0xff6                    *pCDCDst.bRam = *pCDCSrc.bRom;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007f9a   fff6                                                                                                               
007f9c   c5a6     MOVFF     0x5a6,0xff7                                                                                     
007f9e   fff7                                                                                                               
007fa0   0008     TBLRD                                                                                                     
007fa2   50f5     MOVF      0xf5,0x0,0x0                                                                                    
007fa4   d841     RCALL     0x8028                                                                                          
008028   c5a7     MOVFF     0x5a7,0xfe9                                                                                     
00802a   ffe9                                                                                                               
00802c   c5a8     MOVFF     0x5a8,0xfea                                                                                     
00802e   ffea                                                                                                               
008030   6eef     MOVWF     0xef,0x0                                                                                        
008032   2ba7     INCF      0xa7,0x1,0x1                   pCDCDst.bRam++;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008034   0e00     MOVLW     0x0                                                                                             
008036   23a8     ADDWFC    0xa8,0x1,0x1                                                                                    
008038   2ba5     INCF      0xa5,0x1,0x1                   pCDCSrc.bRom++;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00803a   23a6     ADDWFC    0xa6,0x1,0x1                                                                                    
00803c   0e01     MOVLW     0x1                            i--;                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00803e   06db     DECF      0xdb,0x1,0x0                                                                                    
008040   0012     RETURN    0x0                                                                                             
                                                       }//end while(byte_to_send)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   else // _RAM                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fa8   0e01     MOVLW     0x1                        while(i)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007faa   50db     MOVF      0xdb,0x0,0x0                                                                                    
007fac   e007     BZ        0x7fbc                                                                                          
007fba   d7f6     BRA       0x7fa8                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fae   c5a5     MOVFF     0x5a5,0xfe9                    *pCDCDst.bRam = *pCDCSrc.bRam;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fb0   ffe9                                                                                                               
007fb2   c5a6     MOVFF     0x5a6,0xfea                                                                                     
007fb4   ffea                                                                                                               
007fb6   50ef     MOVF      0xef,0x0,0x0                                                                                    
007fb8   d837     RCALL     0x8028                                                                                          
                                                           pCDCDst.bRam++;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           pCDCSrc.bRam++;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           i--;                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       }//end while(byte_to_send._word)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }//end if(cdc_mem_type...)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * Lastly, determine if a zero length packet state is necessary.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * See explanation in USB Specification 2.0: Section 5.8.3               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fbc   0105     MOVLB     0x5                    if(cdc_tx_len == 0u)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fbe   51a9     MOVF      0xa9,0x0,0x1                                                                                    
007fc0   e107     BNZ       0x7fd0                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fc2   0e40     MOVLW     0x40                       if(byte_to_send == CDC_DATA_IN_EP_SIZE)                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fc4   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
007fc6   e102     BNZ       0x7fcc                                                                                          
007fc8   0e02     MOVLW     0x2                            cdc_trf_state = CDC_TX_BUSY_ZLP;                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fca   d001     BRA       0x7fce                     else                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fcc   0e03     MOVLW     0x3                            cdc_trf_state = CDC_TX_COMPLETING;                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fce   6fa4     MOVWF     0xa4,0x1                                                                                        
                                                   }//end if(cdc_tx_len...)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fd0   cfdf     MOVFF     0xfdf,0xfe6            CDCDataInHandle = USBTxOnePacket(CDC_DATA_EP,(BYTE*)&cdc_data_tx,byte_to_send); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fd2   ffe6                                                                                                               
007fd4   0e14     MOVLW     0x14                                                                                            
007fd6   6ee6     MOVWF     0xe6,0x0                                                                                        
007fd8   0e05     MOVLW     0x5                                                                                             
007fda   6ee6     MOVWF     0xe6,0x0                                                                                        
007fdc   d814     RCALL     0x8006                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }//end if(cdc_tx_sate == CDC_TX_BUSY)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBUnmaskInterrupts();                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fde   0e02     MOVLW     0x2            }//end CDCTxService                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
007fe0   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
007fe2   e202     BC        0x7fe8                                                                                          
007fe4   6ae1     CLRF      0xe1,0x0                                                                                        
007fe6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007fe8   6ee1     MOVWF     0xe1,0x0                                                                                        
007fea   d030     BRA       0x804c                                                                                          
00804c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00804e   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
008050   ffd9                                                                                                               
008052   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif //USB_USE_CDC                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** EOF cdc.c ****************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /*********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                EiBotBoard Firmware                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * FileName:        ebb.c                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * Company:         Schmalz Haus LLC                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * Author:          Brian Schmalz                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * Based on original files by Microchip Inc. in MAL USB example.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * Software License Agreement                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * Copyright (c) 2014-2023, Brian Schmalz of Schmalz Haus LLC                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * All rights reserved.                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * Redistribution and use in source and binary forms, with or                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * without modification, are permitted provided that the following               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * conditions are met:                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * 1. Redistributions of source code must retain the above                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * disclaimer.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * 2. Redistributions in binary form must reproduce the above                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * disclaimer in the documentation and/or other materials                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * provided with the distribution.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * 3. Neither the name of the copyright holder nor the names of                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * its contributors may be used to endorse or promote products                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * derived from this software without specific prior written                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * permission.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * SUCH DAMAGE.                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            */                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Versions:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.8 -                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.8.1 5/19/10 - Only change is to recompile with Microchip USB Stack v2.7     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.8.2 5/31/10 - Only change is to change name in USB enumeration string to Ei D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Bot Board - using new PID for SchmalzHaus                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.9   6/11/10 - Added two commands:                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SQ - Solenoid Query - returns 0 or 1 for down and up         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  ST - Solenoid Toggle - toggles state of the servo/solenoid   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.9.2 6/15/10 - Added commands:                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SC,11 sets pen up speed                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SC,12 sets pen down speed                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SL - sets the current layer                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  QL - queries the current layer                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SN - sets move (node) count                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  QN - Query node count                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  QB - Query Button command                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.9.3 6/16/10 - Replaced SN with CL (Clear Node) command                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.9.4 6/22/10 - Node Count now incremented on pauses (SM with zero step size) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  as well                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.9.5 7/2/10 - Node count no longer incremented at all except for NI command  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  NI - Node count Increment                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  ND - Node count Decrement                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SN - Set Node count (with 8 byte variable)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  BL - With latest bootloader, will jump to Boot Load mode     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.9.6 7/3/10 - Removed extra vectors below 0x1000 for easier merging of HEX   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      files                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - use c018i_HID_BL.o now                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.0.0 9/9/10 - Add in                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  QC - Query Current - reads voltage of current adjustment pot D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  NOTE: This is NOT done the 'right way'. Instead, we set      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      up the pin for analog input at boot, then when the QC    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      comes in, we activate the ADC and take one reading and   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      then shut it down. Eventually, we should re-write the    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      'UBW' ADC routines to work with the much more flexible   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      ADC in the 46J50 part and then just use that generic     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      code for reading the value of the pot.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SC,13,{0,1} - enables/disables RB0 as another PRG button for D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      pause detection                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.0.1 9/13/10 - Bug fix - on v1.1 EBB hardware, need to disable RB0 alt pause D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      button. Switched it to RB2 on v1.1 hardware              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.0.2 10/3/10 - Bug fix - QC command not returning proper results - added     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      cast and now works OK                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.0 10/21/10- Added in                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SE - Set Engraver - turns engraver (on RB3) on or off, or    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      set to PWM power level                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    Added code in init to pre-charge RC7 (USB_SENSE_IO) high   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      before running rest of code                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      to get around wrong resistor value on hardware.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.1 11/21/10- Removed Microchip USB stack v2.7, replaced it with v2.8 from  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  MAL 2010_10_19.                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Also using generic Microchip folder now rather than re-named D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      one (simpler to update).                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Updated code in main.c (and others) to match updates from    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      latest MAL CDC example.                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.1cTest1 01/17/11 - Added third parameter to SP command to use any PortB   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      pin for servo output.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  For this version only - used PortB2 as standard servo output D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.1d 02/11/11 - Reverted back to RB1 for servo output                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                 - Updated check_and_send_TX_data() to allow unlimited data to D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      go out without overrunning the output buffer, same as    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      UBW 1.4.7.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.2 11/04/11 - Fixed PI command to return just a 0 or a 1                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Updated to USB stack 2.9a                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Created MPLAB X project for this firmware                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Added SC,14,<state> to enable/disable solenoid output on RB4 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Fixed bug with S2 command and solenoid command interaction - D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      we now turn off solenoid output on RB4 if user uses S2   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      command to use RB4 for RC servo output.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Fixed bug with S2 command where a duration of 0 would not    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      shut off the PWM channel                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Fixed bug in S2 command where <rate> variable was not being  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      used correctly                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Switched default number of S2 channels to 8 (from 7 before)  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.3 12/12/11 - RB3 now defaults to digital I/O on boot, can still use SE    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      command to do PWM later if you want                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Compiled with latest UBW stack - 2.9b from MAL 2011-10-18    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.4 12/14/11 - RB3 now defaults to OFF, rather than ON, at boot.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.5 12/15/11 - Fixed problem with pen servo (RB1) being inverted on boot    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.0 11/07/12 - Fixed problem with SP command not working properly with      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      ports other than RB1 because we don't properly use S2    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      commands for SP up/down within ISR. Tested on all PortB. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.1 09/19/13 - Expanded internal delay counter to 32 bits so we can have    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      delays longer than 2.1s. Now up to 64K ms.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Fixed bug with all <duration> parameters, SP, TP             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      commands. Now in ms, defaults to 500ms, and actually     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      works up to 64Kms.                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Fixed uninitialized data bug with command FIFO. We were seeing D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      very long random delays first time SM,<delay>,0,0 was    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      used.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - SP command was executing servo move at end of <duration>. It D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      now starts servo move and <duration> delay at same time. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Updated USB stack to Microchip MAL USB v2.9j                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.2 10/15/13 - Fixed bug with SE command that was preventing anything other D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  than 50% duty cycle from working.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Updated SC,2,{0,1,2} to control PIC and drivers connection   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  0 = PIC controls built in drivers                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  1 = PIC controls external step/dir/en drives                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  2 = external step/dir/en controls built-in drivers           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Also updated the pins that are used for driving external     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  step/dir/en drives. (See documentation)                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Updated SC,1,{0,1,2} documentation to match code and removed D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SC,14 which is not needed.                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Updated logic for EM command to use state of SC,2,{0,1,2}    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  properly.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Added SC,14,{0,1} to switch between default of 1/25Khz units D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  for SP and TP command <duration> parameters, and 1ms units   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.3 01/11/14 - Rewrote analog system so we don't have problems with QC      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  commands anymore. New command AC.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.4 04/26/14 - Fixed bug where 0 for duration in SM would cause problems    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Found bug where the <servo_min> and <servo_max> values were  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  reversed in the SP command. This has now been fixed so that  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SP commands will operate the same as 2.0.1 version.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Set initial  'position' of main servo to be 1mS to mimic     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  behavior of v2.0.1 firmware.                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Updated license to BSD 3-clause                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Changed SP and TP commands so that if no <duration> parameter D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  is used, it does not default to 500mS delay, but rather 0mS. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  This should now work exactly as 2.0.1 when no parameter is   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  used.                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Tested 2.2.4 against 2.0.1 with Saleae Logic analyzer. Looked D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  at several Inkscape plots. Confirmed that timing of steppers D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  and servo are the same. Confirmed that all RB0 through RB7   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  outputs are the same between the two versions.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.5 04/29/14 - Added 'long' arguments to SM for <move_duration> and <axis1> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  and <axis2>. All can be 3 bytes now. Also added checks in    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SM command to make sure that arguments don't result in a     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  step speed that's too low (<0.76Hz).                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.6 01/01/15 - Added 'QM' command - Query Motor, tells PC what is moving.   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.7 08/13/15 - Added 'ES' command, which will immediately abort any SM command D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  but leave the motors energized. (E-stop) It returns "1" if   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  it aborted a move in progress, "0" otherwise. It will also   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  delete any pending SM command in the FIFO.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.8 08/14/15 - Corrected error checking in SM command to accurately reflect D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  too fast and too slow requests. (>25K or <1.31 steps per     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  second). Also added type cast that now allows for full range D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  of step values to work properly.                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.9 08/18/15 - Added extra values to output of ES command to indicate how   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  many steps were aborted.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.3.0 08/28/15 - Added new XM command as per issue #29 for driving mixed-axis D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  geometry machines.                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.0 03/14/16 - Added new AM command for using accelerated                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  stepper motion. Includes going to 32 bit accumulators in ISR D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  to achieve necessary resolution, which includes changes to   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SM command as well. Also added "CU,2,0" to turn of SM command D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  parameter checking for speed.                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  NOTE: AM command may not be quite 'right' yet. Although it   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  has passed simple tests, it could not be made to reliably    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  work from the Inkscape plugin, so it is not currently being  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  used. It may have to change in future versions of this       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  firmware.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.1 08/08/16 - Added new form of SE command, with optional parameter that   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  puts SE in motion queue. (issue #51)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Fixed issue #52 (bug in parameter check in parse_SM_packet()) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.2 08/10/16 - Fixed bug in SE command that would set engraver to 50% if    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SE,1,0 was used. Also added engraver power to FIFO structure D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  for when third SE parameter is 1.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.3 11/07/16 - Added QS (Query Step position) and CS (Clear Step position)  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  commands.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.4 11/16/16 - Added extra value to QM command to show status of FIFO       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.5 01/07/17 - Fixed math error in SM/XM commands (see issue #71)           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.6 01/08/17 - Added special case code for moves less than 30ms long (this  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  special case just un-does the change for issue #71 for these D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  short moves)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.0 01/09/17 - Added LM (low level move) command to allow PC to do all math D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.1 01/18/17 - Fixed LM command to take negative and positive Accel         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Fixed 25KHz ISR to be much closer to 25KHz                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.2 07/07/17 - Fixed issue #78 : detected and reject 0,0 for LM command     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Fixed some uninitialized variables                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  LM Accel parameter went to 32 bits signed from 16 bit signed D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.3 07/09/17 - Fixed bug in LM command that would corrupt currently running D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    moves with new data.                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.4 01/06/18 - Added ST (Set Tag), QT (Query Tag) commands.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Added RB (ReBoot) command                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Added any name set with ST command to end of USB Device Name D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Fixed problem with reading bit 7 of any I/O port (issue #82) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.5 07/06/18 - Enhanced ST command by writing to both Device name and       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    serial number USB fields.                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.6 07/11/18 - Added RC Servo power control functionality on pin RA3        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    Includes new QR and SR commands. See issue #103 for more   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.0 09/08/18 - Added direct servo power toggle command SR                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Set servo default timeout to 15 minutes, pen up at boot,     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    servo power off at boot                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Changed default pen up/down positions                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.1 01/07/19 - Added "QG" general query command                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.2 01/11/19 - Added "HM" Home Motor command                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.3 05/24/19 - Changed default RC servo power down time from 15min to 60s   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.4 11/05/19 - Fixed bug #124 (Math error in SM command for edge case       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    input parameters)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.5 11/29/19 - Changed SR command behavior so it only enables servo power   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    after SP command, not also after stepper movement          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.6 05/26/20 - Fixed a bug with the PC/PG command which caused some changes D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    not to take effect for up to 64K more milliseconds.        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //       11/10/20 - Fixed bug where S2 command wouldn't turn power on to RB1     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    servo output if it had been turned off.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.7.0 11/19/20 - No longer allow Rate to go negative (like from LM command)   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    inside ISR                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Removed AM command                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Added optional parameter <Clear> to all stepper motion       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    commands to allow explicit zeroing of accumulators         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Renamed internal parameters for some commands (LT/LM) for    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    clarity. Also queue structure members got renamed.         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Added optional absolute position values to HM command        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Added LT command, based on LM command                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Updated math in LM command based on Kinematics analysis      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Updated math in ISR (for LM/LT) based on Kinematics analysis D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Fixed bug where negative accelerations could cause delays before  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    last step.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  EM command now always clears accumulators                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Reduced effective pulse width for step pulses down to        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    between 1.6 and 2.3 uS.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.8.0 04/22/21 - Issue 151: Added QE command to return state of motor enables D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    and their microstep resolution                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Issue 152: Move EM command to motion queue                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Issue 153: Add optional parameter to ES command to disable   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    motors.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Fix bug in ES command that didn't send return packet         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.8.1 07/26/22 - Issue 180: Add CU,3,1 to turn on RED LED reporting of FIFO empty D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.8.2 05/05/23 - Add CU,50 to control automatic motor enable                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.9.0 11/2/22  - Issue 185 : Get LT and LM commands to allow accelerations    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    through zero (i.e. reverse direction mid-move)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Massive refactor of motion ISR to improve performance        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Proper formatting/indenting of entire EBB codebase for readability D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Turned all warnings/messages on in compiler, fixed all       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include <p18cxxx.h>                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include <usart.h>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include <ctype.h>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include <delays.h>                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include <math.h>                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "Usb\usb.h"                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "Usb\usb_function_cdc.h"                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "usb_config.h"                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "HardwareProfile.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "ubw.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "ebb.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "delays.h"                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "ebb_demo.h"                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "RCServo2.h"                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "ebb_print.h"                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Define this to enable the use of the C step (high) ISR. Undefine for          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // the assembly language version                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define USE_C_ISR                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This is the value that gets multiplied by Steps/Duration to compute           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // the StepAdd values.                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define OVERFLOW_MUL            (0x8000 / HIGH_ISR_TICKS_PER_MS)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define MAX_RC_DURATION         11890                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The number of individual addressable unsigned bytes that are available        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // in the SL and QL commands.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define SL_STORAGE_SIZE         32u                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           typedef enum                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             SOLENOID_OFF = 0,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             SOLENOID_ON,                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             SOLENOID_PWM                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           } SolenoidStateType;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This is the FIFO that stores the motion commands. It spans multiple RAM       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // banks from 0x600 through 0xDFF (length 0x800 or 2048d), and must only be      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // accessed via pointer.                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that no matter what COMMAND_FIFO_MAX_LENGTH is set to, we reserve the    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // entire 0x800 bytes of space in the FIFO_scn here. That prevents the linker    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // from putting variables after this section.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #pragma udata FIFO_scn                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           UINT8 CommandFIFO[COMMAND_FIFO_SIZE_BYTES];                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // These global variables are deliberately put into "Bank" 0 of RAM (the         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // access/near bank).                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // They are the small global variables that the 25KHz ISR has to access.         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // With them all being in bank 0, no bank switch instructions are needed         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // to access them.                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #pragma udata access ISR_access                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //static UINT8 TookStep;       // LSb set if a step was taken                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 AllDone;        // LSb set if this command is complete         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 isr_i;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 AxisActive[NUMBER_OF_STEPPERS];     // LSb set if an axis is not done stepping D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           near DriverConfigurationType DriverConfiguration;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // LSb set to enable RC Servo output for pen up/down                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 gUseRCPenServo;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // LSb set to enable red LED lit when FIFO is empty                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gRedLEDEmptyFIFO;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // LSb set when user presses the PRG or alternate PRG button                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static volatile near UINT8 ButtonPushed;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // LSb set to enable use of alternate PRG (pause) button                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static volatile near UINT8 UseAltPause;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bitfield used to keep track of what test modes are enabled/disabled           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 TestMode;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Used as temporary variable inside ISR for servo channel index                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 ISR_Channel;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Temporary holder for PortB value in ISR so we don't have to sample more than once D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 PortBTemp;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Global variables used for limit switch feature                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gLimitSwitchMask;      // 8-bit PortB mask                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gLimitSwitchTarget;    // 8-bit PortB target values          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gLimitSwitchTriggered; // Non-zero if limit switch trigger has fired D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Global variables for managing FIFO depth/indexes                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gFIFOLength;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gFIFOIn;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gFIFOOut;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Holds a local copy of the Command from CommandFIFO[gFIFOOut].Command          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 gFIFOCommand;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Current length of FIFO                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gCurrentFIFOLength;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Temporarily store FSR0 during command copy assembly (note these can be in any D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // bank)                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //UINT8 near isr_FSR0L_temp;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //UINT8 near isr_FSR0H_temp;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Pointer in RAM to the first byte of the next unplayed FIFO command            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           UINT8 near FIFO_out_ptr_high;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           UINT8 near FIFO_out_ptr_low;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // These values hold the global step position of each axis                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile static near INT32 globalStepCounter1;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile static near INT32 globalStepCounter2;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Pointer to a MoveCommandType element of the FIFO array                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           near MoveCommandType * FIFOPtr = (near MoveCommandType *)&CommandFIFO[0];        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Accumulator for each axis                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           near u32b4_t acc_union[2];                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // ISR globals used in test modes for keeping track of each move                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT32 gISRTickCountForThisCommand;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT32 gISRStepCount0ForThisCommand;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near INT32  gISRPosition0ForThisCommand;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT32 gISRStepCount1ForThisCommand;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near INT32  gISRPosition1ForThisCommand;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bank 1 is the "ISR Bank". By placing all variables that the ISR needs         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // access to either in the access bank (above) or in Bank 1, then the bank       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // select register can be kept pointing to Bank 1 and no bank switch instructions D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // are needed in the iSR.                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #pragma udata ISR_globals = 0x180                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Variables used during debug printing within ISR                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static u32b4_t xx;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static UINT8 nib;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The move command containing the currently executing move command in the ISR   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           MoveCommandType CurrentCommand;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           unsigned int DemoModeActive;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static SolenoidStateType SolenoidState;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static unsigned int SolenoidDelay;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // track the latest state of the pen                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static PenStateType PenState;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static unsigned long NodeCount;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           unsigned char QC_ms_timer;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static UINT StoredEngraverPower;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Set TRUE to enable solenoid output for pen up/down                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           BOOL gUseSolenoid;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // When FALSE, we skip parameter checks for motor move commands so they can run faster D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           BOOL gLimitChecks;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // LSb set to enable all strings to use '\n' line endings, and use standardized  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // command reply format                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           UINT8 gStandardizedCommandFormat;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Temp storage in ISR for late ISR compensation value                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           UINT8 CurTime;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // These globals replace the local (stack) variables used during processing      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // and parsing of stepper motor commands. They also take the place of parameters D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // for the two low-level (process_low_level and process_simple) move functions.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Since we know that we can never be working on more than one of these commands D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // at the same time, and since we have enough global RAM space, it makes some    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // sense to make these static globals. This reduces the change of a stack        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // overflow.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static UINT32  gUInt32_1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static UINT32  gUInt32_2;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static UINT32  gUInt32_3;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_4;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_5;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_6;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_7;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_8;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_9;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_10;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_11;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // These next set of defines create local, meaningful names. They reference the  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // above globals, but in ways that make sense for the routine they are used in.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For HM                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gHM_StepRate    gUInt32_2                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gHM_Pos1        gInt32_6                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gHM_Pos2        gInt32_10                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For XM                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gXM_ASteps      gInt32_6                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gXM_BSteps      gInt32_10                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For simple_motor_move_fp                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gDurationMS     gUInt32_1                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gIntervals      gUInt32_2                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gClearAccs      gUInt32_3                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gRate1          gInt32_4                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gSteps1         gInt32_5                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gAccel1         gInt32_6                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gJerk1          gInt32_7                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gRate2          gInt32_8                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gSteps2         gInt32_9                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gAccel2         gInt32_10                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gJerk2          gInt32_11                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For simple_rate_move_fp()                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gSRM_Rate       gUInt32_2                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           /* List of functions which use (in some way) the above globals/defines           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           process_simple_motor_move_fp()                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             Inputs:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gDurationMS   UINT32  gUInt32_1 not modified                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps1       INT32   gInt32_5  modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps2       INT32   gInt32_9  modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gClearAccs    UINT32  gUInt32_3 not modified                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             Working values:                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gIntervals    UINT32  gUInt32_2 modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           process_simple_rate_move_fp()                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             Inputs:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSRM_Rate     UINT32  gUInt32_2 not modified                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps1       INT32   gInt32_5  modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps2       INT32   gInt32_9  modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gClearAccs    UINT32  gUInt32_3 not modified                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             Working values:                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               (none)                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           parse_XM_packet()                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             Working values:                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gDurationMS   UINT32  gUInt32_1 modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps1       INT32   gInt32_5  modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps2       INT32   gInt32_9  modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gClearAccs    UINT32  gUInt32_3 modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             Working values:                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gXM_ASteps    INT32   gInt32_6  modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gXM_BSteps    INT32   gInt32_10 modified                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           */                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // These globals are now set to be put anywhere the linker can find space for them D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #pragma udata                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static MoveCommandType gMoveTemp;     // Commands fill this then copy to FIFO    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Storage for the 32 bytes of "SL" command values                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static UINT8   gSL_Storage[32];                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Local function definitions                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static void clear_StepCounters(void);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static void process_low_level_move(BOOL TimedMove,  ExtractReturnType ClearRet); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static void process_simple_motor_move_fp(void);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static void clear_parmaeter_globals(void);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static void process_simple_rate_move_fp(void);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           extern void FIFO_COPY(void);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // High ISR                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #pragma interrupt high_ISR                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001050   cfda     MOVFF     0xfda,0xfe4    void high_ISR(void)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001052   ffe4                                                                                                               
001054   cfe9     MOVFF     0xfe9,0xfe4                                                                                     
001056   ffe4                                                                                                               
001058   cfea     MOVFF     0xfea,0xfe4                                                                                     
00105a   ffe4                                                                                                               
00105c   cff3     MOVFF     0xff3,0xfe4                                                                                     
00105e   ffe4                                                                                                               
001060   cff4     MOVFF     0xff4,0xfe4                                                                                     
001062   ffe4                                                                                                               
001064   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // 25KHz ISR fire. Note: For speed, we don't check that INTCONbits.TMR0IF is set D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // here. We assume it is, as it's the only interrupt that should be triggering D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // calls to high_ISR()                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Clear the interrupt                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001066   94f2     BCF       0xf2,0x2,0x0     INTCONbits.TMR0IF = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Load the current value of the timer (it will be above zero) so we know      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // how long it took from when the interrupt fired until we actually            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // serviced the interrupted.                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001068   cfd6     MOVFF     0xfd6,0x1c4      CurTime = TMR0L;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00106a   f1c4                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Because the timer is a 'count up' timer, and because it generates an        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // interrupt when it rolls over at 0x00, our TIMER0_RELOAD value is effectively D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // a negative value. By adding CurTime to that reload value, we decrease the   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // amount of time we want to wait until the next ISR fires by the exact        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // amount that we were delayed by in getting to this ISR tick. Thus any        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // 'lateness' in this ISR tick is compensated for in the next tick, keeping    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // an overall steady 40uS between ticks even if one or two ISRs take too long  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // and delay the start of the next tick by some amount.                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00106c   0e8a     MOVLW     0x8a             TMR0L = TIMER0_RELOAD + CurTime;  // Reload for 25KHz ISR fire                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00106e   0101     MOVLB     0x1                                                                                             
001070   25c4     ADDWF     0xc4,0x0,0x1                                                                                    
001072   6ed6     MOVWF     0xd6,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001074   b209     BTFSC     0x9,0x1,0x0      if (bittst(TestMode, TEST_MODE_GPIO_NUM))                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001076   828c     BSF       0x8c,0x1,0x0       LATDbits.LATD1 = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001078   8000     BSF       0x0,0x0,0x0      bitsetzero(AllDone);      // Start every ISR assuming we are done with the current command - set bit 0 of AllDone D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Process a motor move command of any type                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // This is the main chunk of code for EBB : the step generation code in the 25KHz ISR. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // The first section determines if we need to take any steps this time through the ISR. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // It is broken into sections, one for each type of stepper motion command because  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // they each have different amounts of processing needed to determine if a step is  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // necessary or not.                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Then the second section is common to all stepper motion commands and handles D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the actual step pulse generation as well as direction bit control.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // The Active bits will be set if there is still motion left to                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // generate on an axis. They are set when the command is first loaded          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // into CurrentCommand and then cleared once all steps have been taken         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // (either in time or in step count). They are checked inside each             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // command's step processing (below) so that we only spend time working        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // on axis that have activity left                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Important assumptions:                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // There is only one bit set in the CurrentCommand.Command byte                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // A very complete mathematical analysis of the way the various stepper        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // commands are expected to work can be found here;                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // https://evilmadscience.s3.amazonaws.com/dl/ad/public/AxiDrawKinematics.pdf  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Here we handle the 'simple' (non accelerating) stepper commands.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // These three command (SM, XM and HM) do not use                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // acceleration and so that code is left out to save time. This is also        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the most common command used by the various PC softwares so we check        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // for it first.                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00107a   0e05     MOVLW     0x5              if (CurrentCommand.Command == COMMAND_SM_XM_HM_MOVE)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00107c   5d85     SUBWF     0x85,0x0,0x1                                                                                    
00107e   e13f     BNZ       0x10fe                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Direction bits need to be output before step bits. Since we know step bis D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // are clear at this point, it's safe to always output direction bits here   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // before we start messing with the step bits                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001080   5004     MOVF      0x4,0x0,0x0        if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001082   e104     BNZ       0x108c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // The Step and Direction bits are all output on the top four bits         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // of PortD. So we can be very efficient here and simply output those      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // four bits directly to port D.                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001084   0e5f     MOVLW     0x5f                 LATD = (PORTD & ~(DIR1_BIT | DIR2_BIT)) | CurrentCommand.m.sm.DirBits;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001086   1483     ANDWF     0x83,0x0,0x0                                                                                    
001088   1186     IORWF     0x86,0x0,0x1                                                                                    
00108a   6e8c     MOVWF     0x8c,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // If the test mode is active, count this tick as part of the move if there  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // are steps to take in either axis.                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00108c   a409     BTFSS     0x9,0x2,0x0        if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00108e   d008     BRA       0x10a0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001090   0e01     MOVLW     0x1                  if (bittstzero(AxisActive[0]) || bittstzero(AxisActive[1]))                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001092   1402     ANDWF     0x2,0x0,0x0                                                                                     
001094   e103     BNZ       0x109c                                                                                          
001096   0e01     MOVLW     0x1                                                                                             
001098   1403     ANDWF     0x3,0x0,0x0                                                                                     
00109a   e002     BZ        0x10a0                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00109c   ec56     CALL      0x36ac,0x0             gISRTickCountForThisCommand++;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00109e   f01b                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //// MOTOR 1     SM XM HM ////                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Only do this if there are steps left to take                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010a0   a002     BTFSS     0x2,0x0,0x0        if (bittstzero(AxisActive[0]))                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010a2   d012     BRA       0x10c8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Add the rate to the accumulator and see if the MSb got set. If so       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // then take a step and record that the step was taken                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010a4   eca1     CALL      0x3942,0x0           acc_union[0].value += CurrentCommand.m.sm.Rate[0].value;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010a6   f01c                                                                                                               
003942   518c     MOVF      0x8c,0x0,0x1                                                                                    
003944   261e     ADDWF     0x1e,0x1,0x0                                                                                    
003946   518d     MOVF      0x8d,0x0,0x1                                                                                    
003948   221f     ADDWFC    0x1f,0x1,0x0                                                                                    
00394a   518e     MOVF      0x8e,0x0,0x1                                                                                    
00394c   2220     ADDWFC    0x20,0x1,0x0                                                                                    
00394e   518f     MOVF      0x8f,0x0,0x1                                                                                    
003950   2221     ADDWFC    0x21,0x1,0x0                                                                                    
003952   0012     RETURN    0x0                                                                                             
0010a8   ae21     BTFSS     0x21,0x7,0x0         if (acc_union[0].bytes.b4 & 0x80)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010aa   d00e     BRA       0x10c8                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010ac   9e21     BCF       0x21,0x7,0x0           acc_union[0].bytes.b4 &= 0x7F;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010ae   8d86     BSF       0x86,0x6,0x1           CurrentCommand.m.sm.DirBits |= STEP1_BIT;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010b0   ec5c     CALL      0x36b8,0x0             CurrentCommand.m.sm.Steps[0]--;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010b2   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010b4   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010b6   d004     BRA       0x10c0                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010b8   2a2a     INCF      0x2a,0x1,0x0             gISRStepCount0ForThisCommand++;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010ba   222b     ADDWFC    0x2b,0x1,0x0                                                                                    
0010bc   222c     ADDWFC    0x2c,0x1,0x0                                                                                    
0010be   222d     ADDWFC    0x2d,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // For these stepper motion commands zero steps left means               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // the axis is no longer active                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010c0   ec0d     CALL      0x361a,0x0             if (CurrentCommand.m.sm.Steps[0] == 0u)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010c2   f01b                                                                                                               
0010c4   e101     BNZ       0x10c8                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010c6   9002     BCF       0x2,0x0,0x0              bitclrzero(AxisActive[0]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //// MOTOR 2     SM XM HM ////                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010c8   a003     BTFSS     0x3,0x0,0x0        if (bittstzero(AxisActive[1]))                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010ca   d011     BRA       0x10ee                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010cc   ecaa     CALL      0x3954,0x0           acc_union[1].value += CurrentCommand.m.sm.Rate[1].value;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010ce   f01c                                                                                                               
003954   5190     MOVF      0x90,0x0,0x1                                                                                    
003956   2622     ADDWF     0x22,0x1,0x0                                                                                    
003958   5191     MOVF      0x91,0x0,0x1                                                                                    
00395a   2223     ADDWFC    0x23,0x1,0x0                                                                                    
00395c   5192     MOVF      0x92,0x0,0x1                                                                                    
00395e   2224     ADDWFC    0x24,0x1,0x0                                                                                    
003960   5193     MOVF      0x93,0x0,0x1                                                                                    
003962   2225     ADDWFC    0x25,0x1,0x0                                                                                    
003964   0012     RETURN    0x0                                                                                             
0010d0   ae25     BTFSS     0x25,0x7,0x0         if (acc_union[1].bytes.b4 & 0x80)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010d2   d00d     BRA       0x10ee                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010d4   9e25     BCF       0x25,0x7,0x0           acc_union[1].bytes.b4 &= 0x7F;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010d6   ec9f     CALL      0x373e,0x0             CurrentCommand.m.sm.DirBits |= STEP2_BIT;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00373e   8986                                                                                                               
0010d8   f01b     WORD2     0x1b                   CurrentCommand.m.sm.Steps[1]--;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003740   0798     DECF      0x98,0x1,0x1                                                                                    
003742   0e00     MOVLW     0x0                                                                                             
003744   5b99     SUBWFB    0x99,0x1,0x1                                                                                    
003746   5b9a     SUBWFB    0x9a,0x1,0x1                                                                                    
003748   5b9b     SUBWFB    0x9b,0x1,0x1                                                                                    
00374a   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010da   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010dc   d004     BRA       0x10e6                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010de   2a32     INCF      0x32,0x1,0x0             gISRStepCount1ForThisCommand++;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010e0   2233     ADDWFC    0x33,0x1,0x0                                                                                    
0010e2   2234     ADDWFC    0x34,0x1,0x0                                                                                    
0010e4   2235     ADDWFC    0x35,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010e6   ec6b     CALL      0x36d6,0x0             if (CurrentCommand.m.sm.Steps[1] == 0u)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010e8   f01b                                                                                                               
0010ea   e101     BNZ       0x10ee                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010ec   9003     BCF       0x3,0x0,0x0              bitclrzero(AxisActive[1]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // We want to allow for a one-ISR tick move, which requires us to check      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // to see if the move has been completed here (to load the next command      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // this tick rather than waiting for the next tick). This primarily gives    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // us simpler math when figuring out how long moves will take.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010ee   0e01     MOVLW     0x1                if (bittstzero(AxisActive[0]) || bittstzero(AxisActive[1]))                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010f0   1402     ANDWF     0x2,0x0,0x0                                                                                     
0010f2   e151     BNZ       0x1196                                                                                          
0010f4   0e01     MOVLW     0x1                                                                                             
0010f6   1403     ANDWF     0x3,0x0,0x0                                                                                     
0010f8   e101     BNZ       0x10fc                                                                                          
0010fa   d08b     BRA       0x1212                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 bitclrzero(AllDone);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010fc   d04c     BRA       0x1196             goto OutputBits;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Low level Move (LM) : This one uses acceleration, so take that              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // into account.                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010fe   0e06     MOVLW     0x6              if (CurrentCommand.Command == COMMAND_LM_MOVE)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001100   5d85     SUBWF     0x85,0x0,0x1                                                                                    
001102   e14b     BNZ       0x119a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // If the test mode is active, count this tick as part of the move if there  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // are steps to take in either axis.                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001104   a409     BTFSS     0x9,0x2,0x0        if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001106   d008     BRA       0x1118                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001108   0e01     MOVLW     0x1                  if (bittstzero(AxisActive[0]) || bittstzero(AxisActive[1]))                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00110a   1402     ANDWF     0x2,0x0,0x0                                                                                     
00110c   e103     BNZ       0x1114                                                                                          
00110e   0e01     MOVLW     0x1                                                                                             
001110   1403     ANDWF     0x3,0x0,0x0                                                                                     
001112   e002     BZ        0x1118                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001114   ec56     CALL      0x36ac,0x0             gISRTickCountForThisCommand++;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001116   f01b                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //// MOTOR 1   LM ////                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Only do this if there are steps left to take                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001118   a002     BTFSS     0x2,0x0,0x0        if (bittstzero(AxisActive[0]))                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00111a   d01b     BRA       0x1152                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00111c   ecf5     CALL      0x33ea,0x0           CurrentCommand.m.sm.Accel[0] += CurrentCommand.m.sm.Jerk[0];               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00111e   f019                                                                                                               
0033ea   519c     MOVF      0x9c,0x0,0x1                                                                                    
0033ec   27a4     ADDWF     0xa4,0x1,0x1                                                                                    
0033ee   519d     MOVF      0x9d,0x0,0x1                                                                                    
0033f0   23a5     ADDWFC    0xa5,0x1,0x1                                                                                    
0033f2   519e     MOVF      0x9e,0x0,0x1                                                                                    
0033f4   23a6     ADDWFC    0xa6,0x1,0x1                                                                                    
0033f6   519f     MOVF      0x9f,0x0,0x1                                                                                    
0033f8   23a7     ADDWFC    0xa7,0x1,0x1                                                                                    
0033fa   51a4     MOVF      0xa4,0x0,0x1         CurrentCommand.m.sm.Rate[0].value += CurrentCommand.m.sm.Accel[0];         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0033fc   278c     ADDWF     0x8c,0x1,0x1                                                                                    
0033fe   51a5     MOVF      0xa5,0x0,0x1                                                                                    
003400   238d     ADDWFC    0x8d,0x1,0x1                                                                                    
003402   51a6     MOVF      0xa6,0x0,0x1                                                                                    
003404   238e     ADDWFC    0x8e,0x1,0x1                                                                                    
003406   51a7     MOVF      0xa7,0x0,0x1                                                                                    
003408   238f     ADDWFC    0x8f,0x1,0x1                                                                                    
00340a   efa1     GOTO      0x3942               acc_union[0].value += CurrentCommand.m.sm.Rate[0].value;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00340c   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001120   ae21     BTFSS     0x21,0x7,0x0         if (acc_union[0].bytes.b4 & 0x80)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001122   d017     BRA       0x1152                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001124   0e7f     MOVLW     0x7f                   acc_union[0].bytes.b4 = acc_union[0].bytes.b4 & 0x7F;                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001126   1421     ANDWF     0x21,0x0,0x0                                                                                    
001128   6e21     MOVWF     0x21,0x0                                                                                        
00112a   8d86     BSF       0x86,0x6,0x1           CurrentCommand.m.sm.DirBits |= STEP1_BIT;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00112c   ec5c     CALL      0x36b8,0x0             CurrentCommand.m.sm.Steps[0]--;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00112e   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001130   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001132   d004     BRA       0x113c                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001134   2a2a     INCF      0x2a,0x1,0x0             gISRStepCount0ForThisCommand++;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001136   222b     ADDWFC    0x2b,0x1,0x0                                                                                    
001138   222c     ADDWFC    0x2c,0x1,0x0                                                                                    
00113a   222d     ADDWFC    0x2d,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Set the direction bit based on the sign of rate                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00113c   af8f     BTFSS     0x8f,0x7,0x1           if (CurrentCommand.m.sm.Rate[0].bytes.b4 & 0x80)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00113e   d003     BRA       0x1146                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001140   8f86     BSF       0x86,0x7,0x1             CurrentCommand.m.sm.DirBits |= DIR1_BIT;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001142   8e8c     BSF       0x8c,0x7,0x0             Dir1IO = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001144   d002     BRA       0x114a                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001146   9f86     BCF       0x86,0x7,0x1             CurrentCommand.m.sm.DirBits &= ~DIR1_BIT;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001148   9e8c     BCF       0x8c,0x7,0x0             Dir1IO = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00114a   ec0d     CALL      0x361a,0x0             if (CurrentCommand.m.sm.Steps[0] == 0u)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00114c   f01b                                                                                                               
00114e   e101     BNZ       0x1152                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001150   9002     BCF       0x2,0x0,0x0              bitclrzero(AxisActive[0]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //// MOTOR 2    LM ////                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001152   a003     BTFSS     0x3,0x0,0x0        if (bittstzero(AxisActive[1]))                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001154   d01a     BRA       0x118a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001156   ec07     CALL      0x340e,0x0           CurrentCommand.m.sm.Accel[1] += CurrentCommand.m.sm.Jerk[1];               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001158   f01a                                                                                                               
00340e   51a0     MOVF      0xa0,0x0,0x1                                                                                    
003410   27a8     ADDWF     0xa8,0x1,0x1                                                                                    
003412   51a1     MOVF      0xa1,0x0,0x1                                                                                    
003414   23a9     ADDWFC    0xa9,0x1,0x1                                                                                    
003416   51a2     MOVF      0xa2,0x0,0x1                                                                                    
003418   23aa     ADDWFC    0xaa,0x1,0x1                                                                                    
00341a   51a3     MOVF      0xa3,0x0,0x1                                                                                    
00341c   23ab     ADDWFC    0xab,0x1,0x1                                                                                    
00341e   51a8     MOVF      0xa8,0x0,0x1         CurrentCommand.m.sm.Rate[1].value += CurrentCommand.m.sm.Accel[1];         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003420   2790     ADDWF     0x90,0x1,0x1                                                                                    
003422   51a9     MOVF      0xa9,0x0,0x1                                                                                    
003424   2391     ADDWFC    0x91,0x1,0x1                                                                                    
003426   51aa     MOVF      0xaa,0x0,0x1                                                                                    
003428   2392     ADDWFC    0x92,0x1,0x1                                                                                    
00342a   51ab     MOVF      0xab,0x0,0x1                                                                                    
00342c   2393     ADDWFC    0x93,0x1,0x1                                                                                    
00342e   efaa     GOTO      0x3954               acc_union[1].value += CurrentCommand.m.sm.Rate[1].value;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003430   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00115a   ae25     BTFSS     0x25,0x7,0x0         if (acc_union[1].bytes.b4 & 0x80)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00115c   d016     BRA       0x118a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00115e   0e7f     MOVLW     0x7f                   acc_union[1].bytes.b4 = acc_union[1].bytes.b4 & 0x7F;                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001160   1425     ANDWF     0x25,0x0,0x0                                                                                    
001162   6e25     MOVWF     0x25,0x0                                                                                        
001164   ec9f     CALL      0x373e,0x0             CurrentCommand.m.sm.DirBits |= STEP2_BIT;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001166   f01b                                      CurrentCommand.m.sm.Steps[1]--;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001168   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00116a   d004     BRA       0x1174                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00116c   2a32     INCF      0x32,0x1,0x0             gISRStepCount1ForThisCommand++;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00116e   2233     ADDWFC    0x33,0x1,0x0                                                                                    
001170   2234     ADDWFC    0x34,0x1,0x0                                                                                    
001172   2235     ADDWFC    0x35,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Set the direction bit based on the sign of rate                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001174   af93     BTFSS     0x93,0x7,0x1           if (CurrentCommand.m.sm.Rate[1].bytes.b4 & 0x80)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001176   d003     BRA       0x117e                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001178   8b86     BSF       0x86,0x5,0x1             CurrentCommand.m.sm.DirBits |= DIR2_BIT;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00117a   8a8c     BSF       0x8c,0x5,0x0             Dir2IO = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00117c   d002     BRA       0x1182                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00117e   9b86     BCF       0x86,0x5,0x1             CurrentCommand.m.sm.DirBits &= ~DIR2_BIT;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001180   9a8c     BCF       0x8c,0x5,0x0             Dir2IO = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001182   ec6b     CALL      0x36d6,0x0             if (CurrentCommand.m.sm.Steps[1] == 0u)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001184   f01b                                                                                                               
001186   e101     BNZ       0x118a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001188   9003     BCF       0x3,0x0,0x0              bitclrzero(AxisActive[1]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // We want to allow for a one-ISR tick move, which requires us to check      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // to see if the move has been completed here (to load the next command      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // this tick rather than waiting for the next tick). This primarily gives    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // us simpler math when figuring out how long moves will take.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00118a   0e01     MOVLW     0x1                if (bittstzero(AxisActive[0]) || bittstzero(AxisActive[1]))                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00118c   1402     ANDWF     0x2,0x0,0x0                                                                                     
00118e   e103     BNZ       0x1196                                                                                          
001190   0e01     MOVLW     0x1                                                                                             
001192   1403     ANDWF     0x3,0x0,0x0                                                                                     
001194   e03e     BZ        0x1212                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001196   9000     BCF       0x0,0x0,0x0          bitclrzero(AllDone);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001198   d03c     BRA       0x1212             goto OutputBits;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // The Low level Timed (LT) command is pretty special. Instead of running      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // until all step counts are zero, it runs for a certain amount of 25Khz       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // ISR ticks (stored in .Steps[0]). Both axis continue to produce steps        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // until the time is used up. This affects how AxisActive is computed.         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Only AxisActive[0] is used for this command, not AxisActive[1].             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00119a   0e07     MOVLW     0x7              if (CurrentCommand.Command == COMMAND_LT_MOVE)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00119c   5d85     SUBWF     0x85,0x0,0x1                                                                                    
00119e   e139     BNZ       0x1212                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Has time run out for this command yet?                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011a0   a002     BTFSS     0x2,0x0,0x0        if (bittstzero(AxisActive[0]))                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011a2   d037     BRA       0x1212                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // If the test mode is active, count this tick as part of the move if there D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // are steps to take.                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011a4   a409     BTFSS     0x9,0x2,0x0          if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011a6   d002     BRA       0x11ac                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011a8   ec56     CALL      0x36ac,0x0             gISRTickCountForThisCommand++;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011aa   f01b                                                                                                               
0036ac   2a26     INCF      0x26,0x1,0x0                                                                                    
0036ae   0e00     MOVLW     0x0                                                                                             
0036b0   2227     ADDWFC    0x27,0x1,0x0                                                                                    
0036b2   2228     ADDWFC    0x28,0x1,0x0                                                                                    
0036b4   2229     ADDWFC    0x29,0x1,0x0                                                                                    
0036b6   0012     RETURN    0x0                                                                                             
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // A simple optimization: we only have one 'count' for LT, to know         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // when we're done, so we can directly clear AllDone here if we are        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // not yet done with this move.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011ac   9000     BCF       0x0,0x0,0x0          bitclrzero(AllDone);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Nope not done. So count this ISR tick, and then see if we need to take  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // a step                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011ae   ec5c     CALL      0x36b8,0x0           CurrentCommand.m.sm.Steps[0]--;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011b0   f01b                                                                                                               
0036b8   0794     DECF      0x94,0x1,0x1                                                                                    
0036ba   0e00     MOVLW     0x0                                                                                             
0036bc   5b95     SUBWFB    0x95,0x1,0x1                                                                                    
0036be   5b96     SUBWFB    0x96,0x1,0x1                                                                                    
0036c0   5b97     SUBWFB    0x97,0x1,0x1                                                                                    
0036c2   0012     RETURN    0x0                                                                                             
0011b2   ec0d     CALL      0x361a,0x0           if (CurrentCommand.m.sm.Steps[0] == 0u)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011b4   f01b                                                                                                               
0011b6   e101     BNZ       0x11ba                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011b8   9002     BCF       0x2,0x0,0x0            bitclrzero(AxisActive[0]);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 //// MOTOR 1   LT ////                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011ba   ecf5     CALL      0x33ea,0x0           CurrentCommand.m.sm.Accel[0] += CurrentCommand.m.sm.Jerk[0];               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011bc   f019                                                                                                               
                                                 CurrentCommand.m.sm.Rate[0].value += CurrentCommand.m.sm.Accel[0];         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 acc_union[0].value += CurrentCommand.m.sm.Rate[0].value;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011be   ae21     BTFSS     0x21,0x7,0x0         if (acc_union[0].bytes.b4 & 0x80)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011c0   d012     BRA       0x11e6                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011c2   0e7f     MOVLW     0x7f                   acc_union[0].bytes.b4 = acc_union[0].bytes.b4 & 0x7F;                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011c4   1421     ANDWF     0x21,0x0,0x0                                                                                    
0011c6   6e21     MOVWF     0x21,0x0                                                                                        
0011c8   8d86     BSF       0x86,0x6,0x1           CurrentCommand.m.sm.DirBits |= STEP1_BIT;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011ca   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011cc   d005     BRA       0x11d8                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011ce   2a2a     INCF      0x2a,0x1,0x0             gISRStepCount0ForThisCommand++;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011d0   0e00     MOVLW     0x0                                                                                             
0011d2   222b     ADDWFC    0x2b,0x1,0x0                                                                                    
0011d4   222c     ADDWFC    0x2c,0x1,0x0                                                                                    
0011d6   222d     ADDWFC    0x2d,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Set the direction bit based on the sign of rate                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011d8   af8f     BTFSS     0x8f,0x7,0x1           if (CurrentCommand.m.sm.Rate[0].bytes.b4 & 0x80)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011da   d003     BRA       0x11e2                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011dc   8f86     BSF       0x86,0x7,0x1             CurrentCommand.m.sm.DirBits |= DIR1_BIT;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011de   8e8c     BSF       0x8c,0x7,0x0             Dir1IO = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011e0   d002     BRA       0x11e6                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011e2   9f86     BCF       0x86,0x7,0x1             CurrentCommand.m.sm.DirBits &= ~DIR1_BIT;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011e4   9e8c     BCF       0x8c,0x7,0x0             Dir1IO = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 //// MOTOR 2    LT  ////                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011e6   ec07     CALL      0x340e,0x0           CurrentCommand.m.sm.Accel[1] += CurrentCommand.m.sm.Jerk[1];               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011e8   f01a                                                                                                               
                                                 CurrentCommand.m.sm.Rate[1].value += CurrentCommand.m.sm.Accel[1];         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 acc_union[1].value += CurrentCommand.m.sm.Rate[1].value;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011ea   ae25     BTFSS     0x25,0x7,0x0         if (acc_union[1].bytes.b4 & 0x80)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011ec   d012     BRA       0x1212                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011ee   0e7f     MOVLW     0x7f                   acc_union[1].bytes.b4 = acc_union[1].bytes.b4 & 0x7F;                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011f0   1425     ANDWF     0x25,0x0,0x0                                                                                    
0011f2   6e25     MOVWF     0x25,0x0                                                                                        
0011f4   8986     BSF       0x86,0x4,0x1           CurrentCommand.m.sm.DirBits |= STEP2_BIT;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011f6   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011f8   d005     BRA       0x1204                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011fa   2a32     INCF      0x32,0x1,0x0             gISRStepCount1ForThisCommand++;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011fc   0e00     MOVLW     0x0                                                                                             
0011fe   2233     ADDWFC    0x33,0x1,0x0                                                                                    
001200   2234     ADDWFC    0x34,0x1,0x0                                                                                    
001202   2235     ADDWFC    0x35,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Set the direction bit based on the sign of rate                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001204   af93     BTFSS     0x93,0x7,0x1           if (CurrentCommand.m.sm.Rate[1].bytes.b4 & 0x80)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001206   d003     BRA       0x120e                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001208   8b86     BSF       0x86,0x5,0x1             CurrentCommand.m.sm.DirBits |= DIR2_BIT;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00120a   8a8c     BSF       0x8c,0x5,0x0             Dir2IO = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00120c   d002     BRA       0x1212                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00120e   9b86     BCF       0x86,0x5,0x1             CurrentCommand.m.sm.DirBits &= ~DIR2_BIT;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001210   9a8c     BCF       0x8c,0x5,0x0             Dir2IO = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // This next block of code (OutputBits:) is common to all of the above         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // stepper motion commands. Each of them either jumps here when they           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // are done or falls through in the case of the last command above.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // This block sets/clears step and direction GPIO bits if the command that just D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // ran needs to output something new. Also takes care of recording this        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // step properly.                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // NOTE: Even though it seems like a bad idea to have non-stepper              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // commands execute this block before they are caught below, doing it this     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // way saves a few instruction cycles for the commands where speed matters     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // most - the stepper commands.                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           OutputBits:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Now check to see if either stepper needs to actually output a step pulse    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001212   0e50     MOVLW     0x50             if ((CurrentCommand.m.sm.DirBits & (STEP1_BIT | STEP2_BIT)) != 0u)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001214   1586     ANDWF     0x86,0x0,0x1                                                                                    
001216   e04e     BZ        0x12b4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001218   5004     MOVF      0x4,0x0,0x0        if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00121a   e105     BNZ       0x1226                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // The Step and Direction bits are all output on the top four bits         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // of PortD. So we can be very efficient here and simply output those      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // four bits directly to port D.                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00121c   0e0f     MOVLW     0xf                  LATD = (PORTD & ~(STEP1_BIT | STEP2_BIT | DIR1_BIT | DIR2_BIT)) | CurrentCommand.m.sm.DirBits; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00121e   1483     ANDWF     0x83,0x0,0x0                                                                                    
001220   1186     IORWF     0x86,0x0,0x1                                                                                    
001222   6e8c     MOVWF     0x8c,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001224   d00e     BRA       0x1242             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set the DIR Bits                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001226   af86     BTFSS     0x86,0x7,0x1         if (bittst(CurrentCommand.m.sm.DirBits, DIR1_BIT_NUM))                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001228   d002     BRA       0x122e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00122a   848b     BSF       0x8b,0x2,0x0           Dir1AltIO = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00122c   d001     BRA       0x1230               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00122e   948b     BCF       0x8b,0x2,0x0           Dir1AltIO = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001230   ab86     BTFSS     0x86,0x5,0x1         if (bittst(CurrentCommand.m.sm.DirBits, DIR2_BIT_NUM))                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001232   d002     BRA       0x1238                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001234   8489     BSF       0x89,0x2,0x0           Dir2AltIO = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001236   d001     BRA       0x123a               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001238   9489     BCF       0x89,0x2,0x0           Dir2AltIO = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set the STEP bits                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00123a   bd86     BTFSC     0x86,0x6,0x1         if (bittst(CurrentCommand.m.sm.DirBits, STEP1_BIT_NUM))                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00123c   8c8b     BSF       0x8b,0x6,0x0           Step1AltIO = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00123e   b986     BTFSC     0x86,0x4,0x1         if (bittst(CurrentCommand.m.sm.DirBits, STEP2_BIT_NUM))                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001240   8a89     BSF       0x89,0x5,0x0           Step2AltIO = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // This next section not only counts the step(s) we are taking, but          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // also acts as a delay to keep the step bit set for a little while.         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001242   ad86     BTFSS     0x86,0x6,0x1       if (bittst(CurrentCommand.m.sm.DirBits, STEP1_BIT_NUM))                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001244   d019     BRA       0x1278                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001246   af86     BTFSS     0x86,0x7,0x1         if (bittst(CurrentCommand.m.sm.DirBits, DIR1_BIT_NUM))                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001248   d00c     BRA       0x1262                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00124a   0616     DECF      0x16,0x1,0x0           globalStepCounter1--;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00124c   0e00     MOVLW     0x0                                                                                             
00124e   5a17     SUBWFB    0x17,0x1,0x0                                                                                    
001250   5a18     SUBWFB    0x18,0x1,0x0                                                                                    
001252   5a19     SUBWFB    0x19,0x1,0x0                                                                                    
001254   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001256   d010     BRA       0x1278                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001258   062e     DECF      0x2e,0x1,0x0             gISRPosition0ForThisCommand--;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00125a   5a2f     SUBWFB    0x2f,0x1,0x0                                                                                    
00125c   5a30     SUBWFB    0x30,0x1,0x0                                                                                    
00125e   5a31     SUBWFB    0x31,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001260   d00b     BRA       0x1278               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001262   2a16     INCF      0x16,0x1,0x0           globalStepCounter1++;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001264   0e00     MOVLW     0x0                                                                                             
001266   2217     ADDWFC    0x17,0x1,0x0                                                                                    
001268   2218     ADDWFC    0x18,0x1,0x0                                                                                    
00126a   2219     ADDWFC    0x19,0x1,0x0                                                                                    
00126c   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00126e   d004     BRA       0x1278                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001270   2a2e     INCF      0x2e,0x1,0x0             gISRPosition0ForThisCommand++;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001272   222f     ADDWFC    0x2f,0x1,0x0                                                                                    
001274   2230     ADDWFC    0x30,0x1,0x0                                                                                    
001276   2231     ADDWFC    0x31,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001278   a986     BTFSS     0x86,0x4,0x1       if (bittst(CurrentCommand.m.sm.DirBits, STEP2_BIT_NUM))                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00127a   d019     BRA       0x12ae                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00127c   ab86     BTFSS     0x86,0x5,0x1         if (bittst(CurrentCommand.m.sm.DirBits, DIR2_BIT_NUM))                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00127e   d00c     BRA       0x1298                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001280   061a     DECF      0x1a,0x1,0x0           globalStepCounter2--;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001282   0e00     MOVLW     0x0                                                                                             
001284   5a1b     SUBWFB    0x1b,0x1,0x0                                                                                    
001286   5a1c     SUBWFB    0x1c,0x1,0x0                                                                                    
001288   5a1d     SUBWFB    0x1d,0x1,0x0                                                                                    
00128a   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00128c   d010     BRA       0x12ae                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00128e   0636     DECF      0x36,0x1,0x0             gISRPosition1ForThisCommand--;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001290   5a37     SUBWFB    0x37,0x1,0x0                                                                                    
001292   5a38     SUBWFB    0x38,0x1,0x0                                                                                    
001294   5a39     SUBWFB    0x39,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001296   d00b     BRA       0x12ae               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001298   2a1a     INCF      0x1a,0x1,0x0           globalStepCounter2++;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00129a   0e00     MOVLW     0x0                                                                                             
00129c   221b     ADDWFC    0x1b,0x1,0x0                                                                                    
00129e   221c     ADDWFC    0x1c,0x1,0x0                                                                                    
0012a0   221d     ADDWFC    0x1d,0x1,0x0                                                                                    
0012a2   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012a4   d004     BRA       0x12ae                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012a6   2a36     INCF      0x36,0x1,0x0             gISRPosition1ForThisCommand++;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012a8   2237     ADDWFC    0x37,0x1,0x0                                                                                    
0012aa   2238     ADDWFC    0x38,0x1,0x0                                                                                    
0012ac   2239     ADDWFC    0x39,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Clear the two step bits so they're empty for the next pass through ISR    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012ae   0eaf     MOVLW     0xaf               CurrentCommand.m.sm.DirBits &= ~(STEP1_BIT | STEP2_BIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012b0   1786     ANDWF     0x86,0x1,0x1                                                                                    
                                               // We need to skip over all the rest of command checks, since we already     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // handled the command that is currently executing.                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012b2   d0e4     BRA       0x147c             goto CheckForNextCommand;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           NonStepperCommands:                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Now check for all the other (non-stepper based) motion FIFO commands        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012b4   0e02     MOVLW     0x2              if (CurrentCommand.Command == COMMAND_SERVO_MOVE)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012b6   5d85     SUBWF     0x85,0x0,0x1                                                                                    
0012b8   e158     BNZ       0x136a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Check to see if we should change the state of the pen                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012ba   a005     BTFSS     0x5,0x0,0x0        if (bittstzero(gUseRCPenServo))                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012bc   d03a     BRA       0x1332                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Precompute the channel, since we use it all over the place              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012be   05af     DECF      0xaf,0x0,0x1         ISR_Channel = CurrentCommand.m.sm.ServoChannel - 1;                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012c0   6e0a     MOVWF     0xa,0x0                                                                                         
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // This code below is the meat of the RCServo2_Move() function             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // We have to manually write it in here rather than calling                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // the function because a real function inside the ISR                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // causes the compiler to generate enormous amounts of setup/tear down     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // code and things run way too slowly.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // If the user is trying to turn off this channel's RC servo output        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012c2   51ad     MOVF      0xad,0x0,0x1         if (0u == CurrentCommand.m.sm.ServoPosition)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012c4   11ae     IORWF     0xae,0x0,0x1                                                                                    
0012c6   e11a     BNZ       0x12fc                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Turn off the PPS routing to the pin                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012c8   ec06     CALL      0x360c,0x0             *(gRC2RPORPtr + gRC2RPn[ISR_Channel]) = 0;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012ca   f01b                                                                                                               
0012cc   50ef     MOVF      0xef,0x0,0x0                                                                                    
0012ce   0100     MOVLB     0x0                                                                                             
0012d0   6aea     CLRF      0xea,0x0                                                                                        
0012d2   259c     ADDWF     0x9c,0x0,0x1                                                                                    
0012d4   6ee9     MOVWF     0xe9,0x0                                                                                        
0012d6   519d     MOVF      0x9d,0x0,0x1                                                                                    
0012d8   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0012da   6aef     CLRF      0xef,0x0                                                                                        
                                                   // Clear everything else out for this channel                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012dc   ece8     CALL      0x39d0,0x0             gRC2Rate[ISR_Channel] = 0;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012de   f01c                                                                                                               
0012e0   6aee     CLRF      0xee,0x0                                                                                        
0012e2   6aed     CLRF      0xed,0x0                                                                                        
0039d0   dcff     RCALL     0x33d0                                                                                          
0039d2   0e89     MOVLW     0x89                                                                                            
0039d4   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0039d6   0e00     MOVLW     0x0                                                                                             
0039d8   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0039da   0012     RETURN    0x0                                                                                             
0012e4   ecee     CALL      0x39dc,0x0             gRC2Target[ISR_Channel] = 0;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012e6   f01c                                                                                                               
0012e8   6aee     CLRF      0xee,0x0                                                                                        
0012ea   6aed     CLRF      0xed,0x0                                                                                        
0039dc   dcf9     RCALL     0x33d0                                                                                          
0039de   0e79     MOVLW     0x79                                                                                            
0039e0   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0039e2   0e00     MOVLW     0x0                                                                                             
0039e4   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0039e6   0012     RETURN    0x0                                                                                             
0012ec   ec06     CALL      0x360c,0x0             gRC2RPn[ISR_Channel] = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012ee   f01b                                                                                                               
0012f0   6aef     CLRF      0xef,0x0                                                                                        
0012f2   ec08     CALL      0x3a10,0x0             gRC2Value[ISR_Channel] = 0;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012f4   f01d                                                                                                               
0012f6   6aee     CLRF      0xee,0x0                                                                                        
0012f8   6aed     CLRF      0xed,0x0                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012fa   d01b     BRA       0x1332               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Otherwise, set all of the values that start this RC servo moving      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012fc   ece8     CALL      0x39d0,0x0             gRC2Rate[ISR_Channel] = CurrentCommand.m.sm.ServoRate;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012fe   f01c                                                                                                               
001300   c1b0     MOVFF     0x1b0,0xfee                                                                                     
001302   ffee                                                                                                               
001304   c1b1     MOVFF     0x1b1,0xfed                                                                                     
001306   ffed                                                                                                               
001308   ecee     CALL      0x39dc,0x0             gRC2Target[ISR_Channel] = CurrentCommand.m.sm.ServoPosition;             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00130a   f01c                                                                                                               
00130c   c1ad     MOVFF     0x1ad,0xfee                                                                                     
00130e   ffee                                                                                                               
001310   c1ae     MOVFF     0x1ae,0xfed                                                                                     
001312   ffed                                                                                                               
001314   ec06     CALL      0x360c,0x0             gRC2RPn[ISR_Channel] = CurrentCommand.m.sm.ServoRPn;                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001316   f01b                                                                                                               
001318   c1ac     MOVFF     0x1ac,0xfef                                                                                     
00131a   ffef                                                                                                               
00360c   500a     MOVF      0xa,0x0,0x0                                                                                     
00360e   6aea     CLRF      0xea,0x0                                                                                        
003610   0f71     ADDLW     0x71                                                                                            
003612   6ee9     MOVWF     0xe9,0x0                                                                                        
003614   0e00     MOVLW     0x0                                                                                             
003616   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003618   0012     RETURN    0x0                                                                                             
00131c   ec08     CALL      0x3a10,0x0             if (gRC2Value[ISR_Channel] == 0u)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00131e   f01d                                                                                                               
001320   50ee     MOVF      0xee,0x0,0x0                                                                                    
001322   10ed     IORWF     0xed,0x0,0x0                                                                                    
001324   e106     BNZ       0x1332                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001326   ec08     CALL      0x3a10,0x0               gRC2Value[ISR_Channel] = CurrentCommand.m.sm.ServoPosition;            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001328   f01d                                                                                                               
00132a   c1ad     MOVFF     0x1ad,0xfee                                                                                     
00132c   ffee                                                                                                               
00132e   c1ae     MOVFF     0x1ae,0xfed                                                                                     
001330   ffed                                                                                                               
0033d0   500a     MOVF      0xa,0x0,0x0                                                                                     
0033d2   6ee9     MOVWF     0xe9,0x0                                                                                        
0033d4   6aea     CLRF      0xea,0x0                                                                                        
0033d6   90d8     BCF       0xd8,0x0,0x0                                                                                    
0033d8   36e9     RLCF      0xe9,0x1,0x0                                                                                    
0033da   36ea     RLCF      0xea,0x1,0x0                                                                                    
0033dc   0012     RETURN    0x0                                                                                             
003784   0e61     MOVLW     0x61                                                                                            
003786   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003788   0e00     MOVLW     0x0                                                                                             
00378a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00378c   0012     RETURN    0x0                                                                                             
003a10   dcdf     RCALL     0x33d0                                                                                          
003a12   efc2     GOTO      0x3784                                                                                          
003a14   f01b                                                                                                               
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // If this servo is the pen servo (on g_servo2_RPn)                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001332   0100     MOVLB     0x0                if (CurrentCommand.m.sm.ServoRPn == g_servo2_RPn)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001334   51a6     MOVF      0xa6,0x0,0x1                                                                                    
001336   0101     MOVLB     0x1                                                                                             
001338   5dac     SUBWF     0xac,0x0,0x1                                                                                    
00133a   e117     BNZ       0x136a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Then set its new state based on the new position                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00133c   0100     MOVLB     0x0                  if (CurrentCommand.m.sm.ServoPosition == g_servo2_min)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00133e   51a0     MOVF      0xa0,0x0,0x1                                                                                    
001340   0101     MOVLB     0x1                                                                                             
001342   19ad     XORWF     0xad,0x0,0x1                                                                                    
001344   e10c     BNZ       0x135e                                                                                          
001346   0100     MOVLB     0x0                                                                                             
001348   51a1     MOVF      0xa1,0x0,0x1                                                                                    
00134a   0101     MOVLB     0x1                                                                                             
00134c   19ae     XORWF     0xae,0x0,0x1                                                                                    
00134e   e107     BNZ       0x135e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001350   0e01     MOVLW     0x1                    PenState = PEN_UP;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001352   6fb9     MOVWF     0xb9,0x1                                                                                        
001354   6bb6     CLRF      0xb6,0x1               SolenoidState = SOLENOID_OFF;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001356   51c1     MOVF      0xc1,0x0,0x1           if (gUseSolenoid)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001358   e008     BZ        0x136a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00135a   988a     BCF       0x8a,0x4,0x0             PenUpDownIO = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00135c   d006     BRA       0x136a               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00135e   6bb9     CLRF      0xb9,0x1               PenState = PEN_DOWN;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001360   0e01     MOVLW     0x1                    SolenoidState = SOLENOID_ON;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001362   6fb6     MOVWF     0xb6,0x1                                                                                        
001364   51c1     MOVF      0xc1,0x0,0x1           if (gUseSolenoid)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001366   e001     BZ        0x136a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001368   888a     BSF       0x8a,0x4,0x0             PenUpDownIO = 1;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if (                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001376   0e02     MOVLW     0x2                (CurrentCommand.Command == COMMAND_SERVO_MOVE)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001378   5d85     SUBWF     0x85,0x0,0x1                                                                                    
00137a   e002     BZ        0x1380                                                                                          
00137c   0e00     MOVLW     0x0                                                                                             
00137e   d001     BRA       0x1382                                                                                          
001380   0e01     MOVLW     0x1                                                                                             
                                               |                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00136a   0585     DECF      0x85,0x0,0x1       (CurrentCommand.Command == COMMAND_DELAY)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00136c   e002     BZ        0x1372                                                                                          
00136e   0e00     MOVLW     0x0                                                                                             
001370   d001     BRA       0x1374                                                                                          
001372   0e01     MOVLW     0x1                                                                                             
001374   6e5a     MOVWF     0x5a,0x0                                                                                        
001382   105a     IORWF     0x5a,0x0,0x0     )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001384   e00e     BZ        0x13a2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // NOTE: Intentional fall-through to COMMAND_DELAY here                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Because the only two commands that ever use DelayCounter are              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // COMMAND_DELAY and COMMAND_SERVO_MOVE. So we handle the servo stuff        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // above, and then let it fall through to the delay code below.              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Handle a delay                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001386   ec70     CALL      0x36e0,0x0         if (CurrentCommand.m.sm.DelayCounter)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001388   f01b                                                                                                               
00138a   e101     BNZ       0x138e                                                                                          
00138c   d077     BRA       0x147c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00138e   0787     DECF      0x87,0x1,0x1         CurrentCommand.m.sm.DelayCounter--;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001390   0e00     MOVLW     0x0                                                                                             
001392   5b88     SUBWFB    0x88,0x1,0x1                                                                                    
001394   5b89     SUBWFB    0x89,0x1,0x1                                                                                    
001396   5b8a     SUBWFB    0x8a,0x1,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001398   ec70     CALL      0x36e0,0x0           if (CurrentCommand.m.sm.DelayCounter)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00139a   f01b                                                                                                               
00139c   e06f     BZ        0x147c                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00139e   9000     BCF       0x0,0x0,0x0            bitclrzero(AllDone);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013a0   d06d     BRA       0x147c             goto CheckForNextCommand;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013a2   0e03     MOVLW     0x3              if (CurrentCommand.Command == COMMAND_SE)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013a4   5d85     SUBWF     0x85,0x0,0x1                                                                                    
0013a6   e12a     BNZ       0x13fc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Check to see if we should start or stop the engraver                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Now act on the State of the SE command                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013a8   518b     MOVF      0x8b,0x0,0x1       if (CurrentCommand.m.sm.SEState)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013aa   e023     BZ        0x13f2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set RB3 to StoredEngraverPower                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013ac   c1b2     MOVFF     0x1b2,0x5a           CCPR1L = CurrentCommand.m.sm.SEPower >> 2;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013ae   f05a                                                                                                               
0013b0   c1b3     MOVFF     0x1b3,0x5b                                                                                      
0013b2   f05b                                                                                                               
0013b4   90d8     BCF       0xd8,0x0,0x0                                                                                    
0013b6   325b     RRCF      0x5b,0x1,0x0                                                                                    
0013b8   325a     RRCF      0x5a,0x1,0x0                                                                                    
0013ba   90d8     BCF       0xd8,0x0,0x0                                                                                    
0013bc   325b     RRCF      0x5b,0x1,0x0                                                                                    
0013be   325a     RRCF      0x5a,0x1,0x0                                                                                    
0013c0   505a     MOVF      0x5a,0x0,0x0                                                                                    
0013c2   6ebb     MOVWF     0xbb,0x0                                                                                        
0013c4   c1bf     MOVFF     0x1bf,0x5c           CCP1CON = (CCP1CON & 0b11001111) | ((StoredEngraverPower << 4) & 0b00110000); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013c6   f05c                                                                                                               
0013c8   c1c0     MOVFF     0x1c0,0x5d                                                                                      
0013ca   f05d                                                                                                               
0013cc   0e04     MOVLW     0x4                                                                                             
0013ce   90d8     BCF       0xd8,0x0,0x0                                                                                    
0013d0   365c     RLCF      0x5c,0x1,0x0                                                                                    
0013d2   365d     RLCF      0x5d,0x1,0x0                                                                                    
0013d4   04e8     DECF      0xe8,0x0,0x0                                                                                    
0013d6   e1fb     BNZ       0x13ce                                                                                          
0013d8   0e30     MOVLW     0x30                                                                                            
0013da   165c     ANDWF     0x5c,0x1,0x0                                                                                    
0013dc   0e00     MOVLW     0x0                                                                                             
0013de   165d     ANDWF     0x5d,0x1,0x0                                                                                    
0013e0   0ecf     MOVLW     0xcf                                                                                            
0013e2   14ba     ANDWF     0xba,0x0,0x0                                                                                    
0013e4   0100     MOVLB     0x0                                                                                             
0013e6   105c     IORWF     0x5c,0x0,0x0                                                                                    
0013e8   6e5a     MOVWF     0x5a,0x0                                                                                        
0013ea   c05d     MOVFF     0x5d,0x5b                                                                                       
0013ec   f05b                                                                                                               
0013ee   50e8     MOVF      0xe8,0x0,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013f0   d003     BRA       0x13f8             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set RB3 to low by setting PWM duty cycle to zero                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013f2   6abb     CLRF      0xbb,0x0             CCPR1L = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013f4   0ecf     MOVLW     0xcf                 CCP1CON = (CCP1CON & 0b11001111);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013f6   14ba     ANDWF     0xba,0x0,0x0                                                                                    
0013f8   6eba     MOVWF     0xba,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // This is probably unnecessary, but it's critical to be sure to indicate that the current command is finished D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               bitsetzero(AllDone);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013fa   d03f     BRA       0x147a             goto CheckForNextCommand;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013fc   0e04     MOVLW     0x4              if (CurrentCommand.Command == COMMAND_EM)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013fe   5d85     SUBWF     0x85,0x0,0x1                                                                                    
001400   e13d     BNZ       0x147c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // As of version 2.8.0, we now have the EM command transplanted here into    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // the motion queue. This is so that changes to motor enable or microstep    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // resolution happen at predictable times rather than randomly.              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // We use CurrentCommand.m.sm.DirBits as "EA1" (the first parameter) and     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // CurrentCommand.m.sm.ServoRPn as "EA2" (the second parameter) since they're D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // both UINT8s.                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001402   5186     MOVF      0x86,0x0,0x1       if (CurrentCommand.m.sm.DirBits > 0u)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001404   0800     SUBLW     0x0                                                                                             
001406   e223     BC        0x144e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001408   5004     MOVF      0x4,0x0,0x0          if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00140a   e102     BNZ       0x1410                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00140c   908d     BCF       0x8d,0x0,0x0           Enable1IO = ENABLE_MOTOR;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00140e   d001     BRA       0x1412               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001410   928c     BCF       0x8c,0x1,0x0           Enable1AltIO = ENABLE_MOTOR;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001412   0586     DECF      0x86,0x0,0x1         if (CurrentCommand.m.sm.DirBits == 1u)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001414   e103     BNZ       0x141c                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001416   848d     BSF       0x8d,0x2,0x0           MS1_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001418   828d     BSF       0x8d,0x1,0x0           MS2_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00141a   8c89     BSF       0x89,0x6,0x0           MS3_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00141c   0e02     MOVLW     0x2                  if (CurrentCommand.m.sm.DirBits == 2u)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00141e   5d86     SUBWF     0x86,0x0,0x1                                                                                    
001420   e103     BNZ       0x1428                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001422   848d     BSF       0x8d,0x2,0x0           MS1_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001424   828d     BSF       0x8d,0x1,0x0           MS2_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001426   9c89     BCF       0x89,0x6,0x0           MS3_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001428   0e03     MOVLW     0x3                  if (CurrentCommand.m.sm.DirBits == 3u)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00142a   5d86     SUBWF     0x86,0x0,0x1                                                                                    
00142c   e103     BNZ       0x1434                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00142e   948d     BCF       0x8d,0x2,0x0           MS1_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001430   828d     BSF       0x8d,0x1,0x0           MS2_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001432   9c89     BCF       0x89,0x6,0x0           MS3_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001434   0e04     MOVLW     0x4                  if (CurrentCommand.m.sm.DirBits == 4u)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001436   5d86     SUBWF     0x86,0x0,0x1                                                                                    
001438   e103     BNZ       0x1440                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00143a   848d     BSF       0x8d,0x2,0x0           MS1_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00143c   928d     BCF       0x8d,0x1,0x0           MS2_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00143e   9c89     BCF       0x89,0x6,0x0           MS3_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001440   0e05     MOVLW     0x5                  if (CurrentCommand.m.sm.DirBits == 5u)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001442   5d86     SUBWF     0x86,0x0,0x1                                                                                    
001444   e109     BNZ       0x1458                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001446   948d     BCF       0x8d,0x2,0x0           MS1_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001448   928d     BCF       0x8d,0x1,0x0           MS2_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00144a   9c89     BCF       0x89,0x6,0x0           MS3_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00144c   d005     BRA       0x1458             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00144e   5004     MOVF      0x4,0x0,0x0          if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001450   e102     BNZ       0x1456                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001452   808d     BSF       0x8d,0x0,0x0           Enable1IO = DISABLE_MOTOR;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001454   d001     BRA       0x1458               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001456   828c     BSF       0x8c,0x1,0x0           Enable1AltIO = DISABLE_MOTOR;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001458   51ac     MOVF      0xac,0x0,0x1       if (CurrentCommand.m.sm.ServoRPn > 0u)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00145a   0800     SUBLW     0x0                                                                                             
00145c   e206     BC        0x146a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00145e   5004     MOVF      0x4,0x0,0x0          if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001460   e102     BNZ       0x1466                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001462   928b     BCF       0x8b,0x1,0x0           Enable2IO = ENABLE_MOTOR;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001464   d007     BRA       0x1474               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001466   9289     BCF       0x89,0x1,0x0           Enable2AltIO = ENABLE_MOTOR;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001468   d005     BRA       0x1474             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00146a   5004     MOVF      0x4,0x0,0x0          if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00146c   e102     BNZ       0x1472                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00146e   828b     BSF       0x8b,0x1,0x0           Enable2IO = DISABLE_MOTOR;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001470   d001     BRA       0x1474               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001472   8289     BSF       0x89,0x1,0x0           Enable2AltIO = DISABLE_MOTOR;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Always clear the step counts if motors are enabled/disabled or            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // resolution is changed.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // NOTE: This section is the same code as clear_StepCounters(), but since    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // we can't have any function calls in an ISR (or the ISR blows up in        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // space and speed) we have to copy the guts of that function here.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Clear out the global step counters                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001474   ec4f     CALL      0x349e,0x0         globalStepCounter1 = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001476   f01a                                                                                                               
00349e   6a16     CLRF      0x16,0x0                                                                                        
0034a0   6a17     CLRF      0x17,0x0                                                                                        
0034a2   6a18     CLRF      0x18,0x0                                                                                        
0034a4   6a19     CLRF      0x19,0x0                                                                                        
0034a6   6a1a     CLRF      0x1a,0x0           globalStepCounter2 = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0034a8   6a1b     CLRF      0x1b,0x0                                                                                        
0034aa   6a1c     CLRF      0x1c,0x0                                                                                        
0034ac   6a1d     CLRF      0x1d,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Clear both step accumulators as well                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0034ae   6a1e     CLRF      0x1e,0x0           acc_union[0].value = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0034b0   6a1f     CLRF      0x1f,0x0                                                                                        
0034b2   6a20     CLRF      0x20,0x0                                                                                        
0034b4   6a21     CLRF      0x21,0x0                                                                                        
0034b6   6a22     CLRF      0x22,0x0           acc_union[1].value = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0034b8   6a23     CLRF      0x23,0x0                                                                                        
0034ba   6a24     CLRF      0x24,0x0                                                                                        
0034bc   6a25     CLRF      0x25,0x0                                                                                        
0034be   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // All EM command clear the limit switch trigger                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001478   900e     BCF       0xe,0x0,0x0        bitclrzero(gLimitSwitchTriggered);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // This is probably unnecessary, but it's critical to be sure to indicate that the current command is finished D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00147a   8000     BSF       0x0,0x0,0x0        bitsetzero(AllDone);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If no bits in CurrentCommand.Command are set then AllDone will be true,     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // so we'll go on to the next command (if there is one)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           CheckForNextCommand:                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Deal with printing out internal ISR values                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Note that TEST_MODE_USART_ISR_BIT is set for both normal (only end of move) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // and full (every ISR tick) printing.                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00147c   a409     BTFSS     0x9,0x2,0x0      if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00147e   d0fd     BRA       0x167a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001480   0e01     MOVLW     0x1                if (bittstzero(AllDone) || bittst(TestMode, TEST_MODE_USART_ISR_FULL_NUM))   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001482   1400     ANDWF     0x0,0x0,0x0                                                                                     
001484   e104     BNZ       0x148e                                                                                          
001486   0e08     MOVLW     0x8                                                                                             
001488   1409     ANDWF     0x9,0x0,0x0                                                                                     
00148a   e101     BNZ       0x148e                                                                                          
00148c   d0f6     BRA       0x167a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // If this is the end of an LM move, then print out all the important values D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // of everything (now that global step positions have been taken into      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // account) for checking that our math is working right                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 if (                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0014ac   0e06     MOVLW     0x6                    (CurrentCommand.Command == COMMAND_LM_MOVE)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0014ae   5d85     SUBWF     0x85,0x0,0x1                                                                                    
0014b0   e002     BZ        0x14b6                                                                                          
0014b2   0e00     MOVLW     0x0                                                                                             
0014b4   d001     BRA       0x14b8                                                                                          
0014b6   0e01     MOVLW     0x1                                                                                             
                                                   |                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00149e   0e07     MOVLW     0x7                    (CurrentCommand.Command == COMMAND_LT_MOVE)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0014a0   5d85     SUBWF     0x85,0x0,0x1                                                                                    
0014a2   e002     BZ        0x14a8                                                                                          
0014a4   0e00     MOVLW     0x0                                                                                             
0014a6   d001     BRA       0x14aa                                                                                          
0014a8   0e01     MOVLW     0x1                                                                                             
0014aa   6e5a     MOVWF     0x5a,0x0                                                                                        
0014b8   105a     IORWF     0x5a,0x0,0x0           |                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00148e   0e05     MOVLW     0x5                    (CurrentCommand.Command == COMMAND_SM_XM_HM_MOVE)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001490   0101     MOVLB     0x1                                                                                             
001492   5d85     SUBWF     0x85,0x0,0x1                                                                                    
001494   e002     BZ        0x149a                                                                                          
001496   0e00     MOVLW     0x0                                                                                             
001498   d001     BRA       0x149c                                                                                          
00149a   0e01     MOVLW     0x1                                                                                             
00149c   6e5b     MOVWF     0x5b,0x0                                                                                        
0014ba   105b     IORWF     0x5b,0x0,0x0         )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0014bc   e101     BNZ       0x14c0                                                                                          
0014be   d0dd     BRA       0x167a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Setting this bit when we have something to print out will cause the next D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // ISR to be rescheduled so we have as much time as we need to print     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0014c0   8e09     BSF       0x9,0x7,0x0            bitset(TestMode, TEST_MODE_PRINT_TRIGGER_NUM);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Move is complete, output "T:" (ISR ticks), "Steps:" (total steps from  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // this move) "C:" (accumulator value), "R:" (rate value), "Pos:"        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // (step position)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   /// TODO: This could use some MASSIVE cleanup - turn this into a buffered D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   /// ISR driven serial output for best efficiency. Or at the very least   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   /// make signed and unsigned printing macros.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //#define ISR_DEBUG_PRINT_ASCII 1                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #if ISR_DEBUG_PRINT_ASCII                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the total ISR ticks for this move (unsigned)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('T')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(gISRTickCountForThisCommand) // Macro for printing HEX value in ASCII D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the total steps made during this move (unsigned)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('S')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(gISRStepCount0ForThisCommand)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the accumulator1 value after all math is complete (unsigned) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('C')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(acc_union[0].value)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the rate1 value (signed)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('R')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(CurrentCommand.m.sm.Rate[0].value)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the current position for this command (signed)              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('P')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(gISRPosition0ForThisCommand);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the total steps made during this move (unsigned)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('S')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(gISRStepCount1ForThisCommand)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the accumulator2 value after all math is complete (unsigned) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('C')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(acc_union[1].value)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the rate2 value (signed)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('R')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(CurrentCommand.m.sm.Rate[1].value)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the current position2 for this command (signed)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('P')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(gISRPosition1ForThisCommand);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Print all values using raw binary                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the total ISR ticks for this move (unsigned)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0014c2   c026     MOVFF     0x26,0x180             BinPrint(gISRTickCountForThisCommand) // Macro for printing raw binary value D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0014c4   f180                                                                                                               
0014c6   c027     MOVFF     0x27,0x181                                                                                      
0014c8   f181                                                                                                               
0014ca   c028     MOVFF     0x28,0x182                                                                                      
0014cc   f182                                                                                                               
0014ce   c029     MOVFF     0x29,0x183                                                                                      
0014d0   f183                                                                                                               
0014d2   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0014d4   d7fe     BRA       0x14d2                                                                                          
0014d6   c183     MOVFF     0x183,0xfae                                                                                     
0014d8   ffae                                                                                                               
0014da   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0014dc   d7fe     BRA       0x14da                                                                                          
0014de   c182     MOVFF     0x182,0xfae                                                                                     
0014e0   ffae                                                                                                               
0014e2   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0014e4   d7fe     BRA       0x14e2                                                                                          
0014e6   c181     MOVFF     0x181,0xfae                                                                                     
0014e8   ffae                                                                                                               
0014ea   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0014ec   d7fe     BRA       0x14ea                                                                                          
0014ee   c180     MOVFF     0x180,0xfae                                                                                     
0014f0   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the total steps1 made during this move (unsigned)           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0014f2   c02a     MOVFF     0x2a,0x180             BinPrint(gISRStepCount0ForThisCommand)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0014f4   f180                                                                                                               
0014f6   c02b     MOVFF     0x2b,0x181                                                                                      
0014f8   f181                                                                                                               
0014fa   c02c     MOVFF     0x2c,0x182                                                                                      
0014fc   f182                                                                                                               
0014fe   c02d     MOVFF     0x2d,0x183                                                                                      
001500   f183                                                                                                               
001502   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001504   d7fe     BRA       0x1502                                                                                          
001506   c183     MOVFF     0x183,0xfae                                                                                     
001508   ffae                                                                                                               
00150a   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00150c   d7fe     BRA       0x150a                                                                                          
00150e   c182     MOVFF     0x182,0xfae                                                                                     
001510   ffae                                                                                                               
001512   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001514   d7fe     BRA       0x1512                                                                                          
001516   c181     MOVFF     0x181,0xfae                                                                                     
001518   ffae                                                                                                               
00151a   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00151c   d7fe     BRA       0x151a                                                                                          
00151e   c180     MOVFF     0x180,0xfae                                                                                     
001520   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the accumulator1 value after all math is complete (unsigned) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001522   c01e     MOVFF     0x1e,0x180             BinPrint(acc_union[0].value)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001524   f180                                                                                                               
001526   c01f     MOVFF     0x1f,0x181                                                                                      
001528   f181                                                                                                               
00152a   c020     MOVFF     0x20,0x182                                                                                      
00152c   f182                                                                                                               
00152e   c021     MOVFF     0x21,0x183                                                                                      
001530   f183                                                                                                               
001532   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001534   d7fe     BRA       0x1532                                                                                          
001536   c183     MOVFF     0x183,0xfae                                                                                     
001538   ffae                                                                                                               
00153a   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00153c   d7fe     BRA       0x153a                                                                                          
00153e   c182     MOVFF     0x182,0xfae                                                                                     
001540   ffae                                                                                                               
001542   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001544   d7fe     BRA       0x1542                                                                                          
001546   c181     MOVFF     0x181,0xfae                                                                                     
001548   ffae                                                                                                               
00154a   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00154c   d7fe     BRA       0x154a                                                                                          
00154e   c180     MOVFF     0x180,0xfae                                                                                     
001550   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the rate1 value (signed)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001552   c18c     MOVFF     0x18c,0x180            BinPrint(CurrentCommand.m.sm.Rate[0].value)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001554   f180                                                                                                               
001556   c18d     MOVFF     0x18d,0x181                                                                                     
001558   f181                                                                                                               
00155a   c18e     MOVFF     0x18e,0x182                                                                                     
00155c   f182                                                                                                               
00155e   c18f     MOVFF     0x18f,0x183                                                                                     
001560   f183                                                                                                               
001562   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001564   d7fe     BRA       0x1562                                                                                          
001566   c183     MOVFF     0x183,0xfae                                                                                     
001568   ffae                                                                                                               
00156a   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00156c   d7fe     BRA       0x156a                                                                                          
00156e   c182     MOVFF     0x182,0xfae                                                                                     
001570   ffae                                                                                                               
001572   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001574   d7fe     BRA       0x1572                                                                                          
001576   c181     MOVFF     0x181,0xfae                                                                                     
001578   ffae                                                                                                               
00157a   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00157c   d7fe     BRA       0x157a                                                                                          
00157e   c180     MOVFF     0x180,0xfae                                                                                     
001580   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the current position1 for this command (signed)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001582   c02e     MOVFF     0x2e,0x180             BinPrint(gISRPosition0ForThisCommand);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001584   f180                                                                                                               
001586   c02f     MOVFF     0x2f,0x181                                                                                      
001588   f181                                                                                                               
00158a   c030     MOVFF     0x30,0x182                                                                                      
00158c   f182                                                                                                               
00158e   c031     MOVFF     0x31,0x183                                                                                      
001590   f183                                                                                                               
001592   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001594   d7fe     BRA       0x1592                                                                                          
001596   c183     MOVFF     0x183,0xfae                                                                                     
001598   ffae                                                                                                               
00159a   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00159c   d7fe     BRA       0x159a                                                                                          
00159e   c182     MOVFF     0x182,0xfae                                                                                     
0015a0   ffae                                                                                                               
0015a2   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0015a4   d7fe     BRA       0x15a2                                                                                          
0015a6   c181     MOVFF     0x181,0xfae                                                                                     
0015a8   ffae                                                                                                               
0015aa   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0015ac   d7fe     BRA       0x15aa                                                                                          
0015ae   c180     MOVFF     0x180,0xfae                                                                                     
0015b0   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the total steps2 made during this move (unsigned)           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015b2   c032     MOVFF     0x32,0x180             BinPrint(gISRStepCount1ForThisCommand)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015b4   f180                                                                                                               
0015b6   c033     MOVFF     0x33,0x181                                                                                      
0015b8   f181                                                                                                               
0015ba   c034     MOVFF     0x34,0x182                                                                                      
0015bc   f182                                                                                                               
0015be   c035     MOVFF     0x35,0x183                                                                                      
0015c0   f183                                                                                                               
0015c2   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0015c4   d7fe     BRA       0x15c2                                                                                          
0015c6   c183     MOVFF     0x183,0xfae                                                                                     
0015c8   ffae                                                                                                               
0015ca   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0015cc   d7fe     BRA       0x15ca                                                                                          
0015ce   c182     MOVFF     0x182,0xfae                                                                                     
0015d0   ffae                                                                                                               
0015d2   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0015d4   d7fe     BRA       0x15d2                                                                                          
0015d6   c181     MOVFF     0x181,0xfae                                                                                     
0015d8   ffae                                                                                                               
0015da   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0015dc   d7fe     BRA       0x15da                                                                                          
0015de   c180     MOVFF     0x180,0xfae                                                                                     
0015e0   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the accumulator2 value after all math is complete (unsigned) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015e2   c022     MOVFF     0x22,0x180             BinPrint(acc_union[1].value)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015e4   f180                                                                                                               
0015e6   c023     MOVFF     0x23,0x181                                                                                      
0015e8   f181                                                                                                               
0015ea   c024     MOVFF     0x24,0x182                                                                                      
0015ec   f182                                                                                                               
0015ee   c025     MOVFF     0x25,0x183                                                                                      
0015f0   f183                                                                                                               
0015f2   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0015f4   d7fe     BRA       0x15f2                                                                                          
0015f6   c183     MOVFF     0x183,0xfae                                                                                     
0015f8   ffae                                                                                                               
0015fa   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0015fc   d7fe     BRA       0x15fa                                                                                          
0015fe   c182     MOVFF     0x182,0xfae                                                                                     
001600   ffae                                                                                                               
001602   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001604   d7fe     BRA       0x1602                                                                                          
001606   c181     MOVFF     0x181,0xfae                                                                                     
001608   ffae                                                                                                               
00160a   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00160c   d7fe     BRA       0x160a                                                                                          
00160e   c180     MOVFF     0x180,0xfae                                                                                     
001610   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the rate2 value (signed)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001612   c190     MOVFF     0x190,0x180            BinPrint(CurrentCommand.m.sm.Rate[1].value)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001614   f180                                                                                                               
001616   c191     MOVFF     0x191,0x181                                                                                     
001618   f181                                                                                                               
00161a   c192     MOVFF     0x192,0x182                                                                                     
00161c   f182                                                                                                               
00161e   c193     MOVFF     0x193,0x183                                                                                     
001620   f183                                                                                                               
001622   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001624   d7fe     BRA       0x1622                                                                                          
001626   c183     MOVFF     0x183,0xfae                                                                                     
001628   ffae                                                                                                               
00162a   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00162c   d7fe     BRA       0x162a                                                                                          
00162e   c182     MOVFF     0x182,0xfae                                                                                     
001630   ffae                                                                                                               
001632   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001634   d7fe     BRA       0x1632                                                                                          
001636   c181     MOVFF     0x181,0xfae                                                                                     
001638   ffae                                                                                                               
00163a   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00163c   d7fe     BRA       0x163a                                                                                          
00163e   c180     MOVFF     0x180,0xfae                                                                                     
001640   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the current position2 for this command (signed)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001642   c036     MOVFF     0x36,0x180             BinPrint(gISRPosition1ForThisCommand);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001644   f180                                                                                                               
001646   c037     MOVFF     0x37,0x181                                                                                      
001648   f181                                                                                                               
00164a   c038     MOVFF     0x38,0x182                                                                                      
00164c   f182                                                                                                               
00164e   c039     MOVFF     0x39,0x183                                                                                      
001650   f183                                                                                                               
001652   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001654   d7fe     BRA       0x1652                                                                                          
001656   c183     MOVFF     0x183,0xfae                                                                                     
001658   ffae                                                                                                               
00165a   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00165c   d7fe     BRA       0x165a                                                                                          
00165e   c182     MOVFF     0x182,0xfae                                                                                     
001660   ffae                                                                                                               
001662   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001664   d7fe     BRA       0x1662                                                                                          
001666   c181     MOVFF     0x181,0xfae                                                                                     
001668   ffae                                                                                                               
00166a   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
00166c   d7fe     BRA       0x166a                                                                                          
00166e   c180     MOVFF     0x180,0xfae                                                                                     
001670   ffae                                                                                                               
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001672   a2ad     BTFSS     0xad,0x1,0x0           PrintChar('\n')                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001674   d7fe     BRA       0x1672                                                                                          
001676   0e0a     MOVLW     0xa                                                                                             
001678   6eae     MOVWF     0xae,0x0                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // It limit switch checking is enabled, check to see if a limit switch value   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // has been seen (CU,51 and CU,52)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00167a   500c     MOVF      0xc,0x0,0x0      if (gLimitSwitchMask)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00167c   e01c     BZ        0x16b6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00167e   5081     MOVF      0x81,0x0,0x0       PortBTemp = PORTB;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001680   6e0b     MOVWF     0xb,0x0                                                                                         
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001682   50e8     MOVF      0xe8,0x0,0x0       if (((~(PortBTemp ^ gLimitSwitchTarget)) & gLimitSwitchMask) && !bittstzero(gLimitSwitchTriggered)) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001684   180d     XORWF     0xd,0x0,0x0                                                                                     
001686   1ce8     COMF      0xe8,0x0,0x0                                                                                    
001688   140c     ANDWF     0xc,0x0,0x0                                                                                     
00168a   e015     BZ        0x16b6                                                                                          
00168c   0e01     MOVLW     0x1                                                                                             
00168e   140e     ANDWF     0xe,0x0,0x0                                                                                     
001690   e112     BNZ       0x16b6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // At least one of the bits in PortB that we are looking at is in a state  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // now where it has 'triggered' and so we need to shut down the current    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // move, and remove all remaining commands from the FIFO                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001692   c00b     MOVFF     0xb,0x4c9            gLimitSwitchPortB = PortBTemp;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001694   f4c9                                                                                                               
001696   800e     BSF       0xe,0x0,0x0          bitsetzero(gLimitSwitchTriggered);                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001698   6a02     CLRF      0x2,0x0              AxisActive[0] = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00169a   6a03     CLRF      0x3,0x0              AxisActive[1] = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00169c   8000     BSF       0x0,0x0,0x0          bitsetzero(AllDone);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00169e   6a0f     CLRF      0xf,0x0              gFIFOLength = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016a0   6a10     CLRF      0x10,0x0             gFIFOIn = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016a2   6a11     CLRF      0x11,0x0             gFIFOOut = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Flush the whole FIFO by clearing each element's Command field           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016a4   6a01     CLRF      0x1,0x0              for (isr_i=0; isr_i < COMMAND_FIFO_MAX_LENGTH; isr_i++)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016a6   0e20     MOVLW     0x20                                                                                            
0016a8   5c01     SUBWF     0x1,0x0,0x0                                                                                     
0016aa   e205     BC        0x16b6                                                                                          
0016b2   2a01     INCF      0x1,0x1,0x0                                                                                     
0016b4   d7f8     BRA       0x16a6                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016ac   5001     MOVF      0x1,0x0,0x0            FIFOPtr[isr_i].Command = COMMAND_NONE;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016ae   ec60     CALL      0x34c0,0x0                                                                                      
0016b0   f01a                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If we're done with our current command, load in the next one                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016b6   a000     BTFSS     0x0,0x0,0x0      if (bittstzero(AllDone))                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016b8   d112     BRA       0x18de                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016ba   0101     MOVLB     0x1                CurrentCommand.Command = COMMAND_NONE;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016bc   6b85     CLRF      0x85,0x1                                                                                        
0016be   500f     MOVF      0xf,0x0,0x0        if (gFIFOLength != 0u)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016c0   e101     BNZ       0x16c4                                                                                          
0016c2   d0f5     BRA       0x18ae                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016c4   b209     BTFSC     0x9,0x1,0x0          if (bittst(TestMode, TEST_MODE_GPIO_NUM))                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016c6   808c     BSF       0x8c,0x0,0x0           LATDbits.LATD0 = 1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016c8   b006     BTFSC     0x6,0x0,0x0          if (bittstzero(gRedLEDEmptyFIFO))                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016ca   948c     BCF       0x8c,0x2,0x0           mLED_2_Off()                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // If enabled, move stepper disable state to primed                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016cc   0104     MOVLB     0x4                  if (g_StepperDisableState != kSTEPPER_TIMEOUT_DISABLED)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016ce   5195     MOVF      0x95,0x0,0x1                                                                                    
0016d0   e002     BZ        0x16d6                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016d2   0e01     MOVLW     0x1                    g_StepperDisableState = kSTEPPER_TIMEOUT_PRIMED;                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016d4   6f95     MOVWF     0x95,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //      FIFO_COPY();                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Check to see if the FIFO_out_ptr needs wrapping                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #if defined(USE_C_ISR)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Instead of copying over the entire MoveCommandType every time, to save  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // time we will check which command is next in the FIFO, and then only     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // copy over those fields that the new command actually uses.              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // The order that we check these is the same as the main ISR check order   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // above, where we want to have the most common commands checked first     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // since they will then happen faster.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016d6   5011     MOVF      0x11,0x0,0x0         gFIFOCommand = FIFOPtr[gFIFOOut].Command;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016d8   ecbd     CALL      0x3b7a,0x0                                                                                      
0016da   f01d                                                                                                               
0016dc   50ef     MOVF      0xef,0x0,0x0                                                                                    
0016de   6e12     MOVWF     0x12,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016e0   0e05     MOVLW     0x5                  if (gFIFOCommand == COMMAND_SM_XM_HM_MOVE)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016e2   5c12     SUBWF     0x12,0x0,0x0                                                                                    
0016e4   e103     BNZ       0x16ec                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016e6   ec23     CALL      0x3a46,0x0             CurrentCommand.Command        = FIFOPtr[gFIFOOut].Command;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016e8   f01d                                                                                                               
003a46   d8e3     RCALL     0x3c0e                                                                                          
003c0e   ecbf     CALL      0x317e,0x0                                                                                      
003c10   f018                                                                                                               
003c12   cfef     MOVFF     0xfef,0x185                                                                                     
003c14   f185                                                                                                               
003c16   0012     RETURN    0x0                                                                                             
003a48   d8c5     RCALL     0x3bd4                 CurrentCommand.m.sm.Rate[0]        = FIFOPtr[gFIFOOut].m.sm.Rate[0];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a4a   0e06     MOVLW     0x6                                                                                             
003a4c   d8c7     RCALL     0x3bdc                                                                                          
003a4e   cfee     MOVFF     0xfee,0x18c                                                                                     
003a50   f18c                                                                                                               
003a52   cfee     MOVFF     0xfee,0x18d                                                                                     
003a54   f18d                                                                                                               
003a56   cfee     MOVFF     0xfee,0x18e                                                                                     
003a58   f18e                                                                                                               
003a5a   cfef     MOVFF     0xfef,0x18f                                                                                     
003a5c   f18f                                                                                                               
003bdc   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003bde   0e00     MOVLW     0x0                                                                                             
003be0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003be2   0012     RETURN    0x0                                                                                             
003a5e   d8ba     RCALL     0x3bd4                 CurrentCommand.m.sm.Rate[1]        = FIFOPtr[gFIFOOut].m.sm.Rate[1];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a60   0e06     MOVLW     0x6                                                                                             
003a62   dc60     RCALL     0x3324                                                                                          
003a64   ef78     GOTO      0x34f0                                                                                          
003a66   f01a                                                                                                               
003bd4   ecbf     CALL      0x317e,0x0                                                                                      
003bd6   f018                                                                                                               
003bd8   52ee     MOVF      0xee,0x1,0x0                                                                                    
003bda   0012     RETURN    0x0                                                                                             
                                                   CurrentCommand.m.sm.Steps[0]       = FIFOPtr[gFIFOOut].m.sm.Steps[0];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Steps[1]       = FIFOPtr[gFIFOOut].m.sm.Steps[1];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.DirBits        = FIFOPtr[gFIFOOut].m.sm.DirBits;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.DelayCounter   = FIFOPtr[gFIFOOut].m.sm.DelayCounter; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.SEState        = FIFOPtr[gFIFOOut].m.sm.SEState;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016ea   d005     BRA       0x16f6               else if (gFIFOCommand == COMMAND_LM_MOVE)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016ec   0e06     MOVLW     0x6                                                                                             
0016ee   5c12     SUBWF     0x12,0x0,0x0                                                                                    
0016f0   e114     BNZ       0x171a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016f2   ecdb     CALL      0x37b6,0x0             CurrentCommand.Command        = FIFOPtr[gFIFOOut].Command;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016f4   f01b                                                                                                               
0037b6   d947     RCALL     0x3a46                                                                                          
                                                   CurrentCommand.m.sm.Rate[0]        = FIFOPtr[gFIFOOut].m.sm.Rate[0];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Rate[1]        = FIFOPtr[gFIFOOut].m.sm.Rate[1];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0037b8   da0d     RCALL     0x3bd4                 CurrentCommand.m.sm.Accel[0]       = FIFOPtr[gFIFOOut].m.sm.Accel[0];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0037ba   0e1e     MOVLW     0x1e                                                                                            
0037bc   da0f     RCALL     0x3bdc                                                                                          
0037be   cfee     MOVFF     0xfee,0x1a4                                                                                     
0037c0   f1a4                                                                                                               
0037c2   cfee     MOVFF     0xfee,0x1a5                                                                                     
0037c4   f1a5                                                                                                               
0037c6   cfee     MOVFF     0xfee,0x1a6                                                                                     
0037c8   f1a6                                                                                                               
0037ca   cfef     MOVFF     0xfef,0x1a7                                                                                     
0037cc   f1a7                                                                                                               
0037ce   da02     RCALL     0x3bd4                 CurrentCommand.m.sm.Accel[1]       = FIFOPtr[gFIFOOut].m.sm.Accel[1];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0037d0   0e1e     MOVLW     0x1e                                                                                            
0037d2   dda8     RCALL     0x3324                                                                                          
0037d4   cfee     MOVFF     0xfee,0x1a8                                                                                     
0037d6   f1a8                                                                                                               
0037d8   cfee     MOVFF     0xfee,0x1a9                                                                                     
0037da   f1a9                                                                                                               
0037dc   cfee     MOVFF     0xfee,0x1aa                                                                                     
0037de   f1aa                                                                                                               
0037e0   cfef     MOVFF     0xfef,0x1ab                                                                                     
0037e2   f1ab                                                                                                               
0037e4   d9f7     RCALL     0x3bd4                 CurrentCommand.m.sm.Jerk[0]        = FIFOPtr[gFIFOOut].m.sm.Jerk[0];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0037e6   0e16     MOVLW     0x16                                                                                            
0037e8   d9f9     RCALL     0x3bdc                                                                                          
0037ea   cfee     MOVFF     0xfee,0x19c                                                                                     
0037ec   f19c                                                                                                               
0037ee   cfee     MOVFF     0xfee,0x19d                                                                                     
0037f0   f19d                                                                                                               
0037f2   cfee     MOVFF     0xfee,0x19e                                                                                     
0037f4   f19e                                                                                                               
0037f6   cfef     MOVFF     0xfef,0x19f                                                                                     
0037f8   f19f                                                                                                               
00362e   cfee     MOVFF     0xfee,0x1a0            CurrentCommand.m.sm.Jerk[1]        = FIFOPtr[gFIFOOut].m.sm.Jerk[1];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003630   f1a0                                                                                                               
003632   cfee     MOVFF     0xfee,0x1a1                                                                                     
003634   f1a1                                                                                                               
003636   cfee     MOVFF     0xfee,0x1a2                                                                                     
003638   f1a2                                                                                                               
00363a   cfef     MOVFF     0xfef,0x1a3                                                                                     
00363c   f1a3                                                                                                               
00363e   0012     RETURN    0x0                                                                                             
0037fa   d9ec     RCALL     0x3bd4                                                                                          
0037fc   0e16     MOVLW     0x16                                                                                            
0037fe   dd92     RCALL     0x3324                                                                                          
003800   ef17     GOTO      0x362e                                                                                          
003802   f01b                                                                                                               
0016f6   ecbf     CALL      0x317e,0x0             CurrentCommand.m.sm.Steps[0]       = FIFOPtr[gFIFOOut].m.sm.Steps[0];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016f8   f018                                                                                                               
0016fa   ecae     CALL      0x355c,0x0                                                                                      
0016fc   f01a                                                                                                               
00355c   52ee     MOVF      0xee,0x1,0x0                                                                                    
00355e   0e0e     MOVLW     0xe                                                                                             
003560   db3d     RCALL     0x3bdc                                                                                          
003562   cfee     MOVFF     0xfee,0x194                                                                                     
003564   f194                                                                                                               
003566   cfee     MOVFF     0xfee,0x195                                                                                     
003568   f195                                                                                                               
00356a   cfee     MOVFF     0xfee,0x196                                                                                     
00356c   f196                                                                                                               
00356e   cfef     MOVFF     0xfef,0x197                                                                                     
003570   f197                                                                                                               
003572   0012     RETURN    0x0                                                                                             
0016fe   ecea     CALL      0x3bd4,0x0             CurrentCommand.m.sm.Steps[1]       = FIFOPtr[gFIFOOut].m.sm.Steps[1];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001700   f01d                                                                                                               
001702   0e0e     MOVLW     0xe                                                                                             
001704   ec92     CALL      0x3324,0x0                                                                                      
001706   f019                                                                                                               
001708   cfee     MOVFF     0xfee,0x198                                                                                     
00170a   f198                                                                                                               
00170c   cfee     MOVFF     0xfee,0x199                                                                                     
00170e   f199                                                                                                               
001710   cfee     MOVFF     0xfee,0x19a                                                                                     
001712   f19a                                                                                                               
001714   cfef     MOVFF     0xfef,0x19b                                                                                     
001716   f19b                                                                                                               
                                                   CurrentCommand.m.sm.DirBits        = FIFOPtr[gFIFOOut].m.sm.DirBits;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.DelayCounter   = FIFOPtr[gFIFOOut].m.sm.DelayCounter; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.SEState        = FIFOPtr[gFIFOOut].m.sm.SEState;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001718   d009     BRA       0x172c               else if (gFIFOCommand == COMMAND_LT_MOVE)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00171a   0e07     MOVLW     0x7                                                                                             
00171c   5c12     SUBWF     0x12,0x0,0x0                                                                                    
00171e   e10d     BNZ       0x173a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001720   ecdb     CALL      0x37b6,0x0             CurrentCommand.Command        = FIFOPtr[gFIFOOut].Command;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001722   f01b                                                                                                               
                                                   CurrentCommand.m.sm.Rate[0]        = FIFOPtr[gFIFOOut].m.sm.Rate[0];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003324   ecee     CALL      0x3bdc,0x0             CurrentCommand.m.sm.Rate[1]        = FIFOPtr[gFIFOOut].m.sm.Rate[1];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003326   f01d                                                                                                               
003328   0e04     MOVLW     0x4                                                                                             
00332a   d385     BRA       0x3a36                                                                                          
0034f0   cfee     MOVFF     0xfee,0x190                                                                                     
0034f2   f190                                                                                                               
0034f4   cfee     MOVFF     0xfee,0x191                                                                                     
0034f6   f191                                                                                                               
0034f8   cfee     MOVFF     0xfee,0x192                                                                                     
0034fa   f192                                                                                                               
0034fc   cfef     MOVFF     0xfef,0x193                                                                                     
0034fe   f193                                                                                                               
003500   0012     RETURN    0x0                                                                                             
                                                   CurrentCommand.m.sm.Accel[0]       = FIFOPtr[gFIFOOut].m.sm.Accel[0];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Accel[1]       = FIFOPtr[gFIFOOut].m.sm.Accel[1];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Jerk[0]        = FIFOPtr[gFIFOOut].m.sm.Jerk[0];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Jerk[1]        = FIFOPtr[gFIFOOut].m.sm.Jerk[1];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001724   ecbf     CALL      0x317e,0x0             CurrentCommand.m.sm.Steps[0]       = FIFOPtr[gFIFOOut].m.sm.Steps[0];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001726   f018                                                                                                               
001728   ecae     CALL      0x355c,0x0                                                                                      
00172a   f01a                                                                                                               
00172c   ecc6     CALL      0x398c,0x0             CurrentCommand.m.sm.DirBits        = FIFOPtr[gFIFOOut].m.sm.DirBits;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00172e   f01c                                                                                                               
00398c   d923     RCALL     0x3bd4                                                                                          
00398e   cfef     MOVFF     0xfef,0x186                                                                                     
003990   f186                                                                                                               
001730   ecd5     CALL      0x33aa,0x0             CurrentCommand.m.sm.DelayCounter   = FIFOPtr[gFIFOOut].m.sm.DelayCounter; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001732   f019                                                                                                               
003992   efbf     GOTO      0x317e                                                                                          
003994   f018                                                                                                               
001734   ecf4     CALL      0x39e8,0x0             CurrentCommand.m.sm.SEState        = FIFOPtr[gFIFOOut].m.sm.SEState;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001736   f01c                                                                                                               
0039e8   ecbf     CALL      0x317e,0x0                                                                                      
0039ea   f018                                                                                                               
0039ec   de6b     RCALL     0x36c4                                                                                          
0039ee   cfef     MOVFF     0xfef,0x18b                                                                                     
0039f0   f18b                                                                                                               
0039f2   0012     RETURN    0x0                                                                                             
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001738   d046     BRA       0x17c6               else if (gFIFOCommand == COMMAND_SERVO_MOVE)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00173a   0e02     MOVLW     0x2                                                                                             
00173c   5c12     SUBWF     0x12,0x0,0x0                                                                                    
00173e   e122     BNZ       0x1784                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001740   ec63     CALL      0x38c6,0x0             CurrentCommand.Command        = FIFOPtr[gFIFOOut].Command;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001742   f01c                                                                                                               
                                                   CurrentCommand.m.sm.DelayCounter   = FIFOPtr[gFIFOOut].m.sm.DelayCounter; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001744   ecea     CALL      0x3bd4,0x0             CurrentCommand.m.sm.ServoPosition  = FIFOPtr[gFIFOOut].m.sm.ServoPosition; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001746   f01d                                                                                                               
001748   0e27     MOVLW     0x27                                                                                            
00174a   ecee     CALL      0x3bdc,0x0                                                                                      
00174c   f01d                                                                                                               
00174e   cfee     MOVFF     0xfee,0x1ad                                                                                     
001750   f1ad                                                                                                               
001752   cfed     MOVFF     0xfed,0x1ae                                                                                     
001754   f1ae                                                                                                               
001756   ecbf     CALL      0x317e,0x0             CurrentCommand.m.sm.ServoRPn       = FIFOPtr[gFIFOOut].m.sm.ServoRPn;    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001758   f018                                                                                                               
00175a   ec65     CALL      0x36ca,0x0                                                                                      
00175c   f01b                                                                                                               
00175e   cfef     MOVFF     0xfef,0x1ac                                                                                     
001760   f1ac                                                                                                               
001762   ecea     CALL      0x3bd4,0x0             CurrentCommand.m.sm.ServoChannel   = FIFOPtr[gFIFOOut].m.sm.ServoChannel; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001764   f01d                                                                                                               
001766   0e29     MOVLW     0x29                                                                                            
001768   ecee     CALL      0x3bdc,0x0                                                                                      
00176a   f01d                                                                                                               
00176c   cfef     MOVFF     0xfef,0x1af                                                                                     
00176e   f1af                                                                                                               
001770   ecea     CALL      0x3bd4,0x0             CurrentCommand.m.sm.ServoRate      = FIFOPtr[gFIFOOut].m.sm.ServoRate;   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001772   f01d                                                                                                               
001774   0e2a     MOVLW     0x2a                                                                                            
001776   ecee     CALL      0x3bdc,0x0                                                                                      
001778   f01d                                                                                                               
00177a   cfee     MOVFF     0xfee,0x1b0                                                                                     
00177c   f1b0                                                                                                               
00177e   cfed     MOVFF     0xfed,0x1b1                                                                                     
001780   f1b1                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001782   d021     BRA       0x17c6               else if (gFIFOCommand == COMMAND_DELAY)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001784   0412     DECF      0x12,0x0,0x0                                                                                    
001786   e103     BNZ       0x178e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001788   ec63     CALL      0x38c6,0x0             CurrentCommand.Command        = FIFOPtr[gFIFOOut].Command;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00178a   f01c                                                                                                               
                                                   CurrentCommand.m.sm.DelayCounter   = FIFOPtr[gFIFOOut].m.sm.DelayCounter; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00178c   d01c     BRA       0x17c6               else if (gFIFOCommand == COMMAND_SE)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00178e   0e03     MOVLW     0x3                                                                                             
001790   5c12     SUBWF     0x12,0x0,0x0                                                                                    
001792   e10e     BNZ       0x17b0                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001794   ec63     CALL      0x38c6,0x0             CurrentCommand.Command        = FIFOPtr[gFIFOOut].Command;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001796   f01c                                                                                                               
0038c6   d9a3     RCALL     0x3c0e                                                                                          
0033aa   52ee     MOVF      0xee,0x1,0x0           CurrentCommand.m.sm.DelayCounter   = FIFOPtr[gFIFOOut].m.sm.DelayCounter; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0033ac   52ee     MOVF      0xee,0x1,0x0                                                                                    
0033ae   cfee     MOVFF     0xfee,0x187                                                                                     
0033b0   f187                                                                                                               
0033b2   cfee     MOVFF     0xfee,0x188                                                                                     
0033b4   f188                                                                                                               
0033b6   cfee     MOVFF     0xfee,0x189                                                                                     
0033b8   f189                                                                                                               
0033ba   cfef     MOVFF     0xfef,0x18a                                                                                     
0033bc   f18a                                                                                                               
0033be   0012     RETURN    0x0                                                                                             
0038c8   dc5a     RCALL     0x317e                                                                                          
0038ca   efd5     GOTO      0x33aa                                                                                          
0038cc   f019                                                                                                               
001798   ecf4     CALL      0x39e8,0x0             CurrentCommand.m.sm.SEState        = FIFOPtr[gFIFOOut].m.sm.SEState;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00179a   f01c                                                                                                               
0036c4   52ee     MOVF      0xee,0x1,0x0                                                                                    
0036c6   0e05     MOVLW     0x5                                                                                             
0036c8   d1b6     BRA       0x3a36                                                                                          
00179c   ecea     CALL      0x3bd4,0x0             CurrentCommand.m.sm.SEPower        = FIFOPtr[gFIFOOut].m.sm.SEPower;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00179e   f01d                                                                                                               
0017a0   0e2c     MOVLW     0x2c                                                                                            
0017a2   ecee     CALL      0x3bdc,0x0                                                                                      
0017a4   f01d                                                                                                               
0017a6   cfee     MOVFF     0xfee,0x1b2                                                                                     
0017a8   f1b2                                                                                                               
0017aa   cfed     MOVFF     0xfed,0x1b3                                                                                     
0017ac   f1b3                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017ae   d00b     BRA       0x17c6               else if (gFIFOCommand == COMMAND_EM)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017b0   0e04     MOVLW     0x4                                                                                             
0017b2   5c12     SUBWF     0x12,0x0,0x0                                                                                    
0017b4   e108     BNZ       0x17c6                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017b6   ec07     CALL      0x3c0e,0x0             CurrentCommand.Command       = FIFOPtr[gFIFOOut].Command;                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017b8   f01e                                                                                                               
00317e   5011     MOVF      0x11,0x0,0x0                                                                                    
003180   0d2f     MULLW     0x2f                                                                                            
003182   ef45     GOTO      0x388a                                                                                          
003184   f01c                                                                                                               
0017ba   ecc6     CALL      0x398c,0x0             CurrentCommand.m.sm.DirBits       = FIFOPtr[gFIFOOut].m.sm.DirBits;      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017bc   f01c                                                                                                               
0017be   ec65     CALL      0x36ca,0x0             CurrentCommand.m.sm.ServoRPn      = FIFOPtr[gFIFOOut].m.sm.ServoRPn;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017c0   f01b                                                                                                               
0017c2   cfef     MOVFF     0xfef,0x1ac                                                                                     
0017c4   f1ac                                                                                                               
0036ca   52ee     MOVF      0xee,0x1,0x0                                                                                    
0036cc   0e26     MOVLW     0x26                                                                                            
0036ce   d1b3     BRA       0x3a36                                                                                          
003a36   efee     GOTO      0x3bdc                                                                                          
003a38   f01d                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // gFIFOCommand had a value that is not allowed                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Take care of clearing the step accumulators for the next move if        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // it's a motor move (of any type) - if the command requests it            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 if (                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017e4   0e05     MOVLW     0x5                    (CurrentCommand.Command == COMMAND_SM_XM_HM_MOVE)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017e6   5d85     SUBWF     0x85,0x0,0x1                                                                                    
0017e8   e002     BZ        0x17ee                                                                                          
0017ea   0e00     MOVLW     0x0                                                                                             
0017ec   d001     BRA       0x17f0                                                                                          
0017ee   0e01     MOVLW     0x1                                                                                             
                                                   |                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017d6   0e06     MOVLW     0x6                    (CurrentCommand.Command == COMMAND_LM_MOVE)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017d8   5d85     SUBWF     0x85,0x0,0x1                                                                                    
0017da   e002     BZ        0x17e0                                                                                          
0017dc   0e00     MOVLW     0x0                                                                                             
0017de   d001     BRA       0x17e2                                                                                          
0017e0   0e01     MOVLW     0x1                                                                                             
0017e2   6e5a     MOVWF     0x5a,0x0                                                                                        
0017f0   105a     IORWF     0x5a,0x0,0x0           |                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017c6   0e07     MOVLW     0x7                    (CurrentCommand.Command == COMMAND_LT_MOVE)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017c8   0101     MOVLB     0x1                                                                                             
0017ca   5d85     SUBWF     0x85,0x0,0x1                                                                                    
0017cc   e002     BZ        0x17d2                                                                                          
0017ce   0e00     MOVLW     0x0                                                                                             
0017d0   d001     BRA       0x17d4                                                                                          
0017d2   0e01     MOVLW     0x1                                                                                             
0017d4   6e5b     MOVWF     0x5b,0x0                                                                                        
0017f2   105b     IORWF     0x5b,0x0,0x0         )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017f4   e03a     BZ        0x186a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // These are used in TEST_MODE_USART_ISR_NUM to allow an arbitrary       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // value to be loaded into one or both accumulators for testing          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017f6   a98b     BTFSS     0x8b,0x4,0x1           if (CurrentCommand.m.sm.SEState & SESTATE_ARBITRARY_ACC1_BIT)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017f8   d008     BRA       0x180a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017fa   c187     MOVFF     0x187,0x1e               acc_union[0].value = CurrentCommand.m.sm.DelayCounter;                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017fc   f01e                                                                                                               
0017fe   c188     MOVFF     0x188,0x1f                                                                                      
001800   f01f                                                                                                               
001802   c189     MOVFF     0x189,0x20                                                                                      
001804   f020                                                                                                               
001806   c18a     MOVFF     0x18a,0x21                                                                                      
001808   f021                                                                                                               
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00180a   ab8b     BTFSS     0x8b,0x5,0x1           if (CurrentCommand.m.sm.SEState & SESTATE_ARBITRARY_ACC2_BIT)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00180c   d008     BRA       0x181e                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00180e   c187     MOVFF     0x187,0x22               acc_union[1].value = CurrentCommand.m.sm.DelayCounter;                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001810   f022                                                                                                               
001812   c188     MOVFF     0x188,0x23                                                                                      
001814   f023                                                                                                               
001816   c189     MOVFF     0x189,0x24                                                                                      
001818   f024                                                                                                               
00181a   c18a     MOVFF     0x18a,0x25                                                                                      
00181c   f025                                                                                                               
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Use the SEState to determine which accumulators to clear.             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00181e   a18b     BTFSS     0x8b,0x0,0x1           if (CurrentCommand.m.sm.SEState & SESTATE_CLEAR_ACC1_BIT)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001820   d004     BRA       0x182a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001822   6a1e     CLRF      0x1e,0x0                 acc_union[0].value = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001824   6a1f     CLRF      0x1f,0x0                                                                                        
001826   6a20     CLRF      0x20,0x0                                                                                        
001828   6a21     CLRF      0x21,0x0                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00182a   a38b     BTFSS     0x8b,0x1,0x1           if (CurrentCommand.m.sm.SEState & SESTATE_CLEAR_ACC2_BIT)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00182c   d004     BRA       0x1836                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00182e   6a22     CLRF      0x22,0x0                 acc_union[1].value = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001830   6a23     CLRF      0x23,0x0                                                                                        
001832   6a24     CLRF      0x24,0x0                                                                                        
001834   6a25     CLRF      0x25,0x0                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001836   a58b     BTFSS     0x8b,0x2,0x1           if (CurrentCommand.m.sm.SEState & SESTATE_NEGATE_ACC1_BIT)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001838   d005     BRA       0x1844                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00183a   681e     SETF      0x1e,0x0                 acc_union[0].value = 0x7FFFFFFFUL;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00183c   681f     SETF      0x1f,0x0                                                                                        
00183e   6820     SETF      0x20,0x0                                                                                        
001840   0e7f     MOVLW     0x7f                                                                                            
001842   6e21     MOVWF     0x21,0x0                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001844   a78b     BTFSS     0x8b,0x3,0x1           if (CurrentCommand.m.sm.SEState & SESTATE_NEGATE_ACC2_BIT)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001846   d005     BRA       0x1852                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001848   6822     SETF      0x22,0x0                 acc_union[1].value = 0x7FFFFFFFUL;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00184a   6823     SETF      0x23,0x0                                                                                        
00184c   6824     SETF      0x24,0x0                                                                                        
00184e   0e7f     MOVLW     0x7f                                                                                            
001850   6e25     MOVWF     0x25,0x0                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Set the "Active" flags for this move based on steps for each axis     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001852   ec0d     CALL      0x361a,0x0             if (CurrentCommand.m.sm.Steps[0])                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001854   f01b                                                                                                               
001856   e002     BZ        0x185c                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001858   8002     BSF       0x2,0x0,0x0              bitsetzero(AxisActive[0]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00185a   d001     BRA       0x185e                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00185c   9002     BCF       0x2,0x0,0x0              bitclrzero(AxisActive[0]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00185e   ec6b     CALL      0x36d6,0x0             if (CurrentCommand.m.sm.Steps[1])                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001860   f01b                                                                                                               
001862   e002     BZ        0x1868                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001864   8003     BSF       0x3,0x0,0x0              bitsetzero(AxisActive[1]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001866   d001     BRA       0x186a                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001868   9003     BCF       0x3,0x0,0x0              bitclrzero(AxisActive[1]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00186a   a409     BTFSS     0x9,0x2,0x0          if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00186c   d014     BRA       0x1896                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00186e   6a26     CLRF      0x26,0x0               gISRTickCountForThisCommand = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001870   6a27     CLRF      0x27,0x0                                                                                        
001872   6a28     CLRF      0x28,0x0                                                                                        
001874   6a29     CLRF      0x29,0x0                                                                                        
001876   6a2a     CLRF      0x2a,0x0               gISRStepCount0ForThisCommand = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001878   6a2b     CLRF      0x2b,0x0                                                                                        
00187a   6a2c     CLRF      0x2c,0x0                                                                                        
00187c   6a2d     CLRF      0x2d,0x0                                                                                        
00187e   6a2e     CLRF      0x2e,0x0               gISRPosition0ForThisCommand = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001880   6a2f     CLRF      0x2f,0x0                                                                                        
001882   6a30     CLRF      0x30,0x0                                                                                        
001884   6a31     CLRF      0x31,0x0                                                                                        
001886   6a32     CLRF      0x32,0x0               gISRStepCount1ForThisCommand = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001888   6a33     CLRF      0x33,0x0                                                                                        
00188a   6a34     CLRF      0x34,0x0                                                                                        
00188c   6a35     CLRF      0x35,0x0                                                                                        
00188e   6a36     CLRF      0x36,0x0               gISRPosition1ForThisCommand = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001890   6a37     CLRF      0x37,0x0                                                                                        
001892   6a38     CLRF      0x38,0x0                                                                                        
001894   6a39     CLRF      0x39,0x0                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Zero out command in FIFO we just copied, but leave the rest of the fields alone D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001896   5011     MOVF      0x11,0x0,0x0         FIFOPtr[gFIFOOut].Command = COMMAND_NONE;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001898   ec60     CALL      0x34c0,0x0                                                                                      
00189a   f01a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Increment gFIFO_Out                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00189c   2a11     INCF      0x11,0x1,0x0         gFIFOOut++;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00189e   5013     MOVF      0x13,0x0,0x0         if (gFIFOOut >= gCurrentFIFOLength)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018a0   5c11     SUBWF     0x11,0x0,0x0                                                                                    
0018a2   e301     BNC       0x18a6                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018a4   6a11     CLRF      0x11,0x0               gFIFOOut = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018a6   500f     MOVF      0xf,0x0,0x0          if (gFIFOLength)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018a8   e01a     BZ        0x18de                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018aa   060f     DECF      0xf,0x1,0x0            gFIFOLength--;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018ac   d018     BRA       0x18de             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Current command is done, and the FIFO is completely empty.              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Start up stepper motor disable timeout (if enabled)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018ae   0104     MOVLB     0x4                  if (g_StepperDisableState == kSTEPPER_TIMEOUT_PRIMED)                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018b0   0595     DECF      0x95,0x0,0x1                                                                                    
0018b2   e10c     BNZ       0x18cc                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018b4   0104     MOVLB     0x4                    g_StepperDisableSecondCounter = 1000u;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018b6   0ee8     MOVLW     0xe8                                                                                            
0018b8   6f98     MOVWF     0x98,0x1                                                                                        
0018ba   0e03     MOVLW     0x3                                                                                             
0018bc   6f99     MOVWF     0x99,0x1                                                                                        
0018be   c496     MOVFF     0x496,0x49a            g_StepperDisableCountdownS = g_StepperDisableTimeoutS;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018c0   f49a                                                                                                               
0018c2   c497     MOVFF     0x497,0x49b                                                                                     
0018c4   f49b                                                                                                               
0018c6   0104     MOVLB     0x4                    g_StepperDisableState = kSTEPPER_TIMEOUT_TIMING;                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018c8   0e02     MOVLW     0x2                                                                                             
0018ca   6f95     MOVWF     0x95,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018cc   0101     MOVLB     0x1                  CurrentCommand.m.sm.DelayCounter = 0;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018ce   6b87     CLRF      0x87,0x1                                                                                        
0018d0   6b88     CLRF      0x88,0x1                                                                                        
0018d2   6b89     CLRF      0x89,0x1                                                                                        
0018d4   6b8a     CLRF      0x8a,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018d6   b006     BTFSC     0x6,0x0,0x0          if (bittstzero(gRedLEDEmptyFIFO))                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018d8   848c     BSF       0x8c,0x2,0x0           mLED_2_On()                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018da   b209     BTFSC     0x9,0x1,0x0          if (bittst(TestMode, TEST_MODE_GPIO_NUM))                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018dc   8289     BSF       0x89,0x1,0x0           LATAbits.LATA1 = 1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Check for button being pushed                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018de   ae80     BTFSS     0x80,0x7,0x0     if (!swProgram)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018e0   8007     BSF       0x7,0x0,0x0        bitsetzero(ButtonPushed);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018e2   a008     BTFSS     0x8,0x0,0x0      if (bittstzero(UseAltPause))                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018e4   d002     BRA       0x18ea                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018e6   a081     BTFSS     0x81,0x0,0x0       if (!PORTBbits.RB0)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018e8   8007     BSF       0x7,0x0,0x0          bitsetzero(ButtonPushed);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // To give as much time for the step pulses to be high, we clear them as the   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // very last thing we do before leaving the ISR. It never hurts us to clear    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // these bits even if no step happened this ISR tick                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018ea   5004     MOVF      0x4,0x0,0x0      if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018ec   e103     BNZ       0x18f4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018ee   9c8c     BCF       0x8c,0x6,0x0       Step1IO = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018f0   988c     BCF       0x8c,0x4,0x0       Step2IO = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018f2   d002     BRA       0x18f8           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018f4   9c8b     BCF       0x8b,0x6,0x0       Step1AltIO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018f6   9a89     BCF       0x89,0x5,0x0       Step2AltIO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018f8   ae09     BTFSS     0x9,0x7,0x0      if (bittst(TestMode, TEST_MODE_PRINT_TRIGGER_NUM))                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018fa   d004     BRA       0x1904                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Clear the interrupt as the last thing we do. This allows us to have       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // arbitrarily long interrupts to print debug information out                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018fc   94f2     BCF       0xf2,0x2,0x0       INTCONbits.TMR0IF = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018fe   0e8a     MOVLW     0x8a               TMR0L = TIMER0_RELOAD;  // Reload for 25KHz ISR fire                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001900   6ed6     MOVWF     0xd6,0x0                                                                                        
001902   9e09     BCF       0x9,0x7,0x0        bitclr(TestMode, TEST_MODE_PRINT_TRIGGER_NUM);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001904   a209     BTFSS     0x9,0x1,0x0      if (bittst(TestMode, TEST_MODE_GPIO_NUM))                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001906   d003     BRA       0x190e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001908   9289     BCF       0x89,0x1,0x0       LATAbits.LATA1 = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00190a   908c     BCF       0x8c,0x0,0x0       LATDbits.LATD0 = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00190c   928c     BCF       0x8c,0x1,0x0       LATDbits.LATD1 = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00190e   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001910   cfe5     MOVFF     0xfe5,0xff4                                                                                     
001912   fff4                                                                                                               
001914   cfe5     MOVFF     0xfe5,0xff3                                                                                     
001916   fff3                                                                                                               
001918   cfe5     MOVFF     0xfe5,0xfea                                                                                     
00191a   ffea                                                                                                               
00191c   cfe5     MOVFF     0xfe5,0xfe9                                                                                     
00191e   ffe9                                                                                                               
001920   cfe5     MOVFF     0xfe5,0xfda                                                                                     
001922   ffda                                                                                                               
001924   0011     RETFIE    0x1                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Zero out all global variables used for parameter passing between motion       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // parsing commands                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static void clear_parmaeter_globals(void)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001926   0101     MOVLB     0x1              gUInt32_1 = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001928   6bc5     CLRF      0xc5,0x1                                                                                        
00192a   6bc6     CLRF      0xc6,0x1                                                                                        
00192c   6bc7     CLRF      0xc7,0x1                                                                                        
00192e   6bc8     CLRF      0xc8,0x1                                                                                        
001930   ecc7     CALL      0x378e,0x0       gUInt32_2 = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001932   f01b                                                                                                               
001934   6bcd     CLRF      0xcd,0x1         gUInt32_3 = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001936   6bce     CLRF      0xce,0x1                                                                                        
001938   6bcf     CLRF      0xcf,0x1                                                                                        
00193a   6bd0     CLRF      0xd0,0x1                                                                                        
00193c   6bd1     CLRF      0xd1,0x1         gInt32_4 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00193e   6bd2     CLRF      0xd2,0x1                                                                                        
001940   6bd3     CLRF      0xd3,0x1                                                                                        
001942   6bd4     CLRF      0xd4,0x1                                                                                        
001944   6bd5     CLRF      0xd5,0x1         gInt32_5 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001946   6bd6     CLRF      0xd6,0x1                                                                                        
001948   6bd7     CLRF      0xd7,0x1                                                                                        
00194a   6bd8     CLRF      0xd8,0x1                                                                                        
00194c   6bd9     CLRF      0xd9,0x1         gInt32_6 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00194e   6bda     CLRF      0xda,0x1                                                                                        
001950   6bdb     CLRF      0xdb,0x1                                                                                        
001952   6bdc     CLRF      0xdc,0x1                                                                                        
001954   6bdd     CLRF      0xdd,0x1         gInt32_7 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001956   6bde     CLRF      0xde,0x1                                                                                        
001958   6bdf     CLRF      0xdf,0x1                                                                                        
00195a   6be0     CLRF      0xe0,0x1                                                                                        
00195c   6be1     CLRF      0xe1,0x1         gInt32_8 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00195e   6be2     CLRF      0xe2,0x1                                                                                        
001960   6be3     CLRF      0xe3,0x1                                                                                        
001962   6be4     CLRF      0xe4,0x1                                                                                        
001964   6be5     CLRF      0xe5,0x1         gInt32_9 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001966   6be6     CLRF      0xe6,0x1                                                                                        
001968   6be7     CLRF      0xe7,0x1                                                                                        
00196a   6be8     CLRF      0xe8,0x1                                                                                        
00196c   6be9     CLRF      0xe9,0x1         gInt32_10 = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00196e   6bea     CLRF      0xea,0x1                                                                                        
001970   6beb     CLRF      0xeb,0x1                                                                                        
001972   6bec     CLRF      0xec,0x1                                                                                        
001974   6bed     CLRF      0xed,0x1         gInt32_11 = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001976   6bee     CLRF      0xee,0x1                                                                                        
001978   6bef     CLRF      0xef,0x1                                                                                        
00197a   6bf0     CLRF      0xf0,0x1                                                                                        
00197c   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Init code                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00197e   cfd9     MOVFF     0xfd9,0xfe6    void EBB_Init(void)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001980   ffe6                                                                                                               
001982   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
001984   ffd9                                                                                                               
001986   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Initialize all Current Command values                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001988   6adf     CLRF      0xdf,0x0         for (i = 0; i < NUMBER_OF_STEPPERS; i++)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00198a   0e02     MOVLW     0x2                                                                                             
00198c   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
00198e   e22d     BC        0x19ea                                                                                          
0019e6   2adf     INCF      0xdf,0x1,0x0                                                                                    
0019e8   d7d0     BRA       0x198a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001990   50df     MOVF      0xdf,0x0,0x0       CurrentCommand.m.sm.Rate[i].value = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001992   0d04     MULLW     0x4                                                                                             
001994   cff3     MOVFF     0xff3,0xfe9                                                                                     
001996   ffe9                                                                                                               
001998   cff4     MOVFF     0xff4,0xfea                                                                                     
00199a   ffea                                                                                                               
00199c   0e8c     MOVLW     0x8c                                                                                            
00199e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0019a0   0e01     MOVLW     0x1                                                                                             
0019a2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0019a4   0e01     MOVLW     0x1                                                                                             
0019a6   6eee     MOVWF     0xee,0x0                                                                                        
0019a8   6aee     CLRF      0xee,0x0                                                                                        
0019aa   6aee     CLRF      0xee,0x0                                                                                        
0019ac   6aee     CLRF      0xee,0x0                                                                                        
0019ae   50df     MOVF      0xdf,0x0,0x0       CurrentCommand.m.sm.Steps[i] = 0;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019b0   0d04     MULLW     0x4                                                                                             
0019b2   cff3     MOVFF     0xff3,0xfe9                                                                                     
0019b4   ffe9                                                                                                               
0019b6   cff4     MOVFF     0xff4,0xfea                                                                                     
0019b8   ffea                                                                                                               
0019ba   0e94     MOVLW     0x94                                                                                            
0019bc   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0019be   0e01     MOVLW     0x1                                                                                             
0019c0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0019c2   6aee     CLRF      0xee,0x0                                                                                        
0019c4   6aee     CLRF      0xee,0x0                                                                                        
0019c6   6aee     CLRF      0xee,0x0                                                                                        
0019c8   6aee     CLRF      0xee,0x0                                                                                        
0019ca   50df     MOVF      0xdf,0x0,0x0       CurrentCommand.m.sm.Accel[i] = 0;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019cc   0d04     MULLW     0x4                                                                                             
0019ce   cff3     MOVFF     0xff3,0xfe9                                                                                     
0019d0   ffe9                                                                                                               
0019d2   cff4     MOVFF     0xff4,0xfea                                                                                     
0019d4   ffea                                                                                                               
0019d6   0ea4     MOVLW     0xa4                                                                                            
0019d8   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0019da   0e01     MOVLW     0x1                                                                                             
0019dc   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0019de   6aee     CLRF      0xee,0x0                                                                                        
0019e0   6aee     CLRF      0xee,0x0                                                                                        
0019e2   6aee     CLRF      0xee,0x0                                                                                        
0019e4   6aee     CLRF      0xee,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019ea   0101     MOVLB     0x1              CurrentCommand.Command = COMMAND_NONE;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019ec   6b85     CLRF      0x85,0x1                                                                                        
0019ee   0101     MOVLB     0x1              CurrentCommand.m.sm.DirBits = 0;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019f0   6b86     CLRF      0x86,0x1                                                                                        
0019f2   0101     MOVLB     0x1              CurrentCommand.m.sm.DelayCounter = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019f4   6b87     CLRF      0x87,0x1                                                                                        
0019f6   6b88     CLRF      0x88,0x1                                                                                        
0019f8   6b89     CLRF      0x89,0x1                                                                                        
0019fa   6b8a     CLRF      0x8a,0x1                                                                                        
0019fc   0101     MOVLB     0x1              CurrentCommand.m.sm.ServoPosition = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019fe   6bad     CLRF      0xad,0x1                                                                                        
001a00   6bae     CLRF      0xae,0x1                                                                                        
001a02   0101     MOVLB     0x1              CurrentCommand.m.sm.ServoRPn = 0;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a04   6bac     CLRF      0xac,0x1                                                                                        
001a06   0101     MOVLB     0x1              CurrentCommand.m.sm.ServoChannel = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a08   6baf     CLRF      0xaf,0x1                                                                                        
001a0a   0101     MOVLB     0x1              CurrentCommand.m.sm.ServoRate = 0;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a0c   6bb0     CLRF      0xb0,0x1                                                                                        
001a0e   6bb1     CLRF      0xb1,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a10   9006     BCF       0x6,0x0,0x0      bitclrzero(gRedLEDEmptyFIFO);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a12   6a09     CLRF      0x9,0x0          TestMode = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  PORTA = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a14   8092     BSF       0x92,0x0,0x0     RefRA0_IO_TRIS = INPUT_PIN;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  PORTB = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  INTCON2bits.RBPU = 0;   // Turn on weak-pull ups for port B                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  PORTC = 0;              // Start out low                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  TRISC = 0x80;           // Make portC output except for PortC bit 7, USB bus sense D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  PORTD = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  TRISD = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  PORTE = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  TRISE = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // And make sure to always use low priority for ADC                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a16   9c9f     BCF       0x9f,0x6,0x0     IPR1bits.ADIP = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Turn on AN0 (RA0) as analog input                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a18   0e01     MOVLW     0x1              AnalogConfigure(RA0_CUR_ADJ_ADC_CHANNEL,1);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a1a   6ee6     MOVWF     0xe6,0x0                                                                                        
001a1c   6ae6     CLRF      0xe6,0x0                                                                                        
001a1e   ecb1     CALL      0x5362,0x0                                                                                      
001a20   f029                                                                                                               
001a22   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001a24   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                             // Turn on AN11 (V+) as analog input                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a26   0e01     MOVLW     0x1              AnalogConfigure(RA11_VPLUS_POWER_ADC_CHANNEL,1);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a28   6ee6     MOVWF     0xe6,0x0                                                                                        
001a2a   0e0b     MOVLW     0xb                                                                                             
001a2c   6ee6     MOVWF     0xe6,0x0                                                                                        
001a2e   ecb1     CALL      0x5362,0x0                                                                                      
001a30   f029                                                                                                               
001a32   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001a34   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a36   848d     BSF       0x8d,0x2,0x0     MS1_IO = 1;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a38   9496     BCF       0x96,0x2,0x0     MS1_IO_TRIS = OUTPUT_PIN;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a3a   828d     BSF       0x8d,0x1,0x0     MS2_IO = 1;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a3c   9296     BCF       0x96,0x1,0x0     MS2_IO_TRIS = OUTPUT_PIN;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a3e   8c89     BSF       0x89,0x6,0x0     MS3_IO = 1;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a40   9c92     BCF       0x92,0x6,0x0     MS3_IO_TRIS = OUTPUT_PIN;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a42   808d     BSF       0x8d,0x0,0x0     Enable1IO = 1;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a44   9096     BCF       0x96,0x0,0x0     Enable1IO_TRIS = OUTPUT_PIN;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a46   828b     BSF       0x8b,0x1,0x0     Enable2IO = 1;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a48   9294     BCF       0x94,0x1,0x0     Enable2IO_TRIS = OUTPUT_PIN;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a4a   9c8c     BCF       0x8c,0x6,0x0     Step1IO = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a4c   9c95     BCF       0x95,0x6,0x0     Step1IO_TRIS = OUTPUT_PIN;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a4e   9e8c     BCF       0x8c,0x7,0x0     Dir1IO = 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a50   9e95     BCF       0x95,0x7,0x0     Dir1IO_TRIS = OUTPUT_PIN;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a52   988c     BCF       0x8c,0x4,0x0     Step2IO = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a54   9895     BCF       0x95,0x4,0x0     Step2IO_TRIS = OUTPUT_PIN;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a56   9a8c     BCF       0x8c,0x5,0x0     Dir2IO = 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a58   9a95     BCF       0x95,0x5,0x0     Dir2IO_TRIS = OUTPUT_PIN;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // For bug in VUSB divider resistor, set RC7 as output and set high            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Wait a little while to charge up                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Then set back as an input                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // The idea here is to get the Schmidt trigger input RC7 high before           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // we make it an input, thus getting it above the 2.65V ST threshold           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // And allowing VUSB to keep the logic level on the pin high at 2.5V           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #if defined(USE_USB_BUS_SENSE_IO)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a5a   9e94     BCF       0x94,0x7,0x0     tris_usb_bus_sense = OUTPUT_PIN; // See HardwareProfile.h                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a5c   8e82     BSF       0x82,0x7,0x0     USB_BUS_SENSE = 1;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a5e   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a60   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a62   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a64   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a66   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a68   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a6a   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a6c   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a6e   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a70   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a72   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a74   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a76   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a78   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a7a   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a7c   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a7e   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a80   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a82   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a84   8e94     BSF       0x94,0x7,0x0     tris_usb_bus_sense = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a86   9e82     BCF       0x82,0x7,0x0     USB_BUS_SENSE = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a88   0101     MOVLB     0x1              gUseSolenoid = TRUE;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a8a   0e01     MOVLW     0x1                                                                                             
001a8c   6fc1     MOVWF     0xc1,0x1                                                                                        
001a8e   8005     BSF       0x5,0x0,0x0      bitsetzero(gUseRCPenServo);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set up pen up/down direction as output                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a90   988a     BCF       0x8a,0x4,0x0     PenUpDownIO = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a92   9893     BCF       0x93,0x4,0x0     PenUpDownIO_TRIS = OUTPUT_PIN;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set up RC Servo power control to be off                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a94   9689     BCF       0x89,0x3,0x0     RCServoPowerIO = RCSERVO_POWER_OFF;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a96   9692     BCF       0x92,0x3,0x0     RCServoPowerIO_TRIS = OUTPUT_PIN;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a98   0101     MOVLB     0x1              SolenoidState = SOLENOID_ON;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a9a   0e01     MOVLW     0x1                                                                                             
001a9c   6fb6     MOVWF     0xb6,0x1                                                                                        
001a9e   6a04     CLRF      0x4,0x0          DriverConfiguration = PIC_CONTROLS_DRIVERS;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001aa0   0101     MOVLB     0x1              PenState = PEN_UP;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001aa2   0e01     MOVLW     0x1                                                                                             
001aa4   6fb9     MOVWF     0xb9,0x1                                                                                        
001aa6   6adf     CLRF      0xdf,0x0         for (i=0; i < SL_STORAGE_SIZE; i++)                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001aa8   0e20     MOVLW     0x20                                                                                            
001aaa   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001aac   e209     BC        0x1ac0                                                                                          
001abc   2adf     INCF      0xdf,0x1,0x0                                                                                    
001abe   d7f4     BRA       0x1aa8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001aae   50df     MOVF      0xdf,0x0,0x0       gSL_Storage[i] = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ab0   6aea     CLRF      0xea,0x0                                                                                        
001ab2   0f58     ADDLW     0x58                                                                                            
001ab4   6ee9     MOVWF     0xe9,0x0                                                                                        
001ab6   0e01     MOVLW     0x1                                                                                             
001ab8   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
001aba   6aef     CLRF      0xef,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ac0   0101     MOVLB     0x1              NodeCount = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ac2   6bba     CLRF      0xba,0x1                                                                                        
001ac4   6bbb     CLRF      0xbb,0x1                                                                                        
001ac6   6bbc     CLRF      0xbc,0x1                                                                                        
001ac8   6bbd     CLRF      0xbd,0x1                                                                                        
001aca   6a07     CLRF      0x7,0x0          ButtonPushed = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001acc   0101     MOVLB     0x1              gStandardizedCommandFormat = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ace   6bc3     CLRF      0xc3,0x1                                                                                        
001ad0   0101     MOVLB     0x1              gLimitChecks = TRUE;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ad2   0e01     MOVLW     0x1                                                                                             
001ad4   6fc2     MOVWF     0xc2,0x1                                                                                        
001ad6   6a0f     CLRF      0xf,0x0          gFIFOLength = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ad8   6a10     CLRF      0x10,0x0         gFIFOIn = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ada   6a11     CLRF      0x11,0x0         gFIFOOut = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001adc   0e01     MOVLW     0x1              gCurrentFIFOLength = 1; // Default the FIFO length to 1 on boot                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ade   6e13     MOVWF     0x13,0x0                                                                                        
                                             //isr_FSR0L_temp = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //isr_FSR0H_temp = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Start out FIFO out pointer on first element in FIFO array, which starts at  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // address 0x500                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ae0   0e05     MOVLW     0x5              FIFO_out_ptr_high = 0x05;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ae2   6e14     MOVWF     0x14,0x0                                                                                        
001ae4   6a15     CLRF      0x15,0x0         FIFO_out_ptr_low  = 0x00;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Default RB0 to be an input, with the pull-up enabled, for use as alternate  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // PAUSE button (just like PRG)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Except for v1.1 hardware, use RB2                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ae6   8093     BSF       0x93,0x0,0x0     TRISBbits.TRISB0 = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ae8   9ef1     BCF       0xf1,0x7,0x0     INTCON2bits.RBPU = 0;       // Turn on all of PortB pull-ups                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001aea   8008     BSF       0x8,0x0,0x0      bitsetzero(UseAltPause);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001aec   9693     BCF       0x93,0x3,0x0     TRISBbits.TRISB3 = 0;       // Make RB3 an output (for engraver)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001aee   9681     BCF       0x81,0x3,0x0     PORTBbits.RB3 = 0;          // And make sure it starts out off                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // These are ISR variables, can't set them to zero in their definitions or     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the linker puts them in a different bank and ISR expands with more MOVLB    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // instructions.                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001af0   6a0b     CLRF      0xb,0x0          PortBTemp = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001af2   6a0c     CLRF      0xc,0x0          gLimitSwitchMask = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001af4   6a0d     CLRF      0xd,0x0          gLimitSwitchTarget = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001af6   900e     BCF       0xe,0x0,0x0      bitclrzero(gLimitSwitchTriggered);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Clear out global stepper positions                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001af8   eca5     CALL      0x314a,0x0       clear_StepCounters();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001afa   f018                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Set up TMR0 for our 25KHz High ISR for stepping                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001afc   8cd5     BSF       0xd5,0x6,0x0     T0CONbits.T08BIT = 1;     // Set 8 bit mode                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001afe   9ad5     BCF       0xd5,0x5,0x0     T0CONbits.T0CS = 0;       // System clocked from Fosc/4                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b00   96d5     BCF       0xd5,0x3,0x0     T0CONbits.PSA = 0;        // Use prescaler                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b02   94d5     BCF       0xd5,0x2,0x0     T0CONbits.T0PS2 = 0;      // Use 4:1 Prescale value                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b04   92d5     BCF       0xd5,0x1,0x0     T0CONbits.T0PS1 = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b06   80d5     BSF       0xd5,0x0,0x0     T0CONbits.T0PS0 = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b08   6ad6     CLRF      0xd6,0x0         TMR0L = 0x00;             // Give the timer some time before it fires the first time D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b0a   8ed5     BSF       0xd5,0x7,0x0     T0CONbits.TMR0ON = 1;     // Turn the timer on                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b0c   84f1     BSF       0xf1,0x2,0x0     INTCON2bits.TMR0IP = 1;   // Use high priority interrupt for Timer 0           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b0e   94f2     BCF       0xf2,0x2,0x0     INTCONbits.TMR0IF = 0;    // Clear the interrupt                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b10   8af2     BSF       0xf2,0x5,0x0     INTCONbits.TMR0IE = 1;    // Turn on the interrupt                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b12   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b14   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001b16   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
001b18   ffd9                                                                                                               
001b1a   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Stepper (mode) Configure command                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,1,0<CR> will use just solenoid output for pen up/down                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,1,1<CR> will use servo on RB1 for pen up/down                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,1,2<CR> will use servo on RB1 for pen up/down, but with ECCP2 (PWM) in hardware (default) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,2,0<CR> will make PIC control drivers (default)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,2,1<CR> will make PIC control external drivers using these pins            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    ENABLE1 = RD1                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    ENABLE2 = RA1                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    STEP1 = RC6                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    DIR1 = RC2                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    STEP2 = RA5                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    DIR2 = RA2                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,2,2<CR> will disconnect PIC from drivers and allow external step/dir source D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,4,<servo2_min><CR> will set <servo2_min> as the minimum value for the servo (1 to 65535) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,5,<servo2_max><CR> will set <servo2_max> as the maximum value for the servo (1 to 65535) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,6,<servo_min><CR> will set <servo_min> as the minimum value for the servo (1 to 11890) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,7,<servo_max><CR> will set <servo_max> as the maximum value for the servo (1 to 11890) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,8,<servo2_slots><CR> sets the number of slots for the servo2 system (1 to 24) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,9,<servo2_slotMS><CR> sets the number of ms in duration for each slot (1 to 6) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,10,<servo2_rate><CR> sets the rate of change for the servo (both up and down) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,11,<servo2_rate><CR> sets the pen up speed                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,12,<servo2_rate><CR> sets the pen down speed                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,13,1<CR> enables RB3 as parallel input to PRG button for pause detection   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,13,0<CR> disables RB3 as parallel input to PRG button for pause detection  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b1c   ec82     CALL      0x3304,0x0     void parse_SC_packet (void)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b1e   f019                                                                                                               
001b20   0e03     MOVLW     0x3                                                                                             
001b22   ec3b     CALL      0x3476,0x0                                                                                      
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b24   f01a                                unsigned char Para1 = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             unsigned int Para2 = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b26   ec39     CALL      0x3872,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b28   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kUCHAR, &Para1, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b2a   6ae6     CLRF      0xe6,0x0         extract_number(kUINT, &Para2, kREQUIRED);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b2c   ecfa     CALL      0x39f4,0x0                                                                                      
001b2e   f01c                                                                                                               
001b30   ec1d     CALL      0x3a3a,0x0                                                                                      
001b32   f01d                                                                                                               
0039f4   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0039f6   0f01     ADDLW     0x1                                                                                             
0039f8   6ee6     MOVWF     0xe6,0x0                                                                                        
0039fa   0e00     MOVLW     0x0                                                                                             
0039fc   20da     ADDWFC    0xda,0x0,0x0                                                                                    
0039fe   6ee6     MOVWF     0xe6,0x0                                                                                        
003a00   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b34   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b36   5184     MOVF      0x84,0x0,0x1                                                                                    
001b38   e001     BZ        0x1b3c                                                                                          
001b3a   d0ab     BRA       0x1c92                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Check for command to select which (solenoid/servo) gets used for pen        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b3c   04df     DECF      0xdf,0x0,0x0     if (Para1 == 1u)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b3e   e120     BNZ       0x1b80                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Use just solenoid                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b40   ec0b     CALL      0x3a16,0x0         if (Para2 == 0u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b42   f01d                                                                                                               
001b44   e107     BNZ       0x1b54                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b46   0101     MOVLB     0x1                  gUseSolenoid = TRUE;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b48   0e01     MOVLW     0x1                                                                                             
001b4a   6fc1     MOVWF     0xc1,0x1                                                                                        
001b4c   9005     BCF       0x5,0x0,0x0          bitclrzero(gUseRCPenServo);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Turn off RC signal on Pen Servo output                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b4e   ec63     CALL      0x34c6,0x0           RCServo2_Move(0, g_servo2_RPn, 0, 0);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b50   f01a                                                                                                               
0034c6   0e00     MOVLW     0x0                                                                                             
0034c8   6ee6     MOVWF     0xe6,0x0                                                                                        
0034ca   6ae6     CLRF      0xe6,0x0                                                                                        
0034cc   6ee6     MOVWF     0xe6,0x0                                                                                        
0034ce   6ae6     CLRF      0xe6,0x0                                                                                        
0034d0   c0a6     MOVFF     0xa6,0xfe6                                                                                      
0034d2   ffe6                                                                                                               
0034d4   6ee6     MOVWF     0xe6,0x0                                                                                        
0034d6   6ae6     CLRF      0xe6,0x0                                                                                        
0034d8   ef01     GOTO      0x3a02                                                                                          
0034da   f01d                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Use just RC servo                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b52   d00e     BRA       0x1b70             else if (Para2 == 1u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b54   ecef     CALL      0x33de,0x0                                                                                      
001b56   f019                                                                                                               
001b58   0e01     MOVLW     0x1                                                                                             
001b5a   18ee     XORWF     0xee,0x0,0x0                                                                                    
001b5c   e105     BNZ       0x1b68                                                                                          
001b5e   50ed     MOVF      0xed,0x0,0x0                                                                                    
001b60   e103     BNZ       0x1b68                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b62   0101     MOVLB     0x1                  gUseSolenoid = FALSE;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b64   6bc1     CLRF      0xc1,0x1                                                                                        
                                                 bitsetzero(gUseRCPenServo);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Use solenoid AND servo (default)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b66   d003     BRA       0x1b6e             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b68   0101     MOVLB     0x1                  gUseSolenoid = TRUE;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b6a   0e01     MOVLW     0x1                                                                                             
001b6c   6fc1     MOVWF     0xc1,0x1                                                                                        
001b6e   8005     BSF       0x5,0x0,0x0          bitsetzero(gUseRCPenServo);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Send a new command to set the state of the servo/solenoid                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b70   0e00     MOVLW     0x0                process_SP(PenState, 0);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b72   6ee6     MOVWF     0xe6,0x0                                                                                        
001b74   6ae6     CLRF      0xe6,0x0                                                                                        
001b76   c1b9     MOVFF     0x1b9,0xfe6                                                                                     
001b78   ffe6                                                                                                               
001b7a   ec68     CALL      0x36d0,0x0                                                                                      
001b7c   f01b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Check for command to switch between built-in drivers and external drivers   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b7e   d087     BRA       0x1c8e           else if (Para1 == 2u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b80   0e02     MOVLW     0x2                                                                                             
001b82   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001b84   e12d     BNZ       0x1be0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b86   ec0b     CALL      0x3a16,0x0         if (Para2 == 0u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b88   f01d                                                                                                               
001b8a   e108     BNZ       0x1b9c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b8c   6a04     CLRF      0x4,0x0              DriverConfiguration = PIC_CONTROLS_DRIVERS;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Connections to drivers become outputs                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b8e   9096     BCF       0x96,0x0,0x0         Enable1IO_TRIS = OUTPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b90   9294     BCF       0x94,0x1,0x0         Enable2IO_TRIS = OUTPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b92   9c95     BCF       0x95,0x6,0x0         Step1IO_TRIS = OUTPUT_PIN;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b94   9e95     BCF       0x95,0x7,0x0         Dir1IO_TRIS = OUTPUT_PIN;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b96   9895     BCF       0x95,0x4,0x0         Step2IO_TRIS = OUTPUT_PIN;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b98   9a95     BCF       0x95,0x5,0x0         Dir2IO_TRIS = OUTPUT_PIN;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Alternate I/O pins become inputs                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Dir1AltIO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Dir2AltIO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Step1AltIO_TRIS = INPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Step2AltIO_TRIS = INPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Enable1AltIO_TRIS = INPUT_PIN;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Enable2AltIO_TRIS = INPUT_PIN;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b9a   d01b     BRA       0x1bd2             else if (Para2 == 1u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b9c   ecef     CALL      0x33de,0x0                                                                                      
001b9e   f019                                                                                                               
001ba0   0e01     MOVLW     0x1                                                                                             
001ba2   18ee     XORWF     0xee,0x0,0x0                                                                                    
001ba4   e10c     BNZ       0x1bbe                                                                                          
001ba6   50ed     MOVF      0xed,0x0,0x0                                                                                    
001ba8   e10a     BNZ       0x1bbe                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001baa   0e01     MOVLW     0x1                  DriverConfiguration = PIC_CONTROLS_EXTERNAL;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bac   ec7f     CALL      0x36fe,0x0                                                                                      
0036fe   6e04                                                                                                               
                                                 // Connections to drivers become inputs                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bae   f01b     WORD2     0x1b                 Enable1IO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003700   8096     BSF       0x96,0x0,0x0                                                                                    
003702   8294     BSF       0x94,0x1,0x0         Enable2IO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003704   8c95     BSF       0x95,0x6,0x0         Step1IO_TRIS = INPUT_PIN;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003706   8e95     BSF       0x95,0x7,0x0         Dir1IO_TRIS = INPUT_PIN;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003708   8895     BSF       0x95,0x4,0x0         Step2IO_TRIS = INPUT_PIN;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00370a   8a95     BSF       0x95,0x5,0x0         Dir2IO_TRIS = INPUT_PIN;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00370c   0012     RETURN    0x0                                                                                             
                                                 // Alternate I/O pins become outputs                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bb0   9494     BCF       0x94,0x2,0x0         Dir1AltIO_TRIS = OUTPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bb2   9492     BCF       0x92,0x2,0x0         Dir2AltIO_TRIS = OUTPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bb4   9c94     BCF       0x94,0x6,0x0         Step1AltIO_TRIS = OUTPUT_PIN;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bb6   9a92     BCF       0x92,0x5,0x0         Step2AltIO_TRIS = OUTPUT_PIN;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bb8   9295     BCF       0x95,0x1,0x0         Enable1AltIO_TRIS = OUTPUT_PIN;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bba   9292     BCF       0x92,0x1,0x0         Enable2AltIO_TRIS = OUTPUT_PIN;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bbc   d068     BRA       0x1c8e             else if (Para2 == 2u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bbe   ecef     CALL      0x33de,0x0                                                                                      
001bc0   f019                                                                                                               
001bc2   0e02     MOVLW     0x2                                                                                             
001bc4   18ee     XORWF     0xee,0x0,0x0                                                                                    
001bc6   e163     BNZ       0x1c8e                                                                                          
001bc8   50ed     MOVF      0xed,0x0,0x0                                                                                    
001bca   e161     BNZ       0x1c8e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bcc   0e02     MOVLW     0x2                  DriverConfiguration = EXTERNAL_CONTROLS_DRIVERS;                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bce   ec7f     CALL      0x36fe,0x0                                                                                      
                                                 // Connections to drivers become inputs                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bd0   f01b                                    Enable1IO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Enable2IO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Step1IO_TRIS = INPUT_PIN;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Dir1IO_TRIS = INPUT_PIN;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Step2IO_TRIS = INPUT_PIN;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Dir2IO_TRIS = INPUT_PIN;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Alternate I/O pins become inputs                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bd2   8494     BSF       0x94,0x2,0x0         Dir1AltIO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bd4   8492     BSF       0x92,0x2,0x0         Dir2AltIO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bd6   8c94     BSF       0x94,0x6,0x0         Step1AltIO_TRIS = INPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bd8   8a92     BSF       0x92,0x5,0x0         Step2AltIO_TRIS = INPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bda   8295     BSF       0x95,0x1,0x0         Enable1AltIO_TRIS = INPUT_PIN;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bdc   8292     BSF       0x92,0x1,0x0         Enable2AltIO_TRIS = INPUT_PIN;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                }                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set <min_servo> for Servo2 method                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bde   d057     BRA       0x1c8e           else if (Para1 == 4u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001be0   0e04     MOVLW     0x4                                                                                             
001be2   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001be4   e107     BNZ       0x1bf4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001be6   0e01     MOVLW     0x1                g_servo2_min = Para2;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001be8   cfdb     MOVFF     0xfdb,0xa0                                                                                      
001bea   f0a0                                                                                                               
001bec   0e02     MOVLW     0x2                                                                                             
001bee   cfdb     MOVFF     0xfdb,0xa1                                                                                      
001bf0   f0a1                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set <max_servo> for Servo2                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bf2   d04d     BRA       0x1c8e           else if (Para1 == 5u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bf4   0e05     MOVLW     0x5                                                                                             
001bf6   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001bf8   e107     BNZ       0x1c08                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bfa   0e01     MOVLW     0x1                g_servo2_max = Para2;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bfc   cfdb     MOVFF     0xfdb,0x9e                                                                                      
001bfe   f09e                                                                                                               
001c00   0e02     MOVLW     0x2                                                                                             
001c02   cfdb     MOVFF     0xfdb,0x9f                                                                                      
001c04   f09f                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set <gRC2Slots>                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c06   d043     BRA       0x1c8e           else if (Para1 == 8u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c08   0e08     MOVLW     0x8                                                                                             
001c0a   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001c0c   e10f     BNZ       0x1c2c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c0e   ecef     CALL      0x33de,0x0         if (Para2 > MAX_RC2_SERVOS)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c10   f019                                                                                                               
001c12   0e08     MOVLW     0x8                                                                                             
001c14   80d8     BSF       0xd8,0x0,0x0                                                                                    
001c16   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
001c18   0e00     MOVLW     0x0                                                                                             
001c1a   54ed     SUBFWB    0xed,0x0,0x0                                                                                    
001c1c   e203     BC        0x1c24                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c1e   0e08     MOVLW     0x8                  Para2 = MAX_RC2_SERVOS;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c20   eca6     CALL      0x374c,0x0                                                                                      
001c22   f01b                                                                                                               
00374c   6ef3     MOVWF     0xf3,0x0                                                                                        
00374e   0e01     MOVLW     0x1                                                                                             
003750   cff3     MOVFF     0xff3,0xfdb                                                                                     
003752   ffdb                                                                                                               
003754   0e02     MOVLW     0x2                                                                                             
003756   6adb     CLRF      0xdb,0x0                                                                                        
003758   0012     RETURN    0x0                                                                                             
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c24   0e01     MOVLW     0x1                gRC2Slots = Para2;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c26   cfdb     MOVFF     0xfdb,0x9a                                                                                      
001c28   f09a                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c2a   d031     BRA       0x1c8e           else if (Para1 == 9u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c2c   0e09     MOVLW     0x9                                                                                             
001c2e   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001c30   e10f     BNZ       0x1c50                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c32   ecef     CALL      0x33de,0x0         if (Para2 > 6u)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c34   f019                                                                                                               
001c36   0e06     MOVLW     0x6                                                                                             
001c38   80d8     BSF       0xd8,0x0,0x0                                                                                    
001c3a   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
001c3c   0e00     MOVLW     0x0                                                                                             
001c3e   54ed     SUBFWB    0xed,0x0,0x0                                                                                    
001c40   e203     BC        0x1c48                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c42   0e06     MOVLW     0x6                  Para2 = 6;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c44   eca6     CALL      0x374c,0x0                                                                                      
001c46   f01b                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c48   0e01     MOVLW     0x1                gRC2SlotMS = Para2;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c4a   cfdb     MOVFF     0xfdb,0x9b                                                                                      
001c4c   f09b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c4e   d01f     BRA       0x1c8e           else if (Para1 == 10u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c50   0e0a     MOVLW     0xa                                                                                             
001c52   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001c54   e103     BNZ       0x1c5c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c56   ecad     CALL      0x375a,0x0         g_servo2_rate_up = Para2;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c58   f01b                                                                                                               
00375a   0e01     MOVLW     0x1                                                                                             
00375c   cfdb     MOVFF     0xfdb,0xa2                                                                                      
00375e   f0a2                                                                                                               
003760   0e02     MOVLW     0x2                                                                                             
003762   cfdb     MOVFF     0xfdb,0xa3                                                                                      
003764   f0a3                                                                                                               
003766   0012     RETURN    0x0                                                                                             
                                               g_servo2_rate_down = Para2;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c5a   d009     BRA       0x1c6e           else if (Para1 == 11u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c5c   0e0b     MOVLW     0xb                                                                                             
001c5e   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001c60   e103     BNZ       0x1c68                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c62   ecad     CALL      0x375a,0x0         g_servo2_rate_up = Para2;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c64   f01b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c66   d013     BRA       0x1c8e           else if (Para1 == 12u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c68   0e0c     MOVLW     0xc                                                                                             
001c6a   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001c6c   e107     BNZ       0x1c7c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c6e   0e01     MOVLW     0x1                g_servo2_rate_down = Para2;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c70   cfdb     MOVFF     0xfdb,0xa4                                                                                      
001c72   f0a4                                                                                                               
001c74   0e02     MOVLW     0x2                                                                                             
001c76   cfdb     MOVFF     0xfdb,0xa5                                                                                      
001c78   f0a5                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c7a   d009     BRA       0x1c8e             else if (Para1 == 13u)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c7c   0e0d     MOVLW     0xd                                                                                             
001c7e   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001c80   e106     BNZ       0x1c8e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c82   ec0b     CALL      0x3a16,0x0         if (Para2)                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c84   f01d                                                                                                               
001c86   e002     BZ        0x1c8c                                                                                          
0033de   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0033e0   0f01     ADDLW     0x1                                                                                             
0033e2   6ee9     MOVWF     0xe9,0x0                                                                                        
0033e4   cfda     MOVFF     0xfda,0xfea                                                                                     
0033e6   ffea                                                                                                               
0033e8   0012     RETURN    0x0                                                                                             
003a16   dce3     RCALL     0x33de                                                                                          
003a18   50ee     MOVF      0xee,0x0,0x0                                                                                    
003a1a   10ed     IORWF     0xed,0x0,0x0                                                                                    
003a1c   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c88   8008     BSF       0x8,0x0,0x0          bitsetzero(UseAltPause);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c8a   d001     BRA       0x1c8e             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c8c   9008     BCF       0x8,0x0,0x0          bitclrzero(UseAltPause);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c8e   ec87     CALL      0x330e,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c90   f019                                                                                                               
001c92   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c94   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
001c96   e202     BC        0x1c9c                                                                                          
001c98   6ae1     CLRF      0xe1,0x0                                                                                        
001c9a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001c9c   ef80     GOTO      0x3300                                                                                          
001c9e   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Low Level Move command                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: LM,<Rate1>,<Steps1>,<Accel1>,<Rate2>,<Steps2>,<Accel2>,<ClearAccs><CR> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Is for doing low level moves with optional acceleration.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Rate1> and <Rate2> are signed 32-bit integers                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Negative values indicate movement in the opposite direction.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // They are the values added to the accumulator every 25KHz.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Steps1> and <Steps2> are signed 32-bit integers. Each axis will take         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <steps> steps and then stop.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Once both axis are done moving, the command is complete.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that as a legacy mode for v2.8.0 and below                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // software versions you can use the sign of the steps values to control the     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // initial direction of each axis.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Accel1> and <Accel2> are 32 bit signed integers. Their values are added to   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Rate1> and <Rate2> respectively every ISR tick.                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is optional. A value of 0 will do nothing. A value of 1 will      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // clear Motor 1's accumulator before starting the move. A value of 2 will       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // clear Motor 2's accumulator. And a value of 3 will clear both.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ca0   ec34     CALL      0x3a68,0x0     void parse_LM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ca2   f01d                                                                                                               
003a68   dfad     RCALL     0x39c4                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ExtractReturnType ClearRet;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a6a   d8bc     RCALL     0x3be4           clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003be4   ec93     CALL      0x1926,0x0                                                                                      
003be6   f00c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003be8   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bea   ec4c     CALL      0x3298,0x0                                                                                      
003bec   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a6c   0ed1     MOVLW     0xd1             extract_number(kLONG,  &gRate1,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a6e   6ee6     MOVWF     0xe6,0x0                                                                                        
003a70   0e01     MOVLW     0x1                                                                                             
003a72   dec8     RCALL     0x3804                                                                                          
003bee   6ae6     CLRF      0xe6,0x0                                                                                        
003bf0   0012     RETURN    0x0                                                                                             
003a74   0ed5     MOVLW     0xd5             extract_number(kLONG,  &gSteps1,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a76   6ee6     MOVWF     0xe6,0x0                                                                                        
003a78   0e01     MOVLW     0x1                                                                                             
003a7a   d0c3     BRA       0x3c02                                                                                          
003c02   de00     RCALL     0x3804                                                                                          
003c04   0ed9     MOVLW     0xd9             extract_number(kLONG,  &gAccel1,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c06   6ee6     MOVWF     0xe6,0x0                                                                                        
003c08   0e01     MOVLW     0x1                                                                                             
003c0a   ef02     GOTO      0x3804                                                                                          
003c0c   f01c                                                                                                               
001ca4   0ee1     MOVLW     0xe1             extract_number(kLONG,  &gRate2,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ca6   6ee6     MOVWF     0xe6,0x0                                                                                        
001ca8   0e01     MOVLW     0x1                                                                                             
001caa   ecb3     CALL      0x3b66,0x0                                                                                      
001cac   f01d                                                                                                               
001cae   ec8a     CALL      0x3b14,0x0       extract_number(kLONG,  &gSteps2,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cb0   f01d                                                                                                               
                                             extract_number(kLONG,  &gAccel2,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cb2   6edf     MOVWF     0xdf,0x0         ClearRet = extract_number(kULONG, &gClearAccs, kOPTIONAL);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cb4   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cb6   5184     MOVF      0x84,0x0,0x1                                                                                    
001cb8   e127     BNZ       0x1d08                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cba   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cbc   51c2     MOVF      0xc2,0x0,0x1                                                                                    
001cbe   e01d     BZ        0x1cfa                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Quickly eliminate obvious invalid parameter combinations,                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // like LM,1,0,2,0,0,0. Or LM,0,1,0,0,0,0,0 GH issue #78                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if (                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cc0   51d1     MOVF      0xd1,0x0,0x1           ((gRate1 == 0) && (gAccel1 == 0))                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cc2   11d2     IORWF     0xd2,0x0,0x1                                                                                    
001cc4   11d3     IORWF     0xd3,0x0,0x1                                                                                    
001cc6   11d4     IORWF     0xd4,0x0,0x1                                                                                    
001cc8   e105     BNZ       0x1cd4                                                                                          
001cca   51d9     MOVF      0xd9,0x0,0x1                                                                                    
001ccc   11da     IORWF     0xda,0x0,0x1                                                                                    
001cce   11db     IORWF     0xdb,0x0,0x1                                                                                    
001cd0   11dc     IORWF     0xdc,0x0,0x1                                                                                    
001cd2   e003     BZ        0x1cda                                                                                          
                                                   ||                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cd4   ecd6     CALL      0x35ac,0x0             (gSteps1 == 0)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cd6   f01a                                                                                                               
001cd8   e110     BNZ       0x1cfa               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 &&                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cda   51e1     MOVF      0xe1,0x0,0x1           ((gRate2 == 0) && (gAccel2 == 0))                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cdc   11e2     IORWF     0xe2,0x0,0x1                                                                                    
001cde   11e3     IORWF     0xe3,0x0,0x1                                                                                    
001ce0   11e4     IORWF     0xe4,0x0,0x1                                                                                    
001ce2   e105     BNZ       0x1cee                                                                                          
001ce4   51e9     MOVF      0xe9,0x0,0x1                                                                                    
001ce6   11ea     IORWF     0xea,0x0,0x1                                                                                    
001ce8   11eb     IORWF     0xeb,0x0,0x1                                                                                    
001cea   11ec     IORWF     0xec,0x0,0x1                                                                                    
001cec   e003     BZ        0x1cf4                                                                                          
                                                   ||                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cee   ecdb     CALL      0x35b6,0x0             (gSteps2 == 0)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cf0   f01a                                                                                                               
001cf2   e103     BNZ       0x1cfa               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cf4   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cf6   8d84     BSF       0x84,0x6,0x1                                                                                    
001cf8   d007     BRA       0x1d08               return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // We don't need Intervals or Jerks, so set them to zero before calling low_level D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cfa   ecc7     CALL      0x378e,0x0       gIntervals = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cfc   f01b                                                                                                               
001cfe   ecec     CALL      0x35d8,0x0       gJerk1 = 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d00   f01a                                                                                                               
0035d8   6bdd     CLRF      0xdd,0x1                                                                                        
0035da   6bde     CLRF      0xde,0x1                                                                                        
0035dc   6bdf     CLRF      0xdf,0x1                                                                                        
0035de   6be0     CLRF      0xe0,0x1                                                                                        
0035e0   6bed     CLRF      0xed,0x1         gJerk2 = 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0035e2   6bee     CLRF      0xee,0x1                                                                                        
0035e4   6bef     CLRF      0xef,0x1                                                                                        
0035e6   6bf0     CLRF      0xf0,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d02   6ae6     CLRF      0xe6,0x0         process_low_level_move(FALSE, ClearRet);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d04   ec75     CALL      0x36ea,0x0                                                                                      
001d06   f01b                                                                                                               
0035e8   cfdf     MOVFF     0xfdf,0xfe6                                                                                     
0035ea   ffe6                                                                                                               
0035ec   0012     RETURN    0x0                                                                                             
001d08   ef47     GOTO      0x348e         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d0a   f01a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Low Level third derivative Move command                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: L3,<Rate1>,<Steps1>,<Accel1>,<Jerk1>,<Rate2>,<Steps2>,<Accel2>,<Jerk2>,<ClearAccs><CR> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Is for doing low level moves with optional acceleration and jerk,             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Rate1> and <Rate2> are signed 32-bit integers                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Negative values indicate movement in the opposite direction.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // They are the values added to the accumulator every 25KHz.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Steps1> and <Steps2> are signed 32-bit integers. Each axis will take         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <steps> steps and then stop.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Once both axis are done moving, the command is complete.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Accel1> and <Accel2> are 32 bit signed integers. Their values are added to   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Rate1> and <Rate2> respectively every ISR tick.                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Jerk1> and <Jerk2> are applied to <Rate1> and <Rate2> every ISR tick.        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // See full EBB docs for more complete documentation.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that as a legacy mode for compatibility with v2.8.0 and below            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // software versions. You can use the sign of the steps values to control the    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // initial direction of each axis, but then <Rate> must not be negative.         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is optional. A value of 0 will do nothing. A value of 1 will      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // clear Motor 1's accumulator before starting the move. A value of 2 will       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // clear Motor 2's accumulator. And a value of 3 will clear both.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d0c   ec34     CALL      0x3a68,0x0     void parse_L3_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d0e   f01d                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ExtractReturnType ClearRet;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kLONG,  &gRate1,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kLONG,  &gSteps1,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kLONG,  &gAccel1,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d10   ecf9     CALL      0x3bf2,0x0       extract_number(kLONG,  &gJerk1,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d12   f01d                                                                                                               
003bf2   0edd     MOVLW     0xdd                                                                                            
003bf4   6ee6     MOVWF     0xe6,0x0                                                                                        
003bf6   0e01     MOVLW     0x1                                                                                             
003bf8   de05     RCALL     0x3804                                                                                          
001d14   ecb3     CALL      0x3b66,0x0       extract_number(kLONG,  &gRate2,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d16   f01d                                                                                                               
003b66   de4e     RCALL     0x3804                                                                                          
003bfa   0ee1     MOVLW     0xe1                                                                                            
003bfc   6ee6     MOVWF     0xe6,0x0                                                                                        
003bfe   0e01     MOVLW     0x1                                                                                             
003c00   0012     RETURN    0x0                                                                                             
001d18   ec3e     CALL      0x3a7c,0x0       extract_number(kLONG,  &gSteps2,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d1a   f01d                                                                                                               
003a7c   dec3     RCALL     0x3804                                                                                          
003b68   0ee5     MOVLW     0xe5                                                                                            
003b6a   6ee6     MOVWF     0xe6,0x0                                                                                        
003b6c   0e01     MOVLW     0x1                                                                                             
003b6e   0012     RETURN    0x0                                                                                             
003a7e   0ee9     MOVLW     0xe9             extract_number(kLONG,  &gAccel2,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a80   6ee6     MOVWF     0xe6,0x0                                                                                        
003a82   0e01     MOVLW     0x1                                                                                             
003a84   debf     RCALL     0x3804                                                                                          
003a86   0eed     MOVLW     0xed             extract_number(kLONG,  &gJerk2,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a88   6ee6     MOVWF     0xe6,0x0                                                                                        
003a8a   0e01     MOVLW     0x1                                                                                             
003a8c   dec0     RCALL     0x380e                                                                                          
003a8e   6edf     MOVWF     0xdf,0x0         ClearRet = extract_number(kULONG, &gClearAccs, kOPTIONAL);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d1c   e131     BNZ       0x1d80           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a90   0104     MOVLB     0x4                                                                                             
003a92   5184     MOVF      0x84,0x0,0x1                                                                                    
003a94   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d1e   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d20   51c2     MOVF      0xc2,0x0,0x1                                                                                    
001d22   e027     BZ        0x1d72                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Quickly eliminate obvious invalid parameter combinations,                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // like L3,1,0,2,3,0,0,0,0. Or L3,0,1,0,0,0,0,0,0,0 GH issue #78             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if (                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d24   51d1     MOVF      0xd1,0x0,0x1           ((gRate1 == 0) && (gAccel1 == 0) && (gJerk1 == 0))                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d26   11d2     IORWF     0xd2,0x0,0x1                                                                                    
001d28   11d3     IORWF     0xd3,0x0,0x1                                                                                    
001d2a   11d4     IORWF     0xd4,0x0,0x1                                                                                    
001d2c   e10a     BNZ       0x1d42                                                                                          
001d2e   51d9     MOVF      0xd9,0x0,0x1                                                                                    
001d30   11da     IORWF     0xda,0x0,0x1                                                                                    
001d32   11db     IORWF     0xdb,0x0,0x1                                                                                    
001d34   11dc     IORWF     0xdc,0x0,0x1                                                                                    
001d36   e105     BNZ       0x1d42                                                                                          
001d38   51dd     MOVF      0xdd,0x0,0x1                                                                                    
001d3a   11de     IORWF     0xde,0x0,0x1                                                                                    
001d3c   11df     IORWF     0xdf,0x0,0x1                                                                                    
001d3e   11e0     IORWF     0xe0,0x0,0x1                                                                                    
001d40   e003     BZ        0x1d48                                                                                          
                                                   ||                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d42   ecd6     CALL      0x35ac,0x0             (gSteps1 == 0)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d44   f01a                                                                                                               
001d46   e115     BNZ       0x1d72               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 &&                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d48   51e1     MOVF      0xe1,0x0,0x1           ((gRate2 == 0) && (gAccel2 == 0) && (gJerk1 == 0))                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d4a   11e2     IORWF     0xe2,0x0,0x1                                                                                    
001d4c   11e3     IORWF     0xe3,0x0,0x1                                                                                    
001d4e   11e4     IORWF     0xe4,0x0,0x1                                                                                    
001d50   e10a     BNZ       0x1d66                                                                                          
001d52   51e9     MOVF      0xe9,0x0,0x1                                                                                    
001d54   11ea     IORWF     0xea,0x0,0x1                                                                                    
001d56   11eb     IORWF     0xeb,0x0,0x1                                                                                    
001d58   11ec     IORWF     0xec,0x0,0x1                                                                                    
001d5a   e105     BNZ       0x1d66                                                                                          
001d5c   51dd     MOVF      0xdd,0x0,0x1                                                                                    
001d5e   11de     IORWF     0xde,0x0,0x1                                                                                    
001d60   11df     IORWF     0xdf,0x0,0x1                                                                                    
001d62   11e0     IORWF     0xe0,0x0,0x1                                                                                    
001d64   e003     BZ        0x1d6c                                                                                          
                                                   ||                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d66   ecdb     CALL      0x35b6,0x0             (gSteps2 == 0)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d68   f01a                                                                                                               
001d6a   e103     BNZ       0x1d72               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d6c   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d6e   8d84     BSF       0x84,0x6,0x1                                                                                    
001d70   d007     BRA       0x1d80               return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // We don't use Intervals, so set it to zero here                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d72   ecc7     CALL      0x378e,0x0       gIntervals = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d74   f01b                                                                                                               
00378e   6bc9     CLRF      0xc9,0x1                                                                                        
003790   6bca     CLRF      0xca,0x1                                                                                        
003792   6bcb     CLRF      0xcb,0x1                                                                                        
003794   6bcc     CLRF      0xcc,0x1                                                                                        
003796   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d76   cfdf     MOVFF     0xfdf,0xfe6      process_low_level_move(FALSE, ClearRet);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d78   ffe6                                                                                                               
001d7a   6ae6     CLRF      0xe6,0x0                                                                                        
001d7c   ec75     CALL      0x36ea,0x0                                                                                      
001d7e   f01b                                                                                                               
001d80   ef47     GOTO      0x348e         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d82   f01a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Low Level Timed third derivative Move command                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: L3,<Intervals>,<Rate1>,<Accel1>,<Jerk1>,<Rate2>,<Accel2>,<Jerk2>,<ClearAccs><CR> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This command is a modified version of the LM command. Instead of stepping for a certain number of steps D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // on each axis at a given rate (with an acceleration term for each as well), this command will step  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // for a certain duration, no matter the step count. The rate and acceleration of each axis are still D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // specified separately.                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that <Intervals> is a 32-bit unsigned int and is in units of ISR ticks.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Accel1> and <Accel2> are 32 bit signed ints                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Rate1> and <Rate2> are 32 bit signed ints                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Jerk1> and <Jerk2> are 32 bit signed ints                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The sign of <Rate1> and <Rate2> determine the direction that the axis will move. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // After the signs are taken into account for direction purposes, the Rate values D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // are converted to unsigned 31 bit numbers.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is optional. A value of 0 will do nothing. A value of 1 will clear Motor 1's accumulator before D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // starting the move. A value of 2 will clear Motor 2's accumulator. And a value of 3 will clear both. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d84   ec4b     CALL      0x3a96,0x0     void parse_T3_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d86   f01d                                                                                                               
003a96   df96     RCALL     0x39c4                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ExtractReturnType ClearRet;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a98   ded3     RCALL     0x3840           clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kULONG, &gIntervals, kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a9a   6ae6     CLRF      0xe6,0x0         extract_number(kLONG,  &gRate1,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a9c   0ed1     MOVLW     0xd1                                                                                            
003a9e   6ee6     MOVWF     0xe6,0x0                                                                                        
003aa0   0e01     MOVLW     0x1                                                                                             
003aa2   d0af     BRA       0x3c02                                                                                          
                                             extract_number(kLONG,  &gAccel1,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d88   ecf9     CALL      0x3bf2,0x0       extract_number(kLONG,  &gJerk1,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d8a   f01d                                                                                                               
001d8c   ec3e     CALL      0x3a7c,0x0       extract_number(kLONG,  &gRate2,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d8e   f01d                                                                                                               
                                             extract_number(kLONG,  &gAccel2,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kLONG,  &gJerk2,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ClearRet = extract_number(kULONG, &gClearAccs, kOPTIONAL);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d90   e111     BNZ       0x1db4           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d92   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d94   51c2     MOVF      0xc2,0x0,0x1                                                                                    
001d96   e006     BZ        0x1da4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Eliminate obvious invalid parameter combinations,                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // like LT,0,X,X,X,X,X                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d98   ec12     CALL      0x3624,0x0         if (gIntervals == 0u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d9a   f01b                                                                                                               
001d9c   e103     BNZ       0x1da4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d9e   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001da0   8d84     BSF       0x84,0x6,0x1                                                                                    
001da2   d008     BRA       0x1db4               return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // We don't use Steps so clear them here before calling low_level              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001da4   ec20     CALL      0x3640,0x0       gSteps1 = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001da6   f01b                                                                                                               
003640   6bd5     CLRF      0xd5,0x1                                                                                        
003642   6bd6     CLRF      0xd6,0x1                                                                                        
003644   6bd7     CLRF      0xd7,0x1                                                                                        
003646   6bd8     CLRF      0xd8,0x1                                                                                        
003648   6be5     CLRF      0xe5,0x1         gSteps2 = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00364a   6be6     CLRF      0xe6,0x1                                                                                        
00364c   6be7     CLRF      0xe7,0x1                                                                                        
00364e   6be8     CLRF      0xe8,0x1                                                                                        
003650   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001da8   cfdf     MOVFF     0xfdf,0xfe6      process_low_level_move(TRUE, ClearRet);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001daa   ffe6                                                                                                               
001dac   0e01     MOVLW     0x1                                                                                             
001dae   6ee6     MOVWF     0xe6,0x0                                                                                        
001db0   ec75     CALL      0x36ea,0x0                                                                                      
001db2   f01b                                                                                                               
001db4   ef47     GOTO      0x348e         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001db6   f01a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Low Level Timed Move command                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: LT,<Intervals>,<Rate1>,<Accel1>,<Rate2>,<Accel2>,<ClearAccs><CR>       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This command is a modified version of the LM command. Instead of stepping for a certain number of steps D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // on each axis at a given rate (with an acceleration term for each as well), this command will step  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // for a certain duration, no matter the step count. The rate and acceleration of each axis are still D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // specified separately.                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that <Intervals> is a 32-bit unsigned int and is in units of ISR ticks.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Accel1> and <Accel2> are 32 bit signed ints, and <Rate1> and <Rate2> are 32 bit signed ints.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The sign of <Rate1> and <Rate2> determine the direction that the axis will move. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // After the signs are taken into account for direction purposes, the Rate values D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // are converted to unsigned 31 bit numbers.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is optional. A value of 0 will do nothing. A value of 1 will clear Motor 1's accumulator before D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // starting the move. A value of 2 will clear Motor 2's accumulator. And a value of 3 will clear both. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001db8   ec4b     CALL      0x3a96,0x0     void parse_LT_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dba   f01d                                                                                                               
0039c4   dc9f     RCALL     0x3304                                                                                          
0039c6   52e6     MOVF      0xe6,0x1,0x0                                                                                    
0039c8   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ExtractReturnType ClearRet;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kULONG, &gIntervals, kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kLONG,  &gRate1,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kLONG,  &gAccel1,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dbc   0ee1     MOVLW     0xe1             extract_number(kLONG,  &gRate2,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dbe   6ee6     MOVWF     0xe6,0x0                                                                                        
001dc0   0e01     MOVLW     0x1                                                                                             
001dc2   ec8a     CALL      0x3b14,0x0                                                                                      
001dc4   f01d                                                                                                               
003b14   de77     RCALL     0x3804                                                                                          
00380e   d988     RCALL     0x3b20           extract_number(kLONG,  &gAccel2,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b16   0ee9     MOVLW     0xe9                                                                                            
003b18   6ee6     MOVWF     0xe6,0x0                                                                                        
003b1a   0e01     MOVLW     0x1                                                                                             
003b1c   ef07     GOTO      0x380e                                                                                          
003b1e   f01c                                                                                                               
003b20   6ee6     MOVWF     0xe6,0x0                                                                                        
003b22   0e06     MOVLW     0x6                                                                                             
003b24   ecae     CALL      0x315c,0x0                                                                                      
003b26   f018                                                                                                               
001dc6   6edf     MOVWF     0xdf,0x0         ClearRet = extract_number(kULONG, &gClearAccs, kOPTIONAL);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003810   6ee6     MOVWF     0xe6,0x0                                                                                        
003812   0ecd     MOVLW     0xcd                                                                                            
003814   6ee6     MOVWF     0xe6,0x0                                                                                        
003816   0e01     MOVLW     0x1                                                                                             
003818   efe3     GOTO      0x3bc6                                                                                          
00381a   f01d                                                                                                               
003b28   0e01     MOVLW     0x1                                                                                             
003b2a   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dc8   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dca   5184     MOVF      0x84,0x0,0x1                                                                                    
001dcc   e111     BNZ       0x1df0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dce   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dd0   51c2     MOVF      0xc2,0x0,0x1                                                                                    
001dd2   e006     BZ        0x1de0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Eliminate obvious invalid parameter combinations,                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // like LT,0,X,X,X,X,X                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dd4   ec12     CALL      0x3624,0x0         if (gIntervals == 0u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dd6   f01b                                                                                                               
001dd8   e103     BNZ       0x1de0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dda   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ddc   8d84     BSF       0x84,0x6,0x1                                                                                    
001dde   d008     BRA       0x1df0               return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // We don't use Steps or Jerk, so set them to zero here                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001de0   ec20     CALL      0x3640,0x0       gSteps1 = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001de2   f01b                                                                                                               
                                             gSteps2 = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001de4   ecec     CALL      0x35d8,0x0       gJerk1 = 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001de6   f01a                                                                                                               
                                             gJerk2 = 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001de8   0e01     MOVLW     0x1              process_low_level_move(TRUE, ClearRet);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dea   6ee6     MOVWF     0xe6,0x0                                                                                        
001dec   ec75     CALL      0x36ea,0x0                                                                                      
001dee   f01b                                                                                                               
0036ea   ecfa     CALL      0x1df4,0x0                                                                                      
0036ec   f00e                                                                                                               
0036ee   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0036f0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0036f2   0012     RETURN    0x0                                                                                             
001df0   ef47     GOTO      0x348e         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001df2   f01a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Because the code for LM, L3, LT and T3 is really the same we call a common    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // processing function from all of them once their parameters are parsed into    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // variables.                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The caller must understand that this function changes some/all of the         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // global values used to pass in parameters. If it needs to preserve any         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // of those values it should make copies.                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This function takes input parameters in:                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gIntervals                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gRate1                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gRate2                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gSteps1                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gSteps2                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gAccel1                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gAccel2                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gJerk1                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gJerk2                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gClearAccs                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001df4   ec82     CALL      0x3304,0x0     void process_low_level_move(BOOL TimedMove, ExtractReturnType ClearRet)          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001df6   f019                                                                                                               
001df8   0e05     MOVLW     0x5                                                                                             
001dfa   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dfc   6ade     CLRF      0xde,0x0         INT32 RateTemp = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001dfe   6ade     CLRF      0xde,0x0                                                                                        
001e00   6ade     CLRF      0xde,0x0                                                                                        
001e02   6add     CLRF      0xdd,0x0                                                                                        
001e04   52dd     MOVF      0xdd,0x1,0x0                                                                                    
001e06   52dd     MOVF      0xdd,0x1,0x0                                                                                    
                                             BOOL NeedNegativeAccumulator;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If we have a triggered limit switch, then ignore this move command          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e08   b00e     BTFSC     0xe,0x0,0x0      if (bittstzero(gLimitSwitchTriggered))                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e0a   d22d     BRA       0x2266                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e0c   b409     BTFSC     0x9,0x2,0x0      if (!bittst(TestMode, TEST_MODE_USART_ISR_NUM))                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e0e   d008     BRA       0x1e20                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e10   ecf7     CALL      0x35ee,0x0         if (gClearAccs > 3u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e12   f01a                                                                                                               
001e14   e205     BC        0x1e20                                                                                          
0035ee   80d8     BSF       0xd8,0x0,0x0                                                                                    
0035f0   0e03     MOVLW     0x3                                                                                             
0035f2   0101     MOVLB     0x1                                                                                             
0035f4   55cd     SUBFWB    0xcd,0x0,0x1                                                                                    
0035f6   0e00     MOVLW     0x0                                                                                             
0035f8   55ce     SUBFWB    0xce,0x0,0x1                                                                                    
0035fa   0e00     MOVLW     0x0                                                                                             
0035fc   55cf     SUBFWB    0xcf,0x0,0x1                                                                                    
0035fe   0e00     MOVLW     0x0                                                                                             
003600   55d0     SUBFWB    0xd0,0x0,0x1                                                                                    
003602   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e16   0e03     MOVLW     0x3                  gClearAccs = 3;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e18   6fcd     MOVWF     0xcd,0x1                                                                                        
001e1a   6bce     CLRF      0xce,0x1                                                                                        
001e1c   6bcf     CLRF      0xcf,0x1                                                                                        
001e1e   6bd0     CLRF      0xd0,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If not a timed move, check for legacy opposite direction support            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e20   0efe     MOVLW     0xfe             if (!TimedMove)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e22   50db     MOVF      0xdb,0x0,0x0                                                                                    
001e24   e132     BNZ       0x1e8a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Since we will only use the sign of Rate as the signal for initial         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // stepper direction, if the user has sent us negative step counts, we       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // apply a 'legacy' mode rule here : if steps are negative, make sure        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // rate is positive, then make steps positive and rate negative and invert   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // acceleration too to compensate. After this step, the sign of rate completely D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // controls the direction.                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e26   0101     MOVLB     0x1                if (gSteps1 < 0)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e28   0e80     MOVLW     0x80                                                                                            
001e2a   15d8     ANDWF     0xd8,0x0,0x1                                                                                    
001e2c   e014     BZ        0x1e56                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e2e   0e80     MOVLW     0x80                 if (gRate1 < 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e30   15d4     ANDWF     0xd4,0x0,0x1                                                                                    
001e32   e117     BNZ       0x1e62                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e34   0e00     MOVLW     0x0                    gSteps1 = -gSteps1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e36   eccb     CALL      0x3996,0x0                                                                                      
001e38   f01c                                                                                                               
003996   6dd5     NEGF      0xd5,0x1                                                                                        
003998   1fd6     COMF      0xd6,0x1,0x1                                                                                    
00399a   23d6     ADDWFC    0xd6,0x1,0x1                                                                                    
00399c   1fd7     COMF      0xd7,0x1,0x1                                                                                    
00399e   23d7     ADDWFC    0xd7,0x1,0x1                                                                                    
0039a0   1fd8     COMF      0xd8,0x1,0x1                                                                                    
0039a2   23d8     ADDWFC    0xd8,0x1,0x1                                                                                    
0039a4   0012     RETURN    0x0                                                                                             
001e3a   6dd1     NEGF      0xd1,0x1               gRate1 = -gRate1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e3c   1fd2     COMF      0xd2,0x1,0x1                                                                                    
001e3e   23d2     ADDWFC    0xd2,0x1,0x1                                                                                    
001e40   1fd3     COMF      0xd3,0x1,0x1                                                                                    
001e42   23d3     ADDWFC    0xd3,0x1,0x1                                                                                    
001e44   1fd4     COMF      0xd4,0x1,0x1                                                                                    
001e46   23d4     ADDWFC    0xd4,0x1,0x1                                                                                    
001e48   6dd9     NEGF      0xd9,0x1               gAccel1 = -gAccel1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e4a   1fda     COMF      0xda,0x1,0x1                                                                                    
001e4c   23da     ADDWFC    0xda,0x1,0x1                                                                                    
001e4e   1fdb     COMF      0xdb,0x1,0x1                                                                                    
001e50   23db     ADDWFC    0xdb,0x1,0x1                                                                                    
001e52   1fdc     COMF      0xdc,0x1,0x1                                                                                    
001e54   23dc     ADDWFC    0xdc,0x1,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e56   0e80     MOVLW     0x80               if (gSteps2 < 0)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e58   15e8     ANDWF     0xe8,0x0,0x1                                                                                    
001e5a   e017     BZ        0x1e8a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e5c   0e80     MOVLW     0x80                 if (gRate2 < 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e5e   15e4     ANDWF     0xe4,0x0,0x1                                                                                    
001e60   e003     BZ        0x1e68                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e62   0104     MOVLB     0x4                    bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e64   8d84     BSF       0x84,0x6,0x1                                                                                    
001e66   d1ff     BRA       0x2266                 return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e68   0e00     MOVLW     0x0                    gSteps2 = -gSteps2;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e6a   ecd3     CALL      0x39a6,0x0                                                                                      
001e6c   f01c                                                                                                               
0039a6   6de5     NEGF      0xe5,0x1                                                                                        
0039a8   1fe6     COMF      0xe6,0x1,0x1                                                                                    
0039aa   23e6     ADDWFC    0xe6,0x1,0x1                                                                                    
0039ac   1fe7     COMF      0xe7,0x1,0x1                                                                                    
0039ae   23e7     ADDWFC    0xe7,0x1,0x1                                                                                    
0039b0   1fe8     COMF      0xe8,0x1,0x1                                                                                    
0039b2   23e8     ADDWFC    0xe8,0x1,0x1                                                                                    
0039b4   0012     RETURN    0x0                                                                                             
001e6e   6de1     NEGF      0xe1,0x1               gRate2 = -gRate2;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e70   1fe2     COMF      0xe2,0x1,0x1                                                                                    
001e72   23e2     ADDWFC    0xe2,0x1,0x1                                                                                    
001e74   1fe3     COMF      0xe3,0x1,0x1                                                                                    
001e76   23e3     ADDWFC    0xe3,0x1,0x1                                                                                    
001e78   1fe4     COMF      0xe4,0x1,0x1                                                                                    
001e7a   23e4     ADDWFC    0xe4,0x1,0x1                                                                                    
001e7c   6de9     NEGF      0xe9,0x1               gAccel2 = -gAccel2;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e7e   1fea     COMF      0xea,0x1,0x1                                                                                    
001e80   23ea     ADDWFC    0xea,0x1,0x1                                                                                    
001e82   1feb     COMF      0xeb,0x1,0x1                                                                                    
001e84   23eb     ADDWFC    0xeb,0x1,0x1                                                                                    
001e86   1fec     COMF      0xec,0x1,0x1                                                                                    
001e88   23ec     ADDWFC    0xec,0x1,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e8a   0101     MOVLB     0x1              gMoveTemp.m.sm.DirBits = 0;       // Start by assuming motors start CW         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e8c   6b2a     CLRF      0x2a,0x1                                                                                        
001e8e   6b2b     CLRF      0x2b,0x1         gMoveTemp.m.sm.DelayCounter = 0;  // No delay for motor moves                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e90   6b2c     CLRF      0x2c,0x1                                                                                        
001e92   6b2d     CLRF      0x2d,0x1                                                                                        
001e94   6b2e     CLRF      0x2e,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Subtract off half of the Accel term and add 1/6th of the Jerk before we add the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // move to the queue. Why? Because it makes the math cleaner (see LM command   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // documentation)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e96   c1d9     MOVFF     0x1d9,0x40       gRate1 = gRate1 - (gAccel1/2) + (gJerk1/6);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e98   f040                                                                                                               
001e9a   c1da     MOVFF     0x1da,0x41                                                                                      
001e9c   f041                                                                                                               
001e9e   c1db     MOVFF     0x1db,0x42                                                                                      
001ea0   f042                                                                                                               
001ea2   c1dc     MOVFF     0x1dc,0x43                                                                                      
001ea4   f043                                                                                                               
001ea6   0e02     MOVLW     0x2                                                                                             
001ea8   eca5     CALL      0x354a,0x0                                                                                      
001eaa   f01a                                                                                                               
001eac   5040     MOVF      0x40,0x0,0x0                                                                                    
001eae   0101     MOVLB     0x1                                                                                             
001eb0   5dd1     SUBWF     0xd1,0x0,0x1                                                                                    
001eb2   6e4e     MOVWF     0x4e,0x0                                                                                        
001eb4   5041     MOVF      0x41,0x0,0x0                                                                                    
001eb6   59d2     SUBWFB    0xd2,0x0,0x1                                                                                    
001eb8   6e4f     MOVWF     0x4f,0x0                                                                                        
001eba   5042     MOVF      0x42,0x0,0x0                                                                                    
001ebc   59d3     SUBWFB    0xd3,0x0,0x1                                                                                    
001ebe   6e50     MOVWF     0x50,0x0                                                                                        
001ec0   5043     MOVF      0x43,0x0,0x0                                                                                    
001ec2   59d4     SUBWFB    0xd4,0x0,0x1                                                                                    
001ec4   6e51     MOVWF     0x51,0x0                                                                                        
001ec6   c1dd     MOVFF     0x1dd,0x40                                                                                      
001ec8   f040                                                                                                               
001eca   c1de     MOVFF     0x1de,0x41                                                                                      
001ecc   f041                                                                                                               
001ece   c1df     MOVFF     0x1df,0x42                                                                                      
001ed0   f042                                                                                                               
001ed2   c1e0     MOVFF     0x1e0,0x43                                                                                      
001ed4   f043                                                                                                               
001ed6   0e06     MOVLW     0x6                                                                                             
001ed8   eca5     CALL      0x354a,0x0                                                                                      
001eda   f01a                                                                                                               
001edc   504e     MOVF      0x4e,0x0,0x0                                                                                    
001ede   2440     ADDWF     0x40,0x0,0x0                                                                                    
001ee0   0101     MOVLB     0x1                                                                                             
001ee2   6fd1     MOVWF     0xd1,0x1                                                                                        
001ee4   504f     MOVF      0x4f,0x0,0x0                                                                                    
001ee6   2041     ADDWFC    0x41,0x0,0x0                                                                                    
001ee8   6fd2     MOVWF     0xd2,0x1                                                                                        
001eea   5050     MOVF      0x50,0x0,0x0                                                                                    
001eec   2042     ADDWFC    0x42,0x0,0x0                                                                                    
001eee   6fd3     MOVWF     0xd3,0x1                                                                                        
001ef0   5051     MOVF      0x51,0x0,0x0                                                                                    
001ef2   2043     ADDWFC    0x43,0x0,0x0                                                                                    
001ef4   6fd4     MOVWF     0xd4,0x1                                                                                        
001ef6   c1e9     MOVFF     0x1e9,0x40       gRate2 = gRate2 - (gAccel2/2) + (gJerk2/6);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ef8   f040                                                                                                               
001efa   c1ea     MOVFF     0x1ea,0x41                                                                                      
001efc   f041                                                                                                               
001efe   c1eb     MOVFF     0x1eb,0x42                                                                                      
001f00   f042                                                                                                               
001f02   c1ec     MOVFF     0x1ec,0x43                                                                                      
001f04   f043                                                                                                               
001f06   0e02     MOVLW     0x2                                                                                             
001f08   eca5     CALL      0x354a,0x0                                                                                      
001f0a   f01a                                                                                                               
001f0c   5040     MOVF      0x40,0x0,0x0                                                                                    
001f0e   0101     MOVLB     0x1                                                                                             
001f10   5de1     SUBWF     0xe1,0x0,0x1                                                                                    
001f12   6e4e     MOVWF     0x4e,0x0                                                                                        
001f14   5041     MOVF      0x41,0x0,0x0                                                                                    
001f16   59e2     SUBWFB    0xe2,0x0,0x1                                                                                    
001f18   6e4f     MOVWF     0x4f,0x0                                                                                        
001f1a   5042     MOVF      0x42,0x0,0x0                                                                                    
001f1c   59e3     SUBWFB    0xe3,0x0,0x1                                                                                    
001f1e   6e50     MOVWF     0x50,0x0                                                                                        
001f20   5043     MOVF      0x43,0x0,0x0                                                                                    
001f22   59e4     SUBWFB    0xe4,0x0,0x1                                                                                    
001f24   6e51     MOVWF     0x51,0x0                                                                                        
001f26   c1ed     MOVFF     0x1ed,0x40                                                                                      
001f28   f040                                                                                                               
001f2a   c1ee     MOVFF     0x1ee,0x41                                                                                      
001f2c   f041                                                                                                               
001f2e   c1ef     MOVFF     0x1ef,0x42                                                                                      
001f30   f042                                                                                                               
001f32   c1f0     MOVFF     0x1f0,0x43                                                                                      
001f34   f043                                                                                                               
001f36   0e06     MOVLW     0x6                                                                                             
001f38   eca5     CALL      0x354a,0x0                                                                                      
001f3a   f01a                                                                                                               
001f3c   504e     MOVF      0x4e,0x0,0x0                                                                                    
001f3e   2440     ADDWF     0x40,0x0,0x0                                                                                    
001f40   0101     MOVLB     0x1                                                                                             
001f42   6fe1     MOVWF     0xe1,0x1                                                                                        
001f44   504f     MOVF      0x4f,0x0,0x0                                                                                    
001f46   2041     ADDWFC    0x41,0x0,0x0                                                                                    
001f48   6fe2     MOVWF     0xe2,0x1                                                                                        
001f4a   5050     MOVF      0x50,0x0,0x0                                                                                    
001f4c   2042     ADDWFC    0x42,0x0,0x0                                                                                    
001f4e   6fe3     MOVWF     0xe3,0x1                                                                                        
001f50   5051     MOVF      0x51,0x0,0x0                                                                                    
001f52   2043     ADDWFC    0x43,0x0,0x0                                                                                    
001f54   6fe4     MOVWF     0xe4,0x1                                                                                        
00354a   6e45     MOVWF     0x45,0x0                                                                                        
00354c   6a46     CLRF      0x46,0x0                                                                                        
00354e   6a47     CLRF      0x47,0x0                                                                                        
003550   6a48     CLRF      0x48,0x0                                                                                        
003552   ef1c     GOTO      0x7638                                                                                          
003554   f03b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // We will use the SEState move parameter to hold a bitfield. This bitfield    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // will tell the ISR if the accumulators need any special treatment when       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the command is loaded. We can zero it, or set it to 2^31-1, leave           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // it alone, or set it to an arbitrary value (when testing).                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If clearing the accumulator, there are certain conditions which require     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // us to start the accumulator at 2^31-1, so we check for those                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // conditions and we use two bits in SEState to indicate this.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f56   0101     MOVLB     0x1              gMoveTemp.m.sm.SEState = 0;           // Start with all bits clear             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f58   6b2f     CLRF      0x2f,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Determine what to do with the accumulators in UART_ISR_NUM test mode.       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // In this test mode, we are outputting all of the relevant variables after    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // each move, over the debug UART pin, for collection by the HIL test          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // system for comparison to the correct values (which are pre-computed on      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the PC).                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // This test mode gives the user the ability to 'preload' the accumulators     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // before the move begins, thus allowing a test where you can simulate         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the move beginning with any arbitrary value of the accumulator. This is     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // critical as certain tests require this ability to correctly check the       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // math in those situations.                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // This ability is implemented by overloading the last parameter sent in       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // for this command, gClearAccs. This is an optional parameter. If the         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // parameter is not present, then in this test mode that fact is interpreted   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // as a command to clear both accumulators to zero before the move begins.     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // However, if any value is present for this parameter, then ClearRet will     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // be set to kEXTRACT_OK, and gClearAccs will hold the desired starting value  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // of the accumulators. When this is true, both accumulators are set to        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the value of gClearAccs before the move begins.                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Because this extra logic is only triggered when the test mode is active,    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // it does not impact normal operation at all.                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f5a   a409     BTFSS     0x9,0x2,0x0      if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f5c   d016     BRA       0x1f8a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // If the ISR_BIT_NUM test mode is on, then interpret the Clear parameter    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // as the initial value for Axis1 accumulator. There is no way currently     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // to perform this same trick for Axis2.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // We got a Clear parameter                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f5e   0efd     MOVLW     0xfd               if (ClearRet == kEXTRACT_OK)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f60   50db     MOVF      0xdb,0x0,0x0                                                                                    
001f62   e10d     BNZ       0x1f7e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f64   892f     BSF       0x2f,0x4,0x1         gMoveTemp.m.sm.SEState |= SESTATE_ARBITRARY_ACC1_BIT;                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f66   8b2f     BSF       0x2f,0x5,0x1         gMoveTemp.m.sm.SEState |= SESTATE_ARBITRARY_ACC2_BIT;                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f68   c1cd     MOVFF     0x1cd,0x12b          gMoveTemp.m.sm.DelayCounter = gClearAccs;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f6a   f12b                                                                                                               
001f6c   c1ce     MOVFF     0x1ce,0x12c                                                                                     
001f6e   f12c                                                                                                               
001f70   c1cf     MOVFF     0x1cf,0x12d                                                                                     
001f72   f12d                                                                                                               
001f74   c1d0     MOVFF     0x1d0,0x12e                                                                                     
001f76   f12e                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // We want to fall through to the 'normal' code that deals with            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // accumulator clearing (looking ahead and negating, etc.). Since we know  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // that we are setting the accumulators to a pre-calculated value and      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // have told the ISR this with the two SEState bits above, we can set      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // gClearAccs to zero, which will mean the 'normal' code below ignores     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // the accumulators and doesn't zero or negate them.                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f78   0101     MOVLB     0x1                  gClearAccs = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f7a   6bcd     CLRF      0xcd,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f7c   d003     BRA       0x1f84             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // But if we didn't get a Clear parameter AND we are in UART_ISR test      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // mode, then treat it as if the user wants  both accumulators cleared.    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // We're going to fall through to the 'normal' code below that handles     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // this situation, by setting gClearAccs to 0x03, which tells the code     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // to clear (or negate) both accumulators.                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f7e   0101     MOVLB     0x1                  gClearAccs = 3;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f80   0e03     MOVLW     0x3                                                                                             
001f82   6fcd     MOVWF     0xcd,0x1                                                                                        
001f84   6bce     CLRF      0xce,0x1                                                                                        
001f86   6bcf     CLRF      0xcf,0x1                                                                                        
001f88   6bd0     CLRF      0xd0,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // 'Normal' accumulator clear/negate logic:                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Test mode not active, so just check Clear parameter bits 0 and 1            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // to see if user wants to start move with cleared accumulator. If so,         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // check for need to invert accumulator when move loaded into FIFO.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f8a   c1cd     MOVFF     0x1cd,0x4e       if (gClearAccs & 0x01)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f8c   f04e                                                                                                               
001f8e   0e01     MOVLW     0x1                                                                                             
001f90   ec29     CALL      0x3652,0x0                                                                                      
001f92   f01b                                                                                                               
001f94   e041     BZ        0x2018                                                                                          
003652   164e     ANDWF     0x4e,0x1,0x0                                                                                    
003654   6a4f     CLRF      0x4f,0x0                                                                                        
003656   6a50     CLRF      0x50,0x0                                                                                        
003658   6a51     CLRF      0x51,0x0                                                                                        
00365a   504e     MOVF      0x4e,0x0,0x0                                                                                    
00365c   104f     IORWF     0x4f,0x0,0x0                                                                                    
00365e   1050     IORWF     0x50,0x0,0x0                                                                                    
003660   1051     IORWF     0x51,0x0,0x0                                                                                    
003662   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f96   0e04     MOVLW     0x4                NeedNegativeAccumulator = FALSE;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f98   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f9a   0ed9     MOVLW     0xd9               RateTemp = gRate1 + gAccel1;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f9c   6ee9     MOVWF     0xe9,0x0                                                                                        
001f9e   0e01     MOVLW     0x1                                                                                             
001fa0   6eea     MOVWF     0xea,0x0                                                                                        
001fa2   0101     MOVLB     0x1                                                                                             
001fa4   51d1     MOVF      0xd1,0x0,0x1                                                                                    
001fa6   24ee     ADDWF     0xee,0x0,0x0                                                                                    
001fa8   6e4e     MOVWF     0x4e,0x0                                                                                        
001faa   51d2     MOVF      0xd2,0x0,0x1                                                                                    
001fac   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
001fae   6e4f     MOVWF     0x4f,0x0                                                                                        
001fb0   51d3     MOVF      0xd3,0x0,0x1                                                                                    
001fb2   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
001fb4   6e50     MOVWF     0x50,0x0                                                                                        
001fb6   51d4     MOVF      0xd4,0x0,0x1                                                                                    
001fb8   ec6d     CALL      0x32da,0x0                                                                                      
001fba   f019                                                                                                               
001fbc   e602     BN        0x1fc2             if (RateTemp < 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fbe   ec23     CALL      0x3446,0x0                                                                                      
001fc0   f01a                                                                                                               
001fc2   e31d     BNC       0x1ffe                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 NeedNegativeAccumulator = TRUE;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fc4   ec89     CALL      0x3312,0x0           if (RateTemp == 0)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fc6   f019                                                                                                               
001fc8   e11f     BNZ       0x2008                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fca   0edd     MOVLW     0xdd                   RateTemp = gAccel1 + gJerk1;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fcc   6ee9     MOVWF     0xe9,0x0                                                                                        
001fce   0e01     MOVLW     0x1                                                                                             
001fd0   6eea     MOVWF     0xea,0x0                                                                                        
001fd2   51d9     MOVF      0xd9,0x0,0x1                                                                                    
001fd4   24ee     ADDWF     0xee,0x0,0x0                                                                                    
001fd6   6e4e     MOVWF     0x4e,0x0                                                                                        
001fd8   51da     MOVF      0xda,0x0,0x1                                                                                    
001fda   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
001fdc   6e4f     MOVWF     0x4f,0x0                                                                                        
001fde   51db     MOVF      0xdb,0x0,0x1                                                                                    
001fe0   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
001fe2   6e50     MOVWF     0x50,0x0                                                                                        
001fe4   51dc     MOVF      0xdc,0x0,0x1                                                                                    
001fe6   ec6d     CALL      0x32da,0x0                                                                                      
001fe8   f019                                                                                                               
001fea   e602     BN        0x1ff0                 if (RateTemp < 0)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fec   ec23     CALL      0x3446,0x0                                                                                      
001fee   f01a                                                                                                               
001ff0   e306     BNC       0x1ffe                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     NeedNegativeAccumulator = TRUE;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ff2   ec89     CALL      0x3312,0x0               if (RateTemp == 0)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ff4   f019                                                                                                               
001ff6   e108     BNZ       0x2008                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ff8   0e80     MOVLW     0x80                       if (gJerk1 < 0)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ffa   15e0     ANDWF     0xe0,0x0,0x1                                                                                    
001ffc   e005     BZ        0x2008                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ffe   0e01     MOVLW     0x1                          NeedNegativeAccumulator = TRUE;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002000   6ef3     MOVWF     0xf3,0x0                                                                                        
002002   0e04     MOVLW     0x4                                                                                             
002004   cff3     MOVFF     0xff3,0xfdb                                                                                     
002006   ffdb                                                                                                               
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002008   0e04     MOVLW     0x4                if (NeedNegativeAccumulator)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00200a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00200c   e003     BZ        0x2014                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00200e   0101     MOVLB     0x1                  gMoveTemp.m.sm.SEState |= SESTATE_NEGATE_ACC1_BIT;                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002010   852f     BSF       0x2f,0x2,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002012   d002     BRA       0x2018             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002014   0101     MOVLB     0x1                  gMoveTemp.m.sm.SEState |= SESTATE_CLEAR_ACC1_BIT;                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002016   812f     BSF       0x2f,0x0,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002018   c1cd     MOVFF     0x1cd,0x4e       if (gClearAccs & 0x02)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00201a   f04e                                                                                                               
00201c   0e02     MOVLW     0x2                                                                                             
00201e   ec29     CALL      0x3652,0x0                                                                                      
002020   f01b                                                                                                               
002022   e03f     BZ        0x20a2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002024   0e04     MOVLW     0x4                NeedNegativeAccumulator = FALSE;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002026   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002028   eccc     CALL      0x3798,0x0         RateTemp = gRate2 + gAccel2;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00202a   f01b                                                                                                               
00202c   0101     MOVLB     0x1                                                                                             
00202e   51e1     MOVF      0xe1,0x0,0x1                                                                                    
002030   24ee     ADDWF     0xee,0x0,0x0                                                                                    
002032   6e4e     MOVWF     0x4e,0x0                                                                                        
002034   51e2     MOVF      0xe2,0x0,0x1                                                                                    
002036   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
002038   6e4f     MOVWF     0x4f,0x0                                                                                        
00203a   51e3     MOVF      0xe3,0x0,0x1                                                                                    
00203c   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
00203e   6e50     MOVWF     0x50,0x0                                                                                        
002040   51e4     MOVF      0xe4,0x0,0x1                                                                                    
002042   ec6d     CALL      0x32da,0x0                                                                                      
002044   f019                                                                                                               
002046   e602     BN        0x204c             if (RateTemp < 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002048   ec23     CALL      0x3446,0x0                                                                                      
00204a   f01a                                                                                                               
00204c   e31d     BNC       0x2088                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 NeedNegativeAccumulator = TRUE;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00204e   ec89     CALL      0x3312,0x0           if (RateTemp == 0)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002050   f019                                                                                                               
002052   e11f     BNZ       0x2092                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002054   0eed     MOVLW     0xed                   RateTemp = gAccel2 + gJerk2;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002056   6ee9     MOVWF     0xe9,0x0                                                                                        
002058   0e01     MOVLW     0x1                                                                                             
00205a   6eea     MOVWF     0xea,0x0                                                                                        
00205c   51e9     MOVF      0xe9,0x0,0x1                                                                                    
00205e   24ee     ADDWF     0xee,0x0,0x0                                                                                    
002060   6e4e     MOVWF     0x4e,0x0                                                                                        
002062   51ea     MOVF      0xea,0x0,0x1                                                                                    
002064   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
002066   6e4f     MOVWF     0x4f,0x0                                                                                        
002068   51eb     MOVF      0xeb,0x0,0x1                                                                                    
00206a   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
00206c   6e50     MOVWF     0x50,0x0                                                                                        
00206e   51ec     MOVF      0xec,0x0,0x1                                                                                    
002070   ec6d     CALL      0x32da,0x0                                                                                      
002072   f019                                                                                                               
0032da   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
0032dc   6e51     MOVWF     0x51,0x0                                                                                        
0032de   c04e     MOVFF     0x4e,0xfdf                                                                                      
0032e0   ffdf                                                                                                               
0032e2   0e01     MOVLW     0x1                                                                                             
0032e4   c04f     MOVFF     0x4f,0xfdb                                                                                      
0032e6   ffdb                                                                                                               
0032e8   0e02     MOVLW     0x2                                                                                             
0032ea   c050     MOVFF     0x50,0xfdb                                                                                      
0032ec   ffdb                                                                                                               
0032ee   0e03     MOVLW     0x3                                                                                             
0032f0   c051     MOVFF     0x51,0xfdb                                                                                      
0032f2   ffdb                                                                                                               
002074   e602     BN        0x207a                 if (RateTemp < 0)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002076   ec23     CALL      0x3446,0x0                                                                                      
002078   f01a                                                                                                               
00207a   e306     BNC       0x2088                                                                                          
0032f4   ecc1     CALL      0x3b82,0x0                                                                                      
0032f6   f01d                                                                                                               
0032f8   90d8     BCF       0xd8,0x0,0x0                                                                                    
0032fa   50eb     MOVF      0xeb,0x0,0x0                                                                                    
0032fc   0a00     XORLW     0x0                                                                                             
0032fe   0012     RETURN    0x0                                                                                             
003446   0e00     MOVLW     0x0                                                                                             
003448   5cee     SUBWF     0xee,0x0,0x0                                                                                    
00344a   0e00     MOVLW     0x0                                                                                             
00344c   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
00344e   0e00     MOVLW     0x0                                                                                             
003450   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
003452   0e00     MOVLW     0x0                                                                                             
003454   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
003456   0012     RETURN    0x0                                                                                             
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     NeedNegativeAccumulator = TRUE;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00207c   ec89     CALL      0x3312,0x0               if (RateTemp == 0)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00207e   f019                                                                                                               
002080   e108     BNZ       0x2092                                                                                          
003312   dab1     RCALL     0x3876                                                                                          
003314   504e     MOVF      0x4e,0x0,0x0                                                                                    
003316   104f     IORWF     0x4f,0x0,0x0                                                                                    
003318   1050     IORWF     0x50,0x0,0x0                                                                                    
00331a   1051     IORWF     0x51,0x0,0x0                                                                                    
00331c   0012     RETURN    0x0                                                                                             
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002082   0e80     MOVLW     0x80                       if (gJerk2 < 0)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002084   15f0     ANDWF     0xf0,0x0,0x1                                                                                    
002086   e005     BZ        0x2092                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002088   0e01     MOVLW     0x1                          NeedNegativeAccumulator = TRUE;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00208a   6ef3     MOVWF     0xf3,0x0                                                                                        
00208c   0e04     MOVLW     0x4                                                                                             
00208e   cff3     MOVFF     0xff3,0xfdb                                                                                     
002090   ffdb                                                                                                               
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002092   0e04     MOVLW     0x4                if (NeedNegativeAccumulator)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002094   50db     MOVF      0xdb,0x0,0x0                                                                                    
002096   e003     BZ        0x209e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002098   0101     MOVLB     0x1                  gMoveTemp.m.sm.SEState |= SESTATE_NEGATE_ACC2_BIT;                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00209a   872f     BSF       0x2f,0x3,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00209c   d002     BRA       0x20a2             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00209e   0101     MOVLB     0x1                  gMoveTemp.m.sm.SEState |= SESTATE_CLEAR_ACC2_BIT;                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020a0   832f     BSF       0x2f,0x1,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020a2   0edd     MOVLW     0xdd             gAccel1 = gAccel1 - gJerk1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020a4   6ee9     MOVWF     0xe9,0x0                                                                                        
0020a6   0e01     MOVLW     0x1                                                                                             
0020a8   6eea     MOVWF     0xea,0x0                                                                                        
0020aa   50ee     MOVF      0xee,0x0,0x0                                                                                    
0020ac   0101     MOVLB     0x1                                                                                             
0020ae   5dd9     SUBWF     0xd9,0x0,0x1                                                                                    
0020b0   6fd9     MOVWF     0xd9,0x1                                                                                        
0020b2   50ee     MOVF      0xee,0x0,0x0                                                                                    
0020b4   59da     SUBWFB    0xda,0x0,0x1                                                                                    
0020b6   6fda     MOVWF     0xda,0x1                                                                                        
0020b8   50ee     MOVF      0xee,0x0,0x0                                                                                    
0020ba   59db     SUBWFB    0xdb,0x0,0x1                                                                                    
0020bc   6fdb     MOVWF     0xdb,0x1                                                                                        
0020be   50ee     MOVF      0xee,0x0,0x0                                                                                    
0020c0   59dc     SUBWFB    0xdc,0x0,0x1                                                                                    
0020c2   6fdc     MOVWF     0xdc,0x1                                                                                        
0020c4   0eed     MOVLW     0xed             gAccel2 = gAccel2 - gJerk2;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020c6   6ee9     MOVWF     0xe9,0x0                                                                                        
0020c8   0e01     MOVLW     0x1                                                                                             
0020ca   6eea     MOVWF     0xea,0x0                                                                                        
0020cc   50ee     MOVF      0xee,0x0,0x0                                                                                    
0020ce   5de9     SUBWF     0xe9,0x0,0x1                                                                                    
0020d0   6fe9     MOVWF     0xe9,0x1                                                                                        
0020d2   50ee     MOVF      0xee,0x0,0x0                                                                                    
0020d4   59ea     SUBWFB    0xea,0x0,0x1                                                                                    
0020d6   6fea     MOVWF     0xea,0x1                                                                                        
0020d8   50ee     MOVF      0xee,0x0,0x0                                                                                    
0020da   59eb     SUBWFB    0xeb,0x0,0x1                                                                                    
0020dc   6feb     MOVWF     0xeb,0x1                                                                                        
0020de   50ee     MOVF      0xee,0x0,0x0                                                                                    
0020e0   59ec     SUBWFB    0xec,0x0,0x1                                                                                    
0020e2   6fec     MOVWF     0xec,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020e4   0104     MOVLB     0x4              if (gAutomaticMotorEnable == TRUE)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020e6   05c6     DECF      0xc6,0x0,0x1                                                                                    
0020e8   e102     BNZ       0x20ee                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Enable both motors when we want to move them                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // (To be more logical this should happen in the ISR when this move          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // is loaded rather than here.)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020ea   908d     BCF       0x8d,0x0,0x0       Enable1IO = ENABLE_MOTOR;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020ec   928b     BCF       0x8b,0x1,0x0       Enable2IO = ENABLE_MOTOR;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Load up the move structure with all needed values                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020ee   c1d1     MOVFF     0x1d1,0x130      gMoveTemp.m.sm.Rate[0].value = gRate1;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020f0   f130                                                                                                               
0020f2   c1d2     MOVFF     0x1d2,0x131                                                                                     
0020f4   f131                                                                                                               
0020f6   c1d3     MOVFF     0x1d3,0x132                                                                                     
0020f8   f132                                                                                                               
0020fa   c1d4     MOVFF     0x1d4,0x133                                                                                     
0020fc   f133                                                                                                               
0020fe   0efe     MOVLW     0xfe             if (TimedMove)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002100   50db     MOVF      0xdb,0x0,0x0                                                                                    
002102   e009     BZ        0x2116                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002104   c1c9     MOVFF     0x1c9,0x138        gMoveTemp.m.sm.Steps[0] = gIntervals;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002106   f138                                                                                                               
002108   c1ca     MOVFF     0x1ca,0x139                                                                                     
00210a   f139                                                                                                               
00210c   c1cb     MOVFF     0x1cb,0x13a                                                                                     
00210e   f13a                                                                                                               
002110   c1cc     MOVFF     0x1cc,0x13b                                                                                     
002112   f13b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002114   d002     BRA       0x211a           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002116   ec81     CALL      0x3502,0x0         gMoveTemp.m.sm.Steps[0] = gSteps1;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002118   f01a                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00211a   c1d9     MOVFF     0x1d9,0x148      gMoveTemp.m.sm.Accel[0] = gAccel1;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00211c   f148                                                                                                               
00211e   c1da     MOVFF     0x1da,0x149                                                                                     
002120   f149                                                                                                               
002122   c1db     MOVFF     0x1db,0x14a                                                                                     
002124   f14a                                                                                                               
002126   c1dc     MOVFF     0x1dc,0x14b                                                                                     
002128   f14b                                                                                                               
00212a   c1dd     MOVFF     0x1dd,0x140      gMoveTemp.m.sm.Jerk[0] = gJerk1;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00212c   f140                                                                                                               
00212e   c1de     MOVFF     0x1de,0x141                                                                                     
002130   f141                                                                                                               
002132   c1df     MOVFF     0x1df,0x142                                                                                     
002134   f142                                                                                                               
002136   c1e0     MOVFF     0x1e0,0x143                                                                                     
002138   f143                                                                                                               
00213a   c1e1     MOVFF     0x1e1,0x134      gMoveTemp.m.sm.Rate[1].value = gRate2;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00213c   f134                                                                                                               
00213e   c1e2     MOVFF     0x1e2,0x135                                                                                     
002140   f135                                                                                                               
002142   c1e3     MOVFF     0x1e3,0x136                                                                                     
002144   f136                                                                                                               
002146   c1e4     MOVFF     0x1e4,0x137                                                                                     
002148   f137                                                                                                               
00214a   0efe     MOVLW     0xfe             if (TimedMove)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00214c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00214e   e006     BZ        0x215c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002150   0101     MOVLB     0x1                gMoveTemp.m.sm.Steps[1] = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002152   6b3c     CLRF      0x3c,0x1                                                                                        
002154   6b3d     CLRF      0x3d,0x1                                                                                        
002156   6b3e     CLRF      0x3e,0x1                                                                                        
002158   6b3f     CLRF      0x3f,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00215a   d002     BRA       0x2160           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00215c   ec8a     CALL      0x3514,0x0         gMoveTemp.m.sm.Steps[1] = gSteps2;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00215e   f01a                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002160   c1e9     MOVFF     0x1e9,0x14c      gMoveTemp.m.sm.Accel[1] = gAccel2;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002162   f14c                                                                                                               
002164   c1ea     MOVFF     0x1ea,0x14d                                                                                     
002166   f14d                                                                                                               
002168   c1eb     MOVFF     0x1eb,0x14e                                                                                     
00216a   f14e                                                                                                               
00216c   c1ec     MOVFF     0x1ec,0x14f                                                                                     
00216e   f14f                                                                                                               
002170   c1ed     MOVFF     0x1ed,0x144      gMoveTemp.m.sm.Jerk[1] = gJerk2;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002172   f144                                                                                                               
002174   c1ee     MOVFF     0x1ee,0x145                                                                                     
002176   f145                                                                                                               
002178   c1ef     MOVFF     0x1ef,0x146                                                                                     
00217a   f146                                                                                                               
00217c   c1f0     MOVFF     0x1f0,0x147                                                                                     
00217e   f147                                                                                                               
002180   0efe     MOVLW     0xfe             if (TimedMove)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002182   50db     MOVF      0xdb,0x0,0x0                                                                                    
002184   e003     BZ        0x218c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002186   0101     MOVLB     0x1                gMoveTemp.Command = COMMAND_LT_MOVE;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002188   0e07     MOVLW     0x7                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00218a   d002     BRA       0x2190           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00218c   0101     MOVLB     0x1                gMoveTemp.Command = COMMAND_LM_MOVE;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00218e   0e06     MOVLW     0x6                                                                                             
002190   6f29     MOVWF     0x29,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002192   aa09     BTFSS     0x9,0x5,0x0      if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_NUM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002194   d05a     BRA       0x224a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Print the final values used by the ISR for this move                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002196   ecc6     CALL      0x3b8c,0x0         ebb_print((far rom char *)"R1=");                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002198   f01d                                                                                                               
003b8c   0ef6     MOVLW     0xf6                                                                                            
003b8e   6e4e     MOVWF     0x4e,0x0                                                                                        
003b90   0e81     MOVLW     0x81                                                                                            
003b92   ecb4     CALL      0x3168,0x0                                                                                      
003b94   f018                                                                                                               
00219a   ec16     CALL      0x382c,0x0         ebb_print_int(gMoveTemp.m.sm.Rate[0].value);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00219c   f01c                                                                                                               
003b96   ef93     GOTO      0x3526                                                                                          
003b98   f01a                                                                                                               
00219e   ec52     CALL      0x3aa4,0x0         ebb_print((far rom char *)" S1=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021a0   f01d                                                                                                               
003aa4   0ef1     MOVLW     0xf1                                                                                            
003aa6   6e4e     MOVWF     0x4e,0x0                                                                                        
003aa8   0e81     MOVLW     0x81                                                                                            
003aaa   ecb4     CALL      0x3168,0x0                                                                                      
003aac   f018                                                                                                               
003aae   c138     MOVFF     0x138,0xfe6        ebb_print_uint(gMoveTemp.m.sm.Steps[0]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003ab0   ffe6                                                                                                               
003ab2   c139     MOVFF     0x139,0xfe6                                                                                     
003ab4   ffe6                                                                                                               
003ab6   c13a     MOVFF     0x13a,0xfe6                                                                                     
003ab8   ffe6                                                                                                               
003aba   c13b     MOVFF     0x13b,0xfe6                                                                                     
003abc   ffe6                                                                                                               
003abe   ef52     GOTO      0x32a4                                                                                          
003ac0   f019                                                                                                               
0021a2   0eec     MOVLW     0xec               ebb_print((far rom char *)" A1=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021a4   6e4e     MOVWF     0x4e,0x0                                                                                        
0021a6   0e81     MOVLW     0x81                                                                                            
0021a8   ecb4     CALL      0x3168,0x0                                                                                      
0021aa   f018                                                                                                               
0021ac   c148     MOVFF     0x148,0xfe6        ebb_print_int(gMoveTemp.m.sm.Accel[0]);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021ae   ffe6                                                                                                               
0021b0   c149     MOVFF     0x149,0xfe6                                                                                     
0021b2   ffe6                                                                                                               
0021b4   c14a     MOVFF     0x14a,0xfe6                                                                                     
0021b6   ffe6                                                                                                               
0021b8   c14b     MOVFF     0x14b,0xfe6                                                                                     
0021ba   ffe6                                                                                                               
0021bc   ec16     CALL      0x382c,0x0                                                                                      
0021be   f01c                                                                                                               
0021c0   0ee7     MOVLW     0xe7               ebb_print((far rom char *)" J1=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021c2   6e4e     MOVWF     0x4e,0x0                                                                                        
0021c4   0e81     MOVLW     0x81                                                                                            
0021c6   ecb4     CALL      0x3168,0x0                                                                                      
0021c8   f018                                                                                                               
0021ca   c140     MOVFF     0x140,0xfe6        ebb_print_int(gMoveTemp.m.sm.Jerk[0]);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021cc   ffe6                                                                                                               
0021ce   c141     MOVFF     0x141,0xfe6                                                                                     
0021d0   ffe6                                                                                                               
0021d2   c142     MOVFF     0x142,0xfe6                                                                                     
0021d4   ffe6                                                                                                               
0021d6   c143     MOVFF     0x143,0xfe6                                                                                     
0021d8   ffe6                                                                                                               
0021da   ec16     CALL      0x382c,0x0                                                                                      
0021dc   f01c                                                                                                               
0021de   eccd     CALL      0x3b9a,0x0         ebb_print((far rom char *)" R2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021e0   f01d                                                                                                               
003b9a   0ee2     MOVLW     0xe2                                                                                            
003b9c   6e4e     MOVWF     0x4e,0x0                                                                                        
003b9e   0e81     MOVLW     0x81                                                                                            
003ba0   ecb4     CALL      0x3168,0x0                                                                                      
003ba2   f018                                                                                                               
0021e2   ec16     CALL      0x382c,0x0         ebb_print_int(gMoveTemp.m.sm.Rate[1].value);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021e4   f01c                                                                                                               
003ba4   ef9c     GOTO      0x3538                                                                                          
003ba6   f01a                                                                                                               
0021e6   ec61     CALL      0x3ac2,0x0         ebb_print((far rom char *)" S2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021e8   f01d                                                                                                               
003ac2   0edd     MOVLW     0xdd                                                                                            
003ac4   6e4e     MOVWF     0x4e,0x0                                                                                        
003ac6   0e81     MOVLW     0x81                                                                                            
003ac8   ecb4     CALL      0x3168,0x0                                                                                      
003aca   f018                                                                                                               
003acc   c13c     MOVFF     0x13c,0xfe6        ebb_print_uint(gMoveTemp.m.sm.Steps[1]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003ace   ffe6                                                                                                               
003ad0   c13d     MOVFF     0x13d,0xfe6                                                                                     
003ad2   ffe6                                                                                                               
003ad4   c13e     MOVFF     0x13e,0xfe6                                                                                     
003ad6   ffe6                                                                                                               
003ad8   c13f     MOVFF     0x13f,0xfe6                                                                                     
003ada   ffe6                                                                                                               
003adc   ef52     GOTO      0x32a4                                                                                          
003ade   f019                                                                                                               
0021ea   0ed8     MOVLW     0xd8               ebb_print((far rom char *)" A2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021ec   6e4e     MOVWF     0x4e,0x0                                                                                        
0021ee   0e81     MOVLW     0x81                                                                                            
0021f0   ecb4     CALL      0x3168,0x0                                                                                      
0021f2   f018                                                                                                               
0021f4   c14c     MOVFF     0x14c,0xfe6        ebb_print_int(gMoveTemp.m.sm.Accel[1]);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021f6   ffe6                                                                                                               
0021f8   c14d     MOVFF     0x14d,0xfe6                                                                                     
0021fa   ffe6                                                                                                               
0021fc   c14e     MOVFF     0x14e,0xfe6                                                                                     
0021fe   ffe6                                                                                                               
002200   c14f     MOVFF     0x14f,0xfe6                                                                                     
002202   ffe6                                                                                                               
002204   ec16     CALL      0x382c,0x0                                                                                      
002206   f01c                                                                                                               
002208   0ed3     MOVLW     0xd3               ebb_print((far rom char *)" J2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00220a   6e4e     MOVWF     0x4e,0x0                                                                                        
00220c   0e81     MOVLW     0x81                                                                                            
00220e   ecb4     CALL      0x3168,0x0                                                                                      
002210   f018                                                                                                               
002212   c144     MOVFF     0x144,0xfe6        ebb_print_int(gMoveTemp.m.sm.Jerk[1]);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002214   ffe6                                                                                                               
002216   c145     MOVFF     0x145,0xfe6                                                                                     
002218   ffe6                                                                                                               
00221a   c146     MOVFF     0x146,0xfe6                                                                                     
00221c   ffe6                                                                                                               
00221e   c147     MOVFF     0x147,0xfe6                                                                                     
002220   ffe6                                                                                                               
002222   ec16     CALL      0x382c,0x0                                                                                      
002224   f01c                                                                                                               
002226   0ece     MOVLW     0xce               ebb_print((far rom char *)" SE=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002228   6e4e     MOVWF     0x4e,0x0                                                                                        
00222a   0e81     MOVLW     0x81                                                                                            
00222c   ecb4     CALL      0x3168,0x0                                                                                      
00222e   f018                                                                                                               
002230   c12f     MOVFF     0x12f,0x4e         ebb_print_int(gMoveTemp.m.sm.SEState);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002232   f04e                                                                                                               
002234   6a4f     CLRF      0x4f,0x0                                                                                        
002236   6a50     CLRF      0x50,0x0                                                                                        
002238   6a51     CLRF      0x51,0x0                                                                                        
00223a   c12f     MOVFF     0x12f,0xfe6                                                                                     
00223c   ffe6                                                                                                               
00223e   ec7d     CALL      0x3afa,0x0                                                                                      
002240   f01d                                                                                                               
002242   ec16     CALL      0x382c,0x0                                                                                      
002244   f01c                                                                                                               
002246   ec8f     CALL      0x331e,0x0         print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002248   f019                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00224a   bc09     BTFSC     0x9,0x6,0x0      if (!bittst(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM))                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00224c   d00a     BRA       0x2262                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Spin here until there's space in the FIFO                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00224e   5013     MOVF      0x13,0x0,0x0       while(gFIFOLength >= gCurrentFIFOLength)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002250   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
002252   e2fd     BC        0x224e                                                                                          
                                                 ;                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // If the limit switch feature has triggered, then ignore this move command  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Maybe the limit switch has become true between the top of this function   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // and here? Better check for it.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002254   b00e     BTFSC     0xe,0x0,0x0        if (!bittstzero(gLimitSwitchTriggered))                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002256   d005     BRA       0x2262                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Now, quick copy over the computed command data to the command FIFO      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002258   ecc3     CALL      0x3186,0x0           FIFOPtr[gFIFOIn] = gMoveTemp;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00225a   f018                                                                                                               
                                                 gFIFOIn++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00225c   e301     BNC       0x2260               if (gFIFOIn >= gCurrentFIFOLength)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00225e   6a10     CLRF      0x10,0x0               gFIFOIn = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002260   2a0f     INCF      0xf,0x1,0x0          gFIFOLength++;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002262   ec87     CALL      0x330e,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002264   f019                                                                                                               
002266   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002268   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00226a   e202     BC        0x2270                                                                                          
00226c   6ae1     CLRF      0xe1,0x0                                                                                        
00226e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002270   ef80     GOTO      0x3300                                                                                          
002272   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The Stepper Motor command                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: SM,<move_duration>,<axis1_steps>,<axis2_steps>,<CleaAccs><CR>          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <move_duration> is 32 bit unsigned, indicating the number of milliseconds this move should take D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <axisX_steps> is a signed 32 bit number indicating how many steps (and what direction) the axis should take D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // NOTE1: <axis2_steps> is optional and can be left off                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is an optional value of 0, 1, 2 or 3.                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    0 will leave accumulators alone at the beginning of the move               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    1 will clear Motor1 accumulator and leave Motor2 accumulator               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    2 will clear Motor2 accumulator and leave Motor1 accumulator               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    3 will clear both Motor1 and Motor2 accumulators                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // If the EBB can not make the move in the specified time, it will take as long as it needs to at max speed D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // i.e. SM,1,1000 will not produce 1000 steps in 1ms. Instead, it will take 40ms (25KHz max step rate) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // NOTE2: If you specify zero steps for the axis, then you effectively create a delay. Use for small D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // pauses before raising or lowering the pen, for example.                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_SM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002274   ec5c     CALL      0x38b8,0x0       clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002276   f01c                                                                                                               
0038b8   d995     RCALL     0x3be4                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0038ba   0ec5     MOVLW     0xc5             extract_number(kULONG, &gDurationMS, kREQUIRED);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0038bc   6ee6     MOVWF     0xe6,0x0                                                                                        
0038be   0e01     MOVLW     0x1                                                                                             
0038c0   d982     RCALL     0x3bc6                                                                                          
002278   0ed5     MOVLW     0xd5             extract_number(kLONG,  &gSteps1,  kREQUIRED);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00227a   6ee6     MOVWF     0xe6,0x0                                                                                        
00227c   0e01     MOVLW     0x1                                                                                             
00227e   ec90     CALL      0x3b20,0x0                                                                                      
002280   f01d                                                                                                               
0038c2   6ae6     CLRF      0xe6,0x0                                                                                        
0038c4   0012     RETURN    0x0                                                                                             
002282   6ee6     MOVWF     0xe6,0x0         extract_number(kLONG,  &gSteps2,  kOPTIONAL);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002284   0ee5     MOVLW     0xe5                                                                                            
002286   6ee6     MOVWF     0xe6,0x0                                                                                        
002288   0e01     MOVLW     0x1                                                                                             
00228a   ec07     CALL      0x380e,0x0                                                                                      
00228c   f01c                                                                                                               
                                             extract_number(kULONG, &gClearAccs, kOPTIONAL);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00228e   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002290   5184     MOVF      0x84,0x0,0x1                                                                                    
002292   e001     BZ        0x2296                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002294   0012     RETURN    0x0                return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Input parameters: gDurationMS, gSteps1, gSteps2, gClearAccs                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002296   da8a     RCALL     0x27ac           process_simple_motor_move_fp();                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002298   ef87     GOTO      0x330e           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00229a   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The Circle Move command                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: CM,<frequency>,<dest_x>,<dest_y>,<center_x>,<center_y>,<direction><CR> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <dest_x>,<dest_y>,<center_x>,<center_y> are required signed 16 bit numbers    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <frequency> is a required unsigned integer from 2 to 25000                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <direction> is a required 0 for CW or 1 for CCW                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is an optional 0, 1, 2 or 3                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <dest_x>,<dest_y> are the relative coordinates where the arc should end up    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <center_x>,<center_y> are the relative coordinates where the center of the arc is D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <rate> is the step frequency in steps/second                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <direction> specifies which direction the arc should take                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is the same as for SM                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00229c   ec82     CALL      0x3304,0x0     void parse_CM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00229e   f019                                                                                                               
0022a0   0e25     MOVLW     0x25                                                                                            
0022a2   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             /// TODO: This burden on the stack is huge - use globals for some of this      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022a4   6ade     CLRF      0xde,0x0         UINT16 frequency = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022a6   6add     CLRF      0xdd,0x0                                                                                        
0022a8   0e02     MOVLW     0x2              INT32 dest_x = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022aa   6adb     CLRF      0xdb,0x0                                                                                        
0022ac   0e03     MOVLW     0x3                                                                                             
0022ae   6adb     CLRF      0xdb,0x0                                                                                        
0022b0   0e04     MOVLW     0x4                                                                                             
0022b2   6adb     CLRF      0xdb,0x0                                                                                        
0022b4   0e05     MOVLW     0x5                                                                                             
0022b6   6adb     CLRF      0xdb,0x0                                                                                        
0022b8   0e06     MOVLW     0x6              INT32 dest_y = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022ba   6adb     CLRF      0xdb,0x0                                                                                        
0022bc   0e07     MOVLW     0x7                                                                                             
0022be   6adb     CLRF      0xdb,0x0                                                                                        
0022c0   0e08     MOVLW     0x8                                                                                             
0022c2   6adb     CLRF      0xdb,0x0                                                                                        
0022c4   0e09     MOVLW     0x9                                                                                             
0022c6   6adb     CLRF      0xdb,0x0                                                                                        
0022c8   0e0a     MOVLW     0xa              INT32 center_x = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022ca   6adb     CLRF      0xdb,0x0                                                                                        
0022cc   0e0b     MOVLW     0xb                                                                                             
0022ce   6adb     CLRF      0xdb,0x0                                                                                        
0022d0   0e0c     MOVLW     0xc                                                                                             
0022d2   6adb     CLRF      0xdb,0x0                                                                                        
0022d4   0e0d     MOVLW     0xd                                                                                             
0022d6   6adb     CLRF      0xdb,0x0                                                                                        
0022d8   0e0e     MOVLW     0xe              INT32 center_y = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022da   6adb     CLRF      0xdb,0x0                                                                                        
0022dc   0e0f     MOVLW     0xf                                                                                             
0022de   6adb     CLRF      0xdb,0x0                                                                                        
0022e0   0e10     MOVLW     0x10                                                                                            
0022e2   6adb     CLRF      0xdb,0x0                                                                                        
0022e4   0e11     MOVLW     0x11                                                                                            
0022e6   6adb     CLRF      0xdb,0x0                                                                                        
0022e8   0e12     MOVLW     0x12             UINT8 direction = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022ea   6adb     CLRF      0xdb,0x0                                                                                        
0022ec   0e13     MOVLW     0x13             UINT32 rate = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022ee   6adb     CLRF      0xdb,0x0                                                                                        
0022f0   0e14     MOVLW     0x14                                                                                            
0022f2   6adb     CLRF      0xdb,0x0                                                                                        
0022f4   0e15     MOVLW     0x15                                                                                            
0022f6   6adb     CLRF      0xdb,0x0                                                                                        
0022f8   0e16     MOVLW     0x16                                                                                            
0022fa   6adb     CLRF      0xdb,0x0                                                                                        
                                             UINT32 temp;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             INT16 sTemp16_1;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             INT16 sTemp16_2;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT32 radius;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT16 typ_seg_long;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022fc   ec93     CALL      0x1926,0x0       clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022fe   f00c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002300   ecb8     CALL      0x3b70,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002302   f01d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002304   ec1d     CALL      0x3a3a,0x0       extract_number(kUINT,  &frequency,  kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002306   f01d                                                                                                               
002308   6ae6     CLRF      0xe6,0x0         extract_number(kLONG,  &dest_x, kREQUIRED);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00230a   50d9     MOVF      0xd9,0x0,0x0                                                                                    
00230c   0f02     ADDLW     0x2                                                                                             
00230e   ec84     CALL      0x3b08,0x0                                                                                      
002310   f01d                                                                                                               
002312   0f06     ADDLW     0x6              extract_number(kLONG,  &dest_y,  kREQUIRED);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002314   ec84     CALL      0x3b08,0x0                                                                                      
002316   f01d                                                                                                               
002318   0f0a     ADDLW     0xa              extract_number(kLONG,  &center_x,  kREQUIRED);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00231a   ec84     CALL      0x3b08,0x0                                                                                      
00231c   f01d                                                                                                               
00231e   0f0e     ADDLW     0xe              extract_number(kLONG,  &center_y,  kREQUIRED);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002320   ec84     CALL      0x3b08,0x0                                                                                      
002322   f01d                                                                                                               
003b08   6ee6     MOVWF     0xe6,0x0                                                                                        
003b0a   0e00     MOVLW     0x0                                                                                             
003b0c   20da     ADDWFC    0xda,0x0,0x0                                                                                    
003b0e   de7a     RCALL     0x3804                                                                                          
002324   0f12     ADDLW     0x12             extract_number(kUCHAR, &direction,  kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002326   ec82     CALL      0x3904,0x0                                                                                      
002328   f01c                                                                                                               
003b10   50d9     MOVF      0xd9,0x0,0x0                                                                                    
003b12   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00232a   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00232c   51c2     MOVF      0xc2,0x0,0x1                                                                                    
00232e   e101     BNZ       0x2332                                                                                          
002330   d084     BRA       0x243a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // direction can only be 0 or 1                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002332   0e12     MOVLW     0x12               if (direction > 1u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002334   50db     MOVF      0xdb,0x0,0x0                                                                                    
002336   0801     SUBLW     0x1                                                                                             
002338   e202     BC        0x233e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00233a   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00233c   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Rate has to be from 1 to 25000                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00233e   cfde     MOVFF     0xfde,0x4e         if ((frequency < 1u) || (frequency > 25000u))                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002340   f04e                                                                                                               
002342   cfdd     MOVFF     0xfdd,0x4f                                                                                      
002344   f04f                                                                                                               
002346   0e01     MOVLW     0x1                                                                                             
002348   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
00234a   0e00     MOVLW     0x0                                                                                             
00234c   584f     SUBWFB    0x4f,0x0,0x0                                                                                    
00234e   e308     BNC       0x2360                                                                                          
002350   ecc1     CALL      0x3b82,0x0                                                                                      
002352   f01d                                                                                                               
002354   0ea8     MOVLW     0xa8                                                                                            
002356   80d8     BSF       0xd8,0x0,0x0                                                                                    
002358   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
00235a   0e61     MOVLW     0x61                                                                                            
00235c   54ed     SUBFWB    0xed,0x0,0x0                                                                                    
00235e   e202     BC        0x2364                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002360   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002362   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Check four positions for out of bounds                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002364   0e02     MOVLW     0x2                if ((dest_x > 32768) || (dest_x < -32768))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002366   cfdb     MOVFF     0xfdb,0x41                                                                                      
002368   f041                                                                                                               
00236a   0e03     MOVLW     0x3                                                                                             
00236c   cfdb     MOVFF     0xfdb,0x42                                                                                      
00236e   f042                                                                                                               
002370   0e04     MOVLW     0x4                                                                                             
002372   cfdb     MOVFF     0xfdb,0x43                                                                                      
002374   f043                                                                                                               
002376   0e05     MOVLW     0x5                                                                                             
002378   ece0     CALL      0x35c0,0x0                                                                                      
00237a   f01a                                                                                                               
00237c   e602     BN        0x2382                                                                                          
00237e   ec19     CALL      0x3432,0x0                                                                                      
002380   f01a                                                                                                               
002382   e308     BNC       0x2394                                                                                          
002384   50d9     MOVF      0xd9,0x0,0x0                                                                                    
002386   0f02     ADDLW     0x2                                                                                             
002388   ec3f     CALL      0x347e,0x0                                                                                      
00238a   f01a                                                                                                               
00238c   e602     BN        0x2392                                                                                          
00238e   ec2c     CALL      0x3458,0x0                                                                                      
002390   f01a                                                                                                               
002392   e202     BC        0x2398                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002394   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002396   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002398   0e06     MOVLW     0x6                if ((dest_y > 32768) || (dest_y < -32768))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00239a   cfdb     MOVFF     0xfdb,0x41                                                                                      
00239c   f041                                                                                                               
00239e   0e07     MOVLW     0x7                                                                                             
0023a0   cfdb     MOVFF     0xfdb,0x42                                                                                      
0023a2   f042                                                                                                               
0023a4   0e08     MOVLW     0x8                                                                                             
0023a6   cfdb     MOVFF     0xfdb,0x43                                                                                      
0023a8   f043                                                                                                               
0023aa   0e09     MOVLW     0x9                                                                                             
0023ac   ece0     CALL      0x35c0,0x0                                                                                      
0023ae   f01a                                                                                                               
0023b0   e602     BN        0x23b6                                                                                          
0023b2   ec19     CALL      0x3432,0x0                                                                                      
0023b4   f01a                                                                                                               
0023b6   e308     BNC       0x23c8                                                                                          
0023b8   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0023ba   0f06     ADDLW     0x6                                                                                             
0023bc   ec3f     CALL      0x347e,0x0                                                                                      
0023be   f01a                                                                                                               
0023c0   e602     BN        0x23c6                                                                                          
0023c2   ec2c     CALL      0x3458,0x0                                                                                      
0023c4   f01a                                                                                                               
0023c6   e202     BC        0x23cc                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023c8   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023ca   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023cc   0e0a     MOVLW     0xa                if ((center_x > 32768) || (center_x < -32768))                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023ce   cfdb     MOVFF     0xfdb,0x41                                                                                      
0023d0   f041                                                                                                               
0023d2   0e0b     MOVLW     0xb                                                                                             
0023d4   cfdb     MOVFF     0xfdb,0x42                                                                                      
0023d6   f042                                                                                                               
0023d8   0e0c     MOVLW     0xc                                                                                             
0023da   cfdb     MOVFF     0xfdb,0x43                                                                                      
0023dc   f043                                                                                                               
0023de   0e0d     MOVLW     0xd                                                                                             
0023e0   ece0     CALL      0x35c0,0x0                                                                                      
0023e2   f01a                                                                                                               
0023e4   e602     BN        0x23ea                                                                                          
0023e6   ec19     CALL      0x3432,0x0                                                                                      
0023e8   f01a                                                                                                               
0023ea   e308     BNC       0x23fc                                                                                          
0023ec   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0023ee   0f0a     ADDLW     0xa                                                                                             
0023f0   ec3f     CALL      0x347e,0x0                                                                                      
0023f2   f01a                                                                                                               
0023f4   e602     BN        0x23fa                                                                                          
0023f6   ec2c     CALL      0x3458,0x0                                                                                      
0023f8   f01a                                                                                                               
0023fa   e202     BC        0x2400                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023fc   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023fe   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002400   0e0e     MOVLW     0xe                if ((center_y > 32768) || (center_y < -32768))                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002402   cfdb     MOVFF     0xfdb,0x41                                                                                      
002404   f041                                                                                                               
002406   0e0f     MOVLW     0xf                                                                                             
002408   cfdb     MOVFF     0xfdb,0x42                                                                                      
00240a   f042                                                                                                               
00240c   0e10     MOVLW     0x10                                                                                            
00240e   cfdb     MOVFF     0xfdb,0x43                                                                                      
002410   f043                                                                                                               
002412   0e11     MOVLW     0x11                                                                                            
002414   ece0     CALL      0x35c0,0x0                                                                                      
002416   f01a                                                                                                               
002418   e602     BN        0x241e                                                                                          
00241a   ec19     CALL      0x3432,0x0                                                                                      
00241c   f01a                                                                                                               
00241e   e308     BNC       0x2430                                                                                          
002420   50d9     MOVF      0xd9,0x0,0x0                                                                                    
002422   0f0e     ADDLW     0xe                                                                                             
002424   ec3f     CALL      0x347e,0x0                                                                                      
002426   f01a                                                                                                               
002428   e602     BN        0x242e                                                                                          
00242a   ec2c     CALL      0x3458,0x0                                                                                      
00242c   f01a                                                                                                               
00242e   e202     BC        0x2434                                                                                          
003432   80d8     BSF       0xd8,0x0,0x0                                                                                    
003434   0e00     MOVLW     0x0                                                                                             
003436   5441     SUBFWB    0x41,0x0,0x0                                                                                    
003438   0e80     MOVLW     0x80                                                                                            
00343a   5442     SUBFWB    0x42,0x0,0x0                                                                                    
00343c   0e00     MOVLW     0x0                                                                                             
00343e   5443     SUBFWB    0x43,0x0,0x0                                                                                    
003440   0e00     MOVLW     0x0                                                                                             
003442   5444     SUBFWB    0x44,0x0,0x0                                                                                    
003444   0012     RETURN    0x0                                                                                             
003458   0e00     MOVLW     0x0                                                                                             
00345a   5cee     SUBWF     0xee,0x0,0x0                                                                                    
00345c   0e80     MOVLW     0x80                                                                                            
00345e   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
003460   0eff     MOVLW     0xff                                                                                            
003462   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
003464   0eff     MOVLW     0xff                                                                                            
003466   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
003468   0012     RETURN    0x0                                                                                             
00347e   6ee9     MOVWF     0xe9,0x0                                                                                        
003480   cfda     MOVFF     0xfda,0xfea                                                                                     
003482   ffea                                                                                                               
003484   80d8     BSF       0xd8,0x0,0x0                                                                                    
003486   0e03     MOVLW     0x3                                                                                             
003488   50eb     MOVF      0xeb,0x0,0x0                                                                                    
00348a   0aff     XORLW     0xff                                                                                            
00348c   0012     RETURN    0x0                                                                                             
0035c0   cfdb     MOVFF     0xfdb,0x44                                                                                      
0035c2   f044                                                                                                               
0035c4   3444     RLCF      0x44,0x0,0x0                                                                                    
0035c6   0e00     MOVLW     0x0                                                                                             
0035c8   1844     XORWF     0x44,0x0,0x0                                                                                    
0035ca   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002430   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002432   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Bail if a there is a parameter limit error                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002434   0104     MOVLB     0x4                if (error_byte)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002436   5184     MOVF      0x84,0x0,0x1                                                                                    
002438   e144     BNZ       0x24c2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If we have a triggered limit switch, then ignore this move command          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00243a   b00e     BTFSC     0xe,0x0,0x0      if (bittstzero(gLimitSwitchTriggered))                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00243c   d042     BRA       0x24c2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Print out input parameters for debugging                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00243e   aa09     BTFSS     0x9,0x5,0x0      if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_NUM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002440   d039     BRA       0x24b4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002442   0ec8     MOVLW     0xc8               ebb_print((far rom char *)"Freq=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002444   6e4e     MOVWF     0x4e,0x0                                                                                        
002446   0e81     MOVLW     0x81                                                                                            
002448   ecb4     CALL      0x3168,0x0                                                                                      
00244a   f018                                                                                                               
00244c   cfde     MOVFF     0xfde,0x4e         ebb_print_int(frequency);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00244e   f04e                                                                                                               
002450   cfdd     MOVFF     0xfdd,0x4f                                                                                      
002452   f04f                                                                                                               
002454   ec49     CALL      0x3292,0x0                                                                                      
002456   f019                                                                                                               
002458   0ebf     MOVLW     0xbf               ebb_print((far rom char *)" Dest_X=");                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00245a   6e4e     MOVWF     0x4e,0x0                                                                                        
00245c   0e81     MOVLW     0x81                                                                                            
00245e   ecb4     CALL      0x3168,0x0                                                                                      
002460   f018                                                                                                               
002462   50d9     MOVF      0xd9,0x0,0x0       ebb_print_int(dest_x);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002464   0f02     ADDLW     0x2                                                                                             
002466   ec20     CALL      0x3a40,0x0                                                                                      
002468   f01d                                                                                                               
00246a   0eb6     MOVLW     0xb6               ebb_print((far rom char *)" Dest_Y=");                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00246c   6e4e     MOVWF     0x4e,0x0                                                                                        
00246e   0e81     MOVLW     0x81                                                                                            
002470   ecb4     CALL      0x3168,0x0                                                                                      
002472   f018                                                                                                               
002474   50d9     MOVF      0xd9,0x0,0x0       ebb_print_int(dest_y);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002476   0f06     ADDLW     0x6                                                                                             
002478   ec20     CALL      0x3a40,0x0                                                                                      
00247a   f01d                                                                                                               
00247c   0eab     MOVLW     0xab               ebb_print((far rom char *)" Center_X=");                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00247e   6e4e     MOVWF     0x4e,0x0                                                                                        
002480   0e81     MOVLW     0x81                                                                                            
002482   ecb4     CALL      0x3168,0x0                                                                                      
002484   f018                                                                                                               
002486   50d9     MOVF      0xd9,0x0,0x0       ebb_print_int(center_x);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002488   0f0a     ADDLW     0xa                                                                                             
00248a   ec20     CALL      0x3a40,0x0                                                                                      
00248c   f01d                                                                                                               
00248e   0ea0     MOVLW     0xa0               ebb_print((far rom char *)" Center_Y=");                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002490   6e4e     MOVWF     0x4e,0x0                                                                                        
002492   0e81     MOVLW     0x81                                                                                            
002494   ecb4     CALL      0x3168,0x0                                                                                      
002496   f018                                                                                                               
002498   50d9     MOVF      0xd9,0x0,0x0       ebb_print_int(center_y);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00249a   0f0e     ADDLW     0xe                                                                                             
00249c   ec20     CALL      0x3a40,0x0                                                                                      
00249e   f01d                                                                                                               
0024a0   0e94     MOVLW     0x94               ebb_print((far rom char *)" Direction=");                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024a2   6e4e     MOVWF     0x4e,0x0                                                                                        
0024a4   0e81     MOVLW     0x81                                                                                            
0024a6   ecb4     CALL      0x3168,0x0                                                                                      
0024a8   f018                                                                                                               
0024aa   0e12     MOVLW     0x12               ebb_print_int(direction);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024ac   ec8f     CALL      0x391e,0x0                                                                                      
0024ae   f01c                                                                                                               
0024b0   ec8f     CALL      0x331e,0x0         print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024b2   f019                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #if 1                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024b4   0e72     MOVLW     0x72             ebb_print((far rom char *)"CM command disabled in this build");                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024b6   6e4e     MOVWF     0x4e,0x0                                                                                        
0024b8   0e81     MOVLW     0x81                                                                                            
0024ba   ec0f     CALL      0x3a1e,0x0                                                                                      
0024bc   f01d                                                                                                               
                                             print_line_ending(kLE_REV);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Current "turtle" position, relative to arc center: x_t, y_t:                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.m.cm.x_t = -center_x;   // int32                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.m.cm.y_t = -center_y;   // int32                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Final ("target") position, relative to arc center: x_f, y_f                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.m.cm.x_f = dest_x - center_x; // int16                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.m.cm.y_f = dest_y - center_y; // int16                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Here's that square root.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // The argument, (center_x * center_x + center_y * center_y), is up to 31 bits. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             temp = (center_x * center_x) + (center_y * center_y);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             radius = Sqrt(temp);                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Next calculate the "m_alpha" factor. This finds the smallest integer value m_alpha, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //       such that 2^(2 * m_alpha + 3) >= radius                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //   Possible values of m_alpha: 0 - 6                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //       The radius can be as small as 5, such that 2^(2*0 + 3) = 8, already > radius 5. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //           -> m_alpha = 0 if radius = 5.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //       Since the radius can be as large as 32767, (2^15), 2*alpha + 3 = 15   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //           -> m_alpha = 6 if radius = 32767.                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Once m_alpha is computed, each straight subsegment around the circle spans an arc of D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //   alpha = 1/(2^m_alpha) radians between its vertices.                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Since m_alpha is in the range 0-6, each arc angle is between 0.9 and 57.3 degrees: D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //   At smallest radius, (1/2^0) = 1; angle between vertices is 1 radian (57.3). D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //   At largest radius, (1/2^6) = 1/64; angle between vertices is 1/64 =0.15625 radian, (0.9). D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Rather than computing alpha (usually fractional), we keep track of m_alpha, and use it D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //   with bit shifts.                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.m.cm.m_alpha = 0; // uint8                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             temp = 1 << ((2 * 0) + 3);  // left this way for clarity                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             while (temp < radius)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gMoveTemp.m.cm.m_alpha += 1;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               temp = (1 << ((2 * gMoveTemp.m.cm.m_alpha) + 3)); // temp is uint16 (use bit shift instead of power) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Next, compute what 1.5 * the typical subsegment length is.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If the final vertex is within this distance of the start, just use a single D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //   move between them, rather than an arc with multiple subsegments.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // The typical length of a subsegment around the circumference is:             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // (radius * angle_between_vertices_in_radians) = radius * alpha               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                   = radius * (1/2^m_alpha) = radius >> m_alpha D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // 0.5 times the length is radius >> (m_alpha + 1)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Thus 1.5 times the length is (radius >> m_alpha) + (radius >> (m_alpha + 1)): D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.m.cm.typ_seg = (radius >> gMoveTemp.m.cm.m_alpha);   // uint8        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             typ_seg_long = gMoveTemp.m.cm.typ_seg + (radius >> (gMoveTemp.m.cm.m_alpha + 1)); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Get absolute value of move length in X and Y                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             sTemp16_1 = (gMoveTemp.m.cm.x_t - gMoveTemp.m.cm.x_f);  // signed 32 = signed 16 - signed 16 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if (sTemp16_1 < 0)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               sTemp16_1 = -sTemp16_1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             sTemp16_2 = (gMoveTemp.m.cm.y_t - gMoveTemp.m.cm.y_f);  // signed 32 = signed 16 - signed 16 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if (sTemp16_2 < 0)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               sTemp16_2 = -sTemp16_2;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // And if both x and y move length are too small, then just do a simple        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // straight move by calling process_simple_rate_move_fp()                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if ((sTemp16_1 < (INT16)typ_seg_long) && (sTemp16_2 < (INT16)typ_seg_long))    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // This is a very short move; cannot make an arc here.                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Instead, process it like an SM or HM move with:                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //      step_dist_x = x_f - x_t                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //      step_dist_y = y_f - y_t                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //      And step frequency given by StepFreq.                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps1 = gMoveTemp.m.cm.x_f - gMoveTemp.m.cm.x_t;                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps2 = gMoveTemp.m.cm.y_f - gMoveTemp.m.cm.y_t;                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gHM_StepRate = frequency;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gClearAccs = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               process_simple_rate_move_fp();                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // After making our short straight line, we're done.                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               print_line_ending(kLE_OK_NORM);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #if 0                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                              # Next: Precompute VScaleK (Velocity Scaling Factor K):                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # This is a scaling factor that we will later use, in the ISR, to calculate the  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   correct velocity in each axis from the number of steps in each axis.     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # At a given vertex around the circle, the distance to the next vertex is (Dx, Dy). D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   The velocity at that vertex is (K * Dx, K * Dy), where the velocity scale factor K D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   is K = (Forward_velocity/typical_length_of_subsegment)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #        = (StepFreq * 2^31/ 25000) / (radius * alpha)                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #        = (StepFreq * 2^28/ 3125) / (radius >> m_alpha)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #        = (StepFreq * 2^28 << m_alpha ) / ( 3125 * radius)                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   (Here, we have noted that 25000 = 8 * 3125 = 3125 * 2^3)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # To keep the multiplication within the ISR as 16 x 16 bit, we need a final VScaleK D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   that can be represented by uint16 (without losing too many digits of precision). D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   Most of the special cases are to manage the great variation in K that is possible D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   because radius can range from 5-32767, and StepFreq can range from 1-25000. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               bits_left = 28                  # Counter for bits remaining to shift (int8) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               bits_left += m_alpha                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if (StepFreq >= 256):   # StepFreq is in range 256 - 25000                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                       # Possibly implement by checking that high byte != 0. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   StepFreq = StepFreq << 17                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   bits_left -= 17                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   # StepFreq now in range 3.35E7 - 3.27E9 (Almost 2^25 - Almost 2^32)      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                   # StepFreq is in range 1 - 255                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   StepFreq = StepFreq << 24                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   bits_left -= 24                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   # StepFreq now in range 1.67E7 - 4.27E9 (2^24 - Almost 2^32)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               denom = 3125 * radius # uint32                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   # denom is in range 1.67E7 - 4.27E9 (2^24 - Almost 2^32)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if (radius >= 256):     # Radius is in range 256 - 32767                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                       # Possibly implement by checking that high byte != 0. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   denom = denom >> 11                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   bits_left -= 11                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   # Denom now in range 3906 - 50000 (Almost 2^12 - Almost 2^16)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                   # Radius is in range 1 - 255                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   denom = denom >> 1                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   bits_left -= 1                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   # Denom now in range 1562 - 39843 (Almost 2^11 - Almost 2^16)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Now the "big" division operation -- just one, thankfully.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               VScaleK = int(StepFreq / denom) # (uint24?)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Largest possible VScaleK: 4.27E9 / 1562 = 2.733E6 (almost 2^22)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Smallest possible VScaleK: 1.67E7 / 50000 = 334 (almost 2^9)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if VScaleK > 65536:             # possibly check that high bytes are nonzero. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   VScaleK = VScaleK >> 4                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   bits_left += 4                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # VScaleK value range is now 334 - 42,703, all < 2^16.                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # ->  VScaleK can now be re-cast as a uint16.                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Finally, set up variables to manage "local" position in ISR.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               x_pos_last = x_t # int16 Variables to store last (16-bit) position value     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               y_pos_last = y_t # int16                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Scale X, Y values up by 65536. The step positions are 16-bit signed, but   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   we need additional resolution to avoid adding rounding errors since we   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   do compute each new position from the last position.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               x_t = x_t << 16                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               y_t = y_t << 16                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               -----------------------------------------                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # This concludes the "precomputation" stage. We now -- still in the "parsing" D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   stage -- compute the velocities and step counts for the first subsegment only. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # The nominal step distances to move are:                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   d_x = -1 * ( x_t >> (2 * m_alpha + 1)) - (y_t >> m_alpha)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   d_y = -1 * ( y_t >> (2 * m_alpha + 1)) + (x_t >> m_alpha)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # HOWEVER, right-shift division of negative integers isn't "clean" (e.g., -1 >> 1 == -1), D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   so we instead use several cases with positive integers and right shifts. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               alpha_shift = (m_alpha << 1) + 1                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if x_t < 0:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   x_1 = ( - x_t >> alpha_shift)                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   x_2 = -( - x_t >> m_alpha)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   x_1 = -( x_t >> alpha_shift)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   x_2 = ( x_t >> m_alpha)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if y_t < 0:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   y_1 = ( - y_t >> alpha_shift)                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   y_2 = -( - y_t >> m_alpha)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   y_1 = -( y_t >> alpha_shift)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   y_2 = ( y_t >> m_alpha)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if direction:                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   d_x = x_1 + y_2                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   d_y = y_1 - x_2                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   d_x = x_1 - y_2                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   d_y = y_1 + x_2                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Update 32-bit position values:                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               x_t += d_x                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               y_t += d_y                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Find new 16-bit position value.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # In firmware, take two high bytes of position; do not actually shift/divide. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               x_t_16 = x_t >> 16 # Psuedocode only;(DO NOT ACTUALLY SHIFT)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               y_t_16 = y_t >> 16 # Psuedocode only;(DO NOT ACTUALLY SHIFT)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Find Step count and directions.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               x_steps = x_t_16 - x_pos_last                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               y_steps = y_t_16 - y_pos_last                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if x_steps < 0:                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   stepdir_x = 0 # Set direction bits                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   x_stepcount = -x_steps                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   stepdir_x = 1 # Set direction bits                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   x_stepcount = x_steps                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if y_steps < 0:                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   stepdir_y = 0 # Set direction bits                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   y_stepcount = -y_steps                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   stepdir_y = 1 # Set direction bits                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   y_stepcount = y_steps                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Rate factors: Rate_x, Rate_y : 32-bit unsigned                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if bits_left >= 0:                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   Rate_x = (x_stepcount * VScaleK) << bits_left                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   Rate_y = (y_stepcount * VScaleK) << bits_left                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   Rate_x = (x_stepcount * VScaleK) >> -bits_left                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   Rate_y = (y_stepcount * VScaleK) >> -bits_left                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               x_pos_last = x_t_16                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               y_pos_last = y_t_16                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               Now, begin an SM/XM/HM type linear move with:                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   * stepdir_x, stepdir_y                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   * x_stepcount, y_stepcount                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   * Rate_x, Rate_y                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               In addition to the step/direction/rate values (normally in the FIFO),        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   I think we'll need the following values attached to this command:        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - VScaleK       # uint16                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - m_alpha       # uint8                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - bits_left     # int8                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - x_f           # int16                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - y_f           # int16                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - x_t           # int32                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - y_t           # int32                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - direction     # uint8                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - y_pos_last    # int16                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - x_pos_last    # int16                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - typ_seg       # uint8                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if (gAutomaticMotorEnable == TRUE)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Enable both motors when we want to move them                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               Enable1IO = ENABLE_MOTOR;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               Enable2IO = ENABLE_MOTOR;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // First, set the direction bits                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             /// For CM, how do we know which direction we need to move first?              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  if (gTmpSteps1 < 0)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  {                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///    gMoveTemp.m.sm.DirBits = gMoveTemp.m.sm.DirBits | DIR1_BIT;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///    gTmpSteps1 = -gTmpSteps1;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  }                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  if (gTmpSteps2 < 0)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  {                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///    gMoveTemp.m.sm.DirBits = gMoveTemp.m.sm.DirBits | DIR2_BIT;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///    gTmpSteps2 = -gTmpSteps2;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  }                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  gMoveTemp.m.sm.Rate[0].value = gTmpIntervals;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  gMoveTemp.m.sm.Steps[0] = gTmpSteps1;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  gMoveTemp.m.sm.Accel[0] = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  gMoveTemp.m.sm.Rate[1].value = gTmpIntervals;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  gMoveTemp.m.sm.Steps[1] = gTmpSteps2;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  gMoveTemp.m.sm.Accel[1] = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.Command = COMMAND_CM_OUTER_MOVE;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_BIT_NUM))                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print((far rom char *)"R1=");                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print_uint(gMoveTemp.m.sm.Rate[0].value);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print((far rom char *)" S1=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print_uint(gMoveTemp.m.sm.Steps[0]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print((far rom char *)" R2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print_uint(gMoveTemp.m.sm.Rate[1].value);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print((far rom char *)" S2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print_uint(gMoveTemp.m.sm.Steps[1]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Spin here until there's space in the FIFO                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             while(gFIFOLength >= gCurrentFIFOLength)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ;                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If the limit switch feature has triggered, then ignore this move command    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Maybe the limit switch has become true between the top of this function     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // and here? Better check for it.                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if (!bittstzero(gLimitSwitchTriggered))                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Now, quick copy over the computed command data to the command FIFO        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               FIFOPtr[gFIFOIn] = gMoveTemp;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gFIFOIn++;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if (gFIFOIn >= gCurrentFIFOLength)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 gFIFOIn = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gFIFOLength++;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024be   ec87     CALL      0x330e,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024c0   f019                                                                                                               
0024c2   0e25     MOVLW     0x25           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024c4   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0024c6   e202     BC        0x24cc                                                                                          
0024c8   6ae1     CLRF      0xe1,0x0                                                                                        
0024ca   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0024cc   ef80     GOTO      0x3300                                                                                          
0024ce   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Home the motors                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // "HM,<StepFrequency>,<Pos1>,<Pos2><CR>"                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <StepFrequency> is the desired rate of the primary (larger) axis in steps/s.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   It is allowed to be from 1 to 25000.                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Pos1> and <Pos2> are both optional. If <Pos1> is present, <Pos2> must        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // also be present. If not present they are both assumed to be 0 (i.e.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // a true 'home' move). If present, they will instruct the EBB to perform        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // a move to the absolute position <Pos1>,<Pos2>.                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Pos1> and <Pos2> are both signed 32 bit integers. Values from                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // -2147483648 to 2147483647 are allowed for each.                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This command uses the current global step counts compute the number of        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // steps necessary to reach the target position. (either 0,0 or Pos1,Pos2)       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // There is a limitation to <Pos1> and <Pos2>. When they are each added          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // to the negative of the current global position to compute the number of       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // steps necessary to complete this HM move, the sum must not overflow a         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // signed 32 bit number. An overflow like this will generate an error.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that this situation is very unlikely to occur, as 0x7FFFFFFF steps       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // (the maximum number of steps a signed 32 bit int can represent) will take     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 23 hours to execute at the highest step rate (25Ks/s).                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The primary axis will be whichever one has to move more steps.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The secondary axis will be the non-primary axis.                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For this function, if <StepFrequency> is too high or too low, we don't error  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // out, we just use a legal value instead (25,000 or 1 s/s).                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // When parsing this command, we always wait until both the FIFO is empty and    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // the motion commands are finished. By waiting until both the FIFO (queue) and  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // motion commands are empty, we get an accurate picture of where the global     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // step position is.                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Once the move has been figured out, we call process_simple_rate_move_fp().    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Some global variables are used in this function instead of local ones:        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gHM_StepRate is used for StepRate                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gHM_Pos1 is used for Pos1                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gHM_Pos2 is used for Pos2                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gSteps1 is used as parameter for process_simple_rate_move                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gSteps2 is used as parameter for process_simple_rate_move                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024d0   ece2     CALL      0x39c4,0x0     void parse_HM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024d2   f01c                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024d4   0e01     MOVLW     0x1              BOOL   CommandExecuting = TRUE;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024d6   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024d8   ec20     CALL      0x3840,0x0       clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024da   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract the three parameters                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kULONG, &gHM_StepRate, kREQUIRED);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024dc   0e01     MOVLW     0x1              extract_number(kLONG,  &gHM_Pos1,     kOPTIONAL);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024de   6ee6     MOVWF     0xe6,0x0                                                                                        
0024e0   0ed9     MOVLW     0xd9                                                                                            
0024e2   6ee6     MOVWF     0xe6,0x0                                                                                        
0024e4   0e01     MOVLW     0x1                                                                                             
0024e6   ec90     CALL      0x3b20,0x0                                                                                      
0024e8   f01d                                                                                                               
0024ea   6ee6     MOVWF     0xe6,0x0         extract_number(kLONG,  &gHM_Pos2,     kOPTIONAL);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024ec   0ee9     MOVLW     0xe9                                                                                            
0024ee   6ee6     MOVWF     0xe6,0x0                                                                                        
0024f0   0e01     MOVLW     0x1                                                                                             
0024f2   ec90     CALL      0x3b20,0x0                                                                                      
0024f4   f01d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // StepRate must be from 1 to 25000                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024f6   0101     MOVLB     0x1              if (gHM_StepRate < 1u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024f8   5dc9     SUBWF     0xc9,0x0,0x1                                                                                    
0024fa   0e00     MOVLW     0x0                                                                                             
0024fc   59ca     SUBWFB    0xca,0x0,0x1                                                                                    
0024fe   0e00     MOVLW     0x0                                                                                             
002500   59cb     SUBWFB    0xcb,0x0,0x1                                                                                    
002502   0e00     MOVLW     0x0                                                                                             
002504   59cc     SUBWFB    0xcc,0x0,0x1                                                                                    
002506   e204     BC        0x2510                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002508   0e01     MOVLW     0x1                gHM_StepRate = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00250a   6fc9     MOVWF     0xc9,0x1                                                                                        
00250c   6bca     CLRF      0xca,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00250e   d009     BRA       0x2522           else if (gHM_StepRate > 25000u)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002510   80d8     BSF       0xd8,0x0,0x0                                                                                    
002512   0ea8     MOVLW     0xa8                                                                                            
002514   ec87     CALL      0x370e,0x0                                                                                      
002516   f01b                                                                                                               
002518   e206     BC        0x2526                                                                                          
00370e   55c9     SUBFWB    0xc9,0x0,0x1                                                                                    
003710   0e61     MOVLW     0x61                                                                                            
003712   55ca     SUBFWB    0xca,0x0,0x1                                                                                    
003714   0e00     MOVLW     0x0                                                                                             
003716   55cb     SUBFWB    0xcb,0x0,0x1                                                                                    
003718   0e00     MOVLW     0x0                                                                                             
00371a   55cc     SUBFWB    0xcc,0x0,0x1                                                                                    
00371c   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00251a   0ea8     MOVLW     0xa8               gHM_StepRate = 25000;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00251c   6fc9     MOVWF     0xc9,0x1                                                                                        
00251e   0e61     MOVLW     0x61                                                                                            
002520   6fca     MOVWF     0xca,0x1                                                                                        
002522   6bcb     CLRF      0xcb,0x1                                                                                        
002524   6bcc     CLRF      0xcc,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Wait until FIFO is empty                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002526   5013     MOVF      0x13,0x0,0x0     while(gFIFOLength >= gCurrentFIFOLength)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002528   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
00252a   e2fd     BC        0x2526                                                                                          
                                               ;                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Then wait for motion command to finish (if one's running)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00252c   04df     DECF      0xdf,0x0,0x0     while (CommandExecuting == TRUE)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00252e   e10a     BNZ       0x2544                                                                                          
002542   d7f4     BRA       0x252c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Need to turn off high priority interrupts briefly here to read out value that ISR uses D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002530   9ef2     BCF       0xf2,0x7,0x0       INTCONbits.GIEH = 0;    // Turn high priority interrupts off                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // See if there is either a delay or a command executing                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002532   0101     MOVLB     0x1                if ((CurrentCommand.m.sm.DelayCounter == 0u) && (CurrentCommand.Command == COMMAND_NONE)) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002534   ec70     CALL      0x36e0,0x0                                                                                      
002536   f01b                                                                                                               
002538   e103     BNZ       0x2540                                                                                          
00253a   5185     MOVF      0x85,0x0,0x1                                                                                    
00253c   e101     BNZ       0x2540                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00253e   6adf     CLRF      0xdf,0x0             CommandExecuting = FALSE;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Re-enable interrupts                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002540   8ef2     BSF       0xf2,0x7,0x0       INTCONbits.GIEH = 1;    // Turn high priority interrupts on                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Make a local copy of the things we care about. This is how far we need to move. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002544   c016     MOVFF     0x16,0x40        gSteps1 = -globalStepCounter1 + gHM_Pos1;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002546   f040                                                                                                               
002548   c017     MOVFF     0x17,0x41                                                                                       
00254a   f041                                                                                                               
00254c   c018     MOVFF     0x18,0x42                                                                                       
00254e   f042                                                                                                               
002550   c019     MOVFF     0x19,0x43                                                                                       
002552   f043                                                                                                               
002554   ec8f     CALL      0x371e,0x0                                                                                      
002556   f01b                                                                                                               
002558   0101     MOVLB     0x1                                                                                             
00255a   25d9     ADDWF     0xd9,0x0,0x1                                                                                    
00255c   6fd5     MOVWF     0xd5,0x1                                                                                        
00255e   503d     MOVF      0x3d,0x0,0x0                                                                                    
002560   21da     ADDWFC    0xda,0x0,0x1                                                                                    
002562   6fd6     MOVWF     0xd6,0x1                                                                                        
002564   503e     MOVF      0x3e,0x0,0x0                                                                                    
002566   21db     ADDWFC    0xdb,0x0,0x1                                                                                    
002568   6fd7     MOVWF     0xd7,0x1                                                                                        
00256a   503f     MOVF      0x3f,0x0,0x0                                                                                    
00256c   21dc     ADDWFC    0xdc,0x0,0x1                                                                                    
00256e   6fd8     MOVWF     0xd8,0x1                                                                                        
00371e   6845     SETF      0x45,0x0                                                                                        
003720   6846     SETF      0x46,0x0                                                                                        
003722   6847     SETF      0x47,0x0                                                                                        
003724   6848     SETF      0x48,0x0                                                                                        
003726   ecc3     CALL      0x8d86,0x0                                                                                      
003728   f046                                                                                                               
00372a   503c     MOVF      0x3c,0x0,0x0                                                                                    
00372c   0012     RETURN    0x0                                                                                             
002570   c01a     MOVFF     0x1a,0x40        gSteps2 = -globalStepCounter2 + gHM_Pos2;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002572   f040                                                                                                               
002574   c01b     MOVFF     0x1b,0x41                                                                                       
002576   f041                                                                                                               
002578   c01c     MOVFF     0x1c,0x42                                                                                       
00257a   f042                                                                                                               
00257c   c01d     MOVFF     0x1d,0x43                                                                                       
00257e   f043                                                                                                               
002580   ec8f     CALL      0x371e,0x0                                                                                      
002582   f01b                                                                                                               
002584   0101     MOVLB     0x1                                                                                             
002586   25e9     ADDWF     0xe9,0x0,0x1                                                                                    
002588   6fe5     MOVWF     0xe5,0x1                                                                                        
00258a   503d     MOVF      0x3d,0x0,0x0                                                                                    
00258c   21ea     ADDWFC    0xea,0x0,0x1                                                                                    
00258e   6fe6     MOVWF     0xe6,0x1                                                                                        
002590   503e     MOVF      0x3e,0x0,0x0                                                                                    
002592   21eb     ADDWFC    0xeb,0x0,0x1                                                                                    
002594   6fe7     MOVWF     0xe7,0x1                                                                                        
002596   503f     MOVF      0x3f,0x0,0x0                                                                                    
002598   21ec     ADDWFC    0xec,0x0,0x1                                                                                    
00259a   6fe8     MOVWF     0xe8,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Always clear accumulators for this type of move                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00259c   6bcd     CLRF      0xcd,0x1         gClearAccs = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00259e   6bce     CLRF      0xce,0x1                                                                                        
0025a0   6bcf     CLRF      0xcf,0x1                                                                                        
0025a2   6bd0     CLRF      0xd0,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set up these values as input parameters                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gSRM_Rate                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gSteps1                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gSteps2                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gClearAccs                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gSRM_Rate = gHM_StepRate;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025a4   d811     RCALL     0x25c8           process_simple_rate_move_fp();                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025a6   ec87     CALL      0x330e,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025a8   f019                                                                                                               
0025aa   ef47     GOTO      0x348e         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025ac   f01a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Test Rate                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Simple function to allow testing of the process_simple_rate_move_fp() command. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Simply take the parameters from the user and pass them on to the move.        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_TR_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025ae   ec20     CALL      0x3840,0x0       clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025b0   f01c                                                                                                               
003840   d9d1     RCALL     0x3be4                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract the three parameters                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003842   0ec9     MOVLW     0xc9             extract_number(kULONG, &gHM_StepRate, kREQUIRED);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003844   6ee6     MOVWF     0xe6,0x0                                                                                        
003846   0e01     MOVLW     0x1                                                                                             
003848   efe3     GOTO      0x3bc6                                                                                          
00384a   f01d                                                                                                               
003bc6   6ee6     MOVWF     0xe6,0x0                                                                                        
003bc8   0e07     MOVLW     0x7                                                                                             
003bca   efae     GOTO      0x315c                                                                                          
003bcc   f018                                                                                                               
0025b2   6ae6     CLRF      0xe6,0x0         extract_number(kLONG,  &gSteps1,      kREQUIRED);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025b4   0ed5     MOVLW     0xd5                                                                                            
0025b6   6ee6     MOVWF     0xe6,0x0                                                                                        
0025b8   0e01     MOVLW     0x1                                                                                             
0025ba   ecb3     CALL      0x3b66,0x0                                                                                      
0025bc   f01d                                                                                                               
0025be   ec07     CALL      0x380e,0x0       extract_number(kLONG,  &gSteps2,      kREQUIRED);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025c0   f01c                                                                                                               
                                             extract_number(kULONG, &gClearAccs,   kOPTIONAL);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set up these values as input parameters                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gHM_StepRate                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gSteps1                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gSteps2                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gClearAccs                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025c2   d802     RCALL     0x25c8           process_simple_rate_move_fp();                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025c4   ef87     GOTO      0x330e           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025c6   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This is the generic function for processing simple moves which use a          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 'rate' input parameter rather than a duration. The 'rate' parameter           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // is applied to the axis that has more steps (primary axis). The other axis     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // (secondary axis) gets a rate which is appropriate to making a straight line.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // gHM_StepRate can be between 1 and 25000 inclusive                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // gSteps1 and gSteps2 are signed 32 bit numbers                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This function uses these as input parameters:                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gSRM_Rate   UINT32  not modified                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gSteps1     INT32   modified                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gSteps2     INT32   modified                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gClearAccs  UINT32  not modified                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025c8   ecc2     CALL      0x3984,0x0     void process_simple_rate_move_fp(void)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025ca   f01c                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             float tempF;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025cc   aa09     BTFSS     0x9,0x5,0x0      if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_NUM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025ce   d01b     BRA       0x2606                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025d0   0e6c     MOVLW     0x6c               ebb_print((far rom char *)"Rate=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025d2   6e4e     MOVWF     0x4e,0x0                                                                                        
0025d4   0e81     MOVLW     0x81                                                                                            
0025d6   ecb4     CALL      0x3168,0x0                                                                                      
0025d8   f018                                                                                                               
0025da   c1c9     MOVFF     0x1c9,0xfe6        ebb_print_uint(gHM_StepRate);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025dc   ffe6                                                                                                               
0025de   c1ca     MOVFF     0x1ca,0xfe6                                                                                     
0025e0   ffe6                                                                                                               
0025e2   c1cb     MOVFF     0x1cb,0xfe6                                                                                     
0025e4   ffe6                                                                                                               
0025e6   c1cc     MOVFF     0x1cc,0xfe6                                                                                     
0025e8   ffe6                                                                                                               
0025ea   ec52     CALL      0x32a4,0x0                                                                                      
0025ec   f019                                                                                                               
0025ee   0ef1     MOVLW     0xf1               ebb_print((far rom char *)" S1=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025f0   6e4e     MOVWF     0x4e,0x0                                                                                        
0025f2   0e81     MOVLW     0x81                                                                                            
0025f4   ecb4     CALL      0x3168,0x0                                                                                      
0025f6   f018                                                                                                               
0025f8   ec6e     CALL      0x34dc,0x0         ebb_print_int(gSteps1);                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025fa   f01a                                                                                                               
0034dc   c1d5     MOVFF     0x1d5,0xfe6                                                                                     
0034de   ffe6                                                                                                               
0034e0   c1d6     MOVFF     0x1d6,0xfe6                                                                                     
0034e2   ffe6                                                                                                               
0034e4   c1d7     MOVFF     0x1d7,0xfe6                                                                                     
0034e6   ffe6                                                                                                               
0034e8   c1d8     MOVFF     0x1d8,0xfe6                                                                                     
0034ea   ffe6                                                                                                               
0034ec   ef16     GOTO      0x382c                                                                                          
0034ee   f01c                                                                                                               
00382c   ec45     CALL      0x848a,0x0                                                                                      
00382e   f042                                                                                                               
003830   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003832   d17c     BRA       0x3b2c                                                                                          
003b2c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003b2e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003b30   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003b32   0012     RETURN    0x0                                                                                             
0025fc   0edd     MOVLW     0xdd               ebb_print((far rom char *)" S2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025fe   6e4e     MOVWF     0x4e,0x0                                                                                        
002600   0e81     MOVLW     0x81                                                                                            
002602   ec70     CALL      0x3ae0,0x0                                                                                      
002604   f01d                                                                                                               
003ae0   ecb4     CALL      0x3168,0x0                                                                                      
003ae2   f018                                                                                                               
003ae4   c1e5     MOVFF     0x1e5,0xfe6        ebb_print_int(gSteps2);                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003ae6   ffe6                                                                                                               
003ae8   c1e6     MOVFF     0x1e6,0xfe6                                                                                     
003aea   ffe6                                                                                                               
003aec   c1e7     MOVFF     0x1e7,0xfe6                                                                                     
003aee   ffe6                                                                                                               
003af0   c1e8     MOVFF     0x1e8,0xfe6                                                                                     
003af2   ffe6                                                                                                               
003af4   de9b     RCALL     0x382c                                                                                          
003af6   ef8f     GOTO      0x331e             print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003af8   f019                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If we have a triggered limit switch, then ignore this move command          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002606   b00e     BTFSC     0xe,0x0,0x0      if (bittstzero(gLimitSwitchTriggered))                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002608   d0a3     BRA       0x2750                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // And check for a bad rate value                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00260a   80d8     BSF       0xd8,0x0,0x0     if ((gHM_StepRate > 25000u) || (gHM_StepRate == 0u))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00260c   0ea8     MOVLW     0xa8                                                                                            
00260e   0101     MOVLB     0x1                                                                                             
002610   ec87     CALL      0x370e,0x0                                                                                      
002612   f01b                                                                                                               
002614   e303     BNC       0x261c                                                                                          
002616   ec12     CALL      0x3624,0x0                                                                                      
002618   f01b                                                                                                               
00261a   e106     BNZ       0x2628                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00261c   0e4c     MOVLW     0x4c               ebb_print((far rom char *)"!0 Err: StepRate invalid value.");                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00261e   6e4e     MOVWF     0x4e,0x0                                                                                        
002620   0e81     MOVLW     0x81                                                                                            
002622   ec0f     CALL      0x3a1e,0x0                                                                                      
002624   f01d                                                                                                               
                                               print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002626   d094     BRA       0x2750             return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If, for some reason, we're called with zero steps for both axis, then bail  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002628   ecd6     CALL      0x35ac,0x0       if ((gSteps1 == 0) && (gSteps2 == 0))                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00262a   f01a                                                                                                               
00262c   e104     BNZ       0x2636                                                                                          
00262e   ecdb     CALL      0x35b6,0x0                                                                                      
002630   f01a                                                                                                               
002632   e101     BNZ       0x2636                                                                                          
002634   d08d     BRA       0x2750                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002636   c1cd     MOVFF     0x1cd,0x12f      gMoveTemp.m.sm.SEState = (UINT8)gClearAccs;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002638   f12f                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00263a   ec32     CALL      0x3664,0x0       gMoveTemp.m.sm.DelayCounter = 0;    // A rate move is never a delay, so clear  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00263c   f01b                                                                                                               
003664   0101     MOVLB     0x1                                                                                             
003666   6b2b     CLRF      0x2b,0x1                                                                                        
003668   6b2c     CLRF      0x2c,0x1                                                                                        
00366a   6b2d     CLRF      0x2d,0x1                                                                                        
00366c   6b2e     CLRF      0x2e,0x1                                                                                        
00366e   6b2a     CLRF      0x2a,0x1         gMoveTemp.m.sm.DirBits = 0;         // Start with positive direction for both  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00263e   e102     BNZ       0x2644           if (gAutomaticMotorEnable == TRUE)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003670   0104     MOVLB     0x4                                                                                             
003672   05c6     DECF      0xc6,0x0,0x1                                                                                    
003674   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Enable both motors when we want to move them                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002640   908d     BCF       0x8d,0x0,0x0       Enable1IO = ENABLE_MOTOR;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002642   928b     BCF       0x8b,0x1,0x0       Enable2IO = ENABLE_MOTOR;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // First, set the direction bits                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002644   0101     MOVLB     0x1              if (gSteps1 < 0)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002646   0e80     MOVLW     0x80                                                                                            
002648   15d8     ANDWF     0xd8,0x0,0x1                                                                                    
00264a   e002     BZ        0x2650                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00264c   ecba     CALL      0x3574,0x0         gMoveTemp.m.sm.DirBits = gMoveTemp.m.sm.DirBits | DIR1_BIT;                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00264e   f01a                                                                                                               
003574   0e80     MOVLW     0x80                                                                                            
003576   0101     MOVLB     0x1                                                                                             
003578   112a     IORWF     0x2a,0x0,0x1                                                                                    
00357a   6f2a     MOVWF     0x2a,0x1                                                                                        
00357c   0e00     MOVLW     0x0                gSteps1 = -gSteps1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00357e   0101     MOVLB     0x1                                                                                             
003580   efcb     GOTO      0x3996                                                                                          
003582   f01c                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002650   0e80     MOVLW     0x80             if (gSteps2 < 0)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002652   15e8     ANDWF     0xe8,0x0,0x1                                                                                    
002654   e002     BZ        0x265a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002656   ecc2     CALL      0x3584,0x0         gMoveTemp.m.sm.DirBits = gMoveTemp.m.sm.DirBits | DIR2_BIT;                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002658   f01a                                                                                                               
003584   0e20     MOVLW     0x20                                                                                            
003586   0101     MOVLB     0x1                                                                                             
003588   112a     IORWF     0x2a,0x0,0x1                                                                                    
00358a   6f2a     MOVWF     0x2a,0x1                                                                                        
00358c   0e00     MOVLW     0x0                gSteps2 = -gSteps2;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00358e   0101     MOVLB     0x1                                                                                             
003590   efd3     GOTO      0x39a6                                                                                          
003592   f01c                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Both Steps values are now positive because our directions are set. From     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // now on we're dealing only with step counts and rates, no directions.        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Figure out which axis is major                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00265a   0ed5     MOVLW     0xd5             if (gSteps1 >= gSteps2)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00265c   6ee9     MOVWF     0xe9,0x0                                                                                        
00265e   0e01     MOVLW     0x1                                                                                             
002660   6eea     MOVWF     0xea,0x0                                                                                        
002662   0e03     MOVLW     0x3                                                                                             
002664   50eb     MOVF      0xeb,0x0,0x0                                                                                    
002666   19e8     XORWF     0xe8,0x0,0x1                                                                                    
002668   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
00266a   d002     BRA       0x2670                                                                                          
00266c   35e8     RLCF      0xe8,0x0,0x1                                                                                    
00266e   d008     BRA       0x2680                                                                                          
002670   51e5     MOVF      0xe5,0x0,0x1                                                                                    
002672   5cee     SUBWF     0xee,0x0,0x0                                                                                    
002674   51e6     MOVF      0xe6,0x0,0x1                                                                                    
002676   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
002678   51e7     MOVF      0xe7,0x0,0x1                                                                                    
00267a   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
00267c   51e8     MOVF      0xe8,0x0,0x1                                                                                    
00267e   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
002680   e32a     BNC       0x26d6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Axis1 is major, Axis2 is minor                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Computing the gMoveTemp.m.sm.Rate value for the primary axis is simple.   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // gMoveTemp.m.sm.Rate is simply gHM_StepRate * 85899.34592.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002682   ecbb     CALL      0x3376,0x0         gMoveTemp.m.sm.Rate[0].value = (INT32)((float)gHM_StepRate * 85899.34592f);  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002684   f019                                                                                                               
002686   ec3b     CALL      0x3676,0x0                                                                                      
002688   f01b                                                                                                               
003376   dbee     RCALL     0x3b54                                                                                          
003378   ec41     CALL      0x7482,0x0                                                                                      
00337a   f03a                                                                                                               
00337c   daba     RCALL     0x38f2                                                                                          
00337e   0eac     MOVLW     0xac                                                                                            
003380   6e46     MOVWF     0x46,0x0                                                                                        
003382   0ec5     MOVLW     0xc5                                                                                            
003384   6e47     MOVWF     0x47,0x0                                                                                        
003386   0ea7     MOVLW     0xa7                                                                                            
003388   6e48     MOVWF     0x48,0x0                                                                                        
00338a   0e47     MOVLW     0x47                                                                                            
00338c   6e49     MOVWF     0x49,0x0                                                                                        
00338e   ecaf     CALL      0x755e,0x0                                                                                      
003390   f03a                                                                                                               
003392   ef50     GOTO      0x76a0                                                                                          
003394   f03b                                                                                                               
003676   c040     MOVFF     0x40,0x130                                                                                      
003678   f130                                                                                                               
00367a   c041     MOVFF     0x41,0x131                                                                                      
00367c   f131                                                                                                               
00367e   c042     MOVFF     0x42,0x132                                                                                      
003680   f132                                                                                                               
003682   c043     MOVFF     0x43,0x133                                                                                      
003684   f133                                                                                                               
003686   0012     RETURN    0x0                                                                                             
0038f2   c041     MOVFF     0x41,0x4e                                                                                       
0038f4   f04e                                                                                                               
0038f6   c042     MOVFF     0x42,0x4f                                                                                       
0038f8   f04f                                                                                                               
0038fa   c043     MOVFF     0x43,0x50                                                                                       
0038fc   f050                                                                                                               
0038fe   c044     MOVFF     0x44,0x51                                                                                       
003900   f051                                                                                                               
003902   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00268a   0101     MOVLB     0x1                if (gSteps2 != 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00268c   ecdb     CALL      0x35b6,0x0                                                                                      
00268e   f01a                                                                                                               
002690   e01c     BZ        0x26ca                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // We know secondary axis is non-zero move length, so compute it's rate    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // such that the ratio of primary steps/rate is the same as secondary      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // steps/rate.                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 //                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // The ratio of steps/rate will need to be the same for both axis          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // to make a straight line. So if S1 is axis1 steps, S2 is axis2 steps,    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // R1 is axis1 rate and R2 is axis2 rate, then                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // S1/R1 = S2/R2.                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // We know all but R2, so solving for R2 we get                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // R2 = (S2*R1)/S1                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // We break one of the EBB firmware rules here and use floating point      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // operations, as it is the perfect solution to maintaining as much        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // resolution as possible when computing the secondary rate. And it's not  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // even that slow - both the above primary rate multiply and the following D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // two multiplies and a divide, this whole function take less than 350 uS. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002692   ec67     CALL      0x38ce,0x0           tempF = (float)gSteps2 * (float)gHM_StepRate;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002694   f01c                                                                                                               
002696   ec63     CALL      0x32c6,0x0                                                                                      
002698   f019                                                                                                               
0032c6   ec43     CALL      0x7486,0x0                                                                                      
0032c8   f03a                                                                                                               
0032ca   db13     RCALL     0x38f2                                                                                          
0032cc   ecaa     CALL      0x3b54,0x0                                                                                      
0032ce   f01d                                                                                                               
0032d0   dabd     RCALL     0x384c                                                                                          
0032d2   ecaf     CALL      0x755e,0x0                                                                                      
0032d4   f03a                                                                                                               
0032d6   ef94     GOTO      0x3928                                                                                          
0032d8   f01c                                                                                                               
003b54   c1c9     MOVFF     0x1c9,0x40                                                                                      
003b56   f040                                                                                                               
003b58   c1ca     MOVFF     0x1ca,0x41                                                                                      
003b5a   f041                                                                                                               
003b5c   c1cb     MOVFF     0x1cb,0x42                                                                                      
003b5e   f042                                                                                                               
003b60   c1cc     MOVFF     0x1cc,0x43                                                                                      
003b62   f043                                                                                                               
003b64   0012     RETURN    0x0                                                                                             
00269a   ec70     CALL      0x38e0,0x0           tempF /= (float)gSteps1;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00269c   f01c                                                                                                               
00269e   ec28     CALL      0x3250,0x0                                                                                      
0026a0   f019                                                                                                               
003250   ec43     CALL      0x7486,0x0                                                                                      
003252   f03a                                                                                                               
003254   db4e     RCALL     0x38f2                                                                                          
003256   db20     RCALL     0x3898                                                                                          
003258   c051     MOVFF     0x51,0x49                                                                                       
00325a   f049                                                                                                               
00325c   ec5c     CALL      0x74b8,0x0                                                                                      
00325e   f03a                                                                                                               
003260   db82     RCALL     0x3966                                                                                          
003898   d974     RCALL     0x3b82                                                                                          
00389a   cfee     MOVFF     0xfee,0x41                                                                                      
00389c   f041                                                                                                               
00389e   cfee     MOVFF     0xfee,0x42                                                                                      
0038a0   f042                                                                                                               
0038a2   cfee     MOVFF     0xfee,0x43                                                                                      
0038a4   f043                                                                                                               
0038a6   cfef     MOVFF     0xfef,0x44                                                                                      
0038a8   f044                                                                                                               
0038aa   c04e     MOVFF     0x4e,0x46                                                                                       
0038ac   f046                                                                                                               
0038ae   c04f     MOVFF     0x4f,0x47                                                                                       
0038b0   f047                                                                                                               
0038b2   c050     MOVFF     0x50,0x48                                                                                       
0038b4   f048                                                                                                               
0038b6   0012     RETURN    0x0                                                                                             
003966   c044     MOVFF     0x44,0xfed                                                                                      
003968   ffed                                                                                                               
00396a   c043     MOVFF     0x43,0xfed                                                                                      
00396c   ffed                                                                                                               
00396e   c042     MOVFF     0x42,0xfed                                                                                      
003970   ffed                                                                                                               
003972   c041     MOVFF     0x41,0xfef                                                                                      
003974   ffef                                                                                                               
003976   0012     RETURN    0x0                                                                                             
003b82   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
003b84   ffe9                                                                                                               
003b86   cfda     MOVFF     0xfda,0xfea                                                                                     
003b88   ffea                                                                                                               
003b8a   0012     RETURN    0x0                                                                                             
003262   0eac     MOVLW     0xac                 tempF *= 85899.34592f;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003264   6e4e     MOVWF     0x4e,0x0                                                                                        
003266   0ec5     MOVLW     0xc5                                                                                            
003268   6e4f     MOVWF     0x4f,0x0                                                                                        
00326a   0ea7     MOVLW     0xa7                                                                                            
00326c   6e50     MOVWF     0x50,0x0                                                                                        
00326e   0e47     MOVLW     0x47                                                                                            
003270   6e51     MOVWF     0x51,0x0                                                                                        
003272   db12     RCALL     0x3898                                                                                          
003274   6e49     MOVWF     0x49,0x0                                                                                        
003276   ecaf     CALL      0x755e,0x0                                                                                      
003278   f03a                                                                                                               
00327a   db75     RCALL     0x3966                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Limit check out results                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026a2   e104     BNZ       0x26ac               if (tempF < 1.0f)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00327c   dafc     RCALL     0x3876                                                                                          
00327e   6a46     CLRF      0x46,0x0                                                                                        
003280   6a47     CLRF      0x47,0x0                                                                                        
003282   0e80     MOVLW     0x80                                                                                            
003284   6e48     MOVWF     0x48,0x0                                                                                        
003286   0e3f     MOVLW     0x3f                                                                                            
003288   db5a     RCALL     0x393e                                                                                          
00328a   ec90     CALL      0x7720,0x0                                                                                      
00328c   f03b                                                                                                               
00328e   0a01     XORLW     0x1                                                                                             
003290   0012     RETURN    0x0                                                                                             
00393e   6e49     MOVWF     0x49,0x0                                                                                        
003940   d0f9     BRA       0x3b34                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026a4   0101     MOVLB     0x1                    gMoveTemp.m.sm.Rate[1].value = 1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026a6   0e01     MOVLW     0x1                                                                                             
0026a8   6f34     MOVWF     0x34,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026aa   d011     BRA       0x26ce               else if (tempF > 2147483647.0f)                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026ac   eccb     CALL      0x3396,0x0                                                                                      
0026ae   f019                                                                                                               
0026b0   e107     BNZ       0x26c0                                                                                          
003396   da6f     RCALL     0x3876                                                                                          
003398   6a46     CLRF      0x46,0x0                                                                                        
00339a   6a47     CLRF      0x47,0x0                                                                                        
00339c   6a48     CLRF      0x48,0x0                                                                                        
00339e   0e4f     MOVLW     0x4f                                                                                            
0033a0   dace     RCALL     0x393e                                                                                          
0033a2   ec87     CALL      0x770e,0x0                                                                                      
0033a4   f03b                                                                                                               
0033a6   0a01     XORLW     0x1                                                                                             
0033a8   0012     RETURN    0x0                                                                                             
003876   d985     RCALL     0x3b82                                                                                          
003878   cfee     MOVFF     0xfee,0x4e                                                                                      
00387a   f04e                                                                                                               
00387c   cfee     MOVFF     0xfee,0x4f                                                                                      
00387e   f04f                                                                                                               
003880   cfee     MOVFF     0xfee,0x50                                                                                      
003882   f050                                                                                                               
003884   cfef     MOVFF     0xfef,0x51                                                                                      
003886   f051                                                                                                               
003888   0012     RETURN    0x0                                                                                             
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026b2   0101     MOVLB     0x1                    gMoveTemp.m.sm.Rate[1].value = 2147483647u;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026b4   6934     SETF      0x34,0x1                                                                                        
0026b6   6935     SETF      0x35,0x1                                                                                        
0026b8   6936     SETF      0x36,0x1                                                                                        
0026ba   0e7f     MOVLW     0x7f                                                                                            
0026bc   6f37     MOVWF     0x37,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026be   d034     BRA       0x2728               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026c0   ecca     CALL      0x3594,0x0             gMoveTemp.m.sm.Rate[1].value = (INT32)tempF;                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026c2   f01a                                                                                                               
0026c4   ec44     CALL      0x3688,0x0                                                                                      
0026c6   f01b                                                                                                               
003594   cfde     MOVFF     0xfde,0x41                                                                                      
003596   f041                                                                                                               
003598   cfde     MOVFF     0xfde,0x42                                                                                      
00359a   f042                                                                                                               
00359c   cfde     MOVFF     0xfde,0x43                                                                                      
00359e   f043                                                                                                               
0035a0   cfdd     MOVFF     0xfdd,0x44                                                                                      
0035a2   f044                                                                                                               
0035a4   52dd     MOVF      0xdd,0x1,0x0                                                                                    
0035a6   52dd     MOVF      0xdd,0x1,0x0                                                                                    
0035a8   ef50     GOTO      0x76a0                                                                                          
0035aa   f03b                                                                                                               
003688   c040     MOVFF     0x40,0x134                                                                                      
00368a   f134                                                                                                               
00368c   c041     MOVFF     0x41,0x135                                                                                      
00368e   f135                                                                                                               
003690   c042     MOVFF     0x42,0x136                                                                                      
003692   f136                                                                                                               
003694   c043     MOVFF     0x43,0x137                                                                                      
003696   f137                                                                                                               
003698   0012     RETURN    0x0                                                                                             
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026c8   d02f     BRA       0x2728             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Because we know Axis2 doesn't need to move, zero everything out         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026ca   0101     MOVLB     0x1                  gMoveTemp.m.sm.Rate[1].value = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026cc   6b34     CLRF      0x34,0x1                                                                                        
0026ce   6b35     CLRF      0x35,0x1                                                                                        
0026d0   6b36     CLRF      0x36,0x1                                                                                        
0026d2   6b37     CLRF      0x37,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026d4   d029     BRA       0x2728           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Axis2 is major, Axis1 is minor, other than that same as above             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026d6   ecbb     CALL      0x3376,0x0         gMoveTemp.m.sm.Rate[1].value = (INT32)((float)gHM_StepRate * 85899.34592f);  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026d8   f019                                                                                                               
0026da   ec44     CALL      0x3688,0x0                                                                                      
0026dc   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026de   0101     MOVLB     0x1                if (gSteps1 != 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026e0   ecd6     CALL      0x35ac,0x0                                                                                      
0026e2   f01a                                                                                                               
0026e4   e01c     BZ        0x271e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026e6   ec70     CALL      0x38e0,0x0           tempF = (float)gSteps1 * (float)gHM_StepRate;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026e8   f01c                                                                                                               
0026ea   ec63     CALL      0x32c6,0x0                                                                                      
0026ec   f019                                                                                                               
0026ee   ec67     CALL      0x38ce,0x0           tempF /= (float)gSteps2;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026f0   f01c                                                                                                               
0026f2   ec28     CALL      0x3250,0x0                                                                                      
0026f4   f019                                                                                                               
                                                 tempF *= 85899.34592f;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026f6   e104     BNZ       0x2700               if (tempF < 1.0f)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026f8   0101     MOVLB     0x1                    gMoveTemp.m.sm.Rate[0].value = 1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026fa   0e01     MOVLW     0x1                                                                                             
0026fc   6f30     MOVWF     0x30,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026fe   d011     BRA       0x2722               else if (tempF > 2147483647.0f)                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002700   eccb     CALL      0x3396,0x0                                                                                      
002702   f019                                                                                                               
002704   e107     BNZ       0x2714                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002706   0101     MOVLB     0x1                    gMoveTemp.m.sm.Rate[0].value = 2147483647u;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002708   6930     SETF      0x30,0x1                                                                                        
00270a   6931     SETF      0x31,0x1                                                                                        
00270c   6932     SETF      0x32,0x1                                                                                        
00270e   0e7f     MOVLW     0x7f                                                                                            
002710   6f33     MOVWF     0x33,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002712   d00a     BRA       0x2728               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002714   ecca     CALL      0x3594,0x0             gMoveTemp.m.sm.Rate[0].value = (INT32)tempF;                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002716   f01a                                                                                                               
002718   ec3b     CALL      0x3676,0x0                                                                                      
00271a   f01b                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00271c   d005     BRA       0x2728             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00271e   0101     MOVLB     0x1                  gMoveTemp.m.sm.Rate[0].value = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002720   6b30     CLRF      0x30,0x1                                                                                        
002722   6b31     CLRF      0x31,0x1                                                                                        
002724   6b32     CLRF      0x32,0x1                                                                                        
002726   6b33     CLRF      0x33,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002728   ecdb     CALL      0x39b6,0x0       gMoveTemp.m.sm.Steps[0] = gSteps1;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00272a   f01c                                                                                                               
0039b6   dda5     RCALL     0x3502                                                                                          
0039b8   0101     MOVLB     0x1              gMoveTemp.m.sm.Accel[0] = 0;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0039ba   6b48     CLRF      0x48,0x1                                                                                        
0039bc   6b49     CLRF      0x49,0x1                                                                                        
0039be   6b4a     CLRF      0x4a,0x1                                                                                        
0039c0   6b4b     CLRF      0x4b,0x1                                                                                        
0039c2   0012     RETURN    0x0                                                                                             
00272c   ec8a     CALL      0x3514,0x0       gMoveTemp.m.sm.Steps[1] = gSteps2;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00272e   f01a                                                                                                               
002730   ecb4     CALL      0x3768,0x0       gMoveTemp.m.sm.Accel[1] = 0;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002732   f01b                                                                                                               
003768   6b4c     CLRF      0x4c,0x1                                                                                        
00376a   6b4d     CLRF      0x4d,0x1                                                                                        
00376c   6b4e     CLRF      0x4e,0x1                                                                                        
00376e   6b4f     CLRF      0x4f,0x1                                                                                        
003770   0e05     MOVLW     0x5              gMoveTemp.Command = COMMAND_SM_XM_HM_MOVE;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003772   6f29     MOVWF     0x29,0x1                                                                                        
003774   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002734   aa09     BTFSS     0x9,0x5,0x0      if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_NUM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002736   d002     BRA       0x273c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002738   ec0e     CALL      0x381c,0x0         ebb_print((far rom char *)"R1=");                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00273a   f01c                                                                                                               
00381c   d9b7     RCALL     0x3b8c                                                                                          
00381e   dd42     RCALL     0x32a4             ebb_print_uint(gMoveTemp.m.sm.Rate[0].value);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003820   d941     RCALL     0x3aa4             ebb_print((far rom char *)" S1=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print_uint(gMoveTemp.m.sm.Steps[0]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003822   d9bb     RCALL     0x3b9a             ebb_print((far rom char *)" R2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003824   dd3f     RCALL     0x32a4             ebb_print_uint(gMoveTemp.m.sm.Rate[1].value);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003826   d94d     RCALL     0x3ac2             ebb_print((far rom char *)" S2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print_uint(gMoveTemp.m.sm.Steps[1]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003828   ef8f     GOTO      0x331e             print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00382a   f019                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Spin here until there's space in the FIFO                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00273c   5013     MOVF      0x13,0x0,0x0     while (gFIFOLength >= gCurrentFIFOLength)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00273e   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
002740   e2fd     BC        0x273c                                                                                          
                                             ;                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If the limit switch feature has triggered, then ignore this move command    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Maybe the limit switch has become true between the top of this function     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // and here? Better check for it.                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002742   b00e     BTFSC     0xe,0x0,0x0      if (!bittstzero(gLimitSwitchTriggered))                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002744   d005     BRA       0x2750                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Now, quick copy over the computed command data to the command FIFO        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002746   ecc3     CALL      0x3186,0x0         FIFOPtr[gFIFOIn] = gMoveTemp;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002748   f018                                                                                                               
                                               gFIFOIn++;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00274a   e301     BNC       0x274e             if (gFIFOIn >= gCurrentFIFOLength)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00274c   6a10     CLRF      0x10,0x0             gFIFOIn = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00274e   2a0f     INCF      0xf,0x1,0x0        gFIFOLength++;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002750   0e04     MOVLW     0x4            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002752   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002754   e202     BC        0x275a                                                                                          
002756   6ae1     CLRF      0xe1,0x0                                                                                        
002758   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00275a   ef80     GOTO      0x3300                                                                                          
00275c   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The X Stepper Motor command                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: XM,<move_duration>,<axisA_steps>,<axisB_steps><CR>                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <move_duration> an unsigned 32 bit value indicating the number of milliseconds this move should take D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <axisA_steps> and <axisB_stetsp> are signed 32 bit numbers                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This command differs from the normal "SM" command in that it is designed to drive 'mixed-axis' geometry D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // machines like H-Bot and CoreXY. Using XM will effectively call SM with Axis1 = <axisA_steps> + <axisB_steps> and D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Axis2 = <axisA_steps> - <axisB_steps>.                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Because of this, the caller must make sure that <axisA_steps> + <axisB_steps> and <axisA_steps> - <axisB_steps> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // do not overflow or underflow a 32 bit signed value.                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Temporary globals used in this function                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gXM_ASteps will be used for ASteps                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gXM_BSteps will be used for BSteps                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_XM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00275e   ec5c     CALL      0x38b8,0x0       clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002760   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kULONG, &gDurationMS, kREQUIRED);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002762   0ed9     MOVLW     0xd9             extract_number(kLONG, &gXM_ASteps, kREQUIRED);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002764   6ee6     MOVWF     0xe6,0x0                                                                                        
002766   0e01     MOVLW     0x1                                                                                             
002768   ec8a     CALL      0x3b14,0x0                                                                                      
00276a   f01d                                                                                                               
003804   6ee6     MOVWF     0xe6,0x0                                                                                        
003806   0e06     MOVLW     0x6                                                                                             
003808   dca9     RCALL     0x315c                                                                                          
00380a   6ae6     CLRF      0xe6,0x0         extract_number(kLONG, &gXM_BSteps, kREQUIRED);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00380c   0012     RETURN    0x0                                                                                             
                                             extract_number(kULONG, &gClearAccs, kOPTIONAL);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Do the math to convert to Axis1 and Axis2                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00276c   eccc     CALL      0x3798,0x0       gSteps1 = gXM_ASteps + gXM_BSteps;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00276e   f01b                                                                                                               
002770   0101     MOVLB     0x1                                                                                             
002772   51d9     MOVF      0xd9,0x0,0x1                                                                                    
002774   24ee     ADDWF     0xee,0x0,0x0                                                                                    
002776   6fd5     MOVWF     0xd5,0x1                                                                                        
002778   51da     MOVF      0xda,0x0,0x1                                                                                    
00277a   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
00277c   6fd6     MOVWF     0xd6,0x1                                                                                        
00277e   51db     MOVF      0xdb,0x0,0x1                                                                                    
002780   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
002782   6fd7     MOVWF     0xd7,0x1                                                                                        
002784   51dc     MOVF      0xdc,0x0,0x1                                                                                    
002786   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
002788   6fd8     MOVWF     0xd8,0x1                                                                                        
00278a   eccc     CALL      0x3798,0x0       gSteps2 = gXM_ASteps - gXM_BSteps;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00278c   f01b                                                                                                               
00278e   50ee     MOVF      0xee,0x0,0x0                                                                                    
002790   5dd9     SUBWF     0xd9,0x0,0x1                                                                                    
002792   6fe5     MOVWF     0xe5,0x1                                                                                        
002794   50ee     MOVF      0xee,0x0,0x0                                                                                    
002796   59da     SUBWFB    0xda,0x0,0x1                                                                                    
002798   6fe6     MOVWF     0xe6,0x1                                                                                        
00279a   50ee     MOVF      0xee,0x0,0x0                                                                                    
00279c   59db     SUBWFB    0xdb,0x0,0x1                                                                                    
00279e   6fe7     MOVWF     0xe7,0x1                                                                                        
0027a0   50ee     MOVF      0xee,0x0,0x0                                                                                    
0027a2   59dc     SUBWFB    0xdc,0x0,0x1                                                                                    
0027a4   6fe8     MOVWF     0xe8,0x1                                                                                        
003798   0ee9     MOVLW     0xe9                                                                                            
00379a   6ee9     MOVWF     0xe9,0x0                                                                                        
00379c   0e01     MOVLW     0x1                                                                                             
00379e   6eea     MOVWF     0xea,0x0                                                                                        
0037a0   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Input parameters: gDurationMS, gSteps1, gSteps2, gClearAccs                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027a6   d802     RCALL     0x27ac           process_simple_motor_move_fp();                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027a8   ef87     GOTO      0x330e           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027aa   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Main stepper move function. This is the reason EBB exists.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Duration> is a 32 bit unsigned int, the number of mS that the move should take D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <A1Stp> and <A2Stp> are the Axis 1 and Axis 2 number of steps to take in      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  <Duration> mS, as 32 bit signed values, where the sign determines the motor  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  direction.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> clears the accumulators (both if 3, none if 0)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This function waits until there is room in the FIFO before placing            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // the data in the FIFO.                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Duration>, <A1Stp> and <A2Stp> can accept any values. However, if a step     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // rate of more than 25kHz is asked for, it will be capped at 25kHz. And if      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // a step rate of less than 0.00001164 Hz it will be set to 0.00001164 Hz.       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that if used as a delay, the duration value is capped at 100000ms.       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Because we are now using global values to pass in parameters to this          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // function, and because this function will modify the values 'passed in' to it  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // the caller should make copies of any parameter values that it requires        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // after the call.                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This function uses these as input parameters:                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gTmpDurationMS    UINT32 not modified                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gTmpSteps1        INT32  modified                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gTmpSteps2        INT32  modified                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gTmpClearAccs     UINT32 modified                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Working values:                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gTmpIntervals     UINT32 modified                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027ac   ecc2     CALL      0x3984,0x0     static void process_simple_motor_move_fp(void)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027ae   f01c                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             float tempF;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If we have a triggered limit switch, then ignore this move command          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027b0   b00e     BTFSC     0xe,0x0,0x0      if (bittstzero(gLimitSwitchTriggered))                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027b2   d100     BRA       0x29b4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027b4   aa09     BTFSS     0x9,0x5,0x0      if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_NUM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027b6   d01b     BRA       0x27ee                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027b8   0e42     MOVLW     0x42               ebb_print((far rom char *)"Duration=");                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027ba   6e4e     MOVWF     0x4e,0x0                                                                                        
0027bc   0e81     MOVLW     0x81                                                                                            
0027be   ecb4     CALL      0x3168,0x0                                                                                      
0027c0   f018                                                                                                               
0027c2   c1c5     MOVFF     0x1c5,0xfe6        ebb_print_uint(gDurationMS);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027c4   ffe6                                                                                                               
0027c6   c1c6     MOVFF     0x1c6,0xfe6                                                                                     
0027c8   ffe6                                                                                                               
0027ca   c1c7     MOVFF     0x1c7,0xfe6                                                                                     
0027cc   ffe6                                                                                                               
0027ce   c1c8     MOVFF     0x1c8,0xfe6                                                                                     
0027d0   ffe6                                                                                                               
0027d2   ec52     CALL      0x32a4,0x0                                                                                      
0027d4   f019                                                                                                               
0027d6   0e3c     MOVLW     0x3c               ebb_print((far rom char *)" SA1=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027d8   6e4e     MOVWF     0x4e,0x0                                                                                        
0027da   0e81     MOVLW     0x81                                                                                            
0027dc   ecb4     CALL      0x3168,0x0                                                                                      
0027de   f018                                                                                                               
0027e0   ec6e     CALL      0x34dc,0x0         ebb_print_int(gSteps1);                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027e2   f01a                                                                                                               
0027e4   0e36     MOVLW     0x36               ebb_print((far rom char *)" SA2=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027e6   6e4e     MOVWF     0x4e,0x0                                                                                        
0027e8   0e81     MOVLW     0x81                                                                                            
0027ea   ec70     CALL      0x3ae0,0x0                                                                                      
0027ec   f01d                                                                                                               
                                               ebb_print_int(gSteps2);                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027ee   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027f0   51c2     MOVF      0xc2,0x0,0x1                                                                                    
0027f2   e010     BZ        0x2814                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Check for invalid duration                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027f4   51c5     MOVF      0xc5,0x0,0x1       if (gDurationMS == 0u)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027f6   11c6     IORWF     0xc6,0x0,0x1                                                                                    
0027f8   11c7     IORWF     0xc7,0x0,0x1                                                                                    
0027fa   11c8     IORWF     0xc8,0x0,0x1                                                                                    
0027fc   e102     BNZ       0x2802                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027fe   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002800   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002802   ecf7     CALL      0x35ee,0x0         if (gClearAccs > 3u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002804   f01a                                                                                                               
002806   e202     BC        0x280c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002808   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00280a   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00280c   0104     MOVLB     0x4                if (error_byte)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00280e   5184     MOVF      0x84,0x0,0x1                                                                                    
002810   e001     BZ        0x2814                                                                                          
002812   d0d0     BRA       0x29b4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002814   c1cd     MOVFF     0x1cd,0x12f      gMoveTemp.m.sm.SEState = (UINT8)gClearAccs;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002816   f12f                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Check for delay                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002818   0101     MOVLB     0x1              if (gSteps1 == 0 && gSteps2 == 0)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00281a   ecd6     CALL      0x35ac,0x0                                                                                      
00281c   f01a                                                                                                               
00281e   e131     BNZ       0x2882                                                                                          
002820   ecdb     CALL      0x35b6,0x0                                                                                      
002822   f01a                                                                                                               
002824   e12e     BNZ       0x2882                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002826   0101     MOVLB     0x1                gMoveTemp.Command = COMMAND_DELAY;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002828   0e01     MOVLW     0x1                                                                                             
00282a   6f29     MOVWF     0x29,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Delays over 100000ms long are capped at 100000ms.                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00282c   0ea0     MOVLW     0xa0               if (gDurationMS >= 100000u)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00282e   0101     MOVLB     0x1                                                                                             
002830   5dc5     SUBWF     0xc5,0x0,0x1                                                                                    
002832   0e86     MOVLW     0x86                                                                                            
002834   59c6     SUBWFB    0xc6,0x0,0x1                                                                                    
002836   0e01     MOVLW     0x1                                                                                             
002838   59c7     SUBWFB    0xc7,0x0,0x1                                                                                    
00283a   0e00     MOVLW     0x0                                                                                             
00283c   59c8     SUBWFB    0xc8,0x0,0x1                                                                                    
00283e   e307     BNC       0x284e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002840   0ea0     MOVLW     0xa0                 gDurationMS = 100000u;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002842   6fc5     MOVWF     0xc5,0x1                                                                                        
002844   0e86     MOVLW     0x86                                                                                            
002846   6fc6     MOVWF     0xc6,0x1                                                                                        
002848   0e01     MOVLW     0x1                                                                                             
00284a   6fc7     MOVWF     0xc7,0x1                                                                                        
00284c   6bc8     CLRF      0xc8,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00284e   c1c5     MOVFF     0x1c5,0x12b        gMoveTemp.m.sm.DelayCounter = HIGH_ISR_TICKS_PER_MS * gDurationMS;           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002850   f12b                                                                                                               
002852   c1c6     MOVFF     0x1c6,0x12c                                                                                     
002854   f12c                                                                                                               
002856   c1c7     MOVFF     0x1c7,0x12d                                                                                     
002858   f12d                                                                                                               
00285a   c1c8     MOVFF     0x1c8,0x12e                                                                                     
00285c   f12e                                                                                                               
00285e   0e19     MOVLW     0x19                                                                                            
002860   6e45     MOVWF     0x45,0x0                                                                                        
002862   6a46     CLRF      0x46,0x0                                                                                        
002864   6a47     CLRF      0x47,0x0                                                                                        
002866   6a48     CLRF      0x48,0x0                                                                                        
002868   ec4d     CALL      0x369a,0x0                                                                                      
00286a   f01b                                                                                                               
00286c   ecc3     CALL      0x8d86,0x0                                                                                      
00286e   f046                                                                                                               
002870   c03c     MOVFF     0x3c,0x12b                                                                                      
002872   f12b                                                                                                               
002874   c03d     MOVFF     0x3d,0x12c                                                                                      
002876   f12c                                                                                                               
002878   c03e     MOVFF     0x3e,0x12d                                                                                      
00287a   f12d                                                                                                               
00287c   c03f     MOVFF     0x3f,0x12e                                                                                      
00287e   f12e                                                                                                               
00369a   c1c5     MOVFF     0x1c5,0x40                                                                                      
00369c   f040                                                                                                               
00369e   c1c6     MOVFF     0x1c6,0x41                                                                                      
0036a0   f041                                                                                                               
0036a2   c1c7     MOVFF     0x1c7,0x42                                                                                      
0036a4   f042                                                                                                               
0036a6   c1c8     MOVFF     0x1c8,0x43                                                                                      
0036a8   f043                                                                                                               
0036aa   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002880   d08d     BRA       0x299c           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002882   ec32     CALL      0x3664,0x0         gMoveTemp.m.sm.DelayCounter = 0; // No delay for motor moves                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002884   f01b                                                                                                               
                                               gMoveTemp.m.sm.DirBits = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002886   e102     BNZ       0x288c             if (gAutomaticMotorEnable == TRUE)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Enable both motors when we want to move them                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002888   908d     BCF       0x8d,0x0,0x0         Enable1IO = ENABLE_MOTOR;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00288a   928b     BCF       0x8b,0x1,0x0         Enable2IO = ENABLE_MOTOR;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // First, set the direction bits                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00288c   0101     MOVLB     0x1                if (gSteps1 < 0)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00288e   0e80     MOVLW     0x80                                                                                            
002890   15d8     ANDWF     0xd8,0x0,0x1                                                                                    
002892   e002     BZ        0x2898                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002894   ecba     CALL      0x3574,0x0           gMoveTemp.m.sm.DirBits = gMoveTemp.m.sm.DirBits | DIR1_BIT;                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002896   f01a                                                                                                               
                                                 gSteps1 = -gSteps1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002898   0e80     MOVLW     0x80               if (gSteps2 < 0)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00289a   15e8     ANDWF     0xe8,0x0,0x1                                                                                    
00289c   e002     BZ        0x28a2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00289e   ecc2     CALL      0x3584,0x0           gMoveTemp.m.sm.DirBits = gMoveTemp.m.sm.DirBits | DIR2_BIT;                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028a0   f01a                                                                                                               
                                                 gSteps2 = -gSteps2;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // As an optimization, pre-compute the common term used for both axes        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028a2   0e0a     MOVLW     0xa                tempF = 85899345.92f / (float)gDurationMS;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028a4   6e4e     MOVWF     0x4e,0x0                                                                                        
0028a6   0ed7     MOVLW     0xd7                                                                                            
0028a8   6e4f     MOVWF     0x4f,0x0                                                                                        
0028aa   0ea3     MOVLW     0xa3                                                                                            
0028ac   6e50     MOVWF     0x50,0x0                                                                                        
0028ae   0e4c     MOVLW     0x4c                                                                                            
0028b0   6e51     MOVWF     0x51,0x0                                                                                        
0028b2   ec4d     CALL      0x369a,0x0                                                                                      
0028b4   f01b                                                                                                               
0028b6   ec26     CALL      0x384c,0x0                                                                                      
0028b8   f01c                                                                                                               
0028ba   ec5c     CALL      0x74b8,0x0                                                                                      
0028bc   f03a                                                                                                               
0028be   ec94     CALL      0x3928,0x0                                                                                      
0028c0   f01c                                                                                                               
00384c   ec41     CALL      0x7482,0x0                                                                                      
00384e   f03a                                                                                                               
003850   c041     MOVFF     0x41,0x52                                                                                       
003852   f052                                                                                                               
003854   c042     MOVFF     0x42,0x53                                                                                       
003856   f053                                                                                                               
003858   c043     MOVFF     0x43,0x54                                                                                       
00385a   f054                                                                                                               
00385c   c044     MOVFF     0x44,0x55                                                                                       
00385e   f055                                                                                                               
003860   c041     MOVFF     0x41,0x46                                                                                       
003862   f046                                                                                                               
003864   c042     MOVFF     0x42,0x47                                                                                       
003866   f047                                                                                                               
003868   c043     MOVFF     0x43,0x48                                                                                       
00386a   f048                                                                                                               
00386c   c044     MOVFF     0x44,0x49                                                                                       
00386e   f049                                                                                                               
003870   d161     BRA       0x3b34                                                                                          
003928   c041     MOVFF     0x41,0xfde                                                                                      
00392a   ffde                                                                                                               
00392c   c042     MOVFF     0x42,0xfde                                                                                      
00392e   ffde                                                                                                               
003930   c043     MOVFF     0x43,0xfde                                                                                      
003932   ffde                                                                                                               
003934   c044     MOVFF     0x44,0xfdd                                                                                      
003936   ffdd                                                                                                               
003938   52dd     MOVF      0xdd,0x1,0x0                                                                                    
00393a   52dd     MOVF      0xdd,0x1,0x0                                                                                    
00393c   0012     RETURN    0x0                                                                                             
003b34   c04e     MOVFF     0x4e,0x41                                                                                       
003b36   f041                                                                                                               
003b38   c04f     MOVFF     0x4f,0x42                                                                                       
003b3a   f042                                                                                                               
003b3c   c050     MOVFF     0x50,0x43                                                                                       
003b3e   f043                                                                                                               
003b40   c051     MOVFF     0x51,0x44                                                                                       
003b42   f044                                                                                                               
003b44   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028c2   0101     MOVLB     0x1                if (gSteps1 != 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028c4   ecd6     CALL      0x35ac,0x0                                                                                      
0028c6   f01a                                                                                                               
0028c8   e027     BZ        0x2918                                                                                          
0035ac   51d5     MOVF      0xd5,0x0,0x1                                                                                    
0035ae   11d6     IORWF     0xd6,0x0,0x1                                                                                    
0035b0   11d7     IORWF     0xd7,0x0,0x1                                                                                    
0035b2   11d8     IORWF     0xd8,0x0,0x1                                                                                    
0035b4   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // We need the Rate values for the ISR. We have the duration and the       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // number of steps. Use the formula:                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // rate = (steps/duration)*85899.34592                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Rearranging a bit, we can also use:                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // rate = steps * ((85899.34592 * 1000)/duration)                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028ca   ec70     CALL      0x38e0,0x0           gIntervals = (UINT32)((float)(gSteps1) * tempF);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028cc   f01c                                                                                                               
0028ce   ec96     CALL      0x332c,0x0                                                                                      
0028d0   f019                                                                                                               
00332c   ec43     CALL      0x7486,0x0                                                                                      
00332e   f03a                                                                                                               
003330   0e00     MOVLW     0x0                                                                                             
003332   cfdf     MOVFF     0xfdf,0x46                                                                                      
003334   f046                                                                                                               
003336   0e01     MOVLW     0x1                                                                                             
003338   cfdb     MOVFF     0xfdb,0x47                                                                                      
00333a   f047                                                                                                               
00333c   0e02     MOVLW     0x2                                                                                             
00333e   cfdb     MOVFF     0xfdb,0x48                                                                                      
003340   f048                                                                                                               
003342   0e03     MOVLW     0x3                                                                                             
003344   cfdb     MOVFF     0xfdb,0x49                                                                                      
003346   f049                                                                                                               
003348   ecaf     CALL      0x755e,0x0                                                                                      
00334a   f03a                                                                                                               
00334c   ec50     CALL      0x76a0,0x0                                                                                      
00334e   f03b                                                                                                               
003350   c040     MOVFF     0x40,0x1c9                                                                                      
003352   f1c9                                                                                                               
003354   c041     MOVFF     0x41,0x1ca                                                                                      
003356   f1ca                                                                                                               
003358   c042     MOVFF     0x42,0x1cb                                                                                      
00335a   f1cb                                                                                                               
00335c   c043     MOVFF     0x43,0x1cc                                                                                      
00335e   f1cc                                                                                                               
0038e0   c1d5     MOVFF     0x1d5,0x40                                                                                      
0038e2   f040                                                                                                               
0038e4   c1d6     MOVFF     0x1d6,0x41                                                                                      
0038e6   f041                                                                                                               
0038e8   c1d7     MOVFF     0x1d7,0x42                                                                                      
0038ea   f042                                                                                                               
0038ec   c1d8     MOVFF     0x1d8,0x43                                                                                      
0038ee   f043                                                                                                               
0038f0   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028d2   e20b     BC        0x28ea               if (gIntervals > 0x80000000u)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003360   80d8     BSF       0xd8,0x0,0x0                                                                                    
003362   0e00     MOVLW     0x0                                                                                             
003364   0101     MOVLB     0x1                                                                                             
003366   5440     SUBFWB    0x40,0x0,0x0                                                                                    
003368   0e00     MOVLW     0x0                                                                                             
00336a   5441     SUBFWB    0x41,0x0,0x0                                                                                    
00336c   0e00     MOVLW     0x0                                                                                             
00336e   5442     SUBFWB    0x42,0x0,0x0                                                                                    
003370   0e80     MOVLW     0x80                                                                                            
003372   5443     SUBFWB    0x43,0x0,0x0                                                                                    
003374   0012     RETURN    0x0                                                                                             
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028d4   51c2     MOVF      0xc2,0x0,0x1           if (gLimitChecks)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028d6   e004     BZ        0x28e0                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028d8   0e12     MOVLW     0x12                     ebb_print((far rom char *)"!0 Err: <axis1> step rate too high.");      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028da   6e4e     MOVWF     0x4e,0x0                                                                                        
0028dc   0e81     MOVLW     0x81                                                                                            
                                                     print_line_ending(kLE_REV);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028de   d03f     BRA       0x295e                   return;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028e0   6bc9     CLRF      0xc9,0x1               gIntervals = 0x80000000;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028e2   6bca     CLRF      0xca,0x1                                                                                        
0028e4   6bcb     CLRF      0xcb,0x1                                                                                        
0028e6   0e80     MOVLW     0x80                                                                                            
0028e8   6fcc     MOVWF     0xcc,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028ea   ec12     CALL      0x3624,0x0           if (gIntervals == 0u)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028ec   f01b                                                                                                               
0028ee   e10b     BNZ       0x2906                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028f0   51c2     MOVF      0xc2,0x0,0x1           if (gLimitChecks)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028f2   e004     BZ        0x28fc                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028f4   0eee     MOVLW     0xee                     ebb_print((far rom char *)"!0 Err: <axis1> step rate too slow.");      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028f6   6e4e     MOVWF     0x4e,0x0                                                                                        
0028f8   0e80     MOVLW     0x80                                                                                            
                                                     print_line_ending(kLE_REV);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028fa   d031     BRA       0x295e                   return;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028fc   0e01     MOVLW     0x1                    gIntervals = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028fe   6fc9     MOVWF     0xc9,0x1                                                                                        
002900   6bca     CLRF      0xca,0x1                                                                                        
002902   6bcb     CLRF      0xcb,0x1                                                                                        
002904   6bcc     CLRF      0xcc,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002906   c1c9     MOVFF     0x1c9,0x130          gMoveTemp.m.sm.Rate[0].value = gIntervals;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002908   f130                                                                                                               
00290a   c1ca     MOVFF     0x1ca,0x131                                                                                     
00290c   f131                                                                                                               
00290e   c1cb     MOVFF     0x1cb,0x132                                                                                     
002910   f132                                                                                                               
002912   c1cc     MOVFF     0x1cc,0x133                                                                                     
002914   f133                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002916   d005     BRA       0x2922             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002918   0101     MOVLB     0x1                  gMoveTemp.m.sm.Rate[0].value = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00291a   6b30     CLRF      0x30,0x1                                                                                        
00291c   6b31     CLRF      0x31,0x1                                                                                        
00291e   6b32     CLRF      0x32,0x1                                                                                        
002920   6b33     CLRF      0x33,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002922   ecdb     CALL      0x39b6,0x0         gMoveTemp.m.sm.Steps[0] = (UINT32)gSteps1;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002924   f01c                                                                                                               
003502   c1d5     MOVFF     0x1d5,0x138                                                                                     
003504   f138                                                                                                               
003506   c1d6     MOVFF     0x1d6,0x139                                                                                     
003508   f139                                                                                                               
00350a   c1d7     MOVFF     0x1d7,0x13a                                                                                     
00350c   f13a                                                                                                               
00350e   c1d8     MOVFF     0x1d8,0x13b                                                                                     
003510   f13b                                                                                                               
003512   0012     RETURN    0x0                                                                                             
                                               gMoveTemp.m.sm.Accel[0] = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002926   0101     MOVLB     0x1                if (gSteps2 != 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002928   ecdb     CALL      0x35b6,0x0                                                                                      
00292a   f01a                                                                                                               
00292c   e029     BZ        0x2980                                                                                          
0035b6   51e5     MOVF      0xe5,0x0,0x1                                                                                    
0035b8   11e6     IORWF     0xe6,0x0,0x1                                                                                    
0035ba   11e7     IORWF     0xe7,0x0,0x1                                                                                    
0035bc   11e8     IORWF     0xe8,0x0,0x1                                                                                    
0035be   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00292e   ec67     CALL      0x38ce,0x0           gIntervals = (UINT32)((float)(gSteps2) * tempF);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002930   f01c                                                                                                               
002932   ec96     CALL      0x332c,0x0                                                                                      
002934   f019                                                                                                               
0038ce   c1e5     MOVFF     0x1e5,0x40                                                                                      
0038d0   f040                                                                                                               
0038d2   c1e6     MOVFF     0x1e6,0x41                                                                                      
0038d4   f041                                                                                                               
0038d6   c1e7     MOVFF     0x1e7,0x42                                                                                      
0038d8   f042                                                                                                               
0038da   c1e8     MOVFF     0x1e8,0x43                                                                                      
0038dc   f043                                                                                                               
0038de   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002936   e20b     BC        0x294e               if (gIntervals > 0x80000000u)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002938   51c2     MOVF      0xc2,0x0,0x1           if (gLimitChecks)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00293a   e004     BZ        0x2944                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00293c   0eca     MOVLW     0xca                     ebb_print((far rom char *)"!0 Err: <axis2> step rate too high.");      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00293e   6e4e     MOVWF     0x4e,0x0                                                                                        
002940   0e80     MOVLW     0x80                                                                                            
                                                     print_line_ending(kLE_REV);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002942   d00d     BRA       0x295e                   return;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002944   6bc9     CLRF      0xc9,0x1               gIntervals = 0x80000000;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002946   6bca     CLRF      0xca,0x1                                                                                        
002948   6bcb     CLRF      0xcb,0x1                                                                                        
00294a   0e80     MOVLW     0x80                                                                                            
00294c   6fcc     MOVWF     0xcc,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00294e   ec12     CALL      0x3624,0x0           if (gIntervals == 0u)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002950   f01b                                                                                                               
002952   e10d     BNZ       0x296e                                                                                          
003624   51c9     MOVF      0xc9,0x0,0x1                                                                                    
003626   11ca     IORWF     0xca,0x0,0x1                                                                                    
003628   11cb     IORWF     0xcb,0x0,0x1                                                                                    
00362a   11cc     IORWF     0xcc,0x0,0x1                                                                                    
00362c   0012     RETURN    0x0                                                                                             
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002954   51c2     MOVF      0xc2,0x0,0x1           if (gLimitChecks)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002956   e006     BZ        0x2964                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002958   0ea6     MOVLW     0xa6                     ebb_print((far rom char *)"!0 Err: <axis2> step rate too slow.");      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00295a   6e4e     MOVWF     0x4e,0x0                                                                                        
00295c   0e80     MOVLW     0x80                                                                                            
00295e   ec0f     CALL      0x3a1e,0x0                                                                                      
002960   f01d                                                                                                               
003a1e   ecb4     CALL      0x3168,0x0                                                                                      
003a20   f018                                                                                                               
003a22   ef8f     GOTO      0x331e                   print_line_ending(kLE_REV);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a24   f019                                                                                                               
002962   d028     BRA       0x29b4                   return;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002964   0e01     MOVLW     0x1                    gIntervals = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002966   6fc9     MOVWF     0xc9,0x1                                                                                        
002968   6bca     CLRF      0xca,0x1                                                                                        
00296a   6bcb     CLRF      0xcb,0x1                                                                                        
00296c   6bcc     CLRF      0xcc,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00296e   c1c9     MOVFF     0x1c9,0x134          gMoveTemp.m.sm.Rate[1].value = gIntervals;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002970   f134                                                                                                               
002972   c1ca     MOVFF     0x1ca,0x135                                                                                     
002974   f135                                                                                                               
002976   c1cb     MOVFF     0x1cb,0x136                                                                                     
002978   f136                                                                                                               
00297a   c1cc     MOVFF     0x1cc,0x137                                                                                     
00297c   f137                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00297e   d005     BRA       0x298a             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002980   0101     MOVLB     0x1                  gMoveTemp.m.sm.Rate[1].value = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002982   6b34     CLRF      0x34,0x1                                                                                        
002984   6b35     CLRF      0x35,0x1                                                                                        
002986   6b36     CLRF      0x36,0x1                                                                                        
002988   6b37     CLRF      0x37,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00298a   ec8a     CALL      0x3514,0x0         gMoveTemp.m.sm.Steps[1] = (UINT32)gSteps2;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00298c   f01a                                                                                                               
003514   c1e5     MOVFF     0x1e5,0x13c                                                                                     
003516   f13c                                                                                                               
003518   c1e6     MOVFF     0x1e6,0x13d                                                                                     
00351a   f13d                                                                                                               
00351c   c1e7     MOVFF     0x1e7,0x13e                                                                                     
00351e   f13e                                                                                                               
003520   c1e8     MOVFF     0x1e8,0x13f                                                                                     
003522   f13f                                                                                                               
003524   0012     RETURN    0x0                                                                                             
00298e   0101     MOVLB     0x1                gMoveTemp.m.sm.Accel[1] = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002990   ecb4     CALL      0x3768,0x0                                                                                      
002992   f01b                                                                                                               
                                               gMoveTemp.Command = COMMAND_SM_XM_HM_MOVE;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002994   aa09     BTFSS     0x9,0x5,0x0        if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_NUM))                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002996   d002     BRA       0x299c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002998   ec0e     CALL      0x381c,0x0           ebb_print((far rom char *)"R1=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00299a   f01c                                                                                                               
003168   6e4f     MOVWF     0x4f,0x0                                                                                        
00316a   6a50     CLRF      0x50,0x0                                                                                        
00316c   c04e     MOVFF     0x4e,0xfe6                                                                                      
00316e   ffe6                                                                                                               
003170   6ee6     MOVWF     0xe6,0x0                                                                                        
003172   c050     MOVFF     0x50,0xfe6                                                                                      
003174   ffe6                                                                                                               
003176   ecd2     CALL      0x83a4,0x0                                                                                      
003178   f041                                                                                                               
00317a   ef96     GOTO      0x3b2c                                                                                          
00317c   f01d                                                                                                               
003526   c130     MOVFF     0x130,0xfe6          ebb_print_uint(gMoveTemp.m.sm.Rate[0].value);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003528   ffe6                                                                                                               
00352a   c131     MOVFF     0x131,0xfe6                                                                                     
00352c   ffe6                                                                                                               
00352e   c132     MOVFF     0x132,0xfe6                                                                                     
003530   ffe6                                                                                                               
003532   c133     MOVFF     0x133,0xfe6                                                                                     
003534   ffe6                                                                                                               
003536   0012     RETURN    0x0                                                                                             
                                                 ebb_print((far rom char *)" S1=");                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 ebb_print_uint(gMoveTemp.m.sm.Steps[0]);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 ebb_print((far rom char *)" R2=");                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003538   c134     MOVFF     0x134,0xfe6          ebb_print_uint(gMoveTemp.m.sm.Rate[1].value);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00353a   ffe6                                                                                                               
00353c   c135     MOVFF     0x135,0xfe6                                                                                     
00353e   ffe6                                                                                                               
003540   c136     MOVFF     0x136,0xfe6                                                                                     
003542   ffe6                                                                                                               
003544   c137     MOVFF     0x137,0xfe6                                                                                     
003546   ffe6                                                                                                               
003548   0012     RETURN    0x0                                                                                             
                                                 ebb_print((far rom char *)" S2=");                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 ebb_print_uint(gMoveTemp.m.sm.Steps[1]);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 print_line_ending(kLE_REV);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00299c   bc09     BTFSC     0x9,0x6,0x0      if (!bittst(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM))                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00299e   d00a     BRA       0x29b4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Spin here until there's space in the FIFO                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029a0   5013     MOVF      0x13,0x0,0x0       while(gFIFOLength >= gCurrentFIFOLength)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029a2   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
0029a4   e2fd     BC        0x29a0                                                                                          
                                               ;                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // If the limit switch feature has triggered, then ignore this move command  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Maybe the limit switch has become true between the top of this function   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // and here? Better check for it.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029a6   b00e     BTFSC     0xe,0x0,0x0        if (!bittstzero(gLimitSwitchTriggered))                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029a8   d005     BRA       0x29b4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Now, quick copy over the computed command data to the command FIFO      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029aa   ecc3     CALL      0x3186,0x0           FIFOPtr[gFIFOIn] = gMoveTemp;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029ac   f018                                                                                                               
003186   5010     MOVF      0x10,0x0,0x0                                                                                    
003188   ecbd     CALL      0x3b7a,0x0                                                                                      
00318a   f01d                                                                                                               
00318c   c129     MOVFF     0x129,0xfee                                                                                     
00318e   ffee                                                                                                               
003190   c12a     MOVFF     0x12a,0xfee                                                                                     
003192   ffee                                                                                                               
003194   c12b     MOVFF     0x12b,0xfee                                                                                     
003196   ffee                                                                                                               
003198   c12c     MOVFF     0x12c,0xfee                                                                                     
00319a   ffee                                                                                                               
00319c   c12d     MOVFF     0x12d,0xfee                                                                                     
00319e   ffee                                                                                                               
0031a0   c12e     MOVFF     0x12e,0xfee                                                                                     
0031a2   ffee                                                                                                               
0031a4   c12f     MOVFF     0x12f,0xfee                                                                                     
0031a6   ffee                                                                                                               
0031a8   c130     MOVFF     0x130,0xfee                                                                                     
0031aa   ffee                                                                                                               
0031ac   c131     MOVFF     0x131,0xfee                                                                                     
0031ae   ffee                                                                                                               
0031b0   c132     MOVFF     0x132,0xfee                                                                                     
0031b2   ffee                                                                                                               
0031b4   c133     MOVFF     0x133,0xfee                                                                                     
0031b6   ffee                                                                                                               
0031b8   c134     MOVFF     0x134,0xfee                                                                                     
0031ba   ffee                                                                                                               
0031bc   c135     MOVFF     0x135,0xfee                                                                                     
0031be   ffee                                                                                                               
0031c0   c136     MOVFF     0x136,0xfee                                                                                     
0031c2   ffee                                                                                                               
0031c4   c137     MOVFF     0x137,0xfee                                                                                     
0031c6   ffee                                                                                                               
0031c8   c138     MOVFF     0x138,0xfee                                                                                     
0031ca   ffee                                                                                                               
0031cc   c139     MOVFF     0x139,0xfee                                                                                     
0031ce   ffee                                                                                                               
0031d0   c13a     MOVFF     0x13a,0xfee                                                                                     
0031d2   ffee                                                                                                               
0031d4   c13b     MOVFF     0x13b,0xfee                                                                                     
0031d6   ffee                                                                                                               
0031d8   c13c     MOVFF     0x13c,0xfee                                                                                     
0031da   ffee                                                                                                               
0031dc   c13d     MOVFF     0x13d,0xfee                                                                                     
0031de   ffee                                                                                                               
0031e0   c13e     MOVFF     0x13e,0xfee                                                                                     
0031e2   ffee                                                                                                               
0031e4   c13f     MOVFF     0x13f,0xfee                                                                                     
0031e6   ffee                                                                                                               
0031e8   c140     MOVFF     0x140,0xfee                                                                                     
0031ea   ffee                                                                                                               
0031ec   c141     MOVFF     0x141,0xfee                                                                                     
0031ee   ffee                                                                                                               
0031f0   c142     MOVFF     0x142,0xfee                                                                                     
0031f2   ffee                                                                                                               
0031f4   c143     MOVFF     0x143,0xfee                                                                                     
0031f6   ffee                                                                                                               
0031f8   c144     MOVFF     0x144,0xfee                                                                                     
0031fa   ffee                                                                                                               
0031fc   c145     MOVFF     0x145,0xfee                                                                                     
0031fe   ffee                                                                                                               
003200   c146     MOVFF     0x146,0xfee                                                                                     
003202   ffee                                                                                                               
003204   c147     MOVFF     0x147,0xfee                                                                                     
003206   ffee                                                                                                               
003208   c148     MOVFF     0x148,0xfee                                                                                     
00320a   ffee                                                                                                               
00320c   c149     MOVFF     0x149,0xfee                                                                                     
00320e   ffee                                                                                                               
003210   c14a     MOVFF     0x14a,0xfee                                                                                     
003212   ffee                                                                                                               
003214   c14b     MOVFF     0x14b,0xfee                                                                                     
003216   ffee                                                                                                               
003218   c14c     MOVFF     0x14c,0xfee                                                                                     
00321a   ffee                                                                                                               
00321c   c14d     MOVFF     0x14d,0xfee                                                                                     
00321e   ffee                                                                                                               
003220   c14e     MOVFF     0x14e,0xfee                                                                                     
003222   ffee                                                                                                               
003224   c14f     MOVFF     0x14f,0xfee                                                                                     
003226   ffee                                                                                                               
003228   c150     MOVFF     0x150,0xfee                                                                                     
00322a   ffee                                                                                                               
00322c   c151     MOVFF     0x151,0xfee                                                                                     
00322e   ffee                                                                                                               
003230   c152     MOVFF     0x152,0xfee                                                                                     
003232   ffee                                                                                                               
003234   c153     MOVFF     0x153,0xfee                                                                                     
003236   ffee                                                                                                               
003238   c154     MOVFF     0x154,0xfee                                                                                     
00323a   ffee                                                                                                               
00323c   c155     MOVFF     0x155,0xfee                                                                                     
00323e   ffee                                                                                                               
003240   c156     MOVFF     0x156,0xfee                                                                                     
003242   ffee                                                                                                               
003244   c157     MOVFF     0x157,0xfee                                                                                     
003246   ffee                                                                                                               
003248   2a10     INCF      0x10,0x1,0x0         gFIFOIn++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029ae   e301     BNC       0x29b2               if (gFIFOIn >= gCurrentFIFOLength)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00324a   5013     MOVF      0x13,0x0,0x0                                                                                    
00324c   5c10     SUBWF     0x10,0x0,0x0                                                                                    
00324e   0012     RETURN    0x0                                                                                             
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029b0   6a10     CLRF      0x10,0x0               gFIFOIn = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029b2   2a0f     INCF      0xf,0x1,0x0          gFIFOLength++;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029b4   0e04     MOVLW     0x4            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029b6   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0029b8   e202     BC        0x29be                                                                                          
0029ba   6ae1     CLRF      0xe1,0x0                                                                                        
0029bc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0029be   ef80     GOTO      0x3300                                                                                          
0029c0   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // E-Stop                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: ES,<disable_motors><CR>                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: <command_interrupted><CR>OK<CR>                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This command will abort any in-progress motor move command.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // It will also clear out any pending command(s) in the FIFO.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <disable_motors> This parameter is optional. If present, and if it is a 1,    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  then both stepper drivers will be disabled as part of the command. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  If this parameter is not present or is not equal to 1, then  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  the motors will not be disabled. (added in v2.8.0)           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <command_interrupted> = 0 if no FIFO or in-progress move commands were interrupted, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                         1 if a motor move command was in progress or in the FIFO D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029c2   ec82     CALL      0x3304,0x0     void parse_ES_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029c4   f019                                                                                                               
0029c6   0e03     MOVLW     0x3                                                                                             
0029c8   ec87     CALL      0x390e,0x0                                                                                      
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029ca   f01c                                UINT8 disable_motors = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 command_interrupted = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the value.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029cc   ecbb     CALL      0x3776,0x0       extract_number(kUCHAR, &disable_motors, kOPTIONAL);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029ce   f01b                                                                                                               
0029d0   dbc5     RCALL     0x315c                                                                                          
003776   0e01     MOVLW     0x1                                                                                             
003778   6ee6     MOVWF     0xe6,0x0                                                                                        
00377a   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
00377c   ffe6                                                                                                               
00377e   cfda     MOVFF     0xfda,0xfe6                                                                                     
003780   ffe6                                                                                                               
003782   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029d2   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029d4   5184     MOVF      0x84,0x0,0x1                                                                                    
0029d6   e13c     BNZ       0x2a50                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Need to turn off high priority interrupts briefly here to mess with ISR command parameters D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029d8   9ef2     BCF       0xf2,0x7,0x0     INTCONbits.GIEH = 0;  // Turn high priority interrupts off                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             (                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029da   0e05     MOVLW     0x5                CurrentCommand.Command == COMMAND_SM_XM_HM_MOVE                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029dc   0101     MOVLB     0x1                ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029de   5d85     SUBWF     0x85,0x0,0x1                                                                                    
0029e2   0e06     MOVLW     0x6                CurrentCommand.Command == COMMAND_LM_MOVE                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029e0   e006     BZ        0x29ee             ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029e4   5d85     SUBWF     0x85,0x0,0x1                                                                                    
0029e6   e003     BZ        0x29ee                                                                                          
0029e8   0e07     MOVLW     0x7                CurrentCommand.Command == COMMAND_LT_MOVE                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029ea   5d85     SUBWF     0x85,0x0,0x1     )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029ec   e103     BNZ       0x29f4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029ee   52de     MOVF      0xde,0x1,0x0       command_interrupted = 1;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029f0   0e01     MOVLW     0x1                                                                                             
0029f2   6edd     MOVWF     0xdd,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029f4   500f     MOVF      0xf,0x0,0x0      if (gFIFOLength != 0u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029f6   e003     BZ        0x29fe                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029f8   52de     MOVF      0xde,0x1,0x0       command_interrupted = 1;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029fa   0e01     MOVLW     0x1                                                                                             
0029fc   6edd     MOVWF     0xdd,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Clear the currently executing motion command                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029fe   6b85     CLRF      0x85,0x1         CurrentCommand.Command = COMMAND_NONE;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Clear out the entire FIFO                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a00   0e02     MOVLW     0x2              for (i = 0; i < COMMAND_FIFO_MAX_LENGTH; i++)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a02   6adb     CLRF      0xdb,0x0                                                                                        
002a04   0e20     MOVLW     0x20                                                                                            
002a06   6ef3     MOVWF     0xf3,0x0                                                                                        
002a08   0e02     MOVLW     0x2                                                                                             
002a0a   cfdb     MOVFF     0xfdb,0xff4                                                                                     
002a0c   fff4                                                                                                               
002a0e   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002a10   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
002a12   e207     BC        0x2a22                                                                                          
002a1c   0e02     MOVLW     0x2                                                                                             
002a1e   2adb     INCF      0xdb,0x1,0x0                                                                                    
002a20   d7f1     BRA       0x2a04                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a14   0e02     MOVLW     0x2                FIFOPtr[i].Command = COMMAND_NONE;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a16   50db     MOVF      0xdb,0x0,0x0                                                                                    
002a18   ec60     CALL      0x34c0,0x0                                                                                      
002a1a   f01a                                                                                                               
0034c0   db5c     RCALL     0x3b7a                                                                                          
0034c2   6aef     CLRF      0xef,0x0                                                                                        
0034c4   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a22   6a10     CLRF      0x10,0x0         gFIFOIn = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a24   6a11     CLRF      0x11,0x0         gFIFOOut = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a26   6a0f     CLRF      0xf,0x0          gFIFOLength = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a28   04df     DECF      0xdf,0x0,0x0     if (disable_motors == 1u)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a2a   e109     BNZ       0x2a3e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a2c   5004     MOVF      0x4,0x0,0x0        if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a2e   e103     BNZ       0x2a36                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a30   808d     BSF       0x8d,0x0,0x0         Enable1IO = DISABLE_MOTOR;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a32   828b     BSF       0x8b,0x1,0x0         Enable2IO = DISABLE_MOTOR;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a34   d004     BRA       0x2a3e             else if (DriverConfiguration == PIC_CONTROLS_EXTERNAL)                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a36   0404     DECF      0x4,0x0,0x0                                                                                     
002a38   e102     BNZ       0x2a3e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a3a   828c     BSF       0x8c,0x1,0x0         Enable1AltIO = DISABLE_MOTOR;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a3c   8289     BSF       0x89,0x1,0x0         Enable2AltIO = DISABLE_MOTOR;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Re-enable interrupts                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a3e   8ef2     BSF       0xf2,0x7,0x0     INTCONbits.GIEH = 1;    // Turn high priority interrupts on                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a40   eca3     CALL      0x3b46,0x0       ebb_print_uint(command_interrupted);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a42   f01d                                                                                                               
003b46   0e01     MOVLW     0x1                                                                                             
003b48   cfdb     MOVFF     0xfdb,0x4e                                                                                      
003b4a   f04e                                                                                                               
003b4c   6a4f     CLRF      0x4f,0x0                                                                                        
003b4e   de72     RCALL     0x3834                                                                                          
003b50   efe5     GOTO      0x39ca                                                                                          
003b52   f01c                                                                                                               
002a44   b1c3     BTFSC     0xc3,0x0,0x1     if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a46   d002     BRA       0x2a4c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a48   ec8f     CALL      0x331e,0x0         print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a4a   f019                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a4c   ec87     CALL      0x330e,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a4e   f019                                                                                                               
002a50   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a52   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002a54   e202     BC        0x2a5a                                                                                          
002a56   6ae1     CLRF      0xe1,0x0                                                                                        
002a58   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002a5a   ef80     GOTO      0x3300                                                                                          
002a5c   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query Pen                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QP<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: 0 for down, 1 for up, then OK<CR>                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_QP_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a5e   ec8b     CALL      0x3916,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a60   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a62   c1b9     MOVFF     0x1b9,0x4e       ebb_print_uint(PenState);                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a64   f04e                                                                                                               
002a66   6a4f     CLRF      0x4f,0x0                                                                                        
002a68   6a50     CLRF      0x50,0x0                                                                                        
002a6a   6a51     CLRF      0x51,0x0                                                                                        
002a6c   ae4e     BTFSS     0x4e,0x7,0x0                                                                                    
002a6e   d003     BRA       0x2a76                                                                                          
002a70   684f     SETF      0x4f,0x0                                                                                        
002a72   6850     SETF      0x50,0x0                                                                                        
002a74   6851     SETF      0x51,0x0                                                                                        
002a76   c04e     MOVFF     0x4e,0xfe6                                                                                      
002a78   ffe6                                                                                                               
002a7a   ec7d     CALL      0x3afa,0x0                                                                                      
002a7c   f01d                                                                                                               
002a7e   ece5     CALL      0x39ca,0x0                                                                                      
002a80   f01c                                                                                                               
002a82   b1c3     BTFSC     0xc3,0x0,0x1     if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a84   d002     BRA       0x2a8a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a86   ec8f     CALL      0x331e,0x0         print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a88   f019                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a8a   ef87     GOTO      0x330e           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a8c   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query motor Enables and resolution                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QE<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: <motor1_state>,<motor2_state><CR>OK<CR>                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Where <motor1_state> and <motor2_state> are one of the following values:      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 0 = Motor is disabled                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1 = Motor is enabled and step resolution is full steps                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2 = Motor is enabled and step resolution is 1/2 steps                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 4 = Motor is enabled and step resolution is 1/4 steps                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 8 = Motor is enabled and step resolution is 1/8 steps                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 16 = Motor is enabled and step resolution is 1/16 steps                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a8e   ec82     CALL      0x3304,0x0     void parse_QE_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a90   f019                                                                                                               
002a92   0e03     MOVLW     0x3                                                                                             
002a94   ec87     CALL      0x390e,0x0                                                                                      
003304   cfd9                                                                                                               
003306   ffe6     WORD2     0xfe6                                                                                           
003308   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
00330a   ffd9                                                                                                               
00330c   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a96   f01c     WORD2     0x1c             UINT8 motor1_state = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 motor2_state = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 temp;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a98   5084     MOVF      0x84,0x0,0x0     if (MS1_IO_PORT == 0u && MS2_IO_PORT == 0u && MS3_IO_PORT == 0u)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a9a   0b04     ANDLW     0x4                                                                                             
002a9c   e108     BNZ       0x2aae                                                                                          
002a9e   5084     MOVF      0x84,0x0,0x0                                                                                    
002aa0   0b02     ANDLW     0x2                                                                                             
002aa2   e105     BNZ       0x2aae                                                                                          
002aa4   5080     MOVF      0x80,0x0,0x0                                                                                    
002aa6   0b40     ANDLW     0x40                                                                                            
002aa8   e102     BNZ       0x2aae                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002aaa   0e01     MOVLW     0x1                temp = 1;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002aac   d023     BRA       0x2af4           else if (MS1_IO_PORT == 1u && MS2_IO_PORT == 0u && MS3_IO_PORT == 0u)          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002aae   5084     MOVF      0x84,0x0,0x0                                                                                    
002ab0   0b04     ANDLW     0x4                                                                                             
002ab2   e009     BZ        0x2ac6                                                                                          
002ab4   5084     MOVF      0x84,0x0,0x0                                                                                    
002ab6   0b02     ANDLW     0x2                                                                                             
002ab8   e106     BNZ       0x2ac6                                                                                          
002aba   5080     MOVF      0x80,0x0,0x0                                                                                    
002abc   0b40     ANDLW     0x40                                                                                            
002abe   e103     BNZ       0x2ac6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ac0   0e02     MOVLW     0x2                temp = 2;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ac2   6ef3     MOVWF     0xf3,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ac4   d019     BRA       0x2af8           else if (MS1_IO_PORT == 0u && MS2_IO_PORT == 1u && MS3_IO_PORT == 0u)          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ac6   5084     MOVF      0x84,0x0,0x0                                                                                    
002ac8   0b04     ANDLW     0x4                                                                                             
002aca   e108     BNZ       0x2adc                                                                                          
002acc   5084     MOVF      0x84,0x0,0x0                                                                                    
002ace   0b02     ANDLW     0x2                                                                                             
002ad0   e005     BZ        0x2adc                                                                                          
002ad2   5080     MOVF      0x80,0x0,0x0                                                                                    
002ad4   0b40     ANDLW     0x40                                                                                            
002ad6   e102     BNZ       0x2adc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ad8   0e04     MOVLW     0x4                temp = 4;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ada   d00c     BRA       0x2af4           else if (MS1_IO_PORT == 1u && MS2_IO_PORT == 1u && MS3_IO_PORT == 0u)          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002adc   5084     MOVF      0x84,0x0,0x0                                                                                    
002ade   0b04     ANDLW     0x4                                                                                             
002ae0   e008     BZ        0x2af2                                                                                          
002ae2   5084     MOVF      0x84,0x0,0x0                                                                                    
002ae4   0b02     ANDLW     0x2                                                                                             
002ae6   e005     BZ        0x2af2                                                                                          
002ae8   5080     MOVF      0x80,0x0,0x0                                                                                    
002aea   0b40     ANDLW     0x40                                                                                            
002aec   e102     BNZ       0x2af2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002aee   0e08     MOVLW     0x8                temp = 8;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002af0   d001     BRA       0x2af4           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002af2   0e10     MOVLW     0x10               temp = 16;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002af4   6ef3     MOVWF     0xf3,0x0                                                                                        
002af6   0e02     MOVLW     0x2                                                                                             
002af8   cff3     MOVFF     0xff3,0xfdb                                                                                     
002afa   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002afc   5004     MOVF      0x4,0x0,0x0      if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002afe   e108     BNZ       0x2b10                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b00   b084     BTFSC     0x84,0x0,0x0       if (Enable1IO_PORT == ENABLE_MOTOR)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b02   d003     BRA       0x2b0a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b04   0e02     MOVLW     0x2                  motor1_state = temp;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b06   50db     MOVF      0xdb,0x0,0x0                                                                                    
002b08   6edf     MOVWF     0xdf,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b0a   b282     BTFSC     0x82,0x1,0x0       if (Enable2IO_PORT == ENABLE_MOTOR)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b0c   d010     BRA       0x2b2e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 motor2_state = temp;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b0e   d009     BRA       0x2b22           else if (DriverConfiguration == PIC_CONTROLS_EXTERNAL)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b10   0404     DECF      0x4,0x0,0x0                                                                                     
002b12   e10d     BNZ       0x2b2e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b14   b283     BTFSC     0x83,0x1,0x0       if (Enable1AltIO_PORT == ENABLE_MOTOR)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b16   d003     BRA       0x2b1e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b18   0e02     MOVLW     0x2                  motor1_state = temp;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b1a   50db     MOVF      0xdb,0x0,0x0                                                                                    
002b1c   6edf     MOVWF     0xdf,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b1e   b280     BTFSC     0x80,0x1,0x0       if (Enable2AltIO_PORT == ENABLE_MOTOR)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b20   d006     BRA       0x2b2e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b22   0e02     MOVLW     0x2                  motor2_state = temp;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b24   50db     MOVF      0xdb,0x0,0x0                                                                                    
002b26   6ee7     MOVWF     0xe7,0x0                                                                                        
002b28   0e01     MOVLW     0x1                                                                                             
002b2a   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
002b2c   ffdb                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b2e   cfdf     MOVFF     0xfdf,0x4e       ebb_print_uint(motor1_state);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b30   f04e                                                                                                               
002b32   6a4f     CLRF      0x4f,0x0                                                                                        
002b34   ec1a     CALL      0x3834,0x0                                                                                      
002b36   f01c                                                                                                               
002b38   dbb5     RCALL     0x32a4                                                                                          
002b3a   ec49     CALL      0x3492,0x0       ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b3c   f01a                                                                                                               
002b3e   eca3     CALL      0x3b46,0x0       ebb_print_uint(motor2_state);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b40   f01d                                                                                                               
002b42   a1c3     BTFSS     0xc3,0x0,0x1     if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b44   dbec     RCALL     0x331e             print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b46   dbe3     RCALL     0x330e           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b48   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b4a   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002b4c   e202     BC        0x2b52                                                                                          
002b4e   6ae1     CLRF      0xe1,0x0                                                                                        
002b50   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002b52   d3d6     BRA       0x3300                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Toggle Pen                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: TP,<duration><CR>                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: OK<CR>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <duration> is optional, and defaults to 0mS                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Just toggles state of pen arm, then delays for the optional <duration>        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Duration is in units of 1ms                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b54   dbd7     RCALL     0x3304         void parse_TP_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b56   0e02     MOVLW     0x2                                                                                             
002b58   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b5a   6ade     CLRF      0xde,0x0         UINT16 CommandDuration = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b5c   6add     CLRF      0xdd,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b5e   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b60   db9b     RCALL     0x3298                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b62   ecbb     CALL      0x3776,0x0       extract_number (kUINT, &CommandDuration, kOPTIONAL);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b64   f01b                                                                                                               
002b66   ec1d     CALL      0x3a3a,0x0                                                                                      
002b68   f01d                                                                                                               
003a3a   0e03     MOVLW     0x3                                                                                             
003a3c   efae     GOTO      0x315c                                                                                          
003a3e   f018                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b6a   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b6c   5184     MOVF      0x84,0x0,0x1                                                                                    
002b6e   e10e     BNZ       0x2b8c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b70   0101     MOVLB     0x1              if (PenState == PEN_UP)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b72   05b9     DECF      0xb9,0x0,0x1                                                                                    
002b74   e104     BNZ       0x2b7e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b76   ecd1     CALL      0x37a2,0x0         process_SP(PEN_DOWN, CommandDuration);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b78   f01b                                                                                                               
002b7a   6ae6     CLRF      0xe6,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b7c   d004     BRA       0x2b86           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b7e   ecd1     CALL      0x37a2,0x0         process_SP(PEN_UP, CommandDuration);                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b80   f01b                                                                                                               
002b82   0e01     MOVLW     0x1                                                                                             
002b84   6ee6     MOVWF     0xe6,0x0                                                                                        
002b86   ec68     CALL      0x36d0,0x0                                                                                      
002b88   f01b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b8a   dbc1     RCALL     0x330e           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b8c   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b8e   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002b90   e202     BC        0x2b96                                                                                          
002b92   6ae1     CLRF      0xe1,0x0                                                                                        
002b94   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002b96   d3b4     BRA       0x3300                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Set Pen                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: SP,<State>,<Duration>,<PortB_Pin><CR>                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <State> is 0 (for goto servo_max) or 1 (for goto servo_min)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Duration> is how long to wait before the next command in the motion control  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //      FIFO should start. (defaults to 0mS)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //      Note that the units of this parameter is either 1ms                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <PortB_Pin> Is a value from 0 to 7 and allows you to re-assign the Pen        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //      RC Servo output to different PortB pins.                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This is a command that the user can send from the PC to set the pen state.    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that there is only one pen RC servo output - if you use the <PortB_Pin>  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // parameter, then that new pin becomes the pen RC servo output. This command    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // does not allow for multiple servo signals at the same time from port B pins.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Use the S2 command for that.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This function will use the values for <serv_min>, <servo_max>,                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <servo_rate_up> and <servo_rate_down> (SC,4 SC,5, SC,11, SC,10 commands)      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // when it schedules the servo command.                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Internally, the parse_SP_packet() function makes a call to                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // process_SP() function to actually make the change in the servo output.        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b98   ecbc     CALL      0x3978,0x0     void parse_SP_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b9a   f01c                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 State = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT16 CommandDuration = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b9c   ece6     CALL      0x35cc,0x0       UINT8 Pin = DEFAULT_EBB_SERVO_PORTB_PIN;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b9e   f01a                                                                                                               
                                             ExtractReturnType Ret;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ba0   ecd4     CALL      0x3ba8,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ba2   f01d                                                                                                               
003ba8   de64     RCALL     0x3872                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kUCHAR, &State, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003baa   dc0a     RCALL     0x33c0           extract_number(kUINT, &CommandDuration, kOPTIONAL);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bac   ef1d     GOTO      0x3a3a                                                                                          
003bae   f01d                                                                                                               
002ba4   ecd8     CALL      0x3bb0,0x0       Ret = extract_number(kUCHAR, &Pin, kOPTIONAL);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ba6   f01d                                                                                                               
002ba8   ec7a     CALL      0x36f4,0x0                                                                                      
002baa   f01b                                                                                                               
003bb0   0e01     MOVLW     0x1                                                                                             
003bb2   6ee6     MOVWF     0xe6,0x0                                                                                        
003bb4   50d9     MOVF      0xd9,0x0,0x0                                                                                    
003bb6   0f03     ADDLW     0x3                                                                                             
003bb8   ef82     GOTO      0x3904                                                                                          
003bba   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bac   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bae   5184     MOVF      0x84,0x0,0x1                                                                                    
002bb0   e123     BNZ       0x2bf8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Error check                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bb2   0e03     MOVLW     0x3              if (Pin > 7u)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bb4   50db     MOVF      0xdb,0x0,0x0                                                                                    
002bb6   0807     SUBLW     0x7                                                                                             
002bb8   e202     BC        0x2bbe                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bba   ece6     CALL      0x35cc,0x0         Pin = DEFAULT_EBB_SERVO_PORTB_PIN;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bbc   f01a                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bbe   50df     MOVF      0xdf,0x0,0x0     if (State > 1u)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bc0   0801     SUBLW     0x1                                                                                             
002bc2   e202     BC        0x2bc8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bc4   0e01     MOVLW     0x1                State = 1;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bc6   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set the PRn of the Pen Servo output                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Add 3 to get from PORTB pin number to RPn number                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bc8   0e03     MOVLW     0x3              if (g_servo2_RPn != (Pin + 3))                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bca   50db     MOVF      0xdb,0x0,0x0                                                                                    
002bcc   0f03     ADDLW     0x3                                                                                             
002bce   0100     MOVLB     0x0                                                                                             
002bd0   5da6     SUBWF     0xa6,0x0,0x1                                                                                    
002bd2   e007     BZ        0x2be2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // if we are changing which pin the pen servo is on, we need to cancel       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // the servo output on the old channel first                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bd4   ec63     CALL      0x34c6,0x0         RCServo2_Move(0, g_servo2_RPn, 0, 0);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bd6   f01a                                                                                                               
                                               // Now record the new RPn                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bd8   0e03     MOVLW     0x3                g_servo2_RPn = Pin + 3;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bda   50db     MOVF      0xdb,0x0,0x0                                                                                    
002bdc   0f03     ADDLW     0x3                                                                                             
002bde   0100     MOVLB     0x0                                                                                             
002be0   6fa6     MOVWF     0xa6,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Execute the servo state change                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002be2   0e01     MOVLW     0x1              process_SP(State, CommandDuration);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002be4   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002be6   ffe6                                                                                                               
002be8   0e02     MOVLW     0x2                                                                                             
002bea   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002bec   ffe6                                                                                                               
002bee   cfdf     MOVFF     0xfdf,0xfe6                                                                                     
002bf0   ffe6                                                                                                               
002bf2   ec68     CALL      0x36d0,0x0                                                                                      
002bf4   f01b                                                                                                               
0036d0   ec02     CALL      0x2c04,0x0                                                                                      
0036d2   f016                                                                                                               
0036d4   d22b     BRA       0x3b2c                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bf6   db8b     RCALL     0x330e           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bf8   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bfa   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002bfc   e202     BC        0x2c02                                                                                          
002bfe   6ae1     CLRF      0xe1,0x0                                                                                        
002c00   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002c02   d37e     BRA       0x3300                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Internal use function -                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Perform a state change on the pen RC servo output. Move it up or move it down D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <NewState> is either PEN_UP or PEN_DOWN.                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <CommandDuration> is the number of milliseconds to wait before executing the  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //      next command in the motion control FIFO                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This function uses the g_servo2_min, max, rate_up, rate_down variables        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // to schedule an RC Servo change with the RCServo2_Move() function.             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c04   ecc2     CALL      0x3984,0x0     void process_SP(PenStateType NewState, UINT16 CommandDuration)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c06   f01c                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT16 Position;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT16 Rate;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c08   0efe     MOVLW     0xfe             if (NewState == PEN_UP)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c0a   04db     DECF      0xdb,0x0,0x0                                                                                    
002c0c   e10b     BNZ       0x2c24                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c0e   c0a0     MOVFF     0xa0,0xfde         Position = g_servo2_min;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c10   ffde                                                                                                               
002c12   c0a1     MOVFF     0xa1,0xfdd                                                                                      
002c14   ffdd                                                                                                               
002c16   0e02     MOVLW     0x2                Rate = g_servo2_rate_up;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c18   c0a2     MOVFF     0xa2,0xfdb                                                                                      
002c1a   ffdb                                                                                                               
002c1c   0e03     MOVLW     0x3                                                                                             
002c1e   c0a3     MOVFF     0xa3,0xfdb                                                                                      
002c20   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c22   d00a     BRA       0x2c38           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c24   c09e     MOVFF     0x9e,0xfde         Position = g_servo2_max;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c26   ffde                                                                                                               
002c28   c09f     MOVFF     0x9f,0xfdd                                                                                      
002c2a   ffdd                                                                                                               
002c2c   0e02     MOVLW     0x2                Rate = g_servo2_rate_down;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c2e   c0a4     MOVFF     0xa4,0xfdb                                                                                      
002c30   ffdb                                                                                                               
002c32   0e03     MOVLW     0x3                                                                                             
002c34   c0a5     MOVFF     0xa5,0xfdb                                                                                      
002c36   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c38   8689     BSF       0x89,0x3,0x0     RCServoPowerIO = RCSERVO_POWER_ON;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c3a   c4c2     MOVFF     0x4c2,0x4be      gRCServoPoweroffCounterMS = gRCServoPoweroffCounterReloadMS;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c3c   f4be                                                                                                               
002c3e   c4c3     MOVFF     0x4c3,0x4bf                                                                                     
002c40   f4bf                                                                                                               
002c42   c4c4     MOVFF     0x4c4,0x4c0                                                                                     
002c44   f4c0                                                                                                               
002c46   c4c5     MOVFF     0x4c5,0x4c1                                                                                     
002c48   f4c1                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Now schedule the movement with the RCServo2 function                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c4a   0efc     MOVLW     0xfc             RCServo2_Move(Position, g_servo2_RPn, Rate, CommandDuration);                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c4c   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002c4e   ffe6                                                                                                               
002c50   0efd     MOVLW     0xfd                                                                                            
002c52   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002c54   ffe6                                                                                                               
002c56   0e02     MOVLW     0x2                                                                                             
002c58   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002c5a   ffe6                                                                                                               
002c5c   0e03     MOVLW     0x3                                                                                             
002c5e   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002c60   ffe6                                                                                                               
002c62   c0a6     MOVFF     0xa6,0xfe6                                                                                      
002c64   ffe6                                                                                                               
002c66   ecd1     CALL      0x37a2,0x0                                                                                      
002c68   f01b                                                                                                               
002c6a   ec01     CALL      0x3a02,0x0                                                                                      
002c6c   f01d                                                                                                               
0037a2   cfde     MOVFF     0xfde,0xfe6                                                                                     
0037a4   ffe6                                                                                                               
0037a6   cfdd     MOVFF     0xfdd,0xfe6                                                                                     
0037a8   ffe6                                                                                                               
0037aa   0012     RETURN    0x0                                                                                             
003a02   ec41     CALL      0x7a82,0x0                                                                                      
003a04   f03d                                                                                                               
003a06   6e4e     MOVWF     0x4e,0x0                                                                                        
003a08   0e07     MOVLW     0x7                                                                                             
003a0a   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
003a0c   504e     MOVF      0x4e,0x0,0x0                                                                                    
003a0e   0012     RETURN    0x0                                                                                             
002c6e   0e04     MOVLW     0x4            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c70   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002c72   e202     BC        0x2c78                                                                                          
002c74   6ae1     CLRF      0xe1,0x0                                                                                        
002c76   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002c78   d343     BRA       0x3300                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Enable Motor                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: EM,<EnableAxis1>,<EnableAxis2><CR>                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Everything after EnableAxis1 is optional                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Each parameter can have a value of                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    0 to disable that motor driver                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // (only first parameter applies, and it applies to both drivers)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    1 to enable the driver in 1/16th step mode                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    2 to enable the driver in 1/8 step mode                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    3 to enable the driver in 1/4 step mode                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    4 to enable the driver in 1/2 step mode                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    5 to enable the driver in full step mode                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // If you disable a motor, it goes 'limp' (we clear the ENABLE pin on that motor's D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // driver chip)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that when using 0 or 1 for a parameter, you can use both axis even       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // on a 'new' driver chip board. (i.e. EM,0,1 will disable motor 1 and enable 2) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that the MSx lines do not come to any headers, so even when an external  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // source is controlling the drivers, the PIC still needs to control the         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // MSx lines.                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // As of 2.7.0 : We always clear out the step accumulators when the EM command   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // As of 2.8.0 : This command is now handled as part of the motion queue         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   is executed.                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c7a   ecc2     CALL      0x3984,0x0     void parse_EM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c7c   f01c                                                                                                               
003984   dcbf     RCALL     0x3304                                                                                          
003986   0e04     MOVLW     0x4                                                                                             
003988   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
00398a   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             unsigned char EA1, EA2;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ExtractReturnType RetVal1, RetVal2;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c7e   ec39     CALL      0x3872,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c80   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c82   6ee7     MOVWF     0xe7,0x0         RetVal1 = extract_number (kUCHAR, &EA1, kREQUIRED);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c84   0e02     MOVLW     0x2                                                                                             
002c86   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
002c88   ffdb                                                                                                               
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c8a   0104     MOVLB     0x4              if (error_byte || kEXTRACT_OK != RetVal1)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c8c   5184     MOVF      0x84,0x0,0x1                                                                                    
002c8e   e128     BNZ       0x2ce0                                                                                          
002c90   0e02     MOVLW     0x2                                                                                             
002c92   50db     MOVF      0xdb,0x0,0x0                                                                                    
002c94   e125     BNZ       0x2ce0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c96   ecc0     CALL      0x3980,0x0       RetVal2 = extract_number (kUCHAR, &EA2, kOPTIONAL);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c98   f01c                                                                                                               
002c9a   6ee7     MOVWF     0xe7,0x0                                                                                        
002c9c   0e03     MOVLW     0x3                                                                                             
002c9e   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
002ca0   ffdb                                                                                                               
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ca2   0104     MOVLB     0x4              if (error_byte || kEXTRACT_OK != RetVal2)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ca4   5184     MOVF      0x84,0x0,0x1                                                                                    
002ca6   e11c     BNZ       0x2ce0                                                                                          
002ca8   0e03     MOVLW     0x3                                                                                             
002caa   50db     MOVF      0xdb,0x0,0x0                                                                                    
002cac   e119     BNZ       0x2ce0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cae   bc09     BTFSC     0x9,0x6,0x0      if (!bittst(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM))                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cb0   d016     BRA       0x2cde                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Trial: Spin here until there's space in the fifo                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cb2   5013     MOVF      0x13,0x0,0x0       while(gFIFOLength >= gCurrentFIFOLength)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cb4   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
002cb6   e2fd     BC        0x2cb2                                                                                          
                                                 ;                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Set up the motion queue command                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cb8   ec02     CALL      0x3604,0x0         FIFOPtr[gFIFOIn].m.sm.DirBits = EA1;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cba   f01b                                                                                                               
002cbc   cfdf     MOVFF     0xfdf,0xfef                                                                                     
002cbe   ffef                                                                                                               
003604   5010     MOVF      0x10,0x0,0x0                                                                                    
003606   dab9     RCALL     0x3b7a                                                                                          
003608   52ee     MOVF      0xee,0x1,0x0                                                                                    
00360a   0012     RETURN    0x0                                                                                             
00388a   51fa     MOVF      0xfa,0x0,0x1                                                                                    
00388c   24f3     ADDWF     0xf3,0x0,0x0                                                                                    
00388e   6ee9     MOVWF     0xe9,0x0                                                                                        
003890   51fb     MOVF      0xfb,0x0,0x1                                                                                    
003892   20f4     ADDWFC    0xf4,0x0,0x0                                                                                    
003894   6eea     MOVWF     0xea,0x0                                                                                        
003896   0012     RETURN    0x0                                                                                             
003b7a   0d2f     MULLW     0x2f                                                                                            
003b7c   0105     MOVLB     0x5                                                                                             
003b7e   ef45     GOTO      0x388a                                                                                          
003b80   f01c                                                                                                               
002cc0   db83     RCALL     0x33c8             FIFOPtr[gFIFOIn].m.sm.ServoRPn = EA2;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cc2   ec65     CALL      0x36ca,0x0                                                                                      
002cc4   f01b                                                                                                               
002cc6   0e01     MOVLW     0x1                                                                                             
002cc8   cfdb     MOVFF     0xfdb,0xfef                                                                                     
002cca   ffef                                                                                                               
002ccc   db7d     RCALL     0x33c8             FIFOPtr[gFIFOIn].Command = COMMAND_EM;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cce   0e04     MOVLW     0x4                                                                                             
002cd0   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cd2   2a10     INCF      0x10,0x1,0x0       gFIFOIn++;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cd4   5013     MOVF      0x13,0x0,0x0       if (gFIFOIn >= gCurrentFIFOLength)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cd6   5c10     SUBWF     0x10,0x0,0x0                                                                                    
002cd8   e301     BNC       0x2cdc                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cda   6a10     CLRF      0x10,0x0             gFIFOIn = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cdc   2a0f     INCF      0xf,0x1,0x0        gFIFOLength++;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cde   db17     RCALL     0x330e           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ce0   0e04     MOVLW     0x4            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ce2   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002ce4   e202     BC        0x2cea                                                                                          
002ce6   6ae1     CLRF      0xe1,0x0                                                                                        
002ce8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002cea   d30a     BRA       0x3300                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Node counter increment                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: NI<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_NI_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cec   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cee   dad4     RCALL     0x3298                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cf0   0efe     MOVLW     0xfe             if (NodeCount < 0xFFFFFFFEUL)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cf2   0101     MOVLB     0x1                                                                                             
002cf4   5dba     SUBWF     0xba,0x0,0x1                                                                                    
002cf6   0eff     MOVLW     0xff                                                                                            
002cf8   59bb     SUBWFB    0xbb,0x0,0x1                                                                                    
002cfa   0eff     MOVLW     0xff                                                                                            
002cfc   59bc     SUBWFB    0xbc,0x0,0x1                                                                                    
002cfe   0eff     MOVLW     0xff                                                                                            
002d00   59bd     SUBWFB    0xbd,0x0,0x1                                                                                    
002d02   e205     BC        0x2d0e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d04   2bba     INCF      0xba,0x1,0x1       NodeCount++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d06   0e00     MOVLW     0x0                                                                                             
002d08   23bb     ADDWFC    0xbb,0x1,0x1                                                                                    
002d0a   23bc     ADDWFC    0xbc,0x1,0x1                                                                                    
002d0c   23bd     ADDWFC    0xbd,0x1,0x1                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d0e   ef87     GOTO      0x330e           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d10   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Node counter Decrement                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: ND<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_ND_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d12   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d14   dac1     RCALL     0x3298                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d16   0101     MOVLB     0x1              if (NodeCount)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d18   51ba     MOVF      0xba,0x0,0x1                                                                                    
002d1a   11bb     IORWF     0xbb,0x0,0x1                                                                                    
002d1c   11bc     IORWF     0xbc,0x0,0x1                                                                                    
002d1e   11bd     IORWF     0xbd,0x0,0x1                                                                                    
002d20   e005     BZ        0x2d2c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d22   07ba     DECF      0xba,0x1,0x1       NodeCount--;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d24   0e00     MOVLW     0x0                                                                                             
002d26   5bbb     SUBWFB    0xbb,0x1,0x1                                                                                    
002d28   5bbc     SUBWFB    0xbc,0x1,0x1                                                                                    
002d2a   5bbd     SUBWFB    0xbd,0x1,0x1                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d2c   ef87     GOTO      0x330e           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d2e   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Set Node counter                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: SN,<value><CR>                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <value> is a 4 byte unsigned value                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d30   dae9     RCALL     0x3304         void parse_SN_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d32   0e05     MOVLW     0x5                                                                                             
002d34   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             unsigned long Temp;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ExtractReturnType RetVal;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d36   ecb8     CALL      0x3b70,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d38   f01d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d3a   0e07     MOVLW     0x7              RetVal = extract_number(kULONG, &Temp, kREQUIRED);                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d3c   da0f     RCALL     0x315c                                                                                          
002d3e   ec7a     CALL      0x36f4,0x0                                                                                      
002d40   f01b                                                                                                               
002d42   50db     MOVF      0xdb,0x0,0x0     if (kEXTRACT_OK == RetVal)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d44   e10b     BNZ       0x2d5c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d46   cfdf     MOVFF     0xfdf,0x1ba        NodeCount = Temp;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d48   f1ba                                                                                                               
002d4a   0e01     MOVLW     0x1                                                                                             
002d4c   cfdb     MOVFF     0xfdb,0x1bb                                                                                     
002d4e   f1bb                                                                                                               
002d50   0e02     MOVLW     0x2                                                                                             
002d52   cfdb     MOVFF     0xfdb,0x1bc                                                                                     
002d54   f1bc                                                                                                               
002d56   0e03     MOVLW     0x3                                                                                             
002d58   cfdb     MOVFF     0xfdb,0x1bd                                                                                     
002d5a   f1bd                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d5c   dad8     RCALL     0x330e           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d5e   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d60   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002d62   e202     BC        0x2d68                                                                                          
002d64   6ae1     CLRF      0xe1,0x0                                                                                        
002d66   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002d68   d2cb     BRA       0x3300                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query Node counter                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QN<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: <NodeCount><CR>                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // OK<CR>                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_QN_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d6a   ec8b     CALL      0x3916,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d6c   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d6e   c1ba     MOVFF     0x1ba,0xfe6      ebb_print_uint(NodeCount);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d70   ffe6                                                                                                               
002d72   c1bb     MOVFF     0x1bb,0xfe6                                                                                     
002d74   ffe6                                                                                                               
002d76   c1bc     MOVFF     0x1bc,0xfe6                                                                                     
002d78   ffe6                                                                                                               
002d7a   c1bd     MOVFF     0x1bd,0xfe6                                                                                     
002d7c   ffe6                                                                                                               
002d7e   ece5     CALL      0x39ca,0x0                                                                                      
002d80   f01c                                                                                                               
002d82   a1c3     BTFSS     0xc3,0x0,0x1     if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d84   dbe8     RCALL     0x3556             print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d86   ef87     GOTO      0x330e           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d88   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Set Layer                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: SL,<Value>[,<Index>]<CR>                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Where <Value> is an unsigned 8-bit decimal number and                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Index> is an optional parameter from 0 to 31. If not present then            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <index> is assumed to be 0.                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Store <Value> in <Index> (variable space) in RAM                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Retrieve the values using the QL command                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d8a   dabc     RCALL     0x3304         void parse_SL_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d8c   0e02     MOVLW     0x2                                                                                             
002d8e   ecde     CALL      0x3bbc,0x0                                                                                      
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d90   f01d                                UINT8 Value = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 Index = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d92   ec39     CALL      0x3872,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d94   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kUCHAR, &Value, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d96   ecc0     CALL      0x3980,0x0       extract_number(kUCHAR, &Index, kOPTIONAL);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d98   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d9a   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d9c   5184     MOVF      0x84,0x0,0x1                                                                                    
002d9e   e10c     BNZ       0x2db8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002da0   0e01     MOVLW     0x1              if (Index > (SL_STORAGE_SIZE - 1))                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002da2   50db     MOVF      0xdb,0x0,0x0                                                                                    
002da4   081f     SUBLW     0x1f                                                                                            
002da6   e203     BC        0x2dae                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002da8   52de     MOVF      0xde,0x1,0x0       Index = (SL_STORAGE_SIZE - 1);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002daa   0e1f     MOVLW     0x1f                                                                                            
002dac   6edd     MOVWF     0xdd,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dae   ec97     CALL      0x372e,0x0       gSL_Storage[Index] = Value;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002db0   f01b                                                                                                               
002db2   cfdf     MOVFF     0xfdf,0xfef                                                                                     
002db4   ffef                                                                                                               
00372e   0e01     MOVLW     0x1                                                                                             
003730   50db     MOVF      0xdb,0x0,0x0                                                                                    
003732   6aea     CLRF      0xea,0x0                                                                                        
003734   0f58     ADDLW     0x58                                                                                            
003736   6ee9     MOVWF     0xe9,0x0                                                                                        
003738   0e01     MOVLW     0x1                                                                                             
00373a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00373c   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002db6   daab     RCALL     0x330e           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002db8   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dba   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002dbc   e202     BC        0x2dc2                                                                                          
002dbe   6ae1     CLRF      0xe1,0x0                                                                                        
002dc0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002dc2   d29e     BRA       0x3300                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query Layer                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QL[,<Index>]<CR>                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: QL,<ValueAtIndex><CR>                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Where <Index> is an optional parameter from 0 to 31                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // If not present, <Index> is set to 0                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The <ValueAtIndex> is an unsigned byte which was previously stored at <Index> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dc4   da9f     RCALL     0x3304         void parse_QL_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dc6   0e02     MOVLW     0x2                                                                                             
002dc8   ec87     CALL      0x390e,0x0                                                                                      
00390e   d956                                                                                                               
003bbc   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dca   f01c     WORD2     0x1c             UINT8 Value = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bbe   6adf     CLRF      0xdf,0x0                                                                                        
003bc0   0e01     MOVLW     0x1              UINT8 Index = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bc2   6adb     CLRF      0xdb,0x0                                                                                        
003bc4   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003910   6ee6     MOVWF     0xe6,0x0         print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003912   ef4c     GOTO      0x3298                                                                                          
003914   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dcc   ecc0     CALL      0x3980,0x0       extract_number(kUCHAR, &Index, kOPTIONAL);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dce   f01c                                                                                                               
003980   dd1f     RCALL     0x33c0                                                                                          
003982   d125     BRA       0x3bce                                                                                          
003bce   0e01     MOVLW     0x1                                                                                             
003bd0   efae     GOTO      0x315c                                                                                          
003bd2   f018                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dd0   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dd2   5184     MOVF      0x84,0x0,0x1                                                                                    
002dd4   e113     BNZ       0x2dfc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dd6   0e01     MOVLW     0x1              if (Index > (SL_STORAGE_SIZE - 1))                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dd8   50db     MOVF      0xdb,0x0,0x0                                                                                    
002dda   081f     SUBLW     0x1f                                                                                            
002ddc   e203     BC        0x2de4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dde   52de     MOVF      0xde,0x1,0x0       Index = (SL_STORAGE_SIZE - 1);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002de0   0e1f     MOVLW     0x1f                                                                                            
002de2   6edd     MOVWF     0xdd,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002de4   ec97     CALL      0x372e,0x0       ebb_print_uint(gSL_Storage[Index]);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002de6   f01b                                                                                                               
002de8   cfef     MOVFF     0xfef,0x4e                                                                                      
002dea   f04e                                                                                                               
002dec   6a4f     CLRF      0x4f,0x0                                                                                        
002dee   ec1a     CALL      0x3834,0x0                                                                                      
002df0   f01c                                                                                                               
002df2   ece5     CALL      0x39ca,0x0                                                                                      
002df4   f01c                                                                                                               
003834   6a50     CLRF      0x50,0x0                                                                                        
003836   6a51     CLRF      0x51,0x0                                                                                        
003838   c04e     MOVFF     0x4e,0xfe6                                                                                      
00383a   ffe6                                                                                                               
00383c   ef7d     GOTO      0x3afa                                                                                          
00383e   f01d                                                                                                               
003afa   c04f     MOVFF     0x4f,0xfe6                                                                                      
003afc   ffe6                                                                                                               
003afe   c050     MOVFF     0x50,0xfe6                                                                                      
003b00   ffe6                                                                                                               
003b02   c051     MOVFF     0x51,0xfe6                                                                                      
003b04   ffe6                                                                                                               
003b06   0012     RETURN    0x0                                                                                             
002df6   a1c3     BTFSS     0xc3,0x0,0x1     if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002df8   dbae     RCALL     0x3556             print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dfa   da89     RCALL     0x330e           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dfc   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dfe   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002e00   e202     BC        0x2e06                                                                                          
002e02   6ae1     CLRF      0xe1,0x0                                                                                        
002e04   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002e06   d27c     BRA       0x3300                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query Button                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QB<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: <HasButtonBeenPushedSinceLastQB><CR> (0 or 1)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // OK<CR>                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void  parse_QB_packet(void)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e08   ec8b     CALL      0x3916,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e0a   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e0c   5007     MOVF      0x7,0x0,0x0      ebb_print_uint(ButtonPushed);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e0e   6e4e     MOVWF     0x4e,0x0                                                                                        
002e10   6a4f     CLRF      0x4f,0x0                                                                                        
002e12   6a50     CLRF      0x50,0x0                                                                                        
002e14   6a51     CLRF      0x51,0x0                                                                                        
002e16   6ee6     MOVWF     0xe6,0x0                                                                                        
002e18   ec7d     CALL      0x3afa,0x0                                                                                      
002e1a   f01d                                                                                                               
002e1c   ece5     CALL      0x39ca,0x0                                                                                      
002e1e   f01c                                                                                                               
0032a4   ec29     CALL      0x8452,0x0                                                                                      
0032a6   f042                                                                                                               
0032a8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0032aa   ef96     GOTO      0x3b2c                                                                                          
0032ac   f01d                                                                                                               
0039ca   dc6c     RCALL     0x32a4                                                                                          
002e20   a1c3     BTFSS     0xc3,0x0,0x1     if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0039cc   0101     MOVLB     0x1                                                                                             
0039ce   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e22   db99     RCALL     0x3556             print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e24   b007     BTFSC     0x7,0x0,0x0      if (bittstzero(ButtonPushed))                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e26   9007     BCF       0x7,0x0,0x0        bitclrzero(ButtonPushed);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e28   ef87     GOTO      0x330e           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e2a   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query Current                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QC<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: <voltage_on_REF_RA0_net>,<voltage_on_v+_net><CR>                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Both values have a range of 0 to 1023 (10-bit ADC)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The ADC is set up with 0V = 0 and 3.3V = 1023                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For the REF_RA0 (current adjustment pot) a value of 0V-ADC (0 counts) = 46mA  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // and a value of 2.58V-ADC (800 counts) = 1.35A                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For the V+ net a value of 0V-ADC (0 counts) = 0V on V+                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // and a value of 2.79V-ADC (870 counts) = 31.4V on V+                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // REF_RA0 comes in on AN0 (RA0)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // V+ comes in on AN11 (RC2)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_QC_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Since access to ISR_A_FIFO[] is not protected in any way from ISR and       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // mainline code accessing at the same time, we will just wait for             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the cycle of ADC readings to finish before we spit out our value.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e2c   bc9d     BTFSC     0x9d,0x6,0x0     while (PIE1bits.ADIE);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e2e   d7fe     BRA       0x2e2c                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Print out our results                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e30   ec8b     CALL      0x3916,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e32   f01c                                                                                                               
002e34   c100     MOVFF     0x100,0x4e       ebb_print_int(ISR_A_FIFO[0]);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e36   f04e                                                                                                               
002e38   c101     MOVFF     0x101,0x4f                                                                                      
002e3a   f04f                                                                                                               
002e3c   da2a     RCALL     0x3292                                                                                          
002e3e   db29     RCALL     0x3492           ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e40   c116     MOVFF     0x116,0x4e       ebb_print_int(ISR_A_FIFO[11]);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e42   f04e                                                                                                               
002e44   c117     MOVFF     0x117,0x4f                                                                                      
002e46   f04f                                                                                                               
002e48   da24     RCALL     0x3292                                                                                          
002e4a   0101     MOVLB     0x1              if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e4c   a1c3     BTFSS     0xc3,0x0,0x1                                                                                    
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e4e   db83     RCALL     0x3556             print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e50   ef87     GOTO      0x330e           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e52   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query General                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QG<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: <status><NL><CR>                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <status> is a 16 bit value, printed as a hexadecimal number "00" to "FF".     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Each bit in the byte represents the status of a single bit of information in the EBB. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 0 : Motion FIFO status (0 = FIFO empty, 1 = FIFO not empty)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 1 : Motor2 status (0 = not moving, 1 = moving)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 2 : Motor1 status (0 = not moving, 1 = moving)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 3 : CommandExecuting (0 = no command currently executing, 1 = a command is currently executing) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 4 : Pen status (0 = up, 1 = down)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 5 : PRG button status (0 = not pressed since last query, 1 = pressed since last query) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 6 : Power Lost (1 = V+ went below g_PowerMonitorThresholdADC, 0 = it did not) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 7 : gLimitSwitchTriggered                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Just like the QB command, the PRG button status is cleared (after being printed) if pressed since last QB/QG command D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e54   ece2     CALL      0x39c4,0x0     void parse_QG_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e56   f01c                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e58   d8cf     RCALL     0x2ff8           UINT8 result = process_QM();                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e5a   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e5c   ec8b     CALL      0x3916,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e5e   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // process_QM() gives us the low 4 bits of our output result.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e60   0e0f     MOVLW     0xf              result = result & 0x0F;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e62   14df     ANDWF     0xdf,0x0,0x0                                                                                    
002e64   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e66   0101     MOVLB     0x1              if (PenState)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e68   51b9     MOVF      0xb9,0x0,0x1                                                                                    
002e6a   e003     BZ        0x2e72                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e6c   0e10     MOVLW     0x10               result = result | (1 << 4);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e6e   10df     IORWF     0xdf,0x0,0x0                                                                                    
002e70   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e72   a007     BTFSS     0x7,0x0,0x0      if (bittstzero(ButtonPushed))                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e74   d003     BRA       0x2e7c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e76   0e20     MOVLW     0x20               result = result | (1 << 5);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e78   10df     IORWF     0xdf,0x0,0x0                                                                                    
002e7a   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e7c   0104     MOVLB     0x4              if (g_PowerDropDetected)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e7e   5194     MOVF      0x94,0x0,0x1                                                                                    
002e80   e004     BZ        0x2e8a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e82   0e40     MOVLW     0x40               result = result | (1 << 6);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e84   10df     IORWF     0xdf,0x0,0x0                                                                                    
002e86   6edf     MOVWF     0xdf,0x0                                                                                        
002e88   6b94     CLRF      0x94,0x1           g_PowerDropDetected = FALSE;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e8a   a00e     BTFSS     0xe,0x0,0x0      if (bittstzero(gLimitSwitchTriggered))                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e8c   d003     BRA       0x2e94                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e8e   0e80     MOVLW     0x80               result = result | (1 << 7);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e90   10df     IORWF     0xdf,0x0,0x0                                                                                    
002e92   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e94   0e02     MOVLW     0x2              ebb_print_hex(result, 2);                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e96   6ee6     MOVWF     0xe6,0x0                                                                                        
002e98   cfdf     MOVFF     0xfdf,0x4e                                                                                      
002e9a   f04e                                                                                                               
002e9c   6a4f     CLRF      0x4f,0x0                                                                                        
002e9e   ec1a     CALL      0x3834,0x0                                                                                      
002ea0   f01c                                                                                                               
002ea2   ecef     CALL      0x83de,0x0                                                                                      
002ea4   f041                                                                                                               
002ea6   6e52     MOVWF     0x52,0x0                                                                                        
002ea8   0e05     MOVLW     0x5                                                                                             
002eaa   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
002eac   5052     MOVF      0x52,0x0,0x0                                                                                    
002eae   db53     RCALL     0x3556           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003556   0e01     MOVLW     0x1                                                                                             
003558   6ee6     MOVWF     0xe6,0x0                                                                                        
00355a   d269     BRA       0x3a2e                                                                                          
003a2e   ec98     CALL      0x4b30,0x0                                                                                      
003a30   f025                                                                                                               
003a32   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003a34   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Reset the button pushed flag                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eb0   b007     BTFSC     0x7,0x0,0x0      if (bittstzero(ButtonPushed))                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eb2   9007     BCF       0x7,0x0,0x0        bitclrzero(ButtonPushed);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eb4   d2ec     BRA       0x348e         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00348e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003490   d2ca     BRA       0x3a26                                                                                          
003a26   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003a28   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
003a2a   ffd9                                                                                                               
003a2c   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Set Engraver                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: SE,<state>,<power>,<use_motion_queue><CR>                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <state> is 0 for off and 1 for on (required)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <power> is 10 bit PWM power level (optional). 0 = 0%, 1023 = 100%             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <use_motion_queue> if 1 then put this command in motion queue (optional))     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // We boot up with <power> at 0                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The engraver motor is always assumed to be on RB3                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // So our init routine will map ECCP1                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Timer0 is stepper                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Timer1 is unused                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Timer2 and ECCP1 is engraver PWM                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Timer3 and ECCP2 is RC servo2 output                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Timer4 is 1ms ISR                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eb6   ecbc     CALL      0x3978,0x0     void parse_SE_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eb8   f01c                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 State = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT16 Power = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eba   0e03     MOVLW     0x3              UINT8 SEUseMotionQueue = FALSE;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ebc   6adb     CLRF      0xdb,0x0                                                                                        
                                             ExtractReturnType PowerExtract;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ebe   ecd4     CALL      0x3ba8,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ec0   f01d                                                                                                               
003298   6ae6     CLRF      0xe6,0x0                                                                                        
00329a   ec7a     CALL      0x4af4,0x0                                                                                      
00329c   f025                                                                                                               
00329e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0032a0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0032a2   0012     RETURN    0x0                                                                                             
003872   d97e     RCALL     0x3b70                                                                                          
003b70   6ae6     CLRF      0xe6,0x0                                                                                        
003b72   ec4c     CALL      0x3298,0x0                                                                                      
003b74   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00346a   6ae6     CLRF      0xe6,0x0         extract_number(kUCHAR, &State, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00346c   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
00346e   ffe6                                                                                                               
003470   cfda     MOVFF     0xfda,0xfe6                                                                                     
003472   ffe6                                                                                                               
003474   0012     RETURN    0x0                                                                                             
003874   d1ac     BRA       0x3bce                                                                                          
003b76   ef35     GOTO      0x346a                                                                                          
003b78   f01a                                                                                                               
002ec2   ec7a     CALL      0x36f4,0x0       PowerExtract = extract_number(kUINT, &Power, kOPTIONAL);                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ec4   f01b                                                                                                               
0033c0   0e01     MOVLW     0x1                                                                                             
0033c2   6ee6     MOVWF     0xe6,0x0                                                                                        
0033c4   effa     GOTO      0x39f4                                                                                          
0033c6   f01c                                                                                                               
002ec6   ecd8     CALL      0x3bb0,0x0       extract_number(kUCHAR, &SEUseMotionQueue, kOPTIONAL);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ec8   f01d                                                                                                               
00315c   6ee6     MOVWF     0xe6,0x0                                                                                        
00315e   ecaa     CALL      0x5d54,0x0                                                                                      
003160   f02e                                                                                                               
003162   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003164   ef96     GOTO      0x3b2c                                                                                          
003166   f01d                                                                                                               
003904   6ee6     MOVWF     0xe6,0x0                                                                                        
003906   0e00     MOVLW     0x0                                                                                             
003908   20da     ADDWFC    0xda,0x0,0x0                                                                                    
00390a   6ee6     MOVWF     0xe6,0x0                                                                                        
00390c   d160     BRA       0x3bce                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eca   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ecc   5184     MOVF      0x84,0x0,0x1                                                                                    
002ece   e001     BZ        0x2ed2                                                                                          
002ed0   d08d     BRA       0x2fec                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Limit check                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ed2   da85     RCALL     0x33de           if (Power > 1023u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ed4   0eff     MOVLW     0xff                                                                                            
002ed6   80d8     BSF       0xd8,0x0,0x0                                                                                    
002ed8   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
002eda   0e03     MOVLW     0x3                                                                                             
002edc   54ed     SUBFWB    0xed,0x0,0x0                                                                                    
002ede   e205     BC        0x2eea                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ee0   0e01     MOVLW     0x1                Power = 1023;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ee2   68db     SETF      0xdb,0x0                                                                                        
002ee4   0e03     MOVLW     0x3                                                                                             
002ee6   ecd6     CALL      0x37ac,0x0                                                                                      
002ee8   f01b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eea   50df     MOVF      0xdf,0x0,0x0     if (State > 1u)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eec   0801     SUBLW     0x1                                                                                             
002eee   e202     BC        0x2ef4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ef0   0e01     MOVLW     0x1                State = 1;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ef2   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ef4   0e03     MOVLW     0x3              if (SEUseMotionQueue > 1u)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ef6   50db     MOVF      0xdb,0x0,0x0                                                                                    
002ef8   0801     SUBLW     0x1                                                                                             
002efa   e201     BC        0x2efe                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002efc   db67     RCALL     0x35cc             SEUseMotionQueue = 1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set to %50 if no Power parameter specified, otherwise use parameter         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002efe   04df     DECF      0xdf,0x0,0x0     if (State == 1u && PowerExtract == kEXTRACT_MISSING_PARAMETER)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f00   e109     BNZ       0x2f14                                                                                          
002f02   0e04     MOVLW     0x4                                                                                             
002f04   50db     MOVF      0xdb,0x0,0x0                                                                                    
002f06   0803     SUBLW     0x3                                                                                             
002f08   e105     BNZ       0x2f14                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f0a   0101     MOVLB     0x1                StoredEngraverPower = 512;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f0c   6bbf     CLRF      0xbf,0x1                                                                                        
002f0e   0e02     MOVLW     0x2                                                                                             
002f10   6fc0     MOVWF     0xc0,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f12   d006     BRA       0x2f20           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f14   0e01     MOVLW     0x1                StoredEngraverPower = Power;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f16   cfdb     MOVFF     0xfdb,0x1bf                                                                                     
002f18   f1bf                                                                                                               
002f1a   0e02     MOVLW     0x2                                                                                             
002f1c   cfdb     MOVFF     0xfdb,0x1c0                                                                                     
002f1e   f1c0                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If we're not on, then turn us on                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f20   b4ca     BTFSC     0xca,0x2,0x0     if (T2CONbits.TMR2ON != 1u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f22   d015     BRA       0x2f4e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Set up PWM for Engraver control                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // We will use ECCP1 and Timer2 for the engraver PWM output on RB3           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Our PWM will operate at about 40Khz.                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Set our reload value                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f24   68cb     SETF      0xcb,0x0           PR2 = 0xFF;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Initialize Timer2                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // The prescaler will be at 1                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f26   0efc     MOVLW     0xfc               T2CONbits.T2CKPS = 0b00;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f28   14ca     ANDWF     0xca,0x0,0x0                                                                                    
002f2a   0900     IORLW     0x0                                                                                             
002f2c   6eca     MOVWF     0xca,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Do not generate an interrupt                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f2e   929d     BCF       0x9d,0x1,0x0       PIE1bits.TMR2IE = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f30   010f     MOVLB     0xf                TCLKCONbits.T3CCP1 = 1;       // ECCP1 uses Timer1/2 and ECCP2 uses Timer3/4 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f32   8152     BSF       0x52,0x0,0x1                                                                                    
002f34   9352     BCF       0x52,0x1,0x1       TCLKCONbits.T3CCP2 = 0;       // ECCP1 uses Timer1/2 and ECCP2 uses Timer3/4 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f36   0ef0     MOVLW     0xf0               CCP1CONbits.CCP1M = 0b1100;   // Set EECP1 as PWM mode                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f38   14ba     ANDWF     0xba,0x0,0x0                                                                                    
002f3a   090c     IORLW     0xc                                                                                             
002f3c   6eba     MOVWF     0xba,0x0                                                                                        
002f3e   0e3f     MOVLW     0x3f               CCP1CONbits.P1M = 0b00;       // Enhanced PWM mode: single output            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f40   14ba     ANDWF     0xba,0x0,0x0                                                                                    
002f42   0900     IORLW     0x0                                                                                             
002f44   6eba     MOVWF     0xba,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Set up output routing to go to RB3 (RP6)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f46   010e     MOVLB     0xe                RPOR6 = 14;                   // 14 is CCP1/P1A - ECCP1 PWM Output Channel A D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f48   0e0e     MOVLW     0xe                                                                                             
002f4a   6fcc     MOVWF     0xcc,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f4c   84ca     BSF       0xca,0x2,0x0       T2CONbits.TMR2ON = 1;         // Turn it on                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Acting on the state is only done if the SE command is not put on the motion queue D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f4e   0e03     MOVLW     0x3              if (!SEUseMotionQueue)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f50   50db     MOVF      0xdb,0x0,0x0                                                                                    
002f52   e12a     BNZ       0x2fa8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Now act on the State                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f54   50df     MOVF      0xdf,0x0,0x0       if (State)                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f56   e023     BZ        0x2f9e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set RB3 to StoredEngraverPower                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f58   c1bf     MOVFF     0x1bf,0x4e           CCPR1L = StoredEngraverPower >> 2;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f5a   f04e                                                                                                               
002f5c   c1c0     MOVFF     0x1c0,0x4f                                                                                      
002f5e   f04f                                                                                                               
002f60   90d8     BCF       0xd8,0x0,0x0                                                                                    
002f62   324f     RRCF      0x4f,0x1,0x0                                                                                    
002f64   324e     RRCF      0x4e,0x1,0x0                                                                                    
002f66   90d8     BCF       0xd8,0x0,0x0                                                                                    
002f68   324f     RRCF      0x4f,0x1,0x0                                                                                    
002f6a   324e     RRCF      0x4e,0x1,0x0                                                                                    
002f6c   504e     MOVF      0x4e,0x0,0x0                                                                                    
002f6e   6ebb     MOVWF     0xbb,0x0                                                                                        
002f70   c1bf     MOVFF     0x1bf,0x50           CCP1CON = (CCP1CON & 0b11001111) | ((StoredEngraverPower << 4) & 0b00110000); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f72   f050                                                                                                               
002f74   c1c0     MOVFF     0x1c0,0x51                                                                                      
002f76   f051                                                                                                               
002f78   0e04     MOVLW     0x4                                                                                             
002f7a   90d8     BCF       0xd8,0x0,0x0                                                                                    
002f7c   3650     RLCF      0x50,0x1,0x0                                                                                    
002f7e   3651     RLCF      0x51,0x1,0x0                                                                                    
002f80   04e8     DECF      0xe8,0x0,0x0                                                                                    
002f82   e1fb     BNZ       0x2f7a                                                                                          
002f84   0e30     MOVLW     0x30                                                                                            
002f86   1650     ANDWF     0x50,0x1,0x0                                                                                    
002f88   0e00     MOVLW     0x0                                                                                             
002f8a   1651     ANDWF     0x51,0x1,0x0                                                                                    
002f8c   0ecf     MOVLW     0xcf                                                                                            
002f8e   14ba     ANDWF     0xba,0x0,0x0                                                                                    
002f90   0100     MOVLB     0x0                                                                                             
002f92   1050     IORWF     0x50,0x0,0x0                                                                                    
002f94   6e4e     MOVWF     0x4e,0x0                                                                                        
002f96   c051     MOVFF     0x51,0x4f                                                                                       
002f98   f04f                                                                                                               
002f9a   50e8     MOVF      0xe8,0x0,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f9c   d003     BRA       0x2fa4             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set RB3 to low by setting PWM duty cycle to zero                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f9e   6abb     CLRF      0xbb,0x0             CCPR1L = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fa0   0ecf     MOVLW     0xcf                 CCP1CON = (CCP1CON & 0b11001111);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fa2   14ba     ANDWF     0xba,0x0,0x0                                                                                    
002fa4   6eba     MOVWF     0xba,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fa6   d021     BRA       0x2fea           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fa8   bc09     BTFSC     0x9,0x6,0x0        if (!bittst(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM))                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002faa   d01f     BRA       0x2fea                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Trial: Spin here until there's space in the FIFO                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fac   5013     MOVF      0x13,0x0,0x0         while(gFIFOLength >= gCurrentFIFOLength)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fae   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
002fb0   e2fd     BC        0x2fac                                                                                          
                                                   ;                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set up the motion queue command                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fb2   db28     RCALL     0x3604               FIFOPtr[gFIFOIn].m.sm.SEPower = StoredEngraverPower;                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fb4   0e2c     MOVLW     0x2c                                                                                            
002fb6   ecee     CALL      0x3bdc,0x0                                                                                      
002fb8   f01d                                                                                                               
002fba   c1bf     MOVFF     0x1bf,0xfee                                                                                     
002fbc   ffee                                                                                                               
002fbe   c1c0     MOVFF     0x1c0,0xfed                                                                                     
002fc0   ffed                                                                                                               
002fc2   da02     RCALL     0x33c8               FIFOPtr[gFIFOIn].m.sm.DelayCounter = 0;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fc4   52ee     MOVF      0xee,0x1,0x0                                                                                    
002fc6   52ee     MOVF      0xee,0x1,0x0                                                                                    
002fc8   6aee     CLRF      0xee,0x0                                                                                        
002fca   6aee     CLRF      0xee,0x0                                                                                        
002fcc   6aee     CLRF      0xee,0x0                                                                                        
002fce   6aee     CLRF      0xee,0x0                                                                                        
002fd0   d9fb     RCALL     0x33c8               FIFOPtr[gFIFOIn].m.sm.SEState = State;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fd2   db78     RCALL     0x36c4                                                                                          
002fd4   cfdf     MOVFF     0xfdf,0xfef                                                                                     
002fd6   ffef                                                                                                               
0033c8   5010     MOVF      0x10,0x0,0x0                                                                                    
0033ca   0d2f     MULLW     0x2f                                                                                            
0033cc   ef45     GOTO      0x388a                                                                                          
0033ce   f01c                                                                                                               
002fd8   d9f7     RCALL     0x33c8               FIFOPtr[gFIFOIn].Command = COMMAND_SE;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fda   0e03     MOVLW     0x3                                                                                             
002fdc   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fde   2a10     INCF      0x10,0x1,0x0         gFIFOIn++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fe0   5013     MOVF      0x13,0x0,0x0         if (gFIFOIn >= gCurrentFIFOLength)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fe2   5c10     SUBWF     0x10,0x0,0x0                                                                                    
002fe4   e301     BNC       0x2fe8                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fe6   6a10     CLRF      0x10,0x0               gFIFOIn = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fe8   2a0f     INCF      0xf,0x1,0x0          gFIFOLength++;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fea   d991     RCALL     0x330e           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fec   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fee   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002ff0   e202     BC        0x2ff6                                                                                          
002ff2   6ae1     CLRF      0xe1,0x0                                                                                        
002ff4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002ff6   d184     BRA       0x3300                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Do the work of the QM command so we can use this same code for QM and         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // for QG commands.                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ff8   d985     RCALL     0x3304         UINT8 process_QM(void)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ffa   0e04     MOVLW     0x4                                                                                             
002ffc   da3c     RCALL     0x3476                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 CommandExecuting = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 Motor1Running = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 Motor2Running = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ffe   0e03     MOVLW     0x3              UINT8 FIFOStatus = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003000   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Need to turn off high priority interrupts briefly here to read out value that ISR uses D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003002   9ef2     BCF       0xf2,0x7,0x0     INTCONbits.GIEH = 0;  // Turn high priority interrupts off                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Create our output values to print back to the PC                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003004   0101     MOVLB     0x1              if (CurrentCommand.m.sm.DelayCounter != 0u)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003006   db6c     RCALL     0x36e0                                                                                          
003008   e002     BZ        0x300e                                                                                          
0036e0   5187     MOVF      0x87,0x0,0x1                                                                                    
0036e2   1188     IORWF     0x88,0x0,0x1                                                                                    
0036e4   1189     IORWF     0x89,0x0,0x1                                                                                    
0036e6   118a     IORWF     0x8a,0x0,0x1                                                                                    
0036e8   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00300a   0e01     MOVLW     0x1                CommandExecuting = 1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00300c   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00300e   5185     MOVF      0x85,0x0,0x1     if (CurrentCommand.Command != COMMAND_NONE)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003010   e002     BZ        0x3016                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003012   0e01     MOVLW     0x1                CommandExecuting = 1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003014   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003016   500f     MOVF      0xf,0x0,0x0      if (gFIFOLength)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003018   e006     BZ        0x3026                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00301a   0e01     MOVLW     0x1                CommandExecuting = 1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00301c   6edf     MOVWF     0xdf,0x0                                                                                        
00301e   6ef3     MOVWF     0xf3,0x0           FIFOStatus = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003020   0e03     MOVLW     0x3                                                                                             
003022   cff3     MOVFF     0xff3,0xfdb                                                                                     
003024   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003026   50df     MOVF      0xdf,0x0,0x0     if (CommandExecuting && CurrentCommand.m.sm.Steps[0] != 0u)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003028   e005     BZ        0x3034                                                                                          
00302a   daf7     RCALL     0x361a                                                                                          
00302c   e003     BZ        0x3034                                                                                          
00361a   5194     MOVF      0x94,0x0,0x1                                                                                    
00361c   1195     IORWF     0x95,0x0,0x1                                                                                    
00361e   1196     IORWF     0x96,0x0,0x1                                                                                    
003620   1197     IORWF     0x97,0x0,0x1                                                                                    
003622   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00302e   52de     MOVF      0xde,0x1,0x0       Motor1Running = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003030   0e01     MOVLW     0x1                                                                                             
003032   6edd     MOVWF     0xdd,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003034   50df     MOVF      0xdf,0x0,0x0     if (CommandExecuting && CurrentCommand.m.sm.Steps[1] != 0u)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003036   e004     BZ        0x3040                                                                                          
003038   db4e     RCALL     0x36d6                                                                                          
00303a   e002     BZ        0x3040                                                                                          
0036d6   5198     MOVF      0x98,0x0,0x1                                                                                    
0036d8   1199     IORWF     0x99,0x0,0x1                                                                                    
0036da   119a     IORWF     0x9a,0x0,0x1                                                                                    
0036dc   119b     IORWF     0x9b,0x0,0x1                                                                                    
0036de   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00303c   0e01     MOVLW     0x1                Motor2Running = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00303e   dbb6     RCALL     0x37ac                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Re-enable interrupts                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003040   8ef2     BSF       0xf2,0x7,0x0     INTCONbits.GIEH = 1;  // Turn high priority interrupts on                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003042   0e03     MOVLW     0x3              return ((CommandExecuting << 3) | (Motor1Running << 2) | (Motor2Running << 1) | FIFOStatus); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003044   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
003046   ffe6                                                                                                               
003048   0e02     MOVLW     0x2                                                                                             
00304a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00304c   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
00304e   6e4f     MOVWF     0x4f,0x0                                                                                        
003050   0e01     MOVLW     0x1                                                                                             
003052   50db     MOVF      0xdb,0x0,0x0                                                                                    
003054   0d04     MULLW     0x4                                                                                             
003056   cff3     MOVFF     0xff3,0x4e                                                                                      
003058   f04e                                                                                                               
00305a   50df     MOVF      0xdf,0x0,0x0                                                                                    
00305c   0d08     MULLW     0x8                                                                                             
00305e   50f3     MOVF      0xf3,0x0,0x0                                                                                    
003060   104e     IORWF     0x4e,0x0,0x0                                                                                    
003062   104f     IORWF     0x4f,0x0,0x0                                                                                    
003064   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003066   10e7     IORWF     0xe7,0x0,0x0                                                                                    
003068   6e4e     MOVWF     0x4e,0x0       }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00306a   0e04     MOVLW     0x4                                                                                             
00306c   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00306e   e202     BC        0x3074                                                                                          
003070   6ae1     CLRF      0xe1,0x0                                                                                        
003072   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003074   6ee1     MOVWF     0xe1,0x0                                                                                        
003076   504e     MOVF      0x4e,0x0,0x0                                                                                    
003078   ef13     GOTO      0x3a26                                                                                          
00307a   f01d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QM command                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For Query Motor - returns the current status of each motor                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QM takes no parameters, so usage is just QM<CR>                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QM returns:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QM,<CommandExecutingStatus>,<Motor1Satus>,<Motor2Status><CR>                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // where:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   <CommandExecutingStatus>: 0 if no 'motion command' is executing, > 0 if some 'motion command' is executing D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   <Motor1Status>: 0 if motor 1 is idle, 1 if motor is moving                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   <Motor2Status>: 0 if motor 2 is idle, 1 if motor is moving                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // As of version 2.4.4, there is now a fourth parameter at the end of the reply packet. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QM,<CommandExecutingStatus>,<Motor1Satus>,<Motor2Status>,<FIFOStatus><CR>     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Where <FIFOStatus> is either 1 (if there are any commands in the FIFO) or 0 (if the FIFO is empty) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00307c   ecbc     CALL      0x3978,0x0     void parse_QM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00307e   f01c                                                                                                               
003476   dba2     RCALL     0x3bbc                                                                                          
003978   dcc5     RCALL     0x3304                                                                                          
00397a   0e05     MOVLW     0x5                                                                                             
00397c   ef3b     GOTO      0x3476                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00397e   f01a                                UINT8 CommandExecuting = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 Motor1Running = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003478   0e02     MOVLW     0x2              UINT8 Motor2Running = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00347a   6adb     CLRF      0xdb,0x0                                                                                        
00347c   0012     RETURN    0x0                                                                                             
003080   0e03     MOVLW     0x3              UINT8 FIFOStatus = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003082   6adb     CLRF      0xdb,0x0                                                                                        
003084   dfb9     RCALL     0x2ff8           UINT8 result = process_QM();                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003086   db36     RCALL     0x36f4                                                                                          
0036f4   6ee7     MOVWF     0xe7,0x0                                                                                        
0036f6   0e04     MOVLW     0x4                                                                                             
0036f8   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0036fa   ffdb                                                                                                               
0036fc   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003088   0e01     MOVLW     0x1              print_command(TRUE, TRUE);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00308a   6ee6     MOVWF     0xe6,0x0                                                                                        
00308c   6ee6     MOVWF     0xe6,0x0                                                                                        
00308e   ec7a     CALL      0x4af4,0x0                                                                                      
003090   f025                                                                                                               
003092   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003094   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003096   0e04     MOVLW     0x4              if (result & 0x01)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003098   b0db     BTFSC     0xdb,0x0,0x0                                                                                    
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00309a   da98     RCALL     0x35cc             FIFOStatus = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0035cc   0e01     MOVLW     0x1                                                                                             
0035ce   6ef3     MOVWF     0xf3,0x0                                                                                        
0035d0   0e03     MOVLW     0x3                                                                                             
0035d2   cff3     MOVFF     0xff3,0xfdb                                                                                     
0035d4   ffdb                                                                                                               
0035d6   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00309c   0e04     MOVLW     0x4              if (result & 0x02)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00309e   a2db     BTFSS     0xdb,0x1,0x0                                                                                    
0030a0   d002     BRA       0x30a6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030a2   0e01     MOVLW     0x1                Motor2Running = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030a4   db83     RCALL     0x37ac                                                                                          
0037ac   6ef3     MOVWF     0xf3,0x0                                                                                        
0037ae   0e02     MOVLW     0x2                                                                                             
0037b0   cff3     MOVFF     0xff3,0xfdb                                                                                     
0037b2   ffdb                                                                                                               
0037b4   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030a6   0e04     MOVLW     0x4              if (result & 0x04)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030a8   a4db     BTFSS     0xdb,0x2,0x0                                                                                    
0030aa   d003     BRA       0x30b2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030ac   52de     MOVF      0xde,0x1,0x0       Motor1Running = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030ae   0e01     MOVLW     0x1                                                                                             
0030b0   6edd     MOVWF     0xdd,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030b2   0e04     MOVLW     0x4              if (result & 0x08)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030b4   a6db     BTFSS     0xdb,0x3,0x0                                                                                    
0030b6   d002     BRA       0x30bc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030b8   0e01     MOVLW     0x1                CommandExecuting = 1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030ba   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030bc   cfdf     MOVFF     0xfdf,0x4e       ebb_print_int(CommandExecuting);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030be   f04e                                                                                                               
0030c0   6a4f     CLRF      0x4f,0x0                                                                                        
0030c2   d8e7     RCALL     0x3292                                                                                          
0030c4   d9e6     RCALL     0x3492           ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003492   0e2c     MOVLW     0x2c                                                                                            
003494   6ee6     MOVWF     0xe6,0x0                                                                                        
003496   ec14     CALL      0x4428,0x0                                                                                      
003498   f022                                                                                                               
00349a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00349c   0012     RETURN    0x0                                                                                             
0030c6   0e01     MOVLW     0x1              ebb_print_int(Motor1Running);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030c8   ec8f     CALL      0x391e,0x0                                                                                      
0030ca   f01c                                                                                                               
0030cc   d9e2     RCALL     0x3492           ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030ce   0e02     MOVLW     0x2              ebb_print_int(Motor2Running);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030d0   ec8f     CALL      0x391e,0x0                                                                                      
0030d2   f01c                                                                                                               
0030d4   d9de     RCALL     0x3492           ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030d6   0e03     MOVLW     0x3              ebb_print_int(FIFOStatus);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030d8   ec8f     CALL      0x391e,0x0                                                                                      
0030da   f01c                                                                                                               
003292   dad0     RCALL     0x3834                                                                                          
003294   ef16     GOTO      0x382c                                                                                          
003296   f01c                                                                                                               
00391e   cfdb     MOVFF     0xfdb,0x4e                                                                                      
003920   f04e                                                                                                               
003922   6a4f     CLRF      0x4f,0x0                                                                                        
003924   ef49     GOTO      0x3292                                                                                          
003926   f019                                                                                                               
0030dc   d920     RCALL     0x331e           print_line_ending(kLE_REV);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030de   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030e0   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0030e2   e202     BC        0x30e8                                                                                          
0030e4   6ae1     CLRF      0xe1,0x0                                                                                        
0030e6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0030e8   d10b     BRA       0x3300                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QS command                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For Query Step position - returns the current x and y global step positions   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QS takes no parameters, so usage is just CS<CR>                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QS returns:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QS,<global_step1_position>,<global_step2_position><CR>                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // where:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   <global_step1_position>: signed 32 bit value, current global motor 1 step position D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   <global_step2_position>: signed 32 bit value, current global motor 2 step position D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030ea   d90c     RCALL     0x3304         void parse_QS_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030ec   0e08     MOVLW     0x8                                                                                             
0030ee   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             INT32 step1, step2;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030f0   ec8b     CALL      0x3916,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030f2   f01c                                                                                                               
003916   0e01     MOVLW     0x1                                                                                             
003918   6ee6     MOVWF     0xe6,0x0                                                                                        
00391a   ef4c     GOTO      0x3298                                                                                          
00391c   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Need to turn off high priority interrupts briefly here to read out value that ISR uses D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030f4   9ef2     BCF       0xf2,0x7,0x0     INTCONbits.GIEH = 0;  // Turn high priority interrupts off                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Make a local copy of the things we care about                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030f6   c016     MOVFF     0x16,0xfdf       step1 = globalStepCounter1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030f8   ffdf                                                                                                               
0030fa   0e01     MOVLW     0x1                                                                                             
0030fc   c017     MOVFF     0x17,0xfdb                                                                                      
0030fe   ffdb                                                                                                               
003100   0e02     MOVLW     0x2                                                                                             
003102   c018     MOVFF     0x18,0xfdb                                                                                      
003104   ffdb                                                                                                               
003106   0e03     MOVLW     0x3                                                                                             
003108   c019     MOVFF     0x19,0xfdb                                                                                      
00310a   ffdb                                                                                                               
00310c   0e04     MOVLW     0x4              step2 = globalStepCounter2;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00310e   c01a     MOVFF     0x1a,0xfdb                                                                                      
003110   ffdb                                                                                                               
003112   0e05     MOVLW     0x5                                                                                             
003114   c01b     MOVFF     0x1b,0xfdb                                                                                      
003116   ffdb                                                                                                               
003118   0e06     MOVLW     0x6                                                                                             
00311a   c01c     MOVFF     0x1c,0xfdb                                                                                      
00311c   ffdb                                                                                                               
00311e   0e07     MOVLW     0x7                                                                                             
003120   c01d     MOVFF     0x1d,0xfdb                                                                                      
003122   ffdb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Re-enable interrupts                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003124   8ef2     BSF       0xf2,0x7,0x0     INTCONbits.GIEH = 1;  // Turn high priority interrupts on                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003126   cfd9     MOVFF     0xfd9,0xfe9      ebb_print_int(step1);                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003128   ffe9                                                                                                               
00312a   d8c1     RCALL     0x32ae                                                                                          
00312c   d9b2     RCALL     0x3492           ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00312e   50d9     MOVF      0xd9,0x0,0x0     ebb_print_int(step2);                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003130   0f04     ADDLW     0x4                                                                                             
003132   ec20     CALL      0x3a40,0x0                                                                                      
003134   f01d                                                                                                               
0032ae   cfda     MOVFF     0xfda,0xfea                                                                                     
0032b0   ffea                                                                                                               
0032b2   cfee     MOVFF     0xfee,0xfe6                                                                                     
0032b4   ffe6                                                                                                               
0032b6   cfee     MOVFF     0xfee,0xfe6                                                                                     
0032b8   ffe6                                                                                                               
0032ba   cfee     MOVFF     0xfee,0xfe6                                                                                     
0032bc   ffe6                                                                                                               
0032be   cfef     MOVFF     0xfef,0xfe6                                                                                     
0032c0   ffe6                                                                                                               
0032c2   ef16     GOTO      0x382c                                                                                          
0032c4   f01c                                                                                                               
003a40   6ee9     MOVWF     0xe9,0x0                                                                                        
003a42   ef57     GOTO      0x32ae                                                                                          
003a44   f019                                                                                                               
003136   0101     MOVLB     0x1              if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003138   a1c3     BTFSS     0xc3,0x0,0x1                                                                                    
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00313a   d8f1     RCALL     0x331e             print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00331e   0e02     MOVLW     0x2                                                                                             
003320   6ee6     MOVWF     0xe6,0x0                                                                                        
003322   d385     BRA       0x3a2e                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00313c   d8e8     RCALL     0x330e           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00313e   0e08     MOVLW     0x8            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003140   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
003142   e202     BC        0x3148                                                                                          
003144   6ae1     CLRF      0xe1,0x0                                                                                        
003146   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003148   d0db     BRA       0x3300                                                                                          
003300   6ee1     MOVWF     0xe1,0x0                                                                                        
003302   d391     BRA       0x3a26                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Perform the actual clearing of the step counters (used from several places)   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void clear_StepCounters(void)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Need to turn off high priority interrupts briefly here to read out value that ISR uses D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00314a   9ef2     BCF       0xf2,0x7,0x0     INTCONbits.GIEH = 0;  // Turn high priority interrupts off                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Clear out the global step counters                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00314c   d9a8     RCALL     0x349e           globalStepCounter1 = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             globalStepCounter2 = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Clear both step accumulators as well                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             acc_union[0].value = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             acc_union[1].value = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Re-enable interrupts                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00314e   8ef2     BSF       0xf2,0x7,0x0     INTCONbits.GIEH = 1;  // Turn high priority interrupts on                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003150   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // CS command                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For Clear Stepper position - zeros out both step1 and step2 global positions  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // CS takes no parameters, so usage is just CS<CR>                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QS returns:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // OK<CR>                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note, as of 2.7.0 this also clears out the step accumulators as well          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_CS_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003152   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003154   d8a1     RCALL     0x3298                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003156   dff9     RCALL     0x314a           clear_StepCounters();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003158   ef87     GOTO      0x330e           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00315a   f019                                                                                                               
00330e   6ae6     CLRF      0xe6,0x0                                                                                        
003310   d38e     BRA       0x3a2e                                                                                          
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           /*********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                UBW Firmware                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * FileName:        main.c                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Company:         Schmalz Haus LLC                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Author:          Brian Schmalz                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Based on original files by Microchip Inc. in MAL USB example.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Software License Agreement                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Copyright (c) 2014-2023, Brian Schmalz of Schmalz Haus LLC                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * All rights reserved.                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Redistribution and use in source and binary forms, with or                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * without modification, are permitted provided that the following               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * conditions are met:                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * 1. Redistributions of source code must retain the above                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * disclaimer.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * 2. Redistributions in binary form must reproduce the above                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * disclaimer in the documentation and/or other materials                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * provided with the distribution.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * 3. Neither the name of the copyright holder nor the names of                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * its contributors may be used to endorse or promote products                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * derived from this software without specific prior written                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * permission.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * SUCH DAMAGE.                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            */                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** INCLUDES *******************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #include "Usb\usb.h"                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #include "Usb\usb_function_cdc.h"                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #include "HardwareProfile.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if !defined (PROGRAMMABLE_WITH_USB_HID_BOOTLOADER)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config WDTEN = OFF          // WDT disabled (enabled by SWDTEN bit)    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config PLLDIV = 2           // Divide by 2 (8 MHz internal oscillator) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config STVREN = ON          // stack overflow/underflow reset enabled  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config XINST = OFF          // Extended instruction set disabled       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config CPUDIV = OSC1        // No CPU system clock divide              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config CP0 = OFF            // Program memory is not code-protected    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config OSC = INTOSCPLL      // Internal oscillator, PLL enabled, PLL used by USB, RA6 and RA7 for I/O use D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config T1DIG = ON           // Sec Osc clock source may be selected    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config LPT1OSC = ON         // high power Timer1 mode                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config FCMEN = OFF          // Fail-Safe Clock Monitor disabled        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config IESO = OFF           // Two-Speed Start-up disabled             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config WDTPS = 32768        // 1:32768                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config DSWDTOSC = INTOSCREF // DSWDT uses INTOSC/INTRC as clock        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config RTCOSC = T1OSCREF    // RTCC uses T1OSC/T1CKI as clock          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config DSBOREN = OFF        // Zero-Power BOR disabled in Deep Sleep   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config DSWDTEN = OFF        // Disabled                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config DSWDTPS = 8192       // 1:8,192 (8.5 seconds)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config IOL1WAY = OFF        // IOLOCK bit can be set and cleared       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config MSSP7B_EN = MSK7     // 7 Bit address masking                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config WPFP = PAGE_1        // Write Protect Program Flash Page 0      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config WPEND = PAGE_0       // Start protection at page 0              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config WPCFG = OFF          // Write/Erase last page protect Disabled  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config WPDIS = OFF          // WPFP[5:0], WPEND, and WPCFG bits ignored  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** I N C L U D E S **********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #include "usb_config.h"                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #include "UBW.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** V A R I A B L E S ********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #pragma udata                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           static void InitializeSystem(void);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBDeviceTasks(void);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** VECTOR REMAPPING ***********************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // On PIC18 devices, addresses 0x00, 0x08, and 0x18 are used for                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // the reset, high priority interrupt, and low priority interrupt                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // vectors.  However, the current Microchip USB bootloader                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // examples are intended to occupy addresses 0x00-0x7FF or                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // 0x00-0xFFF depending on which bootloader is used.  Therefore,                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // the bootloader code remaps these vectors to new locations                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // as indicated below.  This remapping is only necessary if you                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // wish to program the hex file generated from this project with                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // the USB bootloader.  If no bootloader is used, edit the                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // usb_config.h file and comment out the following defines:                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           //#define PROGRAMMABLE_WITH_USB_HID_BOOTLOADER                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           //#define PROGRAMMABLE_WITH_USB_LEGACY_CUSTOM_CLASS_BOOTLOADER                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(PROGRAMMABLE_WITH_USB_HID_BOOTLOADER)                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_RESET_VECTOR_ADDRESS           0x1000                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_HIGH_INTERRUPT_VECTOR_ADDRESS  0x1008                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_LOW_INTERRUPT_VECTOR_ADDRESS   0x1018                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #elif defined(PROGRAMMABLE_WITH_USB_MCHPUSB_BOOTLOADER)                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_RESET_VECTOR_ADDRESS           0x800                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_HIGH_INTERRUPT_VECTOR_ADDRESS  0x808                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_LOW_INTERRUPT_VECTOR_ADDRESS   0x818                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_RESET_VECTOR_ADDRESS           0x00                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_HIGH_INTERRUPT_VECTOR_ADDRESS  0x08                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_LOW_INTERRUPT_VECTOR_ADDRESS 0x18                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(PROGRAMMABLE_WITH_USB_HID_BOOTLOADER) || defined(PROGRAMMABLE_WITH_USB_MCHPUSB_BOOTLOADER) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           extern void _startup (void);        // See c018i.c in your C18 compiler dir      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #pragma code REMAPPED_RESET_VECTOR = REMAPPED_RESET_VECTOR_ADDRESS               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void _reset (void)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
001000   efa1     GOTO      0x8f42           _asm goto _startup _endasm                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
001002   f047                                                                                                               
001004   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #pragma code REMAPPED_HIGH_INTERRUPT_VECTOR = REMAPPED_HIGH_INTERRUPT_VECTOR_ADDRESS D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void Remapped_High_ISR (void)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
001008   ef28     GOTO      0x1050            _asm goto high_ISR _endasm                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00100a   f008                                                                                                               
00100c   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #pragma code REMAPPED_LOW_INTERRUPT_VECTOR = REMAPPED_LOW_INTERRUPT_VECTOR_ADDRESS D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void Remapped_Low_ISR (void)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
001018   ef0c     GOTO      0x3c18            _asm goto low_ISR _endasm                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00101a   f01e                                                                                                               
00101c   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** D E C L A R A T I O N S **************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #pragma code                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void main(void)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        Main program entry point.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void main(void)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087b2   eccb     CALL      0x3f96,0x0       fill_stack();                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087b4   f01f                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087b6   d805     RCALL     0x87c2           InitializeSystem();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087c0   d7fb     BRA       0x87b8           while(1)                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(USB_INTERRUPT)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               if(USB_BUS_SENSE && (USBGetDeviceState() == DETACHED_STATE))                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 USBDeviceAttach();                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(USB_POLLING)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               // Check bus status and service USB interrupts.                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087b8   ec08     CALL      0x6810,0x0         USBDeviceTasks(); // Interrupt or polling method.  If using polling, must call D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087ba   f034                                                                                                               
                                                                 // this function periodically.  This function will take care D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // of processing and responding to SETUP transactions      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // (such as during the enumeration process when you first  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // plug in).  USB hosts require that USB devices should accept D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // and process SETUP packets in a timely fashion.  Therefore, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // when using polling, this function should be called      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // frequently (such as once about every 100 microseconds) at any D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // time that a SETUP packet might reasonably be expected to D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // be sent by the host to your device.  In most cases, the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // USBDeviceTasks() function does not take very long to    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // execute (~50 instruction cycles) before it returns.     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               // Application-specific tasks.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               // Application related code may be added here, or in the ProcessIO() function. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087bc   ecf8     CALL      0x41f0,0x0         ProcessIO();                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087be   f020                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        static void InitializeSystem(void)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        InitializeSystem is a centralize initialization routine.     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  All required USB initialization routines are called from     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  here.                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  User application initialization routine should also be       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  called from here.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087c2   cfd9     MOVFF     0xfd9,0xfe6    static void InitializeSystem(void)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087c4   ffe6                                                                                                               
0087c6   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0087c8   ffd9                                                                                                               
0087ca   0e02     MOVLW     0x2                                                                                             
0087cc   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             unsigned int pll_startup_counter; //Used for software delay while PLL is starting up D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Configure all I/O pins to use digital input buffers.  The PIC18F87J50 Family devices D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // use the ANCONx registers to control this, which is different from other devices which D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // use the ADCON1 register for this purpose.                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087ce   010f     MOVLB     0xf              ANCON0 = 0xFF;                  // Default all pins to digital                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087d0   6948     SETF      0x48,0x1                                                                                        
0087d2   6949     SETF      0x49,0x1         ANCON1 = 0xFF;                  // Default all pins to digital                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087d4   0e60     MOVLW     0x60             OSCCON = 0x60;                  // Clock switch to primary clock source.  May not have been running D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087d6   6ed3     MOVWF     0xd3,0x0                                                                                        
                                                                             // from this if the bootloader is called from the application firmware. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // On the PIC18F46J50 Family of USB microcontrollers, the PLL will not power up and be enabled D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // by default, even if a PLL enabled oscillator configuration is selected (such as HS+PLL). D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // This allows the device to power up at a lower initial operating frequency, which can be D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // advantageous when powered from a source which is not guaranteed to be adequate for 48MHz D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // operation.  On these devices, user firmware needs to manually set the OSCTUNE<PLLEN> bit to D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // power up the PLL.                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087d8   8c9b     BSF       0x9b,0x6,0x0     OSCTUNEbits.PLLEN = 1;  // Enable the PLL and wait 2+ms until the PLL locks before enabling USB module D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087da   0e58     MOVLW     0x58             pll_startup_counter = 600;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087dc   6ede     MOVWF     0xde,0x0                                                                                        
0087de   0e02     MOVLW     0x2                                                                                             
0087e0   6edd     MOVWF     0xdd,0x0                                                                                        
0087e2   cfdf     MOVFF     0xfdf,0x4e       while(pll_startup_counter--)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087e4   f04e                                                                                                               
0087e6   06df     DECF      0xdf,0x1,0x0                                                                                    
0087e8   0e01     MOVLW     0x1                                                                                             
0087ea   cfdb     MOVFF     0xfdb,0x4f                                                                                      
0087ec   f04f                                                                                                               
0087ee   e201     BC        0x87f2                                                                                          
0087f0   06db     DECF      0xdb,0x1,0x0                                                                                    
0087f2   504e     MOVF      0x4e,0x0,0x0                                                                                    
0087f4   104f     IORWF     0x4f,0x0,0x0                                                                                    
0087f6   e1f5     BNZ       0x87e2                                                                                          
                                               ;                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Device switches over automatically to PLL output after PLL is locked and ready. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  The USB specifications require that USB peripheral devices must never source D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  current onto the Vbus pin.  Additionally, USB peripherals should not source D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  current on D+ or D- when the host/hub is not actively powering the Vbus line. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  When designing a self powered (as opposed to bus powered) USB peripheral   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  device, the firmware should make sure not to turn on the USB module and D+ D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  or D- pull up resistor unless Vbus is actively powered.  Therefore, the    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  firmware needs some means to detect when Vbus is being powered by the host. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  A 5V tolerant I/O pin can be connected to Vbus (through a resistor), and   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  can be used to detect when Vbus is high (host actively powering), or low   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  (host is shut down or otherwise not supplying power).  The USB firmware    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  can then periodically poll this I/O pin to know when it is okay to turn on D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  the USB module/D+/D- pull up resistor.  When designing a purely bus powered D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  peripheral device, it is not possible to source current on D+ or D- when the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  host is not actively providing power on Vbus. Therefore, implementing this D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  bus sense feature is optional.  This firmware can be made to use this bus  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  sense feature by making sure "USE_USB_BUS_SENSE_IO" has been defined in the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  HardwareProfile.h file.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(USE_USB_BUS_SENSE_IO)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087f8   8e94     BSF       0x94,0x7,0x0     tris_usb_bus_sense = INPUT_PIN; // See HardwareProfile.h                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  If the host PC sends a GetStatus (device) request, the firmware must respond D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  and let the host know if the USB peripheral device is currently bus powered D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  or self powered.  See chapter 9 in the official USB specifications for details D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  regarding this request.  If the peripheral device is capable of being both D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  self and bus powered, it should not return a hard coded value for this request. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  Instead, firmware should check if it is currently self or bus powered, and D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  respond accordingly.  If the hardware has been configured like demonstrated D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  on the PICDEM FS USB Demo Board, an I/O pin can be polled to determine the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  currently selected power source.  On the PICDEM FS USB Demo Board, "RA2"   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  is used for this purpose.  If using this feature, make sure "USE_SELF_POWER_SENSE_IO" D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  has been defined in HardwareProfile.h, and that an appropriate I/O pin has been mapped D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  to it in HardwareProfile.h.                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(USE_SELF_POWER_SENSE_IO)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             tris_self_power = INPUT_PIN;  // See HardwareProfile.h                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087fa   ec3d     CALL      0x407a,0x0       UserInit();                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087fc   f020                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0087fe   eca2     CALL      0x6744,0x0       USBDeviceInit();  // usb_device.c.  Initializes USB module SFRs and firmware   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008800   f033                                                                                                               
                                                               // variables to known states.                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008802   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008804   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
008806   e202     BC        0x880c                                                                                          
008808   6ae1     CLRF      0xe1,0x0                                                                                        
00880a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00880c   6ee1     MOVWF     0xe1,0x0                                                                                        
00880e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008810   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
008812   ffd9                                                                                                               
008814   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // ****************************************************************************************************** D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // ************** USB Callback Functions **************************************************************** D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // ****************************************************************************************************** D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // The USB firmware stack will call the callback functions USBCBxxx() in response to certain USB related D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // events.  For example, if the host PC is powering down, it will stop sending out Start of Frame (SOF) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // packets to your device.  In response to this, all USB devices are supposed to decrease their power D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // consumption from the USB Vbus to <2.5mA each.  The USB module detects this condition (which according D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // to the USB specifications is 3+ms of no bus activity/SOF packets) and then calls the USBCBSuspend() D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // function.  You should modify these callback functions to take appropriate actions for each of these D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // conditions.  For example, in the USBCBSuspend(), you may wish to add code that will decrease power D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // consumption from Vbus to <2.5mA (such as by clock switching, turning off LEDs, putting the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // microcontroller to sleep, etc.).  Then, in the USBCBWakeFromSuspend() function, you may then wish to D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // add code that undoes the power saving things done in the USBCBSuspend() function. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // The USBCBSendResume() function is special, in that the USB stack will not automatically call this D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // function.  This function is meant to be called from the application firmware instead.  See the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // additional comments near the function.                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBSuspend(void)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        Call back that is invoked when a USB suspend is detected     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBSuspend(void)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Example power saving code.  Insert appropriate code here for the desired    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // application behavior.  If the microcontroller will be put to sleep, a       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // process similar to that shown below may be used:                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // ConfigureIOPinsForLowPower();                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // SaveStateOfAllInterruptEnableBits();                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // DisableAllInterruptEnableBits();                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // EnableOnlyTheInterruptsWhichWillBeUsedToWakeTheMicro(); // should enable at least USBActivityIF as a wake source D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Sleep();                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // RestoreStateOfAllPreviouslySavedInterruptEnableBits();  // Preferably, this should be done in the USBCBWakeFromSuspend() function instead. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // RestoreIOPinsToNormal();                                // Preferably, this should be done in the USBCBWakeFromSuspend() function instead. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // IMPORTANT NOTE: Do not clear the USBActivityIF (ACTVIF) bit here.  This bit is  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // cleared inside the usb_device.c file.  Clearing USBActivityIF here will cause  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // things to not work as intended.                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(__C30__)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             USBSleepOnSuspend();                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008816   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBWakeFromSuspend(void)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        The host may put USB peripheral devices in low power         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  suspend mode (by "sending" 3+ms of idle).  Once in suspend   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  mode, the host may wake the device back up by sending non-   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  idle state signaling.                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  This call back is invoked when a wakeup from USB suspend     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  is detected.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBWakeFromSuspend(void)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // If clock switching or other power savings measures were taken when          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // executing the USBCBSuspend() function, now would be a good time to          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // switch back to normal full power run mode conditions.  The host allows      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // a few milliseconds of wakeup time, after which the device must be           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // fully back to normal, and capable of receiving and processing USB           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // packets.  In order to do this, the USB module must receive proper           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // clocking (IE: 48MHz clock must be available to SIE for full speed USB       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // operation).                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008818   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCB_SOF_Handler(void)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        The USB host sends out a SOF packet to full-speed            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  devices every 1 ms. This interrupt may be useful             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  for isochronous pipes. End designers should                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  implement callback routine as necessary.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCB_SOF_Handler(void)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // No need to clear UIRbits.SOFIF to 0 here.                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Callback caller is already doing that.                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00881a   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*******************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBErrorHandler(void)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        The purpose of this callback is mainly for                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  debugging during development. Check UEIR to see              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  which error causes the interrupt.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBErrorHandler(void)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // No need to clear UEIR to 0 here.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Callback caller is already doing that.                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Typically, user firmware does not need to do anything special               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // if a USB error occurs.  For example, if the host sends an OUT               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // packet to your device, but the packet gets corrupted (ex:                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // because of a bad connection, or the user unplugs the                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // USB cable during the transmission) this will typically set                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // one or more USB error interrupt flags.  Nothing specific                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // needs to be done however, since the SIE will automatically                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // send a "NAK" packet to the host.  In response to this, the                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // host will normally retry to send the packet again, and no                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // data loss occurs.  The system will typically recover                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // automatically, without the need for application firmware                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // intervention.                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Nevertheless, this callback function is provided, such as                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // for debugging purposes.                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00881c   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*******************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBCheckOtherReq(void)                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        When SETUP packets arrive from the host, some                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  firmware must process the request and respond                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  appropriately to fulfill the request.  Some of               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  the SETUP packets will be for standard                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  USB "chapter 9" (as in, fulfilling chapter 9 of              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  the official USB specifications) requests, while             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  others may be specific to the USB device class               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  that is being implemented.  For example, a HID               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  class device needs to be able to respond to                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  "GET REPORT" type of requests.  This                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  is not a standard USB chapter 9 request, and                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  therefore not handled by usb_device.c.  Instead              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  this request should be handled by class specific             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  firmware, such as that contained in usb_function_hid.c.      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBCheckOtherReq(void)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00881e   ef70     GOTO      0x7ce0           USBCheckCDCRequest();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008820   f03e                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*******************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBStdSetDscHandler(void)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        The USBCBStdSetDscHandler() callback function is             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  called when a SETUP, bRequest: SET_DESCRIPTOR request        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  arrives.  Typically SET_DESCRIPTOR requests are              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  not used in most applications, and it is                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  optional to support this type of request.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBStdSetDscHandler(void)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Must claim session ownership if supporting this request                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008822   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*******************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBInitEP(void)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        This function is called when the device becomes              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  initialized, which occurs after the host sends a             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  SET_CONFIGURATION (wValue not = 0) request.  This            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  callback function should initialize the endpoints            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  for the device's usage according to the current              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  configuration.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBInitEP(void)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008824   efbe     GOTO      0x7d7c           CDCInitEP();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008826   f03e                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBSendResume(void)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        The USB specifications allow some types of USB               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  peripheral devices to wake up a host PC (such                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  as if it is in a low power suspend to RAM state).            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  This can be a very useful feature in some                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  USB applications, such as an Infrared remote                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  control receiver.  If a user presses the "power"             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  button on a remote control, it is nice that the              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  IR receiver can detect this signaling, and then              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  send a USB "command" to the PC to wake up.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  The USBCBSendResume() "callback" function is used            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  to send this special USB signaling which wakes               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  up the PC.  This function may be called by                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  application firmware to wake up the PC.  This                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  function will only be able to wake up the host if            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  all of the below are true:                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  1.  The USB driver used on the host PC supports              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      the remote wakeup capability.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  2.  The USB configuration descriptor indicates               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      the device is remote wakeup capable in the               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      bmAttributes field.                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  3.  The USB host PC is currently sleeping,                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      and has previously sent your device a SET                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      FEATURE setup packet which "armed" the                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      remote wakeup capability.                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  If the host has not armed the device to perform remote wakeup, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  then this function will return without actually performing a D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  remote wakeup sequence.  This is the required behavior,      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  as a USB device that has not been armed to perform remote    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  wakeup must not drive remote wakeup signaling onto the bus;  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  doing so will cause USB compliance testing failure.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  This callback should send a RESUME signal that               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  has the period of 1-15ms.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            This function does nothing and returns quickly, if the USB   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  bus and host are not in a suspended condition, or are        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  otherwise not in a remote wakeup ready state.  Therefore, it D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  is safe to optionally call this function regularly, ex:      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  anytime application stimulus occurs, as the function will    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  have no effect, until the bus really is in a state ready     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  to accept remote wakeup.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  When this function executes, it may perform clock switching, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  depending upon the application specific code in              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  USBCBWakeFromSuspend().  This is needed, since the USB       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  bus will no longer be suspended by the time this function    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  returns.  Therefore, the USB module will need to be ready    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  to receive traffic from the host.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  The modifiable section in this routine may be changed        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  to meet the application needs. Current implementation        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  temporary blocks other functions from executing for a        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  period of ~3-15 ms depending on the core frequency.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  According to USB 2.0 specification section 7.1.7.7,          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  "The remote wakeup device must hold the resume signaling     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  for at least 1 ms but for no more than 15 ms."               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  The idea here is to use a delay counter loop, using a        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  common value that would work over a wide range of core       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  frequencies.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  That value selected is 1800. See table below:                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  ==========================================================   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  Core Freq(MHz)      MIP         RESUME Signal Period (ms)    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  ==========================================================   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      48              12          1.05                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                       4              1           12.6                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  ==========================================================   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  * These timing could be incorrect when using code            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                    optimization or extended instruction mode,                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                    or when having other interrupts enabled.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                    Make sure to verify using the MPLAB SIM's Stopwatch        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                    and verify the actual signal on an oscilloscope.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBSendResume(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             static WORD delay_count;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // First verify that the host has armed us to perform remote wakeup.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // It does this by sending a SET_FEATURE request to enable remote wakeup,      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // usually just before the host goes to standby mode (note: it will only       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // send this SET_FEATURE request if the configuration descriptor declares      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // the device as remote wakeup capable, AND, if the feature is enabled         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // on the host (ex: on Windows based hosts, in the device manager              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // properties page for the USB device, power management tab, the               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // "Allow this device to bring the computer out of standby." check box         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // should be checked).                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008828   0105     MOVLB     0x5              if (USBGetRemoteWakeupStatus() == TRUE)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00882a   05df     DECF      0xdf,0x0,0x1                                                                                    
00882c   e11e     BNZ       0x886a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               // Verify that the USB bus is in fact suspended, before we send              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               // remote wakeup signaling.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00882e   0105     MOVLB     0x5                if (USBIsBusSuspended() == TRUE)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008830   05e0     DECF      0xe0,0x0,0x1                                                                                    
008832   e11b     BNZ       0x886a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 USBMaskInterrupts();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // Clock switch to settings consistent with normal USB operation.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008834   dff1     RCALL     0x8818               USBCBWakeFromSuspend();                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008836   9265     BCF       0x65,0x1,0x0         USBSuspendControl = 0;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008838   0105     MOVLB     0x5                  USBBusIsSuspended = FALSE;  // So we don't execute this code again,        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00883a   6be0     CLRF      0xe0,0x1                                                                                        
                                                                             // until a new suspend condition is detected.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // Section 7.1.7.7 of the USB 2.0 specifications indicates a USB           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // device must continuously see 5ms+ of idle on the bus, before it sends   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // remote wakeup signaling.  One way to be certain that this parameter     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // gets met, is to add a 2ms+ blocking delay here (2ms plus at             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // least 3ms from bus idle to USBIsBusSuspended() == TRUE, yields          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // 5ms+ total delay since start of idle).                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00883c   0102     MOVLB     0x2                  delay_count = 3600U;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00883e   0e10     MOVLW     0x10                                                                                            
008840   6ffe     MOVWF     0xfe,0x1                                                                                        
008842   0e0e     MOVLW     0xe                                                                                             
008844   6fff     MOVWF     0xff,0x1                                                                                        
                                                 do                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008846   07fe     DECF      0xfe,0x1,0x1           delay_count--;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008848   0e00     MOVLW     0x0                                                                                             
00884a   5bff     SUBWFB    0xff,0x1,0x1                                                                                    
00884c   51fe     MOVF      0xfe,0x0,0x1         }while(delay_count);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00884e   11ff     IORWF     0xff,0x0,0x1                                                                                    
008850   e1fa     BNZ       0x8846                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // Now drive the resume K-state signaling onto the USB bus.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008852   8465     BSF       0x65,0x2,0x0         USBResumeControl = 1;       // Start RESUME signaling                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008854   0e08     MOVLW     0x8                  delay_count = 1800U;        // Set RESUME line for 1-13 ms                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008856   6ffe     MOVWF     0xfe,0x1                                                                                        
008858   0e07     MOVLW     0x7                                                                                             
00885a   6fff     MOVWF     0xff,0x1                                                                                        
                                                 do                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00885c   07fe     DECF      0xfe,0x1,0x1           delay_count--;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00885e   0e00     MOVLW     0x0                                                                                             
008860   5bff     SUBWFB    0xff,0x1,0x1                                                                                    
008862   51fe     MOVF      0xfe,0x0,0x1         }while(delay_count);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008864   11ff     IORWF     0xff,0x0,0x1                                                                                    
008866   e1fa     BNZ       0x885c                                                                                          
008868   9465     BCF       0x65,0x2,0x0         USBResumeControl = 0;       // Finished driving resume signaling           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 USBUnmaskInterrupts();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00886a   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*******************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBEP0DataReceived(void)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    ENABLE_EP0_DATA_RECEIVED_CALLBACK must be                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  defined already (in usb_config.h)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        This function is called whenever a EP0 data                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  packet is received.  This gives the user (and                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  thus the various class examples a way to get                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  data that is received via the control endpoint.              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  This function needs to be used in conjunction                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  with the USBCBCheckOtherReq() function since                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  the USBCBCheckOtherReq() function is the application's       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  method for getting the initial control transfer              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  before the data arrives.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(ENABLE_EP0_DATA_RECEIVED_CALLBACK)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBEP0DataReceived(void)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*******************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        BOOL USER_USB_CALLBACK_EVENT_HANDLER(                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                        USB_EVENT event, void *pdata, WORD size)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           USB_EVENT event - the type of event                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  void *pdata - pointer to the event data                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  WORD size - size of the event data                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        This function is called from the USB stack to                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  notify a user application that a USB event                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  occurred.  This callback is in interrupt context             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  when the USB_INTERRUPT option is selected.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00886c   cfd9     MOVFF     0xfd9,0xfe6    BOOL USER_USB_CALLBACK_EVENT_HANDLER(USB_EVENT event, void *pdata, WORD size)    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00886e   ffe6                                                                                                               
008870   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
008872   ffd9                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008874   0efd     MOVLW     0xfd             switch(event)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008876   cfdb     MOVFF     0xfdb,0x42                                                                                      
008878   f042                                                                                                               
00887a   0efe     MOVLW     0xfe                                                                                            
00887c   cfdb     MOVFF     0xfdb,0x43                                                                                      
00887e   f043                                                                                                               
008880   0e05     MOVLW     0x5                                                                                             
008882   1842     XORWF     0x42,0x0,0x0                                                                                    
008884   e101     BNZ       0x8888                                                                                          
008886   5043     MOVF      0x43,0x0,0x0                                                                                    
008888   e036     BZ        0x88f6                                                                                          
00888a   68e8     SETF      0xe8,0x0                                                                                        
00888c   1842     XORWF     0x42,0x0,0x0                                                                                    
00888e   e102     BNZ       0x8894                                                                                          
008890   0e7f     MOVLW     0x7f                                                                                            
008892   1843     XORWF     0x43,0x0,0x0                                                                                    
008894   e02f     BZ        0x88f4                                                                                          
008896   0e03     MOVLW     0x3                                                                                             
008898   1842     XORWF     0x42,0x0,0x0                                                                                    
00889a   e101     BNZ       0x889e                                                                                          
00889c   5043     MOVF      0x43,0x0,0x0                                                                                    
00889e   e028     BZ        0x88f0                                                                                          
0088a0   0e02     MOVLW     0x2                                                                                             
0088a2   1842     XORWF     0x42,0x0,0x0                                                                                    
0088a4   e101     BNZ       0x88a8                                                                                          
0088a6   5043     MOVF      0x43,0x0,0x0                                                                                    
0088a8   e021     BZ        0x88ec                                                                                          
0088aa   0e01     MOVLW     0x1                                                                                             
0088ac   1842     XORWF     0x42,0x0,0x0                                                                                    
0088ae   e101     BNZ       0x88b2                                                                                          
0088b0   5043     MOVF      0x43,0x0,0x0                                                                                    
0088b2   e01a     BZ        0x88e8                                                                                          
0088b4   0e74     MOVLW     0x74                                                                                            
0088b6   1842     XORWF     0x42,0x0,0x0                                                                                    
0088b8   e101     BNZ       0x88bc                                                                                          
0088ba   5043     MOVF      0x43,0x0,0x0                                                                                    
0088bc   e013     BZ        0x88e4                                                                                          
0088be   0e75     MOVLW     0x75                                                                                            
0088c0   1842     XORWF     0x42,0x0,0x0                                                                                    
0088c2   e101     BNZ       0x88c6                                                                                          
0088c4   5043     MOVF      0x43,0x0,0x0                                                                                    
0088c6   e00c     BZ        0x88e0                                                                                          
0088c8   0e73     MOVLW     0x73                                                                                            
0088ca   1842     XORWF     0x42,0x0,0x0                                                                                    
0088cc   e101     BNZ       0x88d0                                                                                          
0088ce   5043     MOVF      0x43,0x0,0x0                                                                                    
0088d0   e005     BZ        0x88dc                                                                                          
0088d2   0e72     MOVLW     0x72                                                                                            
0088d4   1842     XORWF     0x42,0x0,0x0                                                                                    
0088d6   e10f     BNZ       0x88f6                                                                                          
0088d8   5043     MOVF      0x43,0x0,0x0                                                                                    
0088da   d00d     BRA       0x88f6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_TRANSFER:                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // Add application specific callback task or callback function here if desired. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_SOF:                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088dc   df9e     RCALL     0x881a               USBCB_SOF_Handler();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088de   d00b     BRA       0x88f6               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_SUSPEND:                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088e0   df9a     RCALL     0x8816               USBCBSuspend();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088e2   d009     BRA       0x88f6               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_RESUME:                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088e4   df99     RCALL     0x8818               USBCBWakeFromSuspend();                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088e6   d007     BRA       0x88f6               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_CONFIGURED:                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088e8   df9d     RCALL     0x8824               USBCBInitEP();                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088ea   d005     BRA       0x88f6               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_SET_DESCRIPTOR:                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088ec   df9a     RCALL     0x8822               USBCBStdSetDscHandler();                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088ee   d003     BRA       0x88f6               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_EP0_REQUEST:                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088f0   df96     RCALL     0x881e               USBCBCheckOtherReq();                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088f2   d001     BRA       0x88f6               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_BUS_ERROR:                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088f4   df93     RCALL     0x881c               USBCBErrorHandler();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_TRANSFER_TERMINATED:                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // Add application specific callback task or callback function here if desired. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // The EVENT_TRANSFER_TERMINATED event occurs when the host performs a CLEAR D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // FEATURE (endpoint halt) request on an application endpoint which was    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // previously armed (UOWN was = 1).  Here would be a good place to:        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // 1.  Determine which endpoint the transaction that just got terminated was  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 //     on, by checking the handle value in the *pdata.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // 2.  Re-arm the endpoint if desired (typically would be the case for OUT  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 //     endpoints).                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               default:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088f6   0e01     MOVLW     0x1              return TRUE;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088f8   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
0088fa   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0088fc   ffd9                                                                                                               
0088fe   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** EOF main.c ***************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                EiBotBoard Firmware                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * FileName:        RCServo2.c                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Company:         Schmalz Haus LLC                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Author:          Brian Schmalz                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Based on original files by Microchip Inc. in MAL USB example.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Software License Agreement                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Copyright (c) 2014-2023, Brian Schmalz of Schmalz Haus LLC                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * All rights reserved.                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Redistribution and use in source and binary forms, with or                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * without modification, are permitted provided that the following               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * conditions are met:                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * 1. Redistributions of source code must retain the above                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * disclaimer.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * 2. Redistributions in binary form must reproduce the above                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * disclaimer in the documentation and/or other materials                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * provided with the distribution.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * 3. Neither the name of the copyright holder nor the names of                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * its contributors may be used to endorse or promote products                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * derived from this software without specific prior written                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * permission.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * SUCH DAMAGE.                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            */                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           /*                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * This module implements the RC Servo outputs, method 2                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Started by Brian Schmalz (www.schmalzhaus.com) on 8/22/09                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * For the Egg Bot Firmware                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * There are several parts of this file. It is written in a modular              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * way to ease incorporation into different UBW (www.schmalzhaus.com/UBW)        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * hardware builds. Because we don't want to have any function calls in the ISR, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * the part of the ISR that this module contributes is implemented as a big      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * macro. There is a section for the API calls (for other modules) to turn       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * on/off RC method 2 and to set values and configure outputs. Then there is the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * user command section that handles parsing user input. This module (the .c and D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * .h files) should be able to be dropped into any UBW firmware that is 'module  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * aware' with minimal changes. There is also an init section that gets called   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * on bootup.                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * MODULE THEORY                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * The idea is that we want to generate between zero and eight RC servo outputs.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * We want a maximum of resolution in their timing, and a minimum of CPU and ISR D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * overhead. We want maximum flexibility with respect to which pins receive the  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * output pulses. This 'method 2' only works with PICs that have the PPS         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * (Peripheral Pin Select) hardware. Using this method, we will be able to       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * generate servo output pulses (positive going) on up to eight output pins      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * (selectable using PPS), with times from 0ms to 3ms, at a repetition rate of   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * 24ms. The resolution of the pulse will be 83ns (Fosc/4). So a value of 0 will D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * represent 0ms pulse, and 36000 will represent 3ms.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * On UBW firmware, TIMER1 generates an interrupt every 1ms. This interrupt is   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * used to schedule the four RC servo outputs. Every 3 fires of this ISR, we     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * check to see if we need to set the next RC output pin. If so, we select the   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * proper pin using the PPS, set it high, record what state we are now in, and   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * then set up TMR3 and ECCP2 to fire after X 83ns ticks of TMR3. ECCP2 will     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * wait until TMR3 fires, then will set the output pin low. This method allows   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * us to choose any of the PPS pins as outputs, and only requires CPU time every D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * 3 ms to start off the pulses.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * As of version 2.2.0, we have changed the way that the S2 command works.       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Under the hood, ALL servo commands are now handled by the motion engine       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * ISR. This means that the S2 command now simply fills in a data structure      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * and puts it in the motion queue. The motion engine ISR pulls it off the       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * queue and then 'executes' the command. (All it does there is transfer the     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * proper values to the data structures that the actual RC servo ISR uses to     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * update the various output pins for each servo pulse.) But the key here is     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * that the S2 command no longer takes effect immediately - RC servo commands    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * are now handled in the same way that SM commands are handled. Which means     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * they can be queued up and delays added, etc.                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * The other effect of this change is that the normal SP pen up/pen down         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * commands are now just normal S2 commands in disguise.                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            */                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include <p18cxxx.h>                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include <ctype.h>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "GenericTypeDefs.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "Compiler.h"                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "ebb.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "UBW.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "RCServo2.h"                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "HardwareProfile.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "ebb.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #pragma udata RC2Servo_globals = 0x060                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Counts from 0 to gRC2SlotMS                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT8  gRC2msCounter;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Current RC servo position in 83uS units for each channel                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 gRC2Value[MAX_RC2_SERVOS];                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // RPn pin associated with this channel                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT8  gRC2RPn[MAX_RC2_SERVOS];                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Target position for this channel in 83uS units                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 gRC2Target[MAX_RC2_SERVOS];                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Amount of change from Value to Target each 24ms                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 gRC2Rate[MAX_RC2_SERVOS];                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT8  gRC2Ptr;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // How many RC servos can we currently simultaneously service (default 8)        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT8  gRC2Slots;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // How many 1ms ISR ticks before switching to the next channel (default 3)       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT8  gRC2SlotMS;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Pointer into PPS output registers                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           far ram UINT8 * gRC2RPORPtr;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // These are the min, max, up rate, down rate, and RPn for the Pen Servo         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // They can be changed by using SC,x commands.                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 g_servo2_max;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 g_servo2_min;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 g_servo2_rate_up;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 g_servo2_rate_down;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT8  g_servo2_RPn;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           /*                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           The idea with RCServo2 is to use the ECCP2 module and timer 3.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           We divide time into 24ms periods. Inside each 24ms period, we                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           can fire up to 8 RC servo's pulses (slots). Each pulse can be between            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           0ms and 3ms long, controlled entirely by the ECCP2 hardware,                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           so there is no jitter in the high time of the pulse.                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           We want to go from 0ms to 3ms so we can accommodate RC servos                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           who need really short or really long pulses to reach the                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           physical extremes of its motion.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           This RCServo2 method will only be available on the 18F45J50 based                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           EggBotBoards, because it requires the PPS (peripheral pin select)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           facility to be possible.                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           Timer3 will be configured to clock at Fosc/4 = 12MHz.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           At this rate, a 1ms high pulse would need a CCPR2 value of 12,000.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           Variables:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           gRC2msCounter - counts from 0 to 2, in ms, to know when to fire each servo       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           gRC2Ptr - index into gRC2Value and gRC2Pin arrays = next RC servo to fire        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           gRC2Value - uint array of values (times) to load into Timer3                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           gRC2Pin - what PPS pin is affected by this RC servo slot.                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           gRC2RPORPtr - a RAM pointer into the RPORxx register                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           If a slot's gRC2Value[] = 0, then that slot is disabled and its pin will be low. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           The value in gRC2Pin is the PPS RPx pin number that this slot controls           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           /*                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Module Init Function                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Put a call to this function inside the UserInit() call in UBW.c               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            */                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078e8   d9da     RCALL     0x7c9e         void RCServo2_Init(void)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078ea   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             unsigned char i;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078ec   0100     MOVLB     0x0              gRC2msCounter = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078ee   6b60     CLRF      0x60,0x1                                                                                        
0078f0   6b99     CLRF      0x99,0x1         gRC2Ptr = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078f2   6adf     CLRF      0xdf,0x0         for (i=0; i < MAX_RC2_SERVOS; i++)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078f4   0e08     MOVLW     0x8                                                                                             
0078f6   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0078f8   e214     BC        0x7922                                                                                          
00791e   2adf     INCF      0xdf,0x1,0x0                                                                                    
007920   d7e9     BRA       0x78f4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078fa   d9cb     RCALL     0x7c92             gRC2Value[i] = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0078fc   0e61     MOVLW     0x61                                                                                            
0078fe   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007900   0e00     MOVLW     0x0                                                                                             
007902   d9d6     RCALL     0x7cb0                                                                                          
007904   50df     MOVF      0xdf,0x0,0x0       gRC2RPn[i] = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007906   d9ba     RCALL     0x7c7c                                                                                          
007908   6aef     CLRF      0xef,0x0                                                                                        
00790a   d9c3     RCALL     0x7c92             gRC2Target[i] = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00790c   0e79     MOVLW     0x79                                                                                            
00790e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007910   0e00     MOVLW     0x0                                                                                             
007912   d9ce     RCALL     0x7cb0                                                                                          
007914   d9be     RCALL     0x7c92             gRC2Rate[i] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007916   0e89     MOVLW     0x89                                                                                            
007918   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00791a   0e00     MOVLW     0x0                                                                                             
00791c   d9c9     RCALL     0x7cb0                                                                                          
007c92   6aea     CLRF      0xea,0x0                                                                                        
007c94   34df     RLCF      0xdf,0x0,0x0                                                                                    
007c96   0bfe     ANDLW     0xfe                                                                                            
007c98   36ea     RLCF      0xea,0x1,0x0                                                                                    
007c9a   6ee9     MOVWF     0xe9,0x0                                                                                        
007c9c   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Initialize the RPOR pointer                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007922   0100     MOVLB     0x0              gRC2RPORPtr = &RPOR0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007924   0ec6     MOVLW     0xc6                                                                                            
007926   6f9c     MOVWF     0x9c,0x1                                                                                        
007928   0e0e     MOVLW     0xe                                                                                             
00792a   6f9d     MOVWF     0x9d,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Set up TIMER3                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00792c   0e3f     MOVLW     0x3f             T3CONbits.TMR3CS = 0b00;        // Use Fosc/4 as input                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00792e   1479     ANDWF     0x79,0x0,0x0                                                                                    
007930   0900     IORLW     0x0                                                                                             
007932   6e79     MOVWF     0x79,0x0                                                                                        
007934   0ecf     MOVLW     0xcf             T3CONbits.T3CKPS = 0b00;        // Prescale is 1:1                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007936   1479     ANDWF     0x79,0x0,0x0                                                                                    
007938   0900     IORLW     0x0                                                                                             
00793a   6e79     MOVWF     0x79,0x0                                                                                        
00793c   8279     BSF       0x79,0x1,0x0     T3CONbits.RD16 = 1;             // Enable 16 bit mode                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00793e   6a7b     CLRF      0x7b,0x0         TMR3H = 0;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007940   6a7a     CLRF      0x7a,0x0         TMR3L = 0;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007942   9079     BCF       0x79,0x0,0x0     T3CONbits.TMR3ON = 0;           // Keep timer off for now                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007944   010f     MOVLB     0xf              TCLKCONbits.T3CCP1 = 1;         // ECCP1 uses Timer1/2 and ECCP2 uses Timer3/4 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007946   8152     BSF       0x52,0x0,0x1                                                                                    
007948   9352     BCF       0x52,0x1,0x1     TCLKCONbits.T3CCP2 = 0;         // ECCP1 uses Timer1/2 and ECCP2 uses Timer3/4 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00794a   0ef0     MOVLW     0xf0             CCP2CONbits.CCP2M = 0b1001;     // Set EECP2 as compare, clear output on match D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00794c   14b4     ANDWF     0xb4,0x0,0x0                                                                                    
00794e   0909     IORLW     0x9                                                                                             
007950   6eb4     MOVWF     0xb4,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // We start out with 8 slots because that is good for RC servos (3ms * 8 = 24ms) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007952   0100     MOVLB     0x0              gRC2Slots = INITAL_RC2_SLOTS;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007954   0e08     MOVLW     0x8                                                                                             
007956   6f9a     MOVWF     0x9a,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // We start out with 3ms slot duration because it's good for RC servos         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007958   0e03     MOVLW     0x3              gRC2SlotMS = 3;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00795a   6f9b     MOVWF     0x9b,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Start with some reasonable default values for min and max                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00795c   0ec6     MOVLW     0xc6             g_servo2_max = 15302;           // max = down (SC,5,15302)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00795e   6f9e     MOVWF     0x9e,0x1                                                                                        
007960   0e3b     MOVLW     0x3b                                                                                            
007962   6f9f     MOVWF     0x9f,0x1                                                                                        
007964   0e25     MOVLW     0x25             g_servo2_min = 22565;           // min = up (SC,4,22565)                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007966   6fa0     MOVWF     0xa0,0x1                                                                                        
007968   0e58     MOVLW     0x58                                                                                            
00796a   6fa1     MOVWF     0xa1,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00796c   0e04     MOVLW     0x4              g_servo2_RPn = DEFAULT_EBB_SERVO_RPN;   // Always start out with RP4 as the output (just for this test version of code) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00796e   6fa6     MOVWF     0xa6,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007970   0e90     MOVLW     0x90             g_servo2_rate_up = 400;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007972   6fa2     MOVWF     0xa2,0x1                                                                                        
007974   0e01     MOVLW     0x1                                                                                             
007976   6fa3     MOVWF     0xa3,0x1                                                                                        
007978   0e90     MOVLW     0x90             g_servo2_rate_down = 400;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00797a   6fa4     MOVWF     0xa4,0x1                                                                                        
00797c   0e01     MOVLW     0x1                                                                                             
00797e   6fa5     MOVWF     0xa5,0x1                                                                                        
007980   0e00     MOVLW     0x0              process_SP(PEN_UP, 0);          // Start servo up                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007982   6ee6     MOVWF     0xe6,0x0                                                                                        
007984   6ae6     CLRF      0xe6,0x0                                                                                        
007986   0e01     MOVLW     0x1                                                                                             
007988   6ee6     MOVWF     0xe6,0x0                                                                                        
00798a   ec02     CALL      0x2c04,0x0                                                                                      
00798c   f016                                                                                                               
00798e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007990   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007992   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007994   9689     BCF       0x89,0x3,0x0     RCServoPowerIO = RCSERVO_POWER_OFF;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007996   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007998   d187     BRA       0x7ca8                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Return the current channel that is associated with the PPS output pin         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // RPn. If there is no channel yet assigned for this RPn, then pick the          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // next available one. If there are none available, then return channel 0        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // (which is considered an error.)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Remember, channels are from 1 through 8 (Normally - can be increased with     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // SC,8 command). Channel 0 is the 'error' channel.                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00799a   d981     RCALL     0x7c9e         UINT8 RCServo2_get_channel_from_RPn(UINT8 RPn)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00799c   52e6     MOVF      0xe6,0x1,0x0                                                                                    
007c9e   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
007ca0   ffe6                                                                                                               
007ca2   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
007ca4   ffd9                                                                                                               
007ca6   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Search through the existing channels, and see if our RPn is there           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00799e   6adf     CLRF      0xdf,0x0         for (i=0; i < MAX_RC2_SERVOS; i++)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079a0   0e08     MOVLW     0x8                                                                                             
0079a2   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0079a4   e20a     BC        0x79ba                                                                                          
0079b6   2adf     INCF      0xdf,0x1,0x0                                                                                    
0079b8   d7f3     BRA       0x79a0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079a6   50df     MOVF      0xdf,0x0,0x0       if (gRC2RPn[i] == RPn)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079a8   d969     RCALL     0x7c7c                                                                                          
0079aa   cfef     MOVFF     0xfef,0x4e                                                                                      
0079ac   f04e                                                                                                               
0079ae   0efe     MOVLW     0xfe                                                                                            
0079b0   50db     MOVF      0xdb,0x0,0x0                                                                                    
0079b2   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
0079b4   e00a     BZ        0x79ca                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // Found it! Return the channel number                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 return (i + 1);                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // We have not found it, so we need to allocate a new channel for this RPn     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079ba   6adf     CLRF      0xdf,0x0         for (i=0; i < MAX_RC2_SERVOS; i++)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079bc   0e08     MOVLW     0x8                                                                                             
0079be   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0079c0   e208     BC        0x79d2                                                                                          
0079ce   2adf     INCF      0xdf,0x1,0x0                                                                                    
0079d0   d7f5     BRA       0x79bc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079c2   50df     MOVF      0xdf,0x0,0x0       if (gRC2RPn[i] == 0u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079c4   d95b     RCALL     0x7c7c                                                                                          
0079c6   50ef     MOVF      0xef,0x0,0x0                                                                                    
0079c8   e102     BNZ       0x79ce                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // Found one that's free! Return the channel number                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079ca   28df     INCF      0xdf,0x0,0x0         return (i + 1u);                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079cc   d003     BRA       0x79d4                                                                                          
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // We do not have room for another channel, so return an error                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079d2   0e00     MOVLW     0x0              return 0;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079d4   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079d6   d168     BRA       0x7ca8                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Servo method 2 enable command                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // S2,<duration>,<output_pin>,<rate>,<delay><CR>                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //  will set RC output <channel> for <duration> on output pin <output_pin>       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //  <duration> can be 0 (output off) to 32,000 (3ms on time)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      (a 0 for <duration> de-allocates the channel for this output_pin)        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //  <output_pin> is an RPn pin number (0 through 24)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //  <rate> is the rate to change (optional, defaults to 0 = instant)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //  <delay> is the number of milliseconds to delay the start of the next command D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      (optional, defaults to 0 = instant)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079d8   d962     RCALL     0x7c9e         void RCServo2_S2_command (void)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079da   0e07     MOVLW     0x7                                                                                             
0079dc   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079de   6ade     CLRF      0xde,0x0         UINT16 Duration = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079e0   6add     CLRF      0xdd,0x0                                                                                        
0079e2   0e02     MOVLW     0x2              UINT8 Pin = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079e4   6adb     CLRF      0xdb,0x0                                                                                        
0079e6   0e03     MOVLW     0x3              UINT16 Rate = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079e8   6adb     CLRF      0xdb,0x0                                                                                        
0079ea   0e04     MOVLW     0x4                                                                                             
0079ec   6adb     CLRF      0xdb,0x0                                                                                        
0079ee   0e05     MOVLW     0x5              UINT16 Delay = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079f0   6adb     CLRF      0xdb,0x0                                                                                        
0079f2   0e06     MOVLW     0x6                                                                                             
0079f4   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079f6   0e01     MOVLW     0x1              extract_number (kUINT, &Duration, kOPTIONAL);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0079f8   6ee6     MOVWF     0xe6,0x0                                                                                        
0079fa   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
0079fc   ffe6                                                                                                               
0079fe   cfda     MOVFF     0xfda,0xfe6                                                                                     
007a00   ffe6                                                                                                               
007a02   0e03     MOVLW     0x3                                                                                             
007a04   d92e     RCALL     0x7c62                                                                                          
007a06   0f02     ADDLW     0x2              extract_number (kUCHAR, &Pin, kOPTIONAL);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a08   d957     RCALL     0x7cb8                                                                                          
007a0a   0e01     MOVLW     0x1                                                                                             
007a0c   d92a     RCALL     0x7c62                                                                                          
007a0e   0f03     ADDLW     0x3              extract_number (kUINT, &Rate, kOPTIONAL);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a10   d953     RCALL     0x7cb8                                                                                          
007a12   0e03     MOVLW     0x3                                                                                             
007a14   d926     RCALL     0x7c62                                                                                          
007c62   d82f     RCALL     0x7cc2                                                                                          
007a16   0f05     ADDLW     0x5              extract_number (kUINT, &Delay, kOPTIONAL);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a18   d94f     RCALL     0x7cb8                                                                                          
007a1a   0e03     MOVLW     0x3                                                                                             
007a1c   d952     RCALL     0x7cc2                                                                                          
007c64   0e01     MOVLW     0x1                                                                                             
007c66   6ee6     MOVWF     0xe6,0x0                                                                                        
007c68   50d9     MOVF      0xd9,0x0,0x0                                                                                    
007c6a   0012     RETURN    0x0                                                                                             
007cb8   6ee6     MOVWF     0xe6,0x0                                                                                        
007cba   0e00     MOVLW     0x0                                                                                             
007cbc   20da     ADDWFC    0xda,0x0,0x0                                                                                    
007cbe   6ee6     MOVWF     0xe6,0x0                                                                                        
007cc0   0012     RETURN    0x0                                                                                             
007cc2   6ee6     MOVWF     0xe6,0x0                                                                                        
007cc4   ecaa     CALL      0x5d54,0x0                                                                                      
007cc6   f02e                                                                                                               
007cc8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007cca   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007ccc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007cce   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007cd0   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a1e   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a20   6ae6     CLRF      0xe6,0x0                                                                                        
007a22   ec7a     CALL      0x4af4,0x0                                                                                      
007a24   f025                                                                                                               
007a26   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007a28   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a2a   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a2c   5184     MOVF      0x84,0x0,0x1                                                                                    
007a2e   e122     BNZ       0x7a74                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a30   0e02     MOVLW     0x2              if (Pin > 24u)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a32   50db     MOVF      0xdb,0x0,0x0                                                                                    
007a34   0818     SUBLW     0x18                                                                                            
007a36   e202     BC        0x7a3c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a38   8d84     BSF       0x84,0x6,0x1       bitset (error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a3a   d01c     BRA       0x7a74             return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a3c   0e05     MOVLW     0x5              RCServo2_Move(Duration, Pin, Rate, Delay);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a3e   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
007a40   ffe6                                                                                                               
007a42   0e06     MOVLW     0x6                                                                                             
007a44   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
007a46   ffe6                                                                                                               
007a48   0e03     MOVLW     0x3                                                                                             
007a4a   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
007a4c   ffe6                                                                                                               
007a4e   0e04     MOVLW     0x4                                                                                             
007a50   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
007a52   ffe6                                                                                                               
007a54   0e02     MOVLW     0x2                                                                                             
007a56   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
007a58   ffe6                                                                                                               
007a5a   cfde     MOVFF     0xfde,0xfe6                                                                                     
007a5c   ffe6                                                                                                               
007a5e   cfdd     MOVFF     0xfdd,0xfe6                                                                                     
007a60   ffe6                                                                                                               
007a62   d80f     RCALL     0x7a82                                                                                          
007a64   6e4e     MOVWF     0x4e,0x0                                                                                        
007a66   0e07     MOVLW     0x7                                                                                             
007a68   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
007a6a   504e     MOVF      0x4e,0x0,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a6c   6ae6     CLRF      0xe6,0x0         print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a6e   ec98     CALL      0x4b30,0x0                                                                                      
007a70   f025                                                                                                               
007a72   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007a74   0e07     MOVLW     0x7            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a76   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
007a78   e202     BC        0x7a7e                                                                                          
007a7a   6ae1     CLRF      0xe1,0x0                                                                                        
007a7c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007a7e   6ee1     MOVWF     0xe1,0x0                                                                                        
007a80   d113     BRA       0x7ca8                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Function to set up an RC Servo move. Takes Duration, RPn, and Rate            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // and adds them to the motion control fifo.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // <Position> is the new target position for the servo, in 83uS units. So        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      32,000 is 3ms. To turn off a servo output, use 0 for Duration.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // <RPn> is the PPS RP# number for the pin that you want to use as the output    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      (See schematic for a list of each RPn number for each GPIO pin.)         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // <Rate> is how quickly to move to the new position. Use 0 for instant change.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      Unit is 83uS of pulse width change every 24ms of time.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // <Delay> is how many milliseconds after this command is excuted before the     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      next command in the motion control FIFO is executed. 0 will run the next D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      command immediatly.                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // This function will allocate a new channel for RPn if the pin is not already   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // assigned to a channel. It will return the channel number used when it         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // returns. If you send in 0 for Duration, the channel for RPn will be de-       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // allocated.                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Another thing we do here is to make sure that the proper pin is an output,    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // And, if this is the first time we're starting up the channel, make sure that  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // it starts out low.                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a82   d90d     RCALL     0x7c9e         UINT8 RCServo2_Move(                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a84   0e02     MOVLW     0x2                                                                                             
007a86   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                             UINT16 Position,                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             UINT8  RPn,                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             UINT16 Rate,                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             UINT16 Delay                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           )                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             UINT8 Channel;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Get the channel that's already assigned to the RPn, or assign a new one     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // if possible. If this returns zero, then do nothing as we're out of          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // channels.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a88   0efc     MOVLW     0xfc             Channel = RCServo2_get_channel_from_RPn(RPn);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a8a   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
007a8c   ffe6                                                                                                               
007a8e   df85     RCALL     0x799a                                                                                          
007a90   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007a92   6ee7     MOVWF     0xe7,0x0                                                                                        
007a94   0e01     MOVLW     0x1                                                                                             
007a96   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
007a98   ffdb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Error out if there were no available channels left                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a9a   50db     MOVF      0xdb,0x0,0x0     if (Channel == 0u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a9c   e102     BNZ       0x7aa2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007a9e   0e00     MOVLW     0x0                return 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007aa0   d0d2     BRA       0x7c46                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // If Duration is zero, then caller wants to shut down this channel            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007aa2   50d9     MOVF      0xd9,0x0,0x0     if (0u == Position)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007aa4   0ffd     ADDLW     0xfd                                                                                            
007aa6   6ee9     MOVWF     0xe9,0x0                                                                                        
007aa8   0eff     MOVLW     0xff                                                                                            
007aaa   20da     ADDWFC    0xda,0x0,0x0                                                                                    
007aac   6eea     MOVWF     0xea,0x0                                                                                        
007aae   50ee     MOVF      0xee,0x0,0x0                                                                                    
007ab0   10ed     IORWF     0xed,0x0,0x0                                                                                    
007ab2   e11f     BNZ       0x7af2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                               // Turn off the PPS routing to the pin                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ab4   0e01     MOVLW     0x1                *(gRC2RPORPtr + gRC2RPn[Channel - 1]) = 0;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ab6   04db     DECF      0xdb,0x0,0x0                                                                                    
007ab8   d8e1     RCALL     0x7c7c                                                                                          
007aba   50ef     MOVF      0xef,0x0,0x0                                                                                    
007abc   0100     MOVLB     0x0                                                                                             
007abe   6aea     CLRF      0xea,0x0                                                                                        
007ac0   259c     ADDWF     0x9c,0x0,0x1                                                                                    
007ac2   6ee9     MOVWF     0xe9,0x0                                                                                        
007ac4   519d     MOVF      0x9d,0x0,0x1                                                                                    
007ac6   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007ac8   6aef     CLRF      0xef,0x0                                                                                        
007aca   d8d0     RCALL     0x7c6c             gRC2Rate[Channel - 1] = 0;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007acc   0e89     MOVLW     0x89                                                                                            
007ace   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007ad0   0e00     MOVLW     0x0                                                                                             
007ad2   d8ee     RCALL     0x7cb0                                                                                          
007ad4   d8cb     RCALL     0x7c6c             gRC2Target[Channel - 1] = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ad6   0e79     MOVLW     0x79                                                                                            
007ad8   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007ada   0e00     MOVLW     0x0                                                                                             
007adc   d8e9     RCALL     0x7cb0                                                                                          
007ade   0e01     MOVLW     0x1                gRC2RPn[Channel - 1] = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ae0   04db     DECF      0xdb,0x0,0x0                                                                                    
007ae2   d8cc     RCALL     0x7c7c                                                                                          
007ae4   6aef     CLRF      0xef,0x0                                                                                        
007c7c   6aea     CLRF      0xea,0x0                                                                                        
007c7e   0f71     ADDLW     0x71                                                                                            
007c80   6ee9     MOVWF     0xe9,0x0                                                                                        
007c82   0e00     MOVLW     0x0                                                                                             
007c84   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007c86   0012     RETURN    0x0                                                                                             
007ae6   d8c2     RCALL     0x7c6c             gRC2Value[Channel - 1] = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ae8   0e61     MOVLW     0x61                                                                                            
007aea   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007aec   0e00     MOVLW     0x0                                                                                             
007aee   d8e0     RCALL     0x7cb0                                                                                          
007cb0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007cb2   6aee     CLRF      0xee,0x0                                                                                        
007cb4   6aed     CLRF      0xed,0x0                                                                                        
007cb6   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007af0   d0a8     BRA       0x7c42           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                               // If we have a valid channel, and RPn, then make the move                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007af2   0e01     MOVLW     0x1                if ((Channel - 1) < gRC2Slots && RPn <= 24u)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007af4   04db     DECF      0xdb,0x0,0x0                                                                                    
007af6   6e4e     MOVWF     0x4e,0x0                                                                                        
007af8   0100     MOVLB     0x0                                                                                             
007afa   519a     MOVF      0x9a,0x0,0x1                                                                                    
007afc   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
007afe   e301     BNC       0x7b02                                                                                          
007b00   d0a0     BRA       0x7c42                                                                                          
007b02   0efc     MOVLW     0xfc                                                                                            
007b04   50db     MOVF      0xdb,0x0,0x0                                                                                    
007b06   0818     SUBLW     0x18                                                                                            
007b08   e201     BC        0x7b0c                                                                                          
007b0a   d09b     BRA       0x7c42                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // As a special case, if the pin is the same as the pin                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // used for the solenoid, then turn off the solenoid function              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // so that we can output PWM on that pin                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b0c   0efc     MOVLW     0xfc                 if (RPn == PEN_UP_DOWN_RPN)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b0e   50db     MOVF      0xdb,0x0,0x0                                                                                    
007b10   0807     SUBLW     0x7                                                                                             
007b12   e102     BNZ       0x7b18                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b14   0101     MOVLB     0x1                    gUseSolenoid = FALSE;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b16   6bc1     CLRF      0xc1,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // Is this the first time we've used this channel?                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b18   d8a9     RCALL     0x7c6c               if (gRC2Value[Channel - 1] == 0u)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b1a   0e61     MOVLW     0x61                                                                                            
007b1c   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007b1e   0e00     MOVLW     0x0                                                                                             
007b20   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007b22   50ee     MOVF      0xee,0x0,0x0                                                                                    
007b24   10ed     IORWF     0xed,0x0,0x0                                                                                    
007b26   e110     BNZ       0x7b48                                                                                          
007c6c   0e01     MOVLW     0x1                                                                                             
007c6e   04db     DECF      0xdb,0x0,0x0                                                                                    
007c70   6ee9     MOVWF     0xe9,0x0                                                                                        
007c72   6aea     CLRF      0xea,0x0                                                                                        
007c74   90d8     BCF       0xd8,0x0,0x0                                                                                    
007c76   36e9     RLCF      0xe9,0x1,0x0                                                                                    
007c78   36ea     RLCF      0xea,0x1,0x0                                                                                    
007c7a   0012     RETURN    0x0                                                                                             
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // Make sure the pin is set as an output, or this won't do much good     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b28   6ae6     CLRF      0xe6,0x0               SetPinTRISFromRPn(RPn, OUTPUT_PIN);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b2a   0efc     MOVLW     0xfc                                                                                            
007b2c   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
007b2e   ffe6                                                                                                               
007b30   ecef     CALL      0x61de,0x0                                                                                      
007b32   f030                                                                                                               
007b34   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007b36   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // For v2.1.5, found bug where if a pin is HIGH when we start doing      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // RC output, the output is totally messed up. So make sure to set       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // the pin low first.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b38   6ae6     CLRF      0xe6,0x0               SetPinLATFromRPn(RPn, 0);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b3a   0efc     MOVLW     0xfc                                                                                            
007b3c   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
007b3e   ffe6                                                                                                               
007b40   ecc1     CALL      0x6182,0x0                                                                                      
007b42   f030                                                                                                               
007b44   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007b46   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // Wait until we have a free spot in the FIFO, and add our new             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // command in                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b48   5013     MOVF      0x13,0x0,0x0         while(gFIFOLength >= gCurrentFIFOLength)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b4a   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
007b4c   e2fd     BC        0x7b48                                                                                          
                                                 ;                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // If the pin we're controlling is B1 (the normal servo output) then       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // always make sure to turn power on and start the countdown timer         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // for that servo port. (issue #144)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b4e   0efc     MOVLW     0xfc                 if (RPn == 4u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b50   50db     MOVF      0xdb,0x0,0x0                                                                                    
007b52   0804     SUBLW     0x4                                                                                             
007b54   e109     BNZ       0x7b68                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b56   8689     BSF       0x89,0x3,0x0           RCServoPowerIO = RCSERVO_POWER_ON;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b58   c4c2     MOVFF     0x4c2,0x4be            gRCServoPoweroffCounterMS = gRCServoPoweroffCounterReloadMS;             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b5a   f4be                                                                                                               
007b5c   c4c3     MOVFF     0x4c3,0x4bf                                                                                     
007b5e   f4bf                                                                                                               
007b60   c4c4     MOVFF     0x4c4,0x4c0                                                                                     
007b62   f4c0                                                                                                               
007b64   c4c5     MOVFF     0x4c5,0x4c1                                                                                     
007b66   f4c1                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b68   bc09     BTFSC     0x9,0x6,0x0          if (!bittst(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM))                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b6a   d06b     BRA       0x7c42                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // Now copy the values over into the FIFO element                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b6c   d88d     RCALL     0x7c88               FIFOPtr[gFIFOIn].Command = COMMAND_SERVO_MOVE;                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b6e   0e02     MOVLW     0x2                                                                                             
007b70   6eef     MOVWF     0xef,0x0                                                                                        
007c88   5010     MOVF      0x10,0x0,0x0                                                                                    
007c8a   0d2f     MULLW     0x2f                                                                                            
007c8c   0105     MOVLB     0x5                                                                                             
007c8e   ef69     GOTO      0x7cd2                                                                                          
007c90   f03e                                                                                                               
007b72   0ef8     MOVLW     0xf8                 FIFOPtr[gFIFOIn].m.sm.DelayCounter = HIGH_ISR_TICKS_PER_MS * (UINT32)Delay; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007b74   cfdb     MOVFF     0xfdb,0x4e                                                                                      
007b76   f04e                                                                                                               
007b78   0ef9     MOVLW     0xf9                                                                                            
007b7a   cfdb     MOVFF     0xfdb,0x4f                                                                                      
007b7c   f04f                                                                                                               
007b7e   6a50     CLRF      0x50,0x0                                                                                        
007b80   6a51     CLRF      0x51,0x0                                                                                        
007b82   0e19     MOVLW     0x19                                                                                            
007b84   6e45     MOVWF     0x45,0x0                                                                                        
007b86   6a46     CLRF      0x46,0x0                                                                                        
007b88   6a47     CLRF      0x47,0x0                                                                                        
007b8a   6a48     CLRF      0x48,0x0                                                                                        
007b8c   c04e     MOVFF     0x4e,0x40                                                                                       
007b8e   f040                                                                                                               
007b90   c04f     MOVFF     0x4f,0x41                                                                                       
007b92   f041                                                                                                               
007b94   c050     MOVFF     0x50,0x42                                                                                       
007b96   f042                                                                                                               
007b98   c051     MOVFF     0x51,0x43                                                                                       
007b9a   f043                                                                                                               
007b9c   ecc3     CALL      0x8d86,0x0                                                                                      
007b9e   f046                                                                                                               
007ba0   c03c     MOVFF     0x3c,0x4e                                                                                       
007ba2   f04e                                                                                                               
007ba4   c03d     MOVFF     0x3d,0x4f                                                                                       
007ba6   f04f                                                                                                               
007ba8   c03e     MOVFF     0x3e,0x50                                                                                       
007baa   f050                                                                                                               
007bac   c03f     MOVFF     0x3f,0x51                                                                                       
007bae   f051                                                                                                               
007bb0   d86b     RCALL     0x7c88                                                                                          
007bb2   52ee     MOVF      0xee,0x1,0x0                                                                                    
007bb4   52ee     MOVF      0xee,0x1,0x0                                                                                    
007bb6   c03c     MOVFF     0x3c,0xfee                                                                                      
007bb8   ffee                                                                                                               
007bba   c04f     MOVFF     0x4f,0xfee                                                                                      
007bbc   ffee                                                                                                               
007bbe   c050     MOVFF     0x50,0xfee                                                                                      
007bc0   ffee                                                                                                               
007bc2   c051     MOVFF     0x51,0xfee                                                                                      
007bc4   ffee                                                                                                               
007bc6   d848     RCALL     0x7c58               FIFOPtr[gFIFOIn].m.sm.ServoChannel = Channel;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007bc8   0e29     MOVLW     0x29                                                                                            
007bca   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007bcc   0e00     MOVLW     0x0                                                                                             
007bce   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007bd0   0e01     MOVLW     0x1                                                                                             
007bd2   cfdb     MOVFF     0xfdb,0xfef                                                                                     
007bd4   ffef                                                                                                               
007bd6   d840     RCALL     0x7c58               FIFOPtr[gFIFOIn].m.sm.ServoRPn = RPn;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007bd8   0e26     MOVLW     0x26                                                                                            
007bda   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007bdc   0e00     MOVLW     0x0                                                                                             
007bde   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007be0   0efc     MOVLW     0xfc                                                                                            
007be2   cfdb     MOVFF     0xfdb,0xfef                                                                                     
007be4   ffef                                                                                                               
007be6   d838     RCALL     0x7c58               FIFOPtr[gFIFOIn].m.sm.ServoPosition = Position;                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007be8   0e27     MOVLW     0x27                                                                                            
007bea   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007bec   0e00     MOVLW     0x0                                                                                             
007bee   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007bf0   0efd     MOVLW     0xfd                                                                                            
007bf2   cfdb     MOVFF     0xfdb,0xfee                                                                                     
007bf4   ffee                                                                                                               
007bf6   0efe     MOVLW     0xfe                                                                                            
007bf8   cfdb     MOVFF     0xfdb,0xfed                                                                                     
007bfa   ffed                                                                                                               
007bfc   d82d     RCALL     0x7c58               FIFOPtr[gFIFOIn].m.sm.ServoRate = Rate;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007bfe   0e2a     MOVLW     0x2a                                                                                            
007c00   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007c02   0e00     MOVLW     0x0                                                                                             
007c04   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007c06   0efa     MOVLW     0xfa                                                                                            
007c08   cfdb     MOVFF     0xfdb,0xfee                                                                                     
007c0a   ffee                                                                                                               
007c0c   0efb     MOVLW     0xfb                                                                                            
007c0e   cfdb     MOVFF     0xfdb,0xfed                                                                                     
007c10   ffed                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // Check that DelayCounter doesn't have a crazy high value (this was     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // being done in the ISR, now moved here for speed)                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007c12   d822     RCALL     0x7c58               if (FIFOPtr[gFIFOIn].m.sm.DelayCounter > HIGH_ISR_TICKS_PER_MS * (UINT32)0x10000) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007c14   52ee     MOVF      0xee,0x1,0x0                                                                                    
007c16   80d8     BSF       0xd8,0x0,0x0                                                                                    
007c18   0e00     MOVLW     0x0                                                                                             
007c1a   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
007c1c   0e00     MOVLW     0x0                                                                                             
007c1e   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
007c20   0e19     MOVLW     0x19                                                                                            
007c22   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
007c24   0e00     MOVLW     0x0                                                                                             
007c26   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
007c28   e206     BC        0x7c36                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                     // Ideally we would throw an error to the user here, but since we're in D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                     // the helper function that's not so easy. So we just set the delay time D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                     // to zero and hope they notice that their delays aren't doing anything. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007c2a   d816     RCALL     0x7c58                 FIFOPtr[gFIFOIn].m.sm.DelayCounter = 0;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007c2c   52ee     MOVF      0xee,0x1,0x0                                                                                    
007c2e   6aee     CLRF      0xee,0x0                                                                                        
007c30   6aee     CLRF      0xee,0x0                                                                                        
007c32   6aee     CLRF      0xee,0x0                                                                                        
007c34   6aee     CLRF      0xee,0x0                                                                                        
007c58   5010     MOVF      0x10,0x0,0x0                                                                                    
007c5a   0d2f     MULLW     0x2f                                                                                            
007c5c   d83a     RCALL     0x7cd2                                                                                          
007c5e   52ee     MOVF      0xee,0x1,0x0                                                                                    
007c60   0012     RETURN    0x0                                                                                             
007cd2   51fa     MOVF      0xfa,0x0,0x1                                                                                    
007cd4   24f3     ADDWF     0xf3,0x0,0x0                                                                                    
007cd6   6ee9     MOVWF     0xe9,0x0                                                                                        
007cd8   51fb     MOVF      0xfb,0x0,0x1                                                                                    
007cda   20f4     ADDWFC    0xf4,0x0,0x0                                                                                    
007cdc   6eea     MOVWF     0xea,0x0                                                                                        
007cde   0012     RETURN    0x0                                                                                             
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007c36   2a10     INCF      0x10,0x1,0x0           gFIFOIn++;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007c38   5013     MOVF      0x13,0x0,0x0           if (gFIFOIn >= gCurrentFIFOLength)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007c3a   5c10     SUBWF     0x10,0x0,0x0                                                                                    
007c3c   e301     BNC       0x7c40                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007c3e   6a10     CLRF      0x10,0x0                 gFIFOIn = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007c40   2a0f     INCF      0xf,0x1,0x0            gFIFOLength++;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007c42   0e01     MOVLW     0x1              return Channel;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007c44   50db     MOVF      0xdb,0x0,0x0                                                                                    
007c46   6e4e     MOVWF     0x4e,0x0       }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007c48   0e02     MOVLW     0x2                                                                                             
007c4a   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
007c4c   e202     BC        0x7c52                                                                                          
007c4e   6ae1     CLRF      0xe1,0x0                                                                                        
007c50   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007c52   6ee1     MOVWF     0xe1,0x0                                                                                        
007c54   504e     MOVF      0x4e,0x0,0x0                                                                                    
007c56   d028     BRA       0x7ca8                                                                                          
007ca8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007caa   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
007cac   ffd9                                                                                                               
007cae   0012     RETURN    0x0                                                                                             
                                           /*********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                UBW Firmware                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * FileName:        UBW.c                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Company:         Schmalz Haus LLC                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Author:          Brian Schmalz                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Based on original files by Microchip Inc. in MAL USB example.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Software License Agreement                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Copyright (c) 2014-2023, Brian Schmalz of Schmalz Haus LLC                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * All rights reserved.                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Redistribution and use in source and binary forms, with or                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * without modification, are permitted provided that the following               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * conditions are met:                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * 1. Redistributions of source code must retain the above                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * disclaimer.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * 2. Redistributions in binary form must reproduce the above                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * disclaimer in the documentation and/or other materials                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * provided with the distribution.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * 3. Neither the name of the copyright holder nor the names of                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * its contributors may be used to endorse or promote products                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * derived from this software without specific prior written                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * permission.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * SUCH DAMAGE.                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Author               Date        Comment                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Rawin Rojvanit       11/19/04    Original.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Brian Schmalz        03/15/06    Added user code to implement                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                      firmware version D v1.0 for UBW                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                      project. See www.greta.dhs.org/UBW                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Brian Schmalz        05/04/06    Starting version 1.1, which will             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                      include several fixes. See website.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  06/21/06  Starting v1.2 -                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Fixed problem with I packets (from T command) filling up TX buffer          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *    and not letting any incoming commands be received. (strange)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Adding several commands - Analog inputs being the biggest set.              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Also Byte read/Byte write (PEEK/POKE) anywhere in memory                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Individual pin I/O and direction                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  08/16/06  v1.3 - Fixed bug with USB startup              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  09/09/06  v1.4 - Starting 1.4                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Fixed Microchip bug with early silicon - UCONbits.PKTDIS = 0;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Adding BO and BC commands for parallel output to graphics panels            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  12/06/06  v1.4 - More work on 1.4                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Re-wrote all I/O buffering code for increased speed and functionality       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Re-wrote error handling code                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Added delays to BC/BO commands to help Corey                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  01/06/07  v1.4 - Added RC command for servos             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  03/07/07  v1.4.1 - Changed blink rate for SFE            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  05/24/07  v1.4.2 - Fixed RC command bug - it             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                      wouldn't shut off.                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  08/28/07  v1.4.3 - Allowed UBW to run without            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                      USB connected.                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            ********************************************************************/           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /** I N C L U D E S **********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include <p18cxxx.h>                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include <usart.h>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include <ctype.h>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include <delays.h>                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include <flash.h>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "Usb\usb.h"                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "Usb\usb_function_cdc.h"                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "usb_config.h"                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "HardwareProfile.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "UBW.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "ebb.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "RCServo2.h"                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "ebb_print.h"                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /** D E F I N E S ********************************************************/      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kUSART_TX_BUF_SIZE    10u               // In bytes                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kUSART_RX_BUF_SIZE    10u               // In bytes                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kISR_FIFO_A_DEPTH     3u                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kISR_FIFO_D_DEPTH     3u                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kPR4_RELOAD           250u              // For 1ms TMR4 tick             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kCR                   0x0Du                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kLF                   0x0Au                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define ANALOG_INITATE_MS_BETWEEN_STARTS 5u     // Number of ms between analog converts (all enabled channels) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define FLASH_NAME_ADDRESS    0xF800            // Starting address in FLASH where we store our EBB's name D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define FLASH_NAME_LENGTH     16u               // Size of store for EBB's name in FLASH D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define RCSERVO_POWEROFF_DEFAULT_MS (60ul*1000ul)  // Number of milliseconds to default the RCServo power autotimeout (5min) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /** V A R I A B L E S ********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //#pragma udata access fast_vars                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Rate variable - how fast does interrupt fire to capture inputs?               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned int time_between_updates;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned int ISR_D_RepeatRate;       // How many 1ms ticks between Digital updates D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_D_FIFO_in;         // In pointer                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_D_FIFO_out;        // Out pointer                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_D_FIFO_length;     // Current FIFO depth              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned int ISR_A_RepeatRate;       // How many 1ms ticks between Analog updates D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_A_FIFO_in;         // In pointer                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_A_FIFO_out;        // Out pointer                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_A_FIFO_length;     // Current FIFO depth              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This byte has each of its bits used as a separate error flag                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           BYTE error_byte;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // RC servo variables                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // First the main array of data for each servo                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RC_primed_ptr;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RC_next_ptr;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RC_timing_ptr;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Used only in LowISR                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned int D_tick_counter;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned int A_tick_counter;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char A_cur_channel;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char AnalogInitiate;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned int AnalogEnabledChannels;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned int ChannelBit;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT16 g_PowerMonitorThresholdADC;     // 0-1023 ADC counts, below which D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile BOOL g_PowerDropDetected;              // True if power drops below PowerMonitorThreshold D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile tStepperDisableTimeout g_StepperDisableState;  // Stores state of stepper timeout disable feature D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT16 g_StepperDisableTimeoutS;       // Seconds of no motion before motors are disabled D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT16 g_StepperDisableSecondCounter;  // Counts milliseconds up to 1 s for stepper disable timeout D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT16 g_StepperDisableCountdownS;     // After motion is done, counts down in seconds from g_StepperDisableTimeoutS to zero D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           const rom char st_version[] = {"EBBv13_and_above EB Firmware Version 3.0.1_221"}; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #pragma udata ISR_buf = 0x100                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned int ISR_A_FIFO[16];                     // Stores the most recent analog conversions D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_D_FIFO[3][kISR_FIFO_D_DEPTH];  // FIFO of actual data D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #pragma udata com_tx_buf = 0x200                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // USB Transmit buffer for packets (back to PC)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_TX_buf[kTX_BUF_SIZE];                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RX_command_buf[kRX_COMMAND_BUF_SIZE];                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #pragma udata com_rx_buf = 0x300                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // USB Receiving buffer for commands as they come from PC                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RX_buf[kRX_BUF_SIZE];                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // These variables are in normal storage space                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #pragma udata                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // USART Receiving buffer for data coming from the USART                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_USART_RX_buf[kUSART_RX_BUF_SIZE];                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // USART Transmit buffer for data going to the USART                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_USART_TX_buf[kUSART_TX_BUF_SIZE];                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // These are used for the Fast Parallel Output routines                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_BO_init;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_BO_strobe_mask;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_BO_wait_mask;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_BO_wait_delay;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_BO_strobe_delay;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Pointers to USB transmit (back to PC) buffer                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_TX_buf_in;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_TX_buf_out;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Pointers to USB receive (from PC) buffer                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RX_buf_in;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RX_buf_out;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // In and out pointers to our USART input buffer                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_USART_RX_buf_in;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_USART_RX_buf_out;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // In and out pointers to our USART output buffer                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_USART_TX_buf_in;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_USART_TX_buf_out;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Normally set to TRUE. Able to set FALSE to not send "OK" message after packet reception D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           BOOL g_ack_enable;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #if PC_PG_T_COMMANDS_ENABLED                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Set to TRUE to turn Pulse Mode on                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char gPulsesOn;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // For Pulse Mode, how long should each pulse be on for in ms?                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned int gPulseLen[4];                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // For Pulse Mode, how many ms between rising edges of pulses?                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned int gPulseRate[4];                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // For Pulse Mode, counters keeping track of where we are                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned int gPulseCounters[4];                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Counts down milliseconds until zero. At zero shuts off power to RC servo (via RA3)) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT32 gRCServoPoweroffCounterMS;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT32 gRCServoPoweroffCounterReloadMS;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // When true, any stepper motion command will automatically enable both motors   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           BOOL gAutomaticMotorEnable;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // These store the first and second characters of the latest command from the PC D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char gCommand_Char1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char gCommand_Char2;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Global variables used for limit switch feature                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT8 gLimitSwitchPortB;     // Latched PortB value when trigger happens D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT8 gLimitSwitchReplies;   // Non-zero if we want a reply printed when limit switch trigger goes true D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           UINT8 gLimitSwitchReplyPrinted;       // True if we've already printed a reply for this limit switch trigger D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           UINT8 gCommandChecksumRequired;       // True if we are requiring checksums on all commands (defaults to off) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Stack high water value                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           static volatile UINT16 gStackHighWater;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Locals used in low ISR                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           static INT16 RC2Difference;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           static UINT8 tempStackPointerHigh;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           static UINT8 tempStackPointerLow;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           static UINT16 tempStackPointer;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           static unsigned char gDeviceStringName[FLASH_NAME_LENGTH+1];                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void BlinkUSBStatus(void);     // Handles blinking the USB status LED            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           BOOL SwitchIsPressed(void);    // Check to see if the user (PRG) switch is pressed D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_packet(void);       // Take a full packet and dispatch it to the right function D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           signed char extract_digit(unsigned long * acc, unsigned char digits); // Pull a character out of the packet D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_R_packet(void);     // R for resetting UBW                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_C_packet(void);     // C for configuring I/O and analog pins          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_O_packet(void);     // O for output digital to pins                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_I_packet(void);     // I for input digital from pins                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_V_packet(void);     // V for printing version                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_A_packet(void);     // A for requesting analog inputs                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PI_packet(void);    // PI for reading a single pin                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PO_packet(void);    // PO for setting a single pin state              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PD_packet(void);    // PD for setting a pin's direction               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_MR_packet(void);    // MR for Memory Read                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_MW_packet(void);    // MW for Memory Write                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_CU_packet(void);    // CU configures UBW (system wide parameters)     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #if PC_PG_T_COMMANDS_ENABLED                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_T_packet(void);     // T for setting up timed I/O (digital or analog) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PG_packet(void);    // PG Pulse Go                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PC_packet(void);    // PC Pulse Configure                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_BL_packet(void);    // BL Boot Load command                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_CK_packet(void);    // CK ChecK command                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_MR_packet(void);    // MR Motors Run command                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_AC_packet(void);    // AC Analog Configure                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_ST_packet(void);    // ST Set Tag command                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_QT_packet(void);    // QT Query Tag command                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_RB_packet(void);    // RB ReBoot command                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_QR_packet(void);    // QR Query RC Servo power state                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_SR_packet(void);    // SR Set RC Servo power timeout                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_QU_packet(void);    // QU General Query                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void check_and_send_TX_data(void); // See if there is any data to send to PC, and if so, do it D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /** D E C L A R A T I O N S **************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #pragma code                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #pragma interruptlow low_ISR                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c18   cfd8     MOVFF     0xfd8,0xfe4    void low_ISR(void)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c1a   ffe4                                                                                                               
003c1c   cfe0     MOVFF     0xfe0,0xfe4                                                                                     
003c1e   ffe4                                                                                                               
003c20   6ee4     MOVWF     0xe4,0x0                                                                                        
003c22   cfda     MOVFF     0xfda,0xfe4                                                                                     
003c24   ffe4                                                                                                               
003c26   cfe9     MOVFF     0xfe9,0xfe4                                                                                     
003c28   ffe4                                                                                                               
003c2a   cfea     MOVFF     0xfea,0xfe4                                                                                     
003c2c   ffe4                                                                                                               
003c2e   cff3     MOVFF     0xff3,0xfe4                                                                                     
003c30   ffe4                                                                                                               
003c32   cff4     MOVFF     0xff4,0xfe4                                                                                     
003c34   ffe4                                                                                                               
003c36   52e6     MOVF      0xe6,0x1,0x0                                                                                    
003c38   ecd7     CALL      0x65ae,0x0                                                                                      
003c3a   f032                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Do we have a Timer4 interrupt? (1ms rate)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c3c   a6a4     BTFSS     0xa4,0x3,0x0     if (PIR3bits.TMR4IF)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c3e   d145     BRA       0x3eca                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Clear the interrupt                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c40   96a4     BCF       0xa4,0x3,0x0       PIR3bits.TMR4IF = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Handle RC servo pulse generation (for next pulse/channel)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Always increment the gRCServo2msCounter                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c42   0100     MOVLB     0x0                gRC2msCounter++;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c44   2b60     INCF      0x60,0x1,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c46   0100     MOVLB     0x0                if (gRC2msCounter >= gRC2SlotMS)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c48   519b     MOVF      0x9b,0x0,0x1                                                                                    
003c4a   0100     MOVLB     0x0                                                                                             
003c4c   5d60     SUBWF     0x60,0x0,0x1                                                                                    
003c4e   e201     BC        0x3c52                                                                                          
003c50   d09f     BRA       0x3d90                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Clear the RC2 ms counter                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c52   6b60     CLRF      0x60,0x1             gRC2msCounter = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Turn off the PPS routing to the 'old' pin                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c54   0100     MOVLB     0x0                  *(gRC2RPORPtr + gRC2RPn[gRC2Ptr]) = 0;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c56   ecf0     CALL      0x63e0,0x0                                                                                      
003c58   f031                                                                                                               
003c5a   6aef     CLRF      0xef,0x0                                                                                        
0063e0   5199     MOVF      0x99,0x0,0x1                                                                                    
0063e2   6aea     CLRF      0xea,0x0                                                                                        
0063e4   0f71     ADDLW     0x71                                                                                            
0063e6   6ee9     MOVWF     0xe9,0x0                                                                                        
0063e8   0e00     MOVLW     0x0                                                                                             
0063ea   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0063ec   50ef     MOVF      0xef,0x0,0x0                                                                                    
0063ee   0100     MOVLB     0x0                                                                                             
0063f0   6aea     CLRF      0xea,0x0                                                                                        
0063f2   259c     ADDWF     0x9c,0x0,0x1                                                                                    
0063f4   6ee9     MOVWF     0xe9,0x0                                                                                        
0063f6   519d     MOVF      0x9d,0x0,0x1                                                                                    
0063f8   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0063fa   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Turn off TIMER3 for now                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c5c   9079     BCF       0x79,0x0,0x0         T3CONbits.TMR3ON = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // And clear TIMER3 to zero                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c5e   6a7b     CLRF      0x7b,0x0             TMR3H = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c60   6a7a     CLRF      0x7a,0x0             TMR3L = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // And always advance the main pointer                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c62   0100     MOVLB     0x0                  gRC2Ptr++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c64   2b99     INCF      0x99,0x1,0x1                                                                                    
003c66   0100     MOVLB     0x0                  if (gRC2Ptr >= gRC2Slots)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c68   519a     MOVF      0x9a,0x0,0x1                                                                                    
003c6a   0100     MOVLB     0x0                                                                                             
003c6c   5d99     SUBWF     0x99,0x0,0x1                                                                                    
003c6e   e301     BNC       0x3c72                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c70   6b99     CLRF      0x99,0x1               gRC2Ptr = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // If the value is zero, we do nothing to this pin                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // otherwise, prime it for sending a pulse                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c72   ec69     CALL      0x66d2,0x0           if (gRC2Value[gRC2Ptr] != 0u)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c74   f033                                                                                                               
003c76   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003c78   50ee     MOVF      0xee,0x0,0x0                                                                                    
003c7a   10ed     IORWF     0xed,0x0,0x0                                                                                    
003c7c   e101     BNZ       0x3c80                                                                                          
003c7e   d088     BRA       0x3d90                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Now, to move 'slowly', we update gRC2Value[] by                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // seeing if we are at gRC2Target[] yet. If not, then                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // we add (or subtract) gRC2Rate[] to try and get there.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c80   ec5c     CALL      0x66b8,0x0             if (gRC2Target[gRC2Ptr] != gRC2Value[gRC2Ptr])                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c82   f033                                                                                                               
003c84   cfee     MOVFF     0xfee,0x58                                                                                      
003c86   f058                                                                                                               
003c88   cfef     MOVFF     0xfef,0x59                                                                                      
003c8a   f059                                                                                                               
003c8c   5058     MOVF      0x58,0x0,0x0                                                                                    
003c8e   1856     XORWF     0x56,0x0,0x0                                                                                    
003c90   e102     BNZ       0x3c96                                                                                          
003c92   5059     MOVF      0x59,0x0,0x0                                                                                    
003c94   1857     XORWF     0x57,0x0,0x0                                                                                    
003c96   e05f     BZ        0x3d56                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c98   b209     BTFSC     0x9,0x1,0x0              if (bittst(TestMode, TEST_MODE_GPIO_NUM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c9a   8689     BSF       0x89,0x3,0x0               LATAbits.LATA3 = 1;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // If the rate is zero, then we always move instantly                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // to the target.                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c9c   ecac     CALL      0x6558,0x0               if (gRC2Rate[gRC2Ptr] == 0u)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003c9e   f032                                                                                                               
003ca0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003ca2   50ee     MOVF      0xee,0x0,0x0                                                                                    
003ca4   10ed     IORWF     0xed,0x0,0x0                                                                                    
003ca6   e051     BZ        0x3d4a                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       gRC2Value[gRC2Ptr] = gRC2Target[gRC2Ptr];                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     else                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       // Otherwise, add gRC2Rate[] each time through until we              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       // get to our desired pulse width.                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ca8   ec5c     CALL      0x66b8,0x0                 RC2Difference = (gRC2Target[gRC2Ptr] - gRC2Value[gRC2Ptr]);          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003caa   f033                                                                                                               
003cac   0104     MOVLB     0x4                                                                                             
003cae   50ee     MOVF      0xee,0x0,0x0                                                                                    
003cb0   5c56     SUBWF     0x56,0x0,0x0                                                                                    
003cb2   6fcf     MOVWF     0xcf,0x1                                                                                        
003cb4   50ee     MOVF      0xee,0x0,0x0                                                                                    
003cb6   5857     SUBWFB    0x57,0x0,0x0                                                                                    
003cb8   6fd0     MOVWF     0xd0,0x1                                                                                        
003cba   34e8     RLCF      0xe8,0x0,0x0               if (RC2Difference > 0)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003cbc   e222     BC        0x3d02                                                                                          
003cbe   51cf     MOVF      0xcf,0x0,0x1                                                                                    
003cc0   0800     SUBLW     0x0                                                                                             
003cc2   0e00     MOVLW     0x0                                                                                             
003cc4   55d0     SUBFWB    0xd0,0x0,0x1                                                                                    
003cc6   e21d     BC        0x3d02                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003cc8   0100     MOVLB     0x0                          if (RC2Difference > (INT16)gRC2Rate[gRC2Ptr])                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003cca   ecac     CALL      0x6558,0x0                                                                                      
003ccc   f032                                                                                                               
003cce   ec6c     CALL      0x62d8,0x0                                                                                      
003cd0   f031                                                                                                               
003cd2   0104     MOVLB     0x4                                                                                             
003cd4   5057     MOVF      0x57,0x0,0x0                                                                                    
003cd6   19d0     XORWF     0xd0,0x0,0x1                                                                                    
003cd8   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
003cda   d002     BRA       0x3ce0                                                                                          
003cdc   35d0     RLCF      0xd0,0x0,0x1                                                                                    
003cde   d004     BRA       0x3ce8                                                                                          
003ce0   51cf     MOVF      0xcf,0x0,0x1                                                                                    
003ce2   5c56     SUBWF     0x56,0x0,0x0                                                                                    
003ce4   51d0     MOVF      0xd0,0x0,0x1                                                                                    
003ce6   5857     SUBWFB    0x57,0x0,0x0                                                                                    
003ce8   e20a     BC        0x3cfe                                                                                          
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003cea   0100     MOVLB     0x0                            gRC2Value[gRC2Ptr] += gRC2Rate[gRC2Ptr];                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003cec   ecac     CALL      0x6558,0x0                                                                                      
003cee   f032                                                                                                               
003cf0   ec7d     CALL      0x64fa,0x0                                                                                      
003cf2   f032                                                                                                               
003cf4   5056     MOVF      0x56,0x0,0x0                                                                                    
003cf6   26ee     ADDWF     0xee,0x1,0x0                                                                                    
003cf8   5057     MOVF      0x57,0x0,0x0                                                                                    
003cfa   22ed     ADDWFC    0xed,0x1,0x0                                                                                    
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003cfc   d02c     BRA       0x3d56                       else                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003cfe   0100     MOVLB     0x0                            gRC2Value[gRC2Ptr] = gRC2Target[gRC2Ptr];                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d00   d024     BRA       0x3d4a                     else                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d02   c4cf     MOVFF     0x4cf,0x56                   if (-RC2Difference > (INT16)gRC2Rate[gRC2Ptr])                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d04   f056                                                                                                               
003d06   c4d0     MOVFF     0x4d0,0x57                                                                                      
003d08   f057                                                                                                               
003d0a   6c56     NEGF      0x56,0x0                                                                                        
003d0c   1e57     COMF      0x57,0x1,0x0                                                                                    
003d0e   0e00     MOVLW     0x0                                                                                             
003d10   2257     ADDWFC    0x57,0x1,0x0                                                                                    
003d12   0100     MOVLB     0x0                                                                                             
003d14   ecac     CALL      0x6558,0x0                                                                                      
003d16   f032                                                                                                               
003d18   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003d1a   cfee     MOVFF     0xfee,0x58                                                                                      
003d1c   f058                                                                                                               
003d1e   cfef     MOVFF     0xfef,0x59                                                                                      
003d20   f059                                                                                                               
003d22   5059     MOVF      0x59,0x0,0x0                                                                                    
003d24   1857     XORWF     0x57,0x0,0x0                                                                                    
003d26   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
003d28   d002     BRA       0x3d2e                                                                                          
003d2a   3457     RLCF      0x57,0x0,0x0                                                                                    
003d2c   d004     BRA       0x3d36                                                                                          
003d2e   5056     MOVF      0x56,0x0,0x0                                                                                    
003d30   5c58     SUBWF     0x58,0x0,0x0                                                                                    
003d32   5057     MOVF      0x57,0x0,0x0                                                                                    
003d34   5859     SUBWFB    0x59,0x0,0x0                                                                                    
003d36   e209     BC        0x3d4a                                                                                          
006558   de85     RCALL     0x6264                                                                                          
00655a   0e89     MOVLW     0x89                                                                                            
00655c   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00655e   0e00     MOVLW     0x0                                                                                             
006560   0012     RETURN    0x0                                                                                             
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d38   ecac     CALL      0x6558,0x0                     gRC2Value[gRC2Ptr] -= gRC2Rate[gRC2Ptr];                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d3a   f032                                                                                                               
003d3c   ec7d     CALL      0x64fa,0x0                                                                                      
003d3e   f032                                                                                                               
003d40   5056     MOVF      0x56,0x0,0x0                                                                                    
003d42   5eee     SUBWF     0xee,0x1,0x0                                                                                    
003d44   5057     MOVF      0x57,0x0,0x0                                                                                    
003d46   5aed     SUBWFB    0xed,0x1,0x0                                                                                    
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d48   d006     BRA       0x3d56                       else                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d4a   ec5c     CALL      0x66b8,0x0                     gRC2Value[gRC2Ptr] = gRC2Target[gRC2Ptr];                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d4c   f033                                                                                                               
003d4e   c056     MOVFF     0x56,0xfee                                                                                      
003d50   ffee                                                                                                               
003d52   c057     MOVFF     0x57,0xfed                                                                                      
003d54   ffed                                                                                                               
0062d8   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0062da   cfee     MOVFF     0xfee,0x56                                                                                      
0062dc   f056                                                                                                               
0062de   cfef     MOVFF     0xfef,0x57                                                                                      
0062e0   f057                                                                                                               
0062e2   0012     RETURN    0x0                                                                                             
0064fa   deee     RCALL     0x62d8                                                                                          
0064fc   d8ea     RCALL     0x66d2                                                                                          
0064fe   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006500   0012     RETURN    0x0                                                                                             
0066b8   ddd5     RCALL     0x6264                                                                                          
0066ba   0e79     MOVLW     0x79                                                                                            
0066bc   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0066be   0e00     MOVLW     0x0                                                                                             
0066c0   ef7d     GOTO      0x64fa                                                                                          
0066c2   f032                                                                                                               
0066d2   ddc8     RCALL     0x6264                                                                                          
0066d4   0e61     MOVLW     0x61                                                                                            
0066d6   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0066d8   0e00     MOVLW     0x0                                                                                             
0066da   0012     RETURN    0x0                                                                                             
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Set up the PPS routing for the CCP2                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d56   ecf0     CALL      0x63e0,0x0             *(gRC2RPORPtr + gRC2RPn[gRC2Ptr]) = 18; // 18 = CCP2                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d58   f031                                                                                                               
003d5a   0e12     MOVLW     0x12                                                                                            
003d5c   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Disable interrupts (high)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d5e   9ef2     BCF       0xf2,0x7,0x0           INTCONbits.GIEH = 0;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Load up the new compare time                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d60   0100     MOVLB     0x0                    CCPR2H = gRC2Value[gRC2Ptr] >> 8;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d62   ecf8     CALL      0x65f0,0x0                                                                                      
003d64   f032                                                                                                               
003d66   c057     MOVFF     0x57,0x56                                                                                       
003d68   f056                                                                                                               
003d6a   6a57     CLRF      0x57,0x0                                                                                        
003d6c   5056     MOVF      0x56,0x0,0x0                                                                                    
003d6e   6eb6     MOVWF     0xb6,0x0                                                                                        
0065f0   d870     RCALL     0x66d2                                                                                          
0065f2   ef6c     GOTO      0x62d8                                                                                          
0065f4   f031                                                                                                               
003d70   ecf8     CALL      0x65f0,0x0             CCPR2L = gRC2Value[gRC2Ptr] & 0xFF;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d72   f032                                                                                                               
003d74   5056     MOVF      0x56,0x0,0x0                                                                                    
003d76   6eb5     MOVWF     0xb5,0x0                                                                                        
006264   5199     MOVF      0x99,0x0,0x1                                                                                    
006266   6ee9     MOVWF     0xe9,0x0                                                                                        
006268   6aea     CLRF      0xea,0x0                                                                                        
00626a   90d8     BCF       0xd8,0x0,0x0                                                                                    
00626c   36e9     RLCF      0xe9,0x1,0x0                                                                                    
00626e   36ea     RLCF      0xea,0x1,0x0                                                                                    
006270   0012     RETURN    0x0                                                                                             
003d78   0ef0     MOVLW     0xf0                   CCP2CONbits.CCP2M = 0b0000;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d7a   14b4     ANDWF     0xb4,0x0,0x0                                                                                    
003d7c   0900     IORLW     0x0                                                                                             
003d7e   6eb4     MOVWF     0xb4,0x0                                                                                        
003d80   0ef0     MOVLW     0xf0                   CCP2CONbits.CCP2M = 0b1001;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d82   14b4     ANDWF     0xb4,0x0,0x0                                                                                    
003d84   0909     IORLW     0x9                                                                                             
003d86   6eb4     MOVWF     0xb4,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Turn TIMER3 back on                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d88   8079     BSF       0x79,0x0,0x0           T3CONbits.TMR3ON = 1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Re-enable interrupts                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d8a   8ef2     BSF       0xf2,0x7,0x0           INTCONbits.GIEH = 1;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d8c   b209     BTFSC     0x9,0x1,0x0            if (bittst(TestMode, TEST_MODE_GPIO_NUM))                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d8e   9689     BCF       0x89,0x3,0x0             LATAbits.LATA3 = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // See if it's time to fire off an I packet                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d90   0104     MOVLB     0x4                if (ISR_D_RepeatRate > 0u)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d92   0e00     MOVLW     0x0                                                                                             
003d94   80d8     BSF       0xd8,0x0,0x0                                                                                    
003d96   557a     SUBFWB    0x7a,0x0,0x1                                                                                    
003d98   0e00     MOVLW     0x0                                                                                             
003d9a   557b     SUBFWB    0x7b,0x0,0x1                                                                                    
003d9c   e22e     BC        0x3dfa                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d9e   2b88     INCF      0x88,0x1,0x1         D_tick_counter++;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003da0   0e00     MOVLW     0x0                                                                                             
003da2   2389     ADDWFC    0x89,0x1,0x1                                                                                    
003da4   517a     MOVF      0x7a,0x0,0x1         if (D_tick_counter >= ISR_D_RepeatRate)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003da6   5d88     SUBWF     0x88,0x0,0x1                                                                                    
003da8   517b     MOVF      0x7b,0x0,0x1                                                                                    
003daa   5989     SUBWFB    0x89,0x0,0x1                                                                                    
003dac   e326     BNC       0x3dfa                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dae   6b88     CLRF      0x88,0x1               D_tick_counter = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003db0   6b89     CLRF      0x89,0x1                                                                                        
                                                   // Tell the main code to send an I packet                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003db2   0e03     MOVLW     0x3                    if (ISR_D_FIFO_length < kISR_FIFO_D_DEPTH)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003db4   5d7e     SUBWF     0x7e,0x0,0x1                                                                                    
003db6   e21f     BC        0x3df6                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // And copy over our port values                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003db8   517c     MOVF      0x7c,0x0,0x1             ISR_D_FIFO[0][ISR_D_FIFO_in] = PORTA;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dba   6aea     CLRF      0xea,0x0                                                                                        
003dbc   0f20     ADDLW     0x20                                                                                            
003dbe   6ee9     MOVWF     0xe9,0x0                                                                                        
003dc0   0e01     MOVLW     0x1                                                                                             
003dc2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003dc4   cf80     MOVFF     0xf80,0xfef                                                                                     
003dc6   ffef                                                                                                               
003dc8   517c     MOVF      0x7c,0x0,0x1             ISR_D_FIFO[1][ISR_D_FIFO_in] = PORTB;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dca   6aea     CLRF      0xea,0x0                                                                                        
003dcc   0f23     ADDLW     0x23                                                                                            
003dce   6ee9     MOVWF     0xe9,0x0                                                                                        
003dd0   0e01     MOVLW     0x1                                                                                             
003dd2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003dd4   cf81     MOVFF     0xf81,0xfef                                                                                     
003dd6   ffef                                                                                                               
003dd8   517c     MOVF      0x7c,0x0,0x1             ISR_D_FIFO[2][ISR_D_FIFO_in] = PORTC;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dda   6aea     CLRF      0xea,0x0                                                                                        
003ddc   0f26     ADDLW     0x26                                                                                            
003dde   6ee9     MOVWF     0xe9,0x0                                                                                        
003de0   0e01     MOVLW     0x1                                                                                             
003de2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003de4   cf82     MOVFF     0xf82,0xfef                                                                                     
003de6   ffef                                                                                                               
003de8   2b7c     INCF      0x7c,0x1,0x1             ISR_D_FIFO_in++;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dea   0e03     MOVLW     0x3                      if (ISR_D_FIFO_in >= kISR_FIFO_D_DEPTH)                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dec   5d7c     SUBWF     0x7c,0x0,0x1                                                                                    
003dee   e301     BNC       0x3df2                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003df0   6b7c     CLRF      0x7c,0x1                   ISR_D_FIFO_in = 0;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003df2   2b7e     INCF      0x7e,0x1,0x1             ISR_D_FIFO_length++;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003df4   d002     BRA       0x3dfa                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Stop the madness! Something is wrong, we're                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // not getting our packets out. So kill the                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // timer.                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003df6   6b7a     CLRF      0x7a,0x1                 ISR_D_RepeatRate = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003df8   6b7b     CLRF      0x7b,0x1                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // See if it's time to fire off an A packet                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dfa   0e00     MOVLW     0x0                if ((ISR_A_RepeatRate > 0u) && (AnalogEnabledChannels > 0u))                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dfc   80d8     BSF       0xd8,0x0,0x0                                                                                    
003dfe   557f     SUBFWB    0x7f,0x0,0x1                                                                                    
003e00   0e00     MOVLW     0x0                                                                                             
003e02   5580     SUBFWB    0x80,0x0,0x1                                                                                    
003e04   e21c     BC        0x3e3e                                                                                          
003e06   0e00     MOVLW     0x0                                                                                             
003e08   80d8     BSF       0xd8,0x0,0x0                                                                                    
003e0a   558e     SUBFWB    0x8e,0x0,0x1                                                                                    
003e0c   0e00     MOVLW     0x0                                                                                             
003e0e   558f     SUBFWB    0x8f,0x0,0x1                                                                                    
003e10   e216     BC        0x3e3e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e12   2b8a     INCF      0x8a,0x1,0x1         A_tick_counter++;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e14   0e00     MOVLW     0x0                                                                                             
003e16   238b     ADDWFC    0x8b,0x1,0x1                                                                                    
003e18   517f     MOVF      0x7f,0x0,0x1         if (A_tick_counter >= ISR_A_RepeatRate)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e1a   5d8a     SUBWF     0x8a,0x0,0x1                                                                                    
003e1c   5180     MOVF      0x80,0x0,0x1                                                                                    
003e1e   598b     SUBWFB    0x8b,0x0,0x1                                                                                    
003e20   e30e     BNC       0x3e3e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e22   6b8a     CLRF      0x8a,0x1               A_tick_counter = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e24   6b8b     CLRF      0x8b,0x1                                                                                        
                                                   // Tell the main code to send an A packet                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e26   0e03     MOVLW     0x3                    if (ISR_A_FIFO_length < kISR_FIFO_A_DEPTH)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e28   5d83     SUBWF     0x83,0x0,0x1                                                                                    
003e2a   e207     BC        0x3e3a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e2c   2b81     INCF      0x81,0x1,0x1             ISR_A_FIFO_in++;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e2e   0e03     MOVLW     0x3                      if (ISR_A_FIFO_in >= kISR_FIFO_A_DEPTH)                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e30   5d81     SUBWF     0x81,0x0,0x1                                                                                    
003e32   e301     BNC       0x3e36                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e34   6b81     CLRF      0x81,0x1                   ISR_A_FIFO_in = 0;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e36   2b83     INCF      0x83,0x1,0x1             ISR_A_FIFO_length++;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e38   d002     BRA       0x3e3e                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Stop the madness! Something is wrong, we're                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // not getting our packets out. So kill the A                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // packets.                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e3a   6b7f     CLRF      0x7f,0x1                 ISR_A_RepeatRate = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e3c   6b80     CLRF      0x80,0x1                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Only start analog conversions if there are channels enabled               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e3e   518e     MOVF      0x8e,0x0,0x1       if (AnalogEnabledChannels)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e40   118f     IORWF     0x8f,0x0,0x1                                                                                    
003e42   e00b     BZ        0x3e5a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Only start every so many ms                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e44   0e05     MOVLW     0x5                  if (AnalogInitiate >= ANALOG_INITATE_MS_BETWEEN_STARTS)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e46   5d8d     SUBWF     0x8d,0x0,0x1                                                                                    
003e48   e307     BNC       0x3e58                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Always start off with calibration                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e4a   8cc1     BSF       0xc1,0x6,0x0           ADCON1bits.ADCAL = 1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Clear the interrupt                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e4c   9c9e     BCF       0x9e,0x6,0x0           PIR1bits.ADIF = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Set the interrupt enable                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e4e   8c9d     BSF       0x9d,0x6,0x0           PIE1bits.ADIE = 1;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Make sure it's on!                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e50   80c2     BSF       0xc2,0x0,0x0           ADCON0bits.ADON = 1;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // And tell the A/D to GO!                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e52   82c2     BSF       0xc2,0x1,0x0           ADCON0bits.GO_DONE = 1;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Reset AnalogInitiate counter                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e54   6b8d     CLRF      0x8d,0x1               AnalogInitiate = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Otherwise, increment each 1ms                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e56   d001     BRA       0x3e5a               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e58   2b8d     INCF      0x8d,0x1,0x1           AnalogInitiate++;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #if PC_PG_T_COMMANDS_ENABLED                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Is Pulse Mode on?                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (gPulsesOn)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Loop across the four pins                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 for (i=0; i<4u; i++)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Only pulse the pin if there is a length for the pin                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   if (gPulseLen[i])                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // If this is the beginning of the pulse, turn the pin on              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (gPulseCounters[i] == 0u)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       // Turn the pin                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==0u) PORTBbits.RB0 = 1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==1u) PORTBbits.RB1 = 1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==2u) PORTBbits.RB2 = 1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==3u) PORTBbits.RB3 = 1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // If we've reached the end of the pulse, turn the pin off             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (gPulseCounters[i] == gPulseLen[i])                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       // Turn the pin off                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==0u) PORTBbits.RB0 = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==1u) PORTBbits.RB1 = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==2u) PORTBbits.RB2 = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==3u) PORTBbits.RB3 = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Now increment the counter                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     gPulseCounters[i]++;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // And check to see if we've reached the end of the rate               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (gPulseCounters[i] >= gPulseRate[i])                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       // If so, start over from zero                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       gPulseCounters[i] = 0;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Turn the pin off                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (i==0u) PORTBbits.RB0 = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (i==1u) PORTBbits.RB1 = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (i==2u) PORTBbits.RB2 = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (i==3u) PORTBbits.RB3 = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Software timer for QC command                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e5a   0101     MOVLB     0x1                if (QC_ms_timer)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e5c   51be     MOVF      0xbe,0x0,0x1                                                                                    
003e5e   e001     BZ        0x3e62                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e60   07be     DECF      0xbe,0x1,0x1         QC_ms_timer--;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Software timer for RCServo power control                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e62   0104     MOVLB     0x4                if (gRCServoPoweroffCounterMS)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e64   51be     MOVF      0xbe,0x0,0x1                                                                                    
003e66   11bf     IORWF     0xbf,0x0,0x1                                                                                    
003e68   11c0     IORWF     0xc0,0x0,0x1                                                                                    
003e6a   11c1     IORWF     0xc1,0x0,0x1                                                                                    
003e6c   e00b     BZ        0x3e84                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e6e   07be     DECF      0xbe,0x1,0x1         gRCServoPoweroffCounterMS--;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e70   0e00     MOVLW     0x0                                                                                             
003e72   5bbf     SUBWFB    0xbf,0x1,0x1                                                                                    
003e74   5bc0     SUBWFB    0xc0,0x1,0x1                                                                                    
003e76   5bc1     SUBWFB    0xc1,0x1,0x1                                                                                    
                                                 // If we just timed out, then shut off RC Servo power                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e78   51be     MOVF      0xbe,0x0,0x1         if (gRCServoPoweroffCounterMS == 0u)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e7a   11bf     IORWF     0xbf,0x0,0x1                                                                                    
003e7c   11c0     IORWF     0xc0,0x0,0x1                                                                                    
003e7e   11c1     IORWF     0xc1,0x0,0x1                                                                                    
003e80   e101     BNZ       0x3e84                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e82   9689     BCF       0x89,0x3,0x0           RCServoPowerIO = RCSERVO_POWER_OFF;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Check for stepper motor disable timeout if enabled                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e84   0e02     MOVLW     0x2                if (g_StepperDisableState == kSTEPPER_TIMEOUT_TIMING)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e86   5d95     SUBWF     0x95,0x0,0x1                                                                                    
003e88   e120     BNZ       0x3eca                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Count the milliseconds until we get to 1 second                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e8a   5198     MOVF      0x98,0x0,0x1         if (g_StepperDisableSecondCounter)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e8c   1199     IORWF     0x99,0x0,0x1                                                                                    
003e8e   e01d     BZ        0x3eca                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e90   0798     DECF      0x98,0x1,0x1           g_StepperDisableSecondCounter--;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e92   0e00     MOVLW     0x0                                                                                             
003e94   5b99     SUBWFB    0x99,0x1,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e96   5198     MOVF      0x98,0x0,0x1           if (g_StepperDisableSecondCounter == 0u)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e98   1199     IORWF     0x99,0x0,0x1                                                                                    
003e9a   e117     BNZ       0x3eca                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Then count down the seconds                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e9c   519a     MOVF      0x9a,0x0,0x1             if (g_StepperDisableCountdownS)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e9e   119b     IORWF     0x9b,0x0,0x1                                                                                    
003ea0   e014     BZ        0x3eca                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ea2   079a     DECF      0x9a,0x1,0x1               g_StepperDisableCountdownS--;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ea4   0e00     MOVLW     0x0                                                                                             
003ea6   5b9b     SUBWFB    0x9b,0x1,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ea8   519a     MOVF      0x9a,0x0,0x1               if (g_StepperDisableCountdownS == 0u)                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003eaa   119b     IORWF     0x9b,0x0,0x1                                                                                    
003eac   e10a     BNZ       0x3ec2                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         // If the countdown gets to zero, then it's time to disable        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         // the steppers.                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003eae   5004     MOVF      0x4,0x0,0x0                  if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003eb0   e103     BNZ       0x3eb8                                                                                          
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003eb2   808d     BSF       0x8d,0x0,0x0                   Enable1IO = DISABLE_MOTOR;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003eb4   828b     BSF       0x8b,0x1,0x0                   Enable2IO = DISABLE_MOTOR;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003eb6   d002     BRA       0x3ebc                       else                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003eb8   828c     BSF       0x8c,0x1,0x0                   Enable1AltIO = DISABLE_MOTOR;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003eba   8289     BSF       0x89,0x1,0x0                   Enable2AltIO = DISABLE_MOTOR;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ebc   0e03     MOVLW     0x3                          g_StepperDisableState = kSTEPPER_TIMEOUT_FIRED;                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ebe   6f95     MOVWF     0x95,0x1                                                                                        
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ec0   d004     BRA       0x3eca                     else                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         // Only count the next second if there are still seconds to count  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ec2   0ee8     MOVLW     0xe8                         g_StepperDisableSecondCounter = 1000u;                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ec4   6f98     MOVWF     0x98,0x1                                                                                        
003ec6   0e03     MOVLW     0x3                                                                                             
003ec8   6f99     MOVWF     0x99,0x1                                                                                        
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Read out the current value of FSR1 (stack pointer)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // If the new value is higher than gStackHighWater, then update gStackHighWater D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // This will record the highest value the stack pointer attains              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///    _asm                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///      MOVFF FSR1H, tempStackPointerHigh                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///      MOVFF FSR1L, tempStackPointerLow                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///    _endasm                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///    tempStackPointer = ((((UINT16)tempStackPointerHigh) << 8) | tempStackPointerLow); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///    if (tempStackPointer > gStackHighWater)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///    {                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///      gStackHighWater = tempStackPointer;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///    }                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             } // end of 1ms interrupt                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Do we have an analog interrupt?                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003eca   ac9e     BTFSS     0x9e,0x6,0x0     if (PIR1bits.ADIF)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ecc   d04f     BRA       0x3f6c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Clear the interrupt                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ece   9c9e     BCF       0x9e,0x6,0x0       PIR1bits.ADIF = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // If we just had a calibration, means we just started, so clear things      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // out and begin our sequence.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ed0   acc1     BTFSS     0xc1,0x6,0x0       if (ADCON1bits.ADCAL)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ed2   d007     BRA       0x3ee2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ed4   9cc1     BCF       0xc1,0x6,0x0         ADCON1bits.ADCAL = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ed6   0e01     MOVLW     0x1                  ChannelBit = 0x0001;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ed8   0104     MOVLB     0x4                                                                                             
003eda   6f90     MOVWF     0x90,0x1                                                                                        
003edc   6b91     CLRF      0x91,0x1                                                                                        
003ede   6b8c     CLRF      0x8c,0x1             A_cur_channel = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ee0   d02a     BRA       0x3f36             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Read out the value that we just converted, and store it.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ef6   0104     MOVLB     0x4                  ISR_A_FIFO[A_cur_channel] =                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ef8   518c     MOVF      0x8c,0x0,0x1                                                                                    
003efa   6ee9     MOVWF     0xe9,0x0                                                                                        
003efc   6aea     CLRF      0xea,0x0                                                                                        
003efe   ecc7     CALL      0x658e,0x0                                                                                      
003f00   f032                                                                                                               
003f02   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003eea   50c3     MOVF      0xc3,0x0,0x0             (unsigned int)ADRESL                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     |                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ee2   50c4     MOVF      0xc4,0x0,0x0             ((unsigned int)ADRESH << 8);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ee4   6e58     MOVWF     0x58,0x0                                                                                        
003ee6   6e59     MOVWF     0x59,0x0                                                                                        
003ee8   6a58     CLRF      0x58,0x0                                                                                        
003eec   0100     MOVLB     0x0                                                                                             
003eee   1058     IORWF     0x58,0x0,0x0                                                                                    
003ef0   6e56     MOVWF     0x56,0x0                                                                                        
003ef2   c059     MOVFF     0x59,0x57                                                                                       
003ef4   f057                                                                                                               
003f04   c056     MOVFF     0x56,0xfee                                                                                      
003f06   ffee                                                                                                               
003f08   c057     MOVFF     0x57,0xfed                                                                                      
003f0a   ffed                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // If this is the V+_VOLTAGE ADC channel, then check to see if the value   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // is below the threshold, and if so, set the bit to record this fact      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f0c   0e0b     MOVLW     0xb                  if (A_cur_channel == RA11_VPLUS_POWER_ADC_CHANNEL)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f0e   5d8c     SUBWF     0x8c,0x0,0x1                                                                                    
003f10   e10e     BNZ       0x3f2e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f12   518c     MOVF      0x8c,0x0,0x1           if (ISR_A_FIFO[A_cur_channel] < g_PowerMonitorThresholdADC)              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f14   6ee9     MOVWF     0xe9,0x0                                                                                        
003f16   6aea     CLRF      0xea,0x0                                                                                        
003f18   ecc7     CALL      0x658e,0x0                                                                                      
003f1a   f032                                                                                                               
003f1c   ec6c     CALL      0x62d8,0x0                                                                                      
003f1e   f031                                                                                                               
003f20   5192     MOVF      0x92,0x0,0x1                                                                                    
003f22   5c56     SUBWF     0x56,0x0,0x0                                                                                    
003f24   5193     MOVF      0x93,0x0,0x1                                                                                    
003f26   5857     SUBWFB    0x57,0x0,0x0                                                                                    
003f28   e202     BC        0x3f2e                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f2a   0e01     MOVLW     0x1                      g_PowerDropDetected = TRUE;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f2c   6f94     MOVWF     0x94,0x1                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Increment the channel and mask bit                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f2e   90d8     BCF       0xd8,0x0,0x0         ChannelBit = ChannelBit << 1;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f30   3790     RLCF      0x90,0x1,0x1                                                                                    
003f32   3791     RLCF      0x91,0x1,0x1                                                                                    
003f34   2b8c     INCF      0x8c,0x1,0x1         A_cur_channel++;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Walk through the enabled channels until we find the next one              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f36   0e10     MOVLW     0x10               while (A_cur_channel < 16u)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f38   5d8c     SUBWF     0x8c,0x0,0x1                                                                                    
003f3a   e20e     BC        0x3f58                                                                                          
003f56   d7ef     BRA       0x3f36                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f3c   5190     MOVF      0x90,0x0,0x1         if (ChannelBit & AnalogEnabledChannels)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f3e   158e     ANDWF     0x8e,0x0,0x1                                                                                    
003f40   6e56     MOVWF     0x56,0x0                                                                                        
003f42   5191     MOVF      0x91,0x0,0x1                                                                                    
003f44   158f     ANDWF     0x8f,0x0,0x1                                                                                    
003f46   6e57     MOVWF     0x57,0x0                                                                                        
003f48   5056     MOVF      0x56,0x0,0x0                                                                                    
003f4a   1057     IORWF     0x57,0x0,0x0                                                                                    
003f4c   e105     BNZ       0x3f58                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Increment the channel and write the new one in                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f4e   2b8c     INCF      0x8c,0x1,0x1           A_cur_channel++;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f50   90d8     BCF       0xd8,0x0,0x0           ChannelBit = ChannelBit << 1;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f52   3790     RLCF      0x90,0x1,0x1                                                                                    
003f54   3791     RLCF      0x91,0x1,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f58   0e10     MOVLW     0x10               if (A_cur_channel >= 16u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f5a   5d8c     SUBWF     0x8c,0x0,0x1                                                                                    
003f5c   e302     BNC       0x3f62                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // We're done, so just sit and wait                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Turn off our interrupts though.                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f5e   9c9d     BCF       0x9d,0x6,0x0         PIE1bits.ADIE = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f60   d005     BRA       0x3f6c             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Update the channel number                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f62   518c     MOVF      0x8c,0x0,0x1         ADCON0 = (A_cur_channel << 2) + 1;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f64   0d04     MULLW     0x4                                                                                             
003f66   28f3     INCF      0xf3,0x0,0x0                                                                                    
003f68   6ec2     MOVWF     0xc2,0x0                                                                                        
                                                 // And start the next conversion                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f6a   82c2     BSF       0xc2,0x1,0x0         ADCON0bits.GO_DONE = 1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f6c   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f6e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003f70   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
003f72   ffd9                                                                                                               
003f74   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003f76   cfe5     MOVFF     0xfe5,0xff4                                                                                     
003f78   fff4                                                                                                               
003f7a   cfe5     MOVFF     0xfe5,0xff3                                                                                     
003f7c   fff3                                                                                                               
003f7e   cfe5     MOVFF     0xfe5,0xfea                                                                                     
003f80   ffea                                                                                                               
003f82   cfe5     MOVFF     0xfe5,0xfe9                                                                                     
003f84   ffe9                                                                                                               
003f86   cfe5     MOVFF     0xfe5,0xfda                                                                                     
003f88   ffda                                                                                                               
003f8a   50e5     MOVF      0xe5,0x0,0x0                                                                                    
003f8c   cfe5     MOVFF     0xfe5,0xfe0                                                                                     
003f8e   ffe0                                                                                                               
003f90   cfe5     MOVFF     0xfe5,0xfd8                                                                                     
003f92   ffd8                                                                                                               
003f94   0010     RETFIE    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //////// JUST FOR TESTING - DELETE                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f96   cfd9     MOVFF     0xfd9,0xfe6    void fill_stack(void)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f98   ffe6                                                                                                               
003f9a   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
003f9c   ffd9                                                                                                               
003f9e   0e02     MOVLW     0x2                                                                                             
003fa0   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fa2   6ade     CLRF      0xde,0x0         UINT8 * stackPtr = (UINT8 *)0x000;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fa4   6add     CLRF      0xdd,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             _asm                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fa6   cfe2     MOVFF     0xfe2,0x4d1        MOVFF FSR1H, tempStackPointerHigh                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fa8   f4d1                                                                                                               
003faa   cfe1     MOVFF     0xfe1,0x4d2        MOVFF FSR1L, tempStackPointerLow                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fac   f4d2                                                                                                               
                                             _endasm                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fae   c4d1     MOVFF     0x4d1,0x4e       tempStackPointer = ((((UINT16)tempStackPointerHigh) << 8) | tempStackPointerLow); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fb0   f04e                                                                                                               
003fb2   c04e     MOVFF     0x4e,0x4f                                                                                       
003fb4   f04f                                                                                                               
003fb6   6a4e     CLRF      0x4e,0x0                                                                                        
003fb8   0104     MOVLB     0x4                                                                                             
003fba   51d2     MOVF      0xd2,0x0,0x1                                                                                    
003fbc   0104     MOVLB     0x4                                                                                             
003fbe   104e     IORWF     0x4e,0x0,0x0                                                                                    
003fc0   6fd3     MOVWF     0xd3,0x1                                                                                        
003fc2   c04f     MOVFF     0x4f,0x4d4                                                                                      
003fc4   f4d4                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fc6   c4d3     MOVFF     0x4d3,0xfde      stackPtr = (UINT8 *)tempStackPointer;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fc8   ffde                                                                                                               
003fca   c4d4     MOVFF     0x4d4,0xfdd                                                                                     
003fcc   ffdd                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fce   0e08     MOVLW     0x8              stackPtr += 8;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fd0   26de     ADDWF     0xde,0x1,0x0                                                                                    
003fd2   0e00     MOVLW     0x0                                                                                             
003fd4   22dd     ADDWFC    0xdd,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fd6   cfd9     MOVFF     0xfd9,0xfe9      while ((UINT16)stackPtr <= 0xEBFu)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fd8   ffe9                                                                                                               
003fda   cfda     MOVFF     0xfda,0xfea                                                                                     
003fdc   ffea                                                                                                               
003fde   0ebf     MOVLW     0xbf                                                                                            
003fe0   80d8     BSF       0xd8,0x0,0x0                                                                                    
003fe2   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
003fe4   0e0e     MOVLW     0xe                                                                                             
003fe6   54ed     SUBFWB    0xed,0x0,0x0                                                                                    
003fe8   e30b     BNC       0x4000                                                                                          
003ffe   d7eb     BRA       0x3fd6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fea   cfde     MOVFF     0xfde,0xfe9        *stackPtr = 0xEE;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fec   ffe9                                                                                                               
003fee   cfdd     MOVFF     0xfdd,0xfea                                                                                     
003ff0   ffea                                                                                                               
003ff2   0eee     MOVLW     0xee                                                                                            
003ff4   6eef     MOVWF     0xef,0x0                                                                                        
003ff6   2adf     INCF      0xdf,0x1,0x0       stackPtr++;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ff8   0e01     MOVLW     0x1                                                                                             
003ffa   e301     BNC       0x3ffe                                                                                          
003ffc   2adb     INCF      0xdb,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004000   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004002   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
004004   e202     BC        0x400a                                                                                          
004006   6ae1     CLRF      0xe1,0x0                                                                                        
004008   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00400a   6ee1     MOVWF     0xe1,0x0                                                                                        
00400c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00400e   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
004010   ffd9                                                                                                               
004012   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Walk backwards in the stack RAM section looking of 0xEEs. When we stop        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // seeing them, then we know that's the highest value of the stack to this point. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Print that location out.                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004014   ec72     CALL      0x66e4,0x0     void check_high_water(void)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004016   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 nib2;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004018   0ebf     MOVLW     0xbf             UINT8 * stackPtr = (UINT8 *)0xEBF;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00401a   6ef3     MOVWF     0xf3,0x0                                                                                        
00401c   0e01     MOVLW     0x1                                                                                             
00401e   cff3     MOVFF     0xff3,0xfdb                                                                                     
004020   ffdb                                                                                                               
004022   0e0e     MOVLW     0xe                                                                                             
004024   6ef3     MOVWF     0xf3,0x0                                                                                        
004026   0e02     MOVLW     0x2                                                                                             
004028   cff3     MOVFF     0xff3,0xfdb                                                                                     
00402a   ffdb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00402c   8cf2     BSF       0xf2,0x6,0x0     INTCONbits.GIEL = 1;  // Turn low priority interrupts off                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00402e   0e01     MOVLW     0x1              while (*stackPtr == 0xEE)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004030   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
004032   ffe9                                                                                                               
004034   0e02     MOVLW     0x2                                                                                             
004036   cfdb     MOVFF     0xfdb,0xfea                                                                                     
004038   ffea                                                                                                               
00403a   50ef     MOVF      0xef,0x0,0x0                                                                                    
00403c   08ee     SUBLW     0xee                                                                                            
00403e   e106     BNZ       0x404c                                                                                          
00404a   d7f1     BRA       0x402e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004040   0e01     MOVLW     0x1                stackPtr--;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004042   06db     DECF      0xdb,0x1,0x0                                                                                    
004044   0e02     MOVLW     0x2                                                                                             
004046   e2f3     BC        0x402e                                                                                          
004048   06db     DECF      0xdb,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00404c   ec40     CALL      0x6480,0x0       if ((UINT16)stackPtr > gStackHighWater)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00404e   f032                                                                                                               
004050   0104     MOVLB     0x4                                                                                             
004052   504e     MOVF      0x4e,0x0,0x0                                                                                    
004054   5dcd     SUBWF     0xcd,0x0,0x1                                                                                    
004056   504f     MOVF      0x4f,0x0,0x0                                                                                    
004058   59ce     SUBWFB    0xce,0x0,0x1                                                                                    
00405a   e206     BC        0x4068                                                                                          
006480   0e01     MOVLW     0x1                                                                                             
006482   cfdb     MOVFF     0xfdb,0x4e                                                                                      
006484   f04e                                                                                                               
006486   0e02     MOVLW     0x2                                                                                             
006488   cfdb     MOVFF     0xfdb,0x4f                                                                                      
00648a   f04f                                                                                                               
00648c   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00405c   0e01     MOVLW     0x1                gStackHighWater = (UINT16)stackPtr;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00405e   cfdb     MOVFF     0xfdb,0x4cd                                                                                     
004060   f4cd                                                                                                               
004062   0e02     MOVLW     0x2                                                                                             
004064   cfdb     MOVFF     0xfdb,0x4ce                                                                                     
004066   f4ce                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004068   8cf2     BSF       0xf2,0x6,0x0     INTCONbits.GIEL = 1;  // Turn low priority interrupts on                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00406a   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00406c   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00406e   e202     BC        0x4074                                                                                          
004070   6ae1     CLRF      0xe1,0x0                                                                                        
004072   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004074   6ee1     MOVWF     0xe1,0x0                                                                                        
004076   ef3e     GOTO      0x627c                                                                                          
004078   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///////                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00407a   ec7e     CALL      0x66fc,0x0     void UserInit(void)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00407c   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT16 i;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Make all of 3 digital inputs                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00407e   6a89     CLRF      0x89,0x0         LATA = 0x00;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004080   6892     SETF      0x92,0x0         TRISA = 0xFF;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Turn all analog inputs into digital inputs                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             //  ADCON1 = 0x0F;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Turn off the ADC                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             //  ADCON0bits.ADON = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Turn off our own idea of how many analog channels to convert                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004082   0104     MOVLB     0x4              AnalogEnabledChannels = 0;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004084   6b8e     CLRF      0x8e,0x1                                                                                        
004086   6b8f     CLRF      0x8f,0x1                                                                                        
                                             // Make all of PORTB inputs                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004088   6a8a     CLRF      0x8a,0x0         LATB = 0x00;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00408a   6893     SETF      0x93,0x0         TRISB = 0xFF;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Make all of PORTC inputs                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00408c   6a8b     CLRF      0x8b,0x0         LATC = 0x00;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00408e   6894     SETF      0x94,0x0         TRISC = 0xFF;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Initialize LED I/Os to outputs                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004090   968c     BCF       0x8c,0x3,0x0     mInitAllLEDs();                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004092   948c     BCF       0x8c,0x2,0x0                                                                                    
004094   9695     BCF       0x95,0x3,0x0                                                                                    
004096   9495     BCF       0x95,0x2,0x0                                                                                    
                                             // Initialize switch as an input                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004098   8e92     BSF       0x92,0x7,0x0     mInitSwitch();                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Start off always using "OK" acknowledge.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00409a   0e01     MOVLW     0x1              g_ack_enable = TRUE;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00409c   6fbd     MOVWF     0xbd,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // This has been missing for a long time and created problems on boot if not   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // set to zero.                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00409e   6b84     CLRF      0x84,0x1         error_byte = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Initialize all of the ISR FIFOs                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040a0   6b82     CLRF      0x82,0x1         ISR_A_FIFO_out = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040a2   6b81     CLRF      0x81,0x1         ISR_A_FIFO_in = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040a4   6b83     CLRF      0x83,0x1         ISR_A_FIFO_length = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040a6   6b7d     CLRF      0x7d,0x1         ISR_D_FIFO_out = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040a8   6b7c     CLRF      0x7c,0x1         ISR_D_FIFO_in = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040aa   6b7e     CLRF      0x7e,0x1         ISR_D_FIFO_length = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Make sure that our timer stuff starts out disabled                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040ac   6b7a     CLRF      0x7a,0x1         ISR_D_RepeatRate = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040ae   6b7b     CLRF      0x7b,0x1                                                                                        
0040b0   6b7f     CLRF      0x7f,0x1         ISR_A_RepeatRate = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040b2   6b80     CLRF      0x80,0x1                                                                                        
0040b4   6b88     CLRF      0x88,0x1         D_tick_counter = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040b6   6b89     CLRF      0x89,0x1                                                                                        
0040b8   6b8a     CLRF      0x8a,0x1         A_tick_counter = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040ba   6b8b     CLRF      0x8b,0x1                                                                                        
0040bc   6b8c     CLRF      0x8c,0x1         A_cur_channel = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now init our registers                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Initialize Timer4                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // The prescaler will be at 16                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040be   8276     BSF       0x76,0x1,0x0     T4CONbits.T4CKPS1 = 1;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040c0   8076     BSF       0x76,0x0,0x0     T4CONbits.T4CKPS0 = 1;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // We want the TMR4 post scaler to be a 3                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040c2   9c76     BCF       0x76,0x6,0x0     T4CONbits.T4OUTPS3 = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040c4   9a76     BCF       0x76,0x5,0x0     T4CONbits.T4OUTPS2 = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040c6   8876     BSF       0x76,0x4,0x0     T4CONbits.T4OUTPS1 = 1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040c8   9676     BCF       0x76,0x3,0x0     T4CONbits.T4OUTPS0 = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Set our reload value                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040ca   0efa     MOVLW     0xfa             PR4 = kPR4_RELOAD;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040cc   6e77     MOVWF     0x77,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Set up the Analog to Digital converter                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Clear out the FIFO data                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040ce   6ade     CLRF      0xde,0x0         for (i = 0; i < 16u; i++)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040d0   6add     CLRF      0xdd,0x0                                                                                        
0040d2   ec03     CALL      0x6406,0x0                                                                                      
0040d4   f032                                                                                                               
0040d6   0e10     MOVLW     0x10                                                                                            
0040d8   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
0040da   0e00     MOVLW     0x0                                                                                             
0040dc   584f     SUBWFB    0x4f,0x0,0x0                                                                                    
0040de   e213     BC        0x4106                                                                                          
0040fc   2adf     INCF      0xdf,0x1,0x0                                                                                    
0040fe   0e01     MOVLW     0x1                                                                                             
004100   e3e8     BNC       0x40d2                                                                                          
004102   2adb     INCF      0xdb,0x1,0x0                                                                                    
004104   d7e6     BRA       0x40d2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040e0   ec08     CALL      0x6410,0x0         ISR_A_FIFO[i] = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040e2   f032                                                                                                               
0040e4   0e01     MOVLW     0x1                                                                                             
0040e6   90d8     BCF       0xd8,0x0,0x0                                                                                    
0040e8   36e9     RLCF      0xe9,0x1,0x0                                                                                    
0040ea   36ea     RLCF      0xea,0x1,0x0                                                                                    
0040ec   06e8     DECF      0xe8,0x1,0x0                                                                                    
0040ee   e1fb     BNZ       0x40e6                                                                                          
0040f0   0e00     MOVLW     0x0                                                                                             
0040f2   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0040f4   0e01     MOVLW     0x1                                                                                             
0040f6   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0040f8   6aee     CLRF      0xee,0x0                                                                                        
0040fa   6aed     CLRF      0xed,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Initialize USB TX and RX buffer management                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004106   0104     MOVLB     0x4              g_RX_buf_in = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004108   6bb7     CLRF      0xb7,0x1                                                                                        
00410a   6bb8     CLRF      0xb8,0x1         g_RX_buf_out = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00410c   6bb5     CLRF      0xb5,0x1         g_TX_buf_in = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00410e   6bb6     CLRF      0xb6,0x1         g_TX_buf_out = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004110   6ade     CLRF      0xde,0x0         for (i=0; i < kTX_BUF_SIZE; i++)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004112   6add     CLRF      0xdd,0x0                                                                                        
004114   ec0f     CALL      0x661e,0x0                                                                                      
004116   f033                                                                                                               
004118   e20a     BC        0x412e                                                                                          
004128   e3f5     BNC       0x4114                                                                                          
00412a   2adb     INCF      0xdb,0x1,0x0                                                                                    
00412c   d7f3     BRA       0x4114                                                                                          
00661e   def3     RCALL     0x6406                                                                                          
006620   0e40     MOVLW     0x40                                                                                            
006622   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
006624   0e00     MOVLW     0x0                                                                                             
006626   584f     SUBWFB    0x4f,0x0,0x0                                                                                    
006628   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00411a   ec08     CALL      0x6410,0x0         g_TX_buf[i] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00411c   f032                                                                                                               
00411e   0e00     MOVLW     0x0                                                                                             
004120   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
004122   0e02     MOVLW     0x2                                                                                             
004124   ec6a     CALL      0x64d4,0x0                                                                                      
004126   f032                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00412e   6ade     CLRF      0xde,0x0         for (i=0; i < kRX_COMMAND_BUF_SIZE; i++)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004130   6add     CLRF      0xdd,0x0                                                                                        
004132   ec0f     CALL      0x661e,0x0                                                                                      
004134   f033                                                                                                               
004136   e20a     BC        0x414c                                                                                          
004146   e3f5     BNC       0x4132                                                                                          
004148   2adb     INCF      0xdb,0x1,0x0                                                                                    
00414a   d7f3     BRA       0x4132                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004138   ec08     CALL      0x6410,0x0         g_RX_command_buf[i] = 0;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00413a   f032                                                                                                               
00413c   0e40     MOVLW     0x40                                                                                            
00413e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
004140   0e02     MOVLW     0x2                                                                                             
004142   ec6a     CALL      0x64d4,0x0                                                                                      
004144   f032                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00414c   6ade     CLRF      0xde,0x0         for (i=0; i < kRX_BUF_SIZE; i++)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00414e   6add     CLRF      0xdd,0x0                                                                                        
004150   ec03     CALL      0x6406,0x0                                                                                      
004152   f032                                                                                                               
004154   0e00     MOVLW     0x0                                                                                             
004156   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
004158   0e01     MOVLW     0x1                                                                                             
00415a   584f     SUBWFB    0x4f,0x0,0x0                                                                                    
00415c   e20a     BC        0x4172                                                                                          
00416c   e3f1     BNC       0x4150                                                                                          
00416e   2adb     INCF      0xdb,0x1,0x0                                                                                    
004170   d7ef     BRA       0x4150                                                                                          
0064d8   2adf     INCF      0xdf,0x1,0x0                                                                                    
0064da   0e01     MOVLW     0x1                                                                                             
0064dc   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00415e   ec08     CALL      0x6410,0x0         g_RX_buf[i] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004160   f032                                                                                                               
004162   0e00     MOVLW     0x0                                                                                             
004164   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
004166   0e03     MOVLW     0x3                                                                                             
004168   ec6a     CALL      0x64d4,0x0                                                                                      
00416a   f032                                                                                                               
0064d4   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0064d6   6aef     CLRF      0xef,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // And the USART TX and RX buffer management                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004172   0104     MOVLB     0x4              g_USART_RX_buf_in = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004174   6bb9     CLRF      0xb9,0x1                                                                                        
004176   6bba     CLRF      0xba,0x1         g_USART_RX_buf_out = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004178   6bbb     CLRF      0xbb,0x1         g_USART_TX_buf_in = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00417a   6bbc     CLRF      0xbc,0x1         g_USART_TX_buf_out = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Clear out the RC servo output pointer values                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00417c   6b85     CLRF      0x85,0x1         g_RC_primed_ptr = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00417e   6b86     CLRF      0x86,0x1         g_RC_next_ptr = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004180   6b87     CLRF      0x87,0x1         g_RC_timing_ptr = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Turn on band-gap                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004182   010f     MOVLB     0xf              ANCON1bits.VBGEN = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004184   8f49     BSF       0x49,0x7,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Set up ADCON1 options                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // A/D Result right justified                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Normal A/D (no calibration)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Acq time = 20 Tad (?)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Tad = Fosc/64                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004186   0ebe     MOVLW     0xbe             ADCON1 = 0b10111110;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004188   6ec1     MOVWF     0xc1,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Enable interrupt priorities                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00418a   8ed0     BSF       0xd0,0x7,0x0     RCONbits.IPEN = 1;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00418c   9476     BCF       0x76,0x2,0x0     T4CONbits.TMR4ON = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00418e   86a3     BSF       0xa3,0x3,0x0     PIE3bits.TMR4IE = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004190   96a5     BCF       0xa5,0x3,0x0     IPR3bits.TMR4IP = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Call the ebb init function to setup whatever it needs                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004192   ecbf     CALL      0x197e,0x0       EBB_Init();                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004194   f00c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004196   ec74     CALL      0x78e8,0x0       RCServo2_Init();                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004198   f03c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Turn on the Timer4                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00419a   8476     BSF       0x76,0x2,0x0     T4CONbits.TMR4ON = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // If there's a name in FLASH for us, copy it over to the USB Device           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // descriptor before we enumerate                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00419c   ecd6     CALL      0x5bac,0x0       populateDeviceStringWithName();                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00419e   f02d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Zero out limit switch variables                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041a0   0104     MOVLB     0x4              gLimitSwitchPortB = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041a2   6bc9     CLRF      0xc9,0x1                                                                                        
0041a4   6bca     CLRF      0xca,0x1         gLimitSwitchReplies = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041a6   6bcb     CLRF      0xcb,0x1         gLimitSwitchReplyPrinted = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041a8   6bcc     CLRF      0xcc,0x1         gCommandChecksumRequired = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041aa   6a0e     CLRF      0xe,0x0          gLimitSwitchTriggered = 0;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #if PC_PG_T_COMMANDS_ENABLED                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Zero out pulse variables                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulsesOn = FALSE;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseLen[0] = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseLen[1] = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseLen[2] = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseLen[3] = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseRate[0] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseRate[1] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseRate[2] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseRate[3] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseCounters[0] = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseCounters[1] = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseCounters[2] = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseCounters[3] = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041ac   6bbe     CLRF      0xbe,0x1         gRCServoPoweroffCounterMS = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041ae   6bbf     CLRF      0xbf,0x1                                                                                        
0041b0   6bc0     CLRF      0xc0,0x1                                                                                        
0041b2   6bc1     CLRF      0xc1,0x1                                                                                        
0041b4   0e60     MOVLW     0x60             gRCServoPoweroffCounterReloadMS = RCSERVO_POWEROFF_DEFAULT_MS;                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041b6   6fc2     MOVWF     0xc2,0x1                                                                                        
0041b8   0eea     MOVLW     0xea                                                                                            
0041ba   6fc3     MOVWF     0xc3,0x1                                                                                        
0041bc   6bc4     CLRF      0xc4,0x1                                                                                        
0041be   6bc5     CLRF      0xc5,0x1                                                                                        
0041c0   0e01     MOVLW     0x1              gAutomaticMotorEnable = TRUE;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041c2   6fc6     MOVWF     0xc6,0x1                                                                                        
0041c4   6bcd     CLRF      0xcd,0x1         gStackHighWater = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041c6   6bce     CLRF      0xce,0x1                                                                                        
0041c8   6b92     CLRF      0x92,0x1         g_PowerMonitorThresholdADC = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041ca   6b93     CLRF      0x93,0x1                                                                                        
0041cc   6b96     CLRF      0x96,0x1         g_StepperDisableTimeoutS = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041ce   6b97     CLRF      0x97,0x1                                                                                        
0041d0   6b98     CLRF      0x98,0x1         g_StepperDisableSecondCounter = 0;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041d2   6b99     CLRF      0x99,0x1                                                                                        
0041d4   6b9a     CLRF      0x9a,0x1         g_StepperDisableCountdownS = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041d6   6b9b     CLRF      0x9b,0x1                                                                                        
0041d8   6b95     CLRF      0x95,0x1         g_StepperDisableState = kSTEPPER_TIMEOUT_DISABLED;                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041da   6b94     CLRF      0x94,0x1         g_PowerDropDetected = FALSE;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041dc   8ef2     BSF       0xf2,0x7,0x0     INTCONbits.GIEH = 1;  // Turn high priority interrupts on                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041de   8cf2     BSF       0xf2,0x6,0x0     INTCONbits.GIEL = 1;  // Turn low priority interrupts on                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041e0   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041e2   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0041e4   e202     BC        0x41ea                                                                                          
0041e6   6ae1     CLRF      0xe1,0x0                                                                                        
0041e8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0041ea   6ee1     MOVWF     0xe1,0x0                                                                                        
0041ec   ef3e     GOTO      0x627c                                                                                          
0041ee   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Function:        void ProcessIO(void)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Overview:        In this function, we check for a new packet that just        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  arrived via USB. We do a few checks on the packet to see     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  if it is worthy of us trying to interpret it. If it is,      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  we go and call the proper function based upon the first      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  character of the packet.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  NOTE: We need to see everything in one packet (i.e. we       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  won't treat the USB data as a stream and try to find our     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  start and end of packets within the stream. We just look     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  at the first character of each packet for a command and      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  check that there's a CR as the last character of the         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  packet.                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041f0   ec39     CALL      0x6272,0x0     void ProcessIO(void)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041f2   f031                                                                                                               
0041f4   0e05     MOVLW     0x5                                                                                             
0041f6   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             static BOOL in_cr = FALSE;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             static BYTE last_fifo_size;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             static unsigned char button_state = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             static unsigned int button_ctr = 0;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             BYTE i;                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041f8   ec47     CALL      0x648e,0x0       BOOL done = FALSE;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041fa   f032                                                                                                               
00648e   0e01     MOVLW     0x1                                                                                             
006490   6adb     CLRF      0xdb,0x0                                                                                        
006492   0e02     MOVLW     0x2              unsigned char rx_bytes = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006494   6adb     CLRF      0xdb,0x0                                                                                        
006496   0e03     MOVLW     0x3              unsigned char byte_cnt = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006498   6adb     CLRF      0xdb,0x0                                                                                        
00649a   0012     RETURN    0x0                                                                                             
                                             unsigned char tst_char;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041fc   ec53     CALL      0x60a6,0x0       BlinkUSBStatus();                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041fe   f030                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for any new I packets (from T command) ready to go out                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004200   0104     MOVLB     0x4              while (ISR_D_FIFO_length > 0u)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004202   517e     MOVF      0x7e,0x0,0x1                                                                                    
004204   0800     SUBLW     0x0                                                                                             
004206   e20a     BC        0x421c                                                                                          
00421a   d7f2     BRA       0x4200                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Spit out an I packet first                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004208   ec6a     CALL      0x54d4,0x0         parse_I_packet();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00420a   f02a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Then update our I packet FIFO stuff                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00420c   0104     MOVLB     0x4                ISR_D_FIFO_out++;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00420e   2b7d     INCF      0x7d,0x1,0x1                                                                                    
004210   0e03     MOVLW     0x3                if (ISR_D_FIFO_out == kISR_FIFO_D_DEPTH)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004212   5d7d     SUBWF     0x7d,0x0,0x1                                                                                    
004214   e101     BNZ       0x4218                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004216   6b7d     CLRF      0x7d,0x1             ISR_D_FIFO_out = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004218   077e     DECF      0x7e,0x1,0x1       ISR_D_FIFO_length--;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for a new A packet (from T command) ready to go out                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00421c   5183     MOVF      0x83,0x0,0x1     while (ISR_A_FIFO_length > 0u)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00421e   0800     SUBLW     0x0                                                                                             
004220   e20a     BC        0x4236                                                                                          
004234   d7f3     BRA       0x421c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Spit out an A packet first                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004222   ec87     CALL      0x550e,0x0         parse_A_packet();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004224   f02a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Then update our A packet FIFO stuff                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004226   0104     MOVLB     0x4                ISR_A_FIFO_out++;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004228   2b82     INCF      0x82,0x1,0x1                                                                                    
00422a   0e03     MOVLW     0x3                if (ISR_A_FIFO_out == kISR_FIFO_A_DEPTH)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00422c   5d82     SUBWF     0x82,0x0,0x1                                                                                    
00422e   e101     BNZ       0x4232                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004230   6b82     CLRF      0x82,0x1             ISR_A_FIFO_out = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004232   0783     DECF      0x83,0x1,0x1       ISR_A_FIFO_length--;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail from here if we're not 'plugged in' to a PC or we're suspended         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if(                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004236   0e20     MOVLW     0x20               (USBDeviceState < CONFIGURED_STATE)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004238   0105     MOVLB     0x5                                                                                             
00423a   6ee7     MOVWF     0xe7,0x0                                                                                        
00423c   19bc     XORWF     0xbc,0x0,0x1                                                                                    
00423e   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
004240   d002     BRA       0x4246                                                                                          
004242   34e7     RLCF      0xe7,0x0,0x0                                                                                    
004244   d002     BRA       0x424a                                                                                          
004246   50e7     MOVF      0xe7,0x0,0x0                                                                                    
004248   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
                                               ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               (USBSuspendControl == 1u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00424a   e201     BC        0x424e           )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00424c   d0e5     BRA       0x4418                                                                                          
00424e   5065     MOVF      0x65,0x0,0x0                                                                                    
004250   0b02     ANDLW     0x2                                                                                             
004252   e001     BZ        0x4256                                                                                          
004254   d0e1     BRA       0x4418                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Pull in some new data if there is new data to pull in                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // And we aren't waiting for the current move to finish                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004256   0e40     MOVLW     0x40             rx_bytes = getsUSBUSART((char *)g_RX_command_buf, kRX_COMMAND_BUF_SIZE);       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004258   6ee6     MOVWF     0xe6,0x0                                                                                        
00425a   0e40     MOVLW     0x40                                                                                            
00425c   6ee6     MOVWF     0xe6,0x0                                                                                        
00425e   0e02     MOVLW     0x2                                                                                             
004260   6ee6     MOVWF     0xe6,0x0                                                                                        
004262   ecfd     CALL      0x7dfa,0x0                                                                                      
004264   f03e                                                                                                               
004266   ec7a     CALL      0x66f4,0x0                                                                                      
004268   f033                                                                                                               
00426a   6ee7     MOVWF     0xe7,0x0                                                                                        
00426c   0e02     MOVLW     0x2                                                                                             
00426e   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
004270   ffdb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004272   50db     MOVF      0xdb,0x0,0x0     if (rx_bytes > 0u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004274   0800     SUBLW     0x0                                                                                             
004276   e274     BC        0x4360                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004278   0e03     MOVLW     0x3                for (byte_cnt = 0; byte_cnt < rx_bytes; byte_cnt++)                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00427a   6adb     CLRF      0xdb,0x0                                                                                        
00427c   0e02     MOVLW     0x2                                                                                             
00427e   50db     MOVF      0xdb,0x0,0x0                                                                                    
004280   6ef3     MOVWF     0xf3,0x0                                                                                        
004282   0e03     MOVLW     0x3                                                                                             
004284   ec0d     CALL      0x641a,0x0                                                                                      
004286   f032                                                                                                               
004288   e26b     BC        0x4360                                                                                          
00435a   0e03     MOVLW     0x3                                                                                             
00435c   2adb     INCF      0xdb,0x1,0x0                                                                                    
00435e   d78e     BRA       0x427c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00428a   0e03     MOVLW     0x3                  tst_char = g_RX_command_buf[byte_cnt];                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00428c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00428e   6aea     CLRF      0xea,0x0                                                                                        
004290   0f40     ADDLW     0x40                                                                                            
004292   6ee9     MOVWF     0xe9,0x0                                                                                        
004294   0e02     MOVLW     0x2                                                                                             
004296   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004298   0e04     MOVLW     0x4                                                                                             
00429a   cfef     MOVFF     0xfef,0xfdb                                                                                     
00429c   ffdb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00429e   a809     BTFSS     0x9,0x4,0x0          if (bittst(TestMode, TEST_MODE_USART_COMMAND_NUM))                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042a0   d005     BRA       0x42ac                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042a2   cfdb     MOVFF     0xfdb,0xfe6            Write1USART(tst_char);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042a4   ffe6                                                                                                               
0042a6   ec65     CALL      0x8eca,0x0                                                                                      
0042a8   f047                                                                                                               
0042aa   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Check to see if we are in a CR/LF situation                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 if (                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042ac   0101     MOVLB     0x1                    !in_cr                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042ae   5178     MOVF      0x78,0x0,0x1                                                                                    
                                                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   (                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042b2   0e0d     MOVLW     0xd                      kCR == tst_char                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042b4   6e4e     MOVWF     0x4e,0x0                                                                                        
0042b6   0e04     MOVLW     0x4                                                                                             
0042b8   50db     MOVF      0xdb,0x0,0x0                                                                                    
0042ba   5c4e     SUBWF     0x4e,0x0,0x0             ||                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042be   0e0a     MOVLW     0xa                      kLF == tst_char                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042c0   6e4f     MOVWF     0x4f,0x0                                                                                        
0042c2   0e04     MOVLW     0x4                                                                                             
0042c4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0042bc   e006     BZ        0x42ca                 )                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042c6   5c4f     SUBWF     0x4f,0x0,0x0                                                                                    
0042c8   e111     BNZ       0x42ec                                                                                          
0042b0   e11d     BNZ       0x42ec               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042ca   0e01     MOVLW     0x1                    in_cr = TRUE;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042cc   6f78     MOVWF     0x78,0x1                                                                                        
0042ce   0104     MOVLB     0x4                    g_RX_buf[g_RX_buf_in] = kCR;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042d0   ec27     CALL      0x644e,0x0                                                                                      
0042d2   f032                                                                                                               
0042d4   0e0d     MOVLW     0xd                                                                                             
0042d6   6eef     MOVWF     0xef,0x0                                                                                        
0042d8   2bb7     INCF      0xb7,0x1,0x1           g_RX_buf_in++;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // At this point, we know we have a full packet                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // of information from the PC to parse                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Now, if we've gotten a full command (user send <CR>) then             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // go call the code that deals with that command, and then               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // keep parsing. (This allows multiple small commands per packet)        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042da   b009     BTFSC     0x9,0x0,0x0            if (bittstzero(TestMode)) // TEST_MODE_PARSING_COMMAND_NUM               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042dc   808b     BSF       0x8b,0x0,0x0             LATCbits.LATC0 = 1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042de   d8f9     RCALL     0x44d2                 parse_packet();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042e0   b009     BTFSC     0x9,0x0,0x0            if (bittstzero(TestMode)) // TEST_MODE_PARSING_COMMAND_NUM               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042e2   908b     BCF       0x8b,0x0,0x0             LATCbits.LATC0 = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042e4   0104     MOVLB     0x4                    g_RX_buf_in = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042e6   6bb7     CLRF      0xb7,0x1                                                                                        
0042e8   6bb8     CLRF      0xb8,0x1               g_RX_buf_out = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042ea   d02a     BRA       0x4340               else if (tst_char == 8u && g_RX_buf_in > 0u)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042ec   0e04     MOVLW     0x4                                                                                             
0042ee   50db     MOVF      0xdb,0x0,0x0                                                                                    
0042f0   0808     SUBLW     0x8                                                                                             
0042f2   e10e     BNZ       0x4310                                                                                          
0042f4   0104     MOVLB     0x4                                                                                             
0042f6   51b7     MOVF      0xb7,0x0,0x1                                                                                    
0042f8   0800     SUBLW     0x0                                                                                             
0042fa   e20a     BC        0x4310                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Handle the backspace thing                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042fc   07b7     DECF      0xb7,0x1,0x1           g_RX_buf_in--;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042fe   ec27     CALL      0x644e,0x0             g_RX_buf[g_RX_buf_in] = 0x00;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004300   f032                                                                                                               
004302   6aef     CLRF      0xef,0x0                                                                                        
004304   0ea1     MOVLW     0xa1                   ebb_print((far rom char *)" \b");                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004306   6e4e     MOVWF     0x4e,0x0                                                                                        
004308   0e83     MOVLW     0x83                                                                                            
00430a   ec1d     CALL      0x623a,0x0                                                                                      
00430c   f031                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00430e   d018     BRA       0x4340               else if (                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004310   0e04     MOVLW     0x4                    tst_char != kCR                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004312   50db     MOVF      0xdb,0x0,0x0                                                                                    
004314   080d     SUBLW     0xd                    &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004318   0e04     MOVLW     0x4                    tst_char != kLF                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00431a   50db     MOVF      0xdb,0x0,0x0                                                                                    
004316   e014     BZ        0x4340                 &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00431c   080a     SUBLW     0xa                                                                                             
00431e   e010     BZ        0x4340                                                                                          
004320   0e20     MOVLW     0x20                   tst_char >= 32u                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004322   6ef3     MOVWF     0xf3,0x0             )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004324   0e04     MOVLW     0x4                                                                                             
004326   ec0d     CALL      0x641a,0x0                                                                                      
004328   f032                                                                                                               
00432a   e30a     BNC       0x4340                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Only add a byte if it is not a CR or LF                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00432c   0104     MOVLB     0x4                    g_RX_buf[g_RX_buf_in] = tst_char;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00432e   ec27     CALL      0x644e,0x0                                                                                      
004330   f032                                                                                                               
004332   0e04     MOVLW     0x4                                                                                             
004334   cfdb     MOVFF     0xfdb,0xfef                                                                                     
004336   ffef                                                                                                               
00644e   51b7     MOVF      0xb7,0x0,0x1                                                                                    
006450   efb1     GOTO      0x6562                                                                                          
006452   f032                                                                                                               
006562   6aea     CLRF      0xea,0x0                                                                                        
006564   0f00     ADDLW     0x0                                                                                             
006566   6ee9     MOVWF     0xe9,0x0                                                                                        
006568   0e03     MOVLW     0x3                                                                                             
00656a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00656c   0012     RETURN    0x0                                                                                             
004338   0101     MOVLB     0x1                    in_cr = FALSE;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00433a   6b78     CLRF      0x78,0x1                                                                                        
00433c   0104     MOVLB     0x4                    g_RX_buf_in++;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00433e   2bb7     INCF      0xb7,0x1,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Check for buffer wraparound                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004340   0104     MOVLB     0x4                  if (kRX_BUF_SIZE == g_RX_buf_in)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004342   51b7     MOVF      0xb7,0x0,0x1                                                                                    
004344   6e4e     MOVWF     0x4e,0x0                                                                                        
004346   6a4f     CLRF      0x4f,0x0                                                                                        
004348   0e00     MOVLW     0x0                                                                                             
00434a   184e     XORWF     0x4e,0x0,0x0                                                                                    
00434c   e106     BNZ       0x435a                                                                                          
00434e   0e01     MOVLW     0x1                                                                                             
004350   184f     XORWF     0x4f,0x0,0x0                                                                                    
004352   e103     BNZ       0x435a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004354   8784     BSF       0x84,0x3,0x1           bitset(error_byte, kERROR_BYTE_RX_BUFFER_OVERRUN);                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004356   6bb7     CLRF      0xb7,0x1               g_RX_buf_in = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004358   6bb8     CLRF      0xb8,0x1               g_RX_buf_out = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for any errors logged in error_byte that need to be sent out          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004360   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004362   5184     MOVF      0x84,0x0,0x1                                                                                    
004364   e039     BZ        0x43d8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004366   a184     BTFSS     0x84,0x0,0x1       if (bittstzero(error_byte))                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004368   d005     BRA       0x4374                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00436a   0e9d     MOVLW     0x9d                 ebb_print((far rom char *)"!0 ");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00436c   6e4e     MOVWF     0x4e,0x0                                                                                        
00436e   0e83     MOVLW     0x83                                                                                            
004370   eca9     CALL      0x6552,0x0                                                                                      
004372   f032                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004374   0104     MOVLB     0x4                if (bittst(error_byte, kERROR_BYTE_STEPS_TO_FAST))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004376   a384     BTFSS     0x84,0x1,0x1                                                                                    
004378   d005     BRA       0x4384                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Unused as of yet                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00437a   0e80     MOVLW     0x80                 ebb_print((far rom char *)"!1 Err: Can't step that fast");                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00437c   6e4e     MOVWF     0x4e,0x0                                                                                        
00437e   0e83     MOVLW     0x83                                                                                            
004380   eca9     CALL      0x6552,0x0                                                                                      
004382   f032                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004384   0104     MOVLB     0x4                if (bittst(error_byte, kERROR_BYTE_TX_BUF_OVERRUN))                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004386   a584     BTFSS     0x84,0x2,0x1                                                                                    
004388   d005     BRA       0x4394                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00438a   0e66     MOVLW     0x66                 ebb_print((far rom char *)"!2 Err: TX Buffer overrun");                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00438c   6e4e     MOVWF     0x4e,0x0                                                                                        
00438e   0e83     MOVLW     0x83                                                                                            
004390   eca9     CALL      0x6552,0x0                                                                                      
004392   f032                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004394   0104     MOVLB     0x4                if (bittst(error_byte, kERROR_BYTE_RX_BUFFER_OVERRUN))                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004396   a784     BTFSS     0x84,0x3,0x1                                                                                    
004398   d005     BRA       0x43a4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00439a   0e4c     MOVLW     0x4c                 ebb_print((far rom char *)"!3 Err: RX Buffer overrun");                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00439c   6e4e     MOVWF     0x4e,0x0                                                                                        
00439e   0e83     MOVLW     0x83                                                                                            
0043a0   eca9     CALL      0x6552,0x0                                                                                      
0043a2   f032                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043a4   0104     MOVLB     0x4                if (bittst(error_byte, kERROR_BYTE_MISSING_PARAMETER))                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043a6   a984     BTFSS     0x84,0x4,0x1                                                                                    
0043a8   d005     BRA       0x43b4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043aa   0e2f     MOVLW     0x2f                 ebb_print((far rom char *)"!4 Err: Missing parameter(s)");                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043ac   6e4e     MOVWF     0x4e,0x0                                                                                        
0043ae   0e83     MOVLW     0x83                                                                                            
0043b0   eca9     CALL      0x6552,0x0                                                                                      
0043b2   f032                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043b4   0104     MOVLB     0x4                if (bittst(error_byte, kERROR_BYTE_PRINTED_ERROR))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // We don't need to do anything since something has already been printed out D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 //printf ((rom char *)"!5");                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 //print_line_ending(kLE_NORM);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043b6   ad84     BTFSS     0x84,0x6,0x1       if (bittst(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT))                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043b8   d005     BRA       0x43c4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043ba   0e0f     MOVLW     0xf                  ebb_print((far rom char *)"!6 Err: Invalid parameter value");              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043bc   6e4e     MOVWF     0x4e,0x0                                                                                        
0043be   0e83     MOVLW     0x83                                                                                            
0043c0   eca9     CALL      0x6552,0x0                                                                                      
0043c2   f032                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043c4   0104     MOVLB     0x4                if (bittst(error_byte, kERROR_BYTE_EXTRA_CHARACTERS))                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043c6   af84     BTFSS     0x84,0x7,0x1                                                                                    
0043c8   d005     BRA       0x43d4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043ca   0ef7     MOVLW     0xf7                 ebb_print((far rom char *)"!7 Err: Extra parameter");                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043cc   6e4e     MOVWF     0x4e,0x0                                                                                        
0043ce   0e82     MOVLW     0x82                                                                                            
0043d0   eca9     CALL      0x6552,0x0                                                                                      
0043d2   f032                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043d4   0104     MOVLB     0x4                error_byte = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043d6   6b84     CLRF      0x84,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check to see if we need to print out a "Limit switch triggered" packet to the PC D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043d8   51ca     MOVF      0xca,0x0,0x1     if (gLimitSwitchReplies)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043da   e01d     BZ        0x4416                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043dc   0e01     MOVLW     0x1                if (bittstzero(gLimitSwitchTriggered) && !gLimitSwitchReplyPrinted)          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043de   140e     ANDWF     0xe,0x0,0x0                                                                                     
0043e0   e014     BZ        0x440a                                                                                          
0043e2   51cb     MOVF      0xcb,0x0,0x1                                                                                    
0043e4   e112     BNZ       0x440a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043e6   0ed8     MOVLW     0xd8                 ebb_print((far rom char *)"Limit switch triggered. PortB=");               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043e8   6e4e     MOVWF     0x4e,0x0                                                                                        
0043ea   0e82     MOVLW     0x82                                                                                            
0043ec   ec1d     CALL      0x623a,0x0                                                                                      
0043ee   f031                                                                                                               
                                                 // We want 2 characters of hex                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043f0   0e02     MOVLW     0x2                  ebb_print_hex(gLimitSwitchPortB, 2);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043f2   6ee6     MOVWF     0xe6,0x0                                                                                        
0043f4   c4c9     MOVFF     0x4c9,0x4e                                                                                      
0043f6   f04e                                                                                                               
0043f8   6a4f     CLRF      0x4f,0x0                                                                                        
0043fa   ec47     CALL      0x628e,0x0                                                                                      
0043fc   f031                                                                                                               
0043fe   ec27     CALL      0x624e,0x0           print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004400   f031                                                                                                               
004402   0104     MOVLB     0x4                  gLimitSwitchReplyPrinted = TRUE;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004404   0e01     MOVLW     0x1                                                                                             
004406   6fcb     MOVWF     0xcb,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004408   d006     BRA       0x4416             else if (!bittstzero(gLimitSwitchTriggered) && gLimitSwitchReplyPrinted)     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00440a   0e01     MOVLW     0x1                                                                                             
00440c   140e     ANDWF     0xe,0x0,0x0                                                                                     
00440e   e103     BNZ       0x4416                                                                                          
004410   51cb     MOVF      0xcb,0x0,0x1                                                                                    
004412   e001     BZ        0x4416                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004414   6bcb     CLRF      0xcb,0x1             gLimitSwitchReplyPrinted = FALSE;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Go send any data that needs sending to PC                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004416   d837     RCALL     0x4486           check_and_send_TX_data();                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004418   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00441a   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00441c   e202     BC        0x4422                                                                                          
00441e   6ae1     CLRF      0xe1,0x0                                                                                        
004420   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004422   6ee1     MOVWF     0xe1,0x0                                                                                        
004424   ef3e     GOTO      0x627c                                                                                          
004426   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This is our replacement for the standard putc routine                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This enables ebb_print() and all related functions to print to                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // the USB output (i.e. to the PC) buffer                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004428   ecd7     CALL      0x65ae,0x0     int ebb_putc(char c)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00442a   f032                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00442c   c4b5     MOVFF     0x4b5,0xfdf      BYTE OldPtr = g_TX_buf_in;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00442e   ffdf                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check to see if adding this byte will cause us to be full                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004430   2adf     INCF      0xdf,0x1,0x0     OldPtr++;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004432   0e40     MOVLW     0x40             if (kTX_BUF_SIZE == OldPtr)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004434   ec7b     CALL      0x62f6,0x0                                                                                      
004436   f031                                                                                                               
004438   e101     BNZ       0x443c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00443a   6adf     CLRF      0xdf,0x0           OldPtr = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // If so, then wait until some bytes go away first and make room               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00443c   0104     MOVLB     0x4              if (OldPtr == g_TX_buf_out)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00443e   51b6     MOVF      0xb6,0x0,0x1                                                                                    
004440   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
004442   e101     BNZ       0x4446                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004444   d820     RCALL     0x4486             check_and_send_TX_data();                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Copy the character into the output buffer                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004446   0104     MOVLB     0x4              g_TX_buf[g_TX_buf_in] = c;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004448   51b5     MOVF      0xb5,0x0,0x1                                                                                    
00444a   6aea     CLRF      0xea,0x0                                                                                        
00444c   0f00     ADDLW     0x0                                                                                             
00444e   6ee9     MOVWF     0xe9,0x0                                                                                        
004450   0e02     MOVLW     0x2                                                                                             
004452   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004454   0efe     MOVLW     0xfe                                                                                            
004456   cfdb     MOVFF     0xfdb,0xfef                                                                                     
004458   ffef                                                                                                               
00445a   2bb5     INCF      0xb5,0x1,0x1     g_TX_buf_in++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for wrap around                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00445c   0e40     MOVLW     0x40             if (kTX_BUF_SIZE == g_TX_buf_in)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00445e   5db5     SUBWF     0xb5,0x0,0x1                                                                                    
004460   e101     BNZ       0x4464                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004462   6bb5     CLRF      0xb5,0x1           g_TX_buf_in = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Also check to see if we bumped up against our output pointer                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004464   51b6     MOVF      0xb6,0x0,0x1     if (g_TX_buf_in == g_TX_buf_out)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004466   5db5     SUBWF     0xb5,0x0,0x1                                                                                    
004468   e101     BNZ       0x446c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00446a   8584     BSF       0x84,0x2,0x1       bitset(error_byte, kERROR_BYTE_TX_BUF_OVERRUN);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00446c   0efe     MOVLW     0xfe             return(c);                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00446e   cfdb     MOVFF     0xfdb,0x4e                                                                                      
004470   f04e                                                                                                               
004472   6a4f     CLRF      0x4f,0x0                                                                                        
004474   be4e     BTFSC     0x4e,0x7,0x0                                                                                    
004476   684f     SETF      0x4f,0x0                                                                                        
004478   c04e     MOVFF     0x4e,0xff3                                                                                      
00447a   fff3                                                                                                               
00447c   c04f     MOVFF     0x4f,0xff4                                                                                      
00447e   fff4                                                                                                               
004480   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004482   ef3e     GOTO      0x627c                                                                                          
004484   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // In this function, we check to see if we have anything to transmit.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // If so then we schedule the data for sending.                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004486   ecd7     CALL      0x65ae,0x0     void check_and_send_TX_data(void)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004488   f032                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             char temp;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Only send if there's something there to send                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00448a   0104     MOVLB     0x4              if (g_TX_buf_out != g_TX_buf_in)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00448c   51b5     MOVF      0xb5,0x0,0x1                                                                                    
00448e   5db6     SUBWF     0xb6,0x0,0x1                                                                                    
004490   e01d     BZ        0x44cc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Yes, Microchip says not to do this. We'll be blocking                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // here until there's room in the USB stack to send                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // something new. But without making our buffers huge,                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // I don't know how else to do it.                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004492   0105     MOVLB     0x5                while (!USBUSARTIsTxTrfReady())                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004494   51a4     MOVF      0xa4,0x0,0x1                                                                                    
004496   e005     BZ        0x44a2                                                                                          
0044a0   d7f8     BRA       0x4492                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004498   ec89     CALL      0x7f12,0x0           CDCTxService();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00449a   f03f                                                                                                               
                                           #if defined(USB_POLLING)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00449c   ec08     CALL      0x6810,0x0           USBDeviceTasks();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00449e   f034                                                                                                               
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Now we know that the stack can transmit some new data                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Now decide if we need to break it up into two parts or not                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044a2   0104     MOVLB     0x4                if (g_TX_buf_in > g_TX_buf_out)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044a4   51b6     MOVF      0xb6,0x0,0x1                                                                                    
0044a6   80d8     BSF       0xd8,0x0,0x0                                                                                    
0044a8   55b5     SUBFWB    0xb5,0x0,0x1                                                                                    
0044aa   e207     BC        0x44ba                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Since IN is beyond OUT, only need one chunk                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044ac   51b6     MOVF      0xb6,0x0,0x1         temp = g_TX_buf_in - g_TX_buf_out;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044ae   5db5     SUBWF     0xb5,0x0,0x1                                                                                    
0044b0   ecae     CALL      0x635c,0x0                                                                                      
00635c   6edf                                                                                                               
0044b2   f031     WORD2     0x31                 putUSBUSART((char *)&g_TX_buf[g_TX_buf_out], temp);                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00635e   cfdf     MOVFF     0xfdf,0xfe6                                                                                     
006360   ffe6                                                                                                               
006362   51b6     MOVF      0xb6,0x0,0x1                                                                                    
006364   6a4f     CLRF      0x4f,0x0                                                                                        
006366   0f00     ADDLW     0x0                                                                                             
006368   6e4e     MOVWF     0x4e,0x0                                                                                        
00636a   0e02     MOVLW     0x2                                                                                             
00636c   224f     ADDWFC    0x4f,0x1,0x0                                                                                    
00636e   c04e     MOVFF     0x4e,0xfe6                                                                                      
006370   ffe6                                                                                                               
006372   c04f     MOVFF     0x4f,0xfe6                                                                                      
006374   ffe6                                                                                                               
006376   ec3c     CALL      0x7e78,0x0                                                                                      
006378   f03f                                                                                                               
00637a   ef7a     GOTO      0x66f4                                                                                          
00637c   f033                                                                                                               
                                                 // Now that we've scheduled the data for sending,                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // update the pointer                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044b4   c4b5     MOVFF     0x4b5,0x4b6          g_TX_buf_out = g_TX_buf_in;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044b6   f4b6                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044b8   d007     BRA       0x44c8             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Since IN is before OUT, we need to send from OUT to the end             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // of the buffer, then the next time around we'll catch                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // from the beginning to IN.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044ba   0e40     MOVLW     0x40                 temp = kTX_BUF_SIZE - g_TX_buf_out;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044bc   80d8     BSF       0xd8,0x0,0x0                                                                                    
0044be   55b6     SUBFWB    0xb6,0x0,0x1                                                                                    
0044c0   ecae     CALL      0x635c,0x0                                                                                      
0044c2   f031                                    putUSBUSART((char *)&g_TX_buf[g_TX_buf_out], temp);                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Now that we've scheduled the data for sending,                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // update the pointer                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044c4   0104     MOVLB     0x4                  g_TX_buf_out = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044c6   6bb6     CLRF      0xb6,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044c8   ec89     CALL      0x7f12,0x0         CDCTxService();                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044ca   f03f                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044cc   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044ce   ef3e     GOTO      0x627c                                                                                          
0044d0   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Look at the new packet, see what command it is, and                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // route it appropriately. We come in knowing that                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // our packet is in g_RX_buf[], and that the beginning                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // of the packet is at g_RX_buf_out, and the end (CR) is at                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // g_RX_buf_in - 1. Note that because of buffer wrapping,                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // g_RX_buf_in may be less than g_RX_buf_out.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // New for v3.0.0: if gCommandChecksumRequired is true, then look at the end     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // of the command packet for the checksum, and if it is not there or not         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // correct, error out.                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044d2   ec39     CALL      0x6272,0x0     void parse_packet(void)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044d4   f031                                                                                                               
0044d6   0e09     MOVLW     0x9                                                                                             
0044d8   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044da   6ade     CLRF      0xde,0x0         UINT16 command = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044dc   6add     CLRF      0xdd,0x0                                                                                        
0044de   0e02     MOVLW     0x2              UINT8 checksum_cmd = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044e0   6adb     CLRF      0xdb,0x0                                                                                        
0044e2   0e03     MOVLW     0x3              UINT8 checksum_calc = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044e4   6adb     CLRF      0xdb,0x0                                                                                        
                                             UINT8 checksum_ptr;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044e6   0e05     MOVLW     0x5              UINT8 checksum_len = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044e8   6adb     CLRF      0xdb,0x0                                                                                        
0044ea   0e01     MOVLW     0x1              BOOL checksumOK = TRUE;   // Starts out true for no checksum case              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044ec   6ef3     MOVWF     0xf3,0x0                                                                                        
0044ee   0e06     MOVLW     0x6                                                                                             
0044f0   cff3     MOVFF     0xff3,0xfdb                                                                                     
0044f2   ffdb                                                                                                               
                                             UINT8 old_rx_buf_out;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044f4   0104     MOVLB     0x4              gCommand_Char1 = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044f6   6bc7     CLRF      0xc7,0x1                                                                                        
0044f8   6bc8     CLRF      0xc8,0x1         gCommand_Char2 = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044fa   51cc     MOVF      0xcc,0x0,0x1     if (gCommandChecksumRequired)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044fc   e101     BNZ       0x4500                                                                                          
0044fe   d08e     BRA       0x461c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004500   0e06     MOVLW     0x6                checksumOK = FALSE;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004502   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Walk backwards from the end of the packet, looking for the first found    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // comma, then read out                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004504   0e04     MOVLW     0x4                checksum_ptr = g_RX_buf_in;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004506   c4b7     MOVFF     0x4b7,0xfdb                                                                                     
004508   ffdb                                                                                                               
00450a   50db     MOVF      0xdb,0x0,0x0       if (checksum_ptr != 0u)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00450c   e003     BZ        0x4514                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00450e   0e04     MOVLW     0x4                  checksum_ptr--;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004510   06db     DECF      0xdb,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004512   d002     BRA       0x4518             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004514   0e04     MOVLW     0x4                  checksum_ptr = kRX_BUF_SIZE - 1;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004516   68db     SETF      0xdb,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004518   0e04     MOVLW     0x4                while ((g_RX_buf[checksum_ptr] != ',') && (checksum_len < 5u) && (checksum_ptr != g_RX_buf_out)) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00451a   ece3     CALL      0x63c6,0x0                                                                                      
00451c   f031                                                                                                               
00451e   50ef     MOVF      0xef,0x0,0x0                                                                                    
004520   082c     SUBLW     0x2c                                                                                            
004522   e016     BZ        0x4550                                                                                          
004524   0e05     MOVLW     0x5                                                                                             
004526   6ef3     MOVWF     0xf3,0x0                                                                                        
004528   cfdb     MOVFF     0xfdb,0xff4                                                                                     
00452a   fff4                                                                                                               
00452c   50e8     MOVF      0xe8,0x0,0x0                                                                                    
00452e   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
004530   e20f     BC        0x4550                                                                                          
004532   0e04     MOVLW     0x4                                                                                             
004534   50db     MOVF      0xdb,0x0,0x0                                                                                    
004536   5db8     SUBWF     0xb8,0x0,0x1                                                                                    
004538   e00b     BZ        0x4550                                                                                          
00454e   d7e4     BRA       0x4518                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00453a   0e04     MOVLW     0x4                  if (checksum_ptr != 0u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00453c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00453e   e003     BZ        0x4546                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004540   0e04     MOVLW     0x4                    checksum_ptr--;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004542   06db     DECF      0xdb,0x1,0x0                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004544   d002     BRA       0x454a               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004546   0e04     MOVLW     0x4                    checksum_ptr = kRX_BUF_SIZE - 1;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004548   68db     SETF      0xdb,0x0                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00454a   0e05     MOVLW     0x5                  checksum_len++;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00454c   2adb     INCF      0xdb,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // If checksum_ptr isn't on a comma then there is no checksum for sure       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // so let checksumOK stay FALSE                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004550   0e04     MOVLW     0x4                if (g_RX_buf[checksum_ptr] == ',')                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004552   ece3     CALL      0x63c6,0x0                                                                                      
004554   f031                                                                                                               
004556   50ef     MOVF      0xef,0x0,0x0                                                                                    
004558   082c     SUBLW     0x2c                                                                                            
00455a   e157     BNZ       0x460a                                                                                          
0063c6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0063c8   efb1     GOTO      0x6562                                                                                          
0063ca   f032                                                                                                               
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Last parameter found, hopefully it's a checksum. Read it in.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // We have to play some games with the buffer index values here            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // since we're extracting a parameter at the very end of the packet        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // before we extract any from the beginning (as part of normal command     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // processing)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00455c   0e07     MOVLW     0x7                  old_rx_buf_out = g_RX_buf_out;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00455e   c4b8     MOVFF     0x4b8,0xfdb                                                                                     
004560   ffdb                                                                                                               
004562   0e04     MOVLW     0x4                  g_RX_buf_out = checksum_ptr;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004564   cfdb     MOVFF     0xfdb,0x4b8                                                                                     
004566   f4b8                                                                                                               
                                                 // We're going to ignore the return value from extract_number() since      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // we'll get a failure anyway since the checksum value won't match.        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004568   6ae6     CLRF      0xe6,0x0             extract_number(kUCHAR, &checksum_cmd, kREQUIRED);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00456a   50d9     MOVF      0xd9,0x0,0x0                                                                                    
00456c   0f02     ADDLW     0x2                                                                                             
00456e   ec79     CALL      0x64f2,0x0                                                                                      
004570   f032                                                                                                               
004572   0e07     MOVLW     0x7                  g_RX_buf_out = old_rx_buf_out;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004574   cfdb     MOVFF     0xfdb,0x4b8                                                                                     
004576   f4b8                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Compute the checksum of the packet up to checksum_ptr                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004578   0e08     MOVLW     0x8                  i = g_RX_buf_out;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00457a   c4b8     MOVFF     0x4b8,0xfdb                                                                                     
00457c   ffdb                                                                                                               
00457e   0e04     MOVLW     0x4                  while(i != checksum_ptr)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004580   50db     MOVF      0xdb,0x0,0x0                                                                                    
004582   6ef3     MOVWF     0xf3,0x0                                                                                        
004584   0e08     MOVLW     0x8                                                                                             
004586   50db     MOVF      0xdb,0x0,0x0                                                                                    
004588   5cf3     SUBWF     0xf3,0x0,0x0                                                                                    
00458a   e018     BZ        0x45bc                                                                                          
0045ba   d7e1     BRA       0x457e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00458c   0e08     MOVLW     0x8                    checksum_calc += g_RX_buf[i];                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00458e   ece3     CALL      0x63c6,0x0                                                                                      
004590   f031                                                                                                               
004592   0e03     MOVLW     0x3                                                                                             
004594   cfdb     MOVFF     0xfdb,0xfe7                                                                                     
004596   ffe7                                                                                                               
004598   50ef     MOVF      0xef,0x0,0x0                                                                                    
00459a   26e7     ADDWF     0xe7,0x1,0x0                                                                                    
00459c   0e03     MOVLW     0x3                                                                                             
00459e   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0045a0   ffdb                                                                                                               
0045a2   0e08     MOVLW     0x8                    i++;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045a4   2adb     INCF      0xdb,0x1,0x0                                                                                    
0045a6   50db     MOVF      0xdb,0x0,0x0           if (i == kRX_BUF_SIZE)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045a8   6e4e     MOVWF     0x4e,0x0                                                                                        
0045aa   6a4f     CLRF      0x4f,0x0                                                                                        
0045ac   50e8     MOVF      0xe8,0x0,0x0                                                                                    
0045ae   e1e7     BNZ       0x457e                                                                                          
0045b0   0e01     MOVLW     0x1                                                                                             
0045b2   184f     XORWF     0x4f,0x0,0x0                                                                                    
0045b4   e1e4     BNZ       0x457e                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045b6   0e08     MOVLW     0x8                      i = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045b8   6adb     CLRF      0xdb,0x0                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045bc   0e03     MOVLW     0x3                  checksum_calc = (~checksum_calc)+1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045be   1cdb     COMF      0xdb,0x0,0x0                                                                                    
0045c0   0f01     ADDLW     0x1                                                                                             
0045c2   6ee7     MOVWF     0xe7,0x0                                                                                        
0045c4   0e03     MOVLW     0x3                                                                                             
0045c6   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0045c8   ffdb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // See if it matches                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045ca   0e02     MOVLW     0x2                  if (checksum_calc == checksum_cmd)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045cc   50db     MOVF      0xdb,0x0,0x0                                                                                    
0045ce   6ef3     MOVWF     0xf3,0x0                                                                                        
0045d0   0e03     MOVLW     0x3                                                                                             
0045d2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0045d4   5cf3     SUBWF     0xf3,0x0,0x0                                                                                    
0045d6   e10b     BNZ       0x45ee                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // All is good, allow command to proceed                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045d8   0e01     MOVLW     0x1                    checksumOK = TRUE;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045da   6ef3     MOVWF     0xf3,0x0                                                                                        
0045dc   0e06     MOVLW     0x6                                                                                             
0045de   cff3     MOVFF     0xff3,0xfdb                                                                                     
0045e0   ffdb                                                                                                               
                                                   // Need to fake out the command parsing, make it think the packet        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // ends where it expects it to end. It doesn't want to see the comma     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // before the checksum.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045e2   0e04     MOVLW     0x4                    g_RX_buf[checksum_ptr] = kCR;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045e4   ece3     CALL      0x63c6,0x0                                                                                      
0045e6   f031                                                                                                               
0045e8   0e0d     MOVLW     0xd                                                                                             
0045ea   6eef     MOVWF     0xef,0x0                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045ec   d017     BRA       0x461c               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045ee   0eb2     MOVLW     0xb2                   ebb_print((far rom char *)"!8 Err: Checksum incorrect, expected ");      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045f0   6e4e     MOVWF     0x4e,0x0                                                                                        
0045f2   0e82     MOVLW     0x82                                                                                            
0045f4   ec1d     CALL      0x623a,0x0                                                                                      
0045f6   f031                                                                                                               
0045f8   0e03     MOVLW     0x3                    ebb_print_uint(checksum_calc);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045fa   ec23     CALL      0x6446,0x0                                                                                      
0045fc   f032                                                                                                               
0045fe   ec9e     CALL      0x673c,0x0                                                                                      
004600   f033                                                                                                               
004602   ec29     CALL      0x8452,0x0                                                                                      
004604   f042                                                                                                               
004606   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                   print_line_ending(kLE_NORM);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004608   d005     BRA       0x4614             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00460a   0e89     MOVLW     0x89                 ebb_print((far rom char *)"!8 Err: Checksum not found but required.");     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00460c   6e4e     MOVWF     0x4e,0x0                                                                                        
00460e   0e82     MOVLW     0x82                                                                                            
004610   ecce     CALL      0x659c,0x0                                                                                      
004612   f032                                                                                                               
004614   ec7a     CALL      0x66f4,0x0                                                                                      
004616   f033                                                                                                               
00659c   6e4f     MOVWF     0x4f,0x0                                                                                        
00659e   6a50     CLRF      0x50,0x0                                                                                        
0065a0   c04e     MOVFF     0x4e,0xfe6                                                                                      
0065a2   ffe6                                                                                                               
0065a4   6ee6     MOVWF     0xe6,0x0                                                                                        
0065a6   c050     MOVFF     0x50,0xfe6                                                                                      
0065a8   ffe6                                                                                                               
0065aa   efd2     GOTO      0x83a4                                                                                          
0065ac   f041                                                                                                               
004618   ec27     CALL      0x624e,0x0           print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00461a   f031                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00461c   0e06     MOVLW     0x6              if (checksumOK)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00461e   50db     MOVF      0xdb,0x0,0x0                                                                                    
004620   e101     BNZ       0x4624                                                                                          
004622   d25e     BRA       0x4ae0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Always grab the first character (which is the first byte of the command)  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004624   0104     MOVLB     0x4                gCommand_Char1 = toupper(g_RX_buf[g_RX_buf_out]);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004626   ec2a     CALL      0x6254,0x0                                                                                      
004628   f031                                                                                                               
00462a   ec4e     CALL      0x649c,0x0                                                                                      
00462c   f032                                                                                                               
00462e   cff3     MOVFF     0xff3,0x4c7                                                                                     
004630   f4c7                                                                                                               
00649c   6ee6     MOVWF     0xe6,0x0                                                                                        
00649e   6ae6     CLRF      0xe6,0x0                                                                                        
0064a0   ec7c     CALL      0x8ef8,0x0                                                                                      
0064a2   f047                                                                                                               
0064a4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0064a6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0064a8   0012     RETURN    0x0                                                                                             
004632   0104     MOVLB     0x4                advance_RX_buf_out();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004634   ec55     CALL      0x62aa,0x0                                                                                      
004636   f031                                                                                                               
004638   e104     BNZ       0x4642                                                                                          
00463a   0e01     MOVLW     0x1                                                                                             
00463c   184f     XORWF     0x4f,0x0,0x0                                                                                    
00463e   e101     BNZ       0x4642                                                                                          
004640   6bb8     CLRF      0xb8,0x1                                                                                        
004642   51c7     MOVF      0xc7,0x0,0x1       command = gCommand_Char1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004644   6ede     MOVWF     0xde,0x0                                                                                        
004646   6add     CLRF      0xdd,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Only grab second one if it is not a comma                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004648   ec2a     CALL      0x6254,0x0         if (g_RX_buf[g_RX_buf_out] != (BYTE)',' && g_RX_buf[g_RX_buf_out] != kCR && g_RX_buf[g_RX_buf_out] != kLF) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00464a   f031                                                                                                               
00464c   082c     SUBLW     0x2c                                                                                            
00464e   e023     BZ        0x4696                                                                                          
004650   ec2a     CALL      0x6254,0x0                                                                                      
004652   f031                                                                                                               
004654   080d     SUBLW     0xd                                                                                             
004656   e01f     BZ        0x4696                                                                                          
004658   ec2a     CALL      0x6254,0x0                                                                                      
00465a   f031                                                                                                               
00465c   080a     SUBLW     0xa                                                                                             
00465e   e01b     BZ        0x4696                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004660   ec2a     CALL      0x6254,0x0           gCommand_Char2 = toupper(g_RX_buf[g_RX_buf_out]);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004662   f031                                                                                                               
004664   ec4e     CALL      0x649c,0x0                                                                                      
004666   f032                                                                                                               
004668   cff3     MOVFF     0xff3,0x4c8                                                                                     
00466a   f4c8                                                                                                               
00466c   0104     MOVLB     0x4                  advance_RX_buf_out();                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00466e   ec55     CALL      0x62aa,0x0                                                                                      
004670   f031                                                                                                               
004672   e104     BNZ       0x467c                                                                                          
004674   0e01     MOVLW     0x1                                                                                             
004676   184f     XORWF     0x4f,0x0,0x0                                                                                    
004678   e101     BNZ       0x467c                                                                                          
00467a   6bb8     CLRF      0xb8,0x1                                                                                        
00467c   c4c7     MOVFF     0x4c7,0x51           command = ((unsigned int)(gCommand_Char1) << 8) + gCommand_Char2;          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00467e   f051                                                                                                               
004680   6a50     CLRF      0x50,0x0                                                                                        
004682   51c8     MOVF      0xc8,0x0,0x1                                                                                    
004684   0100     MOVLB     0x0                                                                                             
004686   2450     ADDWF     0x50,0x0,0x0                                                                                    
004688   6e4e     MOVWF     0x4e,0x0                                                                                        
00468a   0e00     MOVLW     0x0                                                                                             
00468c   2051     ADDWFC    0x51,0x0,0x0                                                                                    
00468e   6e4f     MOVWF     0x4f,0x0                                                                                        
004690   c04e     MOVFF     0x4e,0xfde                                                                                      
004692   ffde                                                                                                               
004694   6edd     MOVWF     0xdd,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Now 'command' is equal to one or two bytes of our command                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004696   0e00     MOVLW     0x0                switch (command)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004698   cfdf     MOVFF     0xfdf,0x42                                                                                      
00469a   f042                                                                                                               
00469c   0e01     MOVLW     0x1                                                                                             
00469e   cfdb     MOVFF     0xfdb,0x43                                                                                      
0046a0   f043                                                                                                               
0046a2   0e52     MOVLW     0x52                                                                                            
0046a4   1842     XORWF     0x42,0x0,0x0                                                                                    
0046a6   e102     BNZ       0x46ac                                                                                          
0046a8   0e54     MOVLW     0x54                                                                                            
0046aa   1843     XORWF     0x43,0x0,0x0                                                                                    
0046ac   e101     BNZ       0x46b0                                                                                          
0046ae   d1e7     BRA       0x4a7e                                                                                          
0046b0   0e55     MOVLW     0x55                                                                                            
0046b2   1842     XORWF     0x42,0x0,0x0                                                                                    
0046b4   e102     BNZ       0x46ba                                                                                          
0046b6   0e51     MOVLW     0x51                                                                                            
0046b8   1843     XORWF     0x43,0x0,0x0                                                                                    
0046ba   e101     BNZ       0x46be                                                                                          
0046bc   d1de     BRA       0x4a7a                                                                                          
0046be   0e4d     MOVLW     0x4d                                                                                            
0046c0   1842     XORWF     0x42,0x0,0x0                                                                                    
0046c2   e102     BNZ       0x46c8                                                                                          
0046c4   0e48     MOVLW     0x48                                                                                            
0046c6   1843     XORWF     0x43,0x0,0x0                                                                                    
0046c8   e101     BNZ       0x46cc                                                                                          
0046ca   d1d4     BRA       0x4a74                                                                                          
0046cc   0e52     MOVLW     0x52                                                                                            
0046ce   1842     XORWF     0x42,0x0,0x0                                                                                    
0046d0   e102     BNZ       0x46d6                                                                                          
0046d2   0e53     MOVLW     0x53                                                                                            
0046d4   1843     XORWF     0x43,0x0,0x0                                                                                    
0046d6   e101     BNZ       0x46da                                                                                          
0046d8   d1ca     BRA       0x4a6e                                                                                          
0046da   0e52     MOVLW     0x52                                                                                            
0046dc   1842     XORWF     0x42,0x0,0x0                                                                                    
0046de   e102     BNZ       0x46e4                                                                                          
0046e0   0e51     MOVLW     0x51                                                                                            
0046e2   1843     XORWF     0x43,0x0,0x0                                                                                    
0046e4   e101     BNZ       0x46e8                                                                                          
0046e6   d1c0     BRA       0x4a68                                                                                          
0046e8   0e42     MOVLW     0x42                                                                                            
0046ea   1842     XORWF     0x42,0x0,0x0                                                                                    
0046ec   e102     BNZ       0x46f2                                                                                          
0046ee   0e52     MOVLW     0x52                                                                                            
0046f0   1843     XORWF     0x43,0x0,0x0                                                                                    
0046f2   e101     BNZ       0x46f6                                                                                          
0046f4   d1b6     BRA       0x4a62                                                                                          
0046f6   0e54     MOVLW     0x54                                                                                            
0046f8   1842     XORWF     0x42,0x0,0x0                                                                                    
0046fa   e102     BNZ       0x4700                                                                                          
0046fc   0e51     MOVLW     0x51                                                                                            
0046fe   1843     XORWF     0x43,0x0,0x0                                                                                    
004700   e101     BNZ       0x4704                                                                                          
004702   d1ac     BRA       0x4a5c                                                                                          
004704   0e54     MOVLW     0x54                                                                                            
004706   1842     XORWF     0x42,0x0,0x0                                                                                    
004708   e102     BNZ       0x470e                                                                                          
00470a   0e53     MOVLW     0x53                                                                                            
00470c   1843     XORWF     0x43,0x0,0x0                                                                                    
00470e   e101     BNZ       0x4712                                                                                          
004710   d1a2     BRA       0x4a56                                                                                          
004712   0e53     MOVLW     0x53                                                                                            
004714   1842     XORWF     0x42,0x0,0x0                                                                                    
004716   e102     BNZ       0x471c                                                                                          
004718   0e43     MOVLW     0x43                                                                                            
00471a   1843     XORWF     0x43,0x0,0x0                                                                                    
00471c   e101     BNZ       0x4720                                                                                          
00471e   d198     BRA       0x4a50                                                                                          
004720   0e53     MOVLW     0x53                                                                                            
004722   1842     XORWF     0x42,0x0,0x0                                                                                    
004724   e102     BNZ       0x472a                                                                                          
004726   0e51     MOVLW     0x51                                                                                            
004728   1843     XORWF     0x43,0x0,0x0                                                                                    
00472a   e101     BNZ       0x472e                                                                                          
00472c   d18e     BRA       0x4a4a                                                                                          
00472e   0e4d     MOVLW     0x4d                                                                                            
004730   1842     XORWF     0x42,0x0,0x0                                                                                    
004732   e102     BNZ       0x4738                                                                                          
004734   0e58     MOVLW     0x58                                                                                            
004736   1843     XORWF     0x43,0x0,0x0                                                                                    
004738   e101     BNZ       0x473c                                                                                          
00473a   d184     BRA       0x4a44                                                                                          
00473c   0e53     MOVLW     0x53                                                                                            
00473e   1842     XORWF     0x42,0x0,0x0                                                                                    
004740   e102     BNZ       0x4746                                                                                          
004742   0e45     MOVLW     0x45                                                                                            
004744   1843     XORWF     0x43,0x0,0x0                                                                                    
004746   e101     BNZ       0x474a                                                                                          
004748   d17a     BRA       0x4a3e                                                                                          
00474a   0e43     MOVLW     0x43                                                                                            
00474c   1842     XORWF     0x42,0x0,0x0                                                                                    
00474e   e102     BNZ       0x4754                                                                                          
004750   0e41     MOVLW     0x41                                                                                            
004752   1843     XORWF     0x43,0x0,0x0                                                                                    
004754   e101     BNZ       0x4758                                                                                          
004756   d170     BRA       0x4a38                                                                                          
004758   0e4d     MOVLW     0x4d                                                                                            
00475a   1842     XORWF     0x42,0x0,0x0                                                                                    
00475c   e102     BNZ       0x4762                                                                                          
00475e   0e51     MOVLW     0x51                                                                                            
004760   1843     XORWF     0x43,0x0,0x0                                                                                    
004762   e101     BNZ       0x4766                                                                                          
004764   d166     BRA       0x4a32                                                                                          
004766   0e32     MOVLW     0x32                                                                                            
004768   1842     XORWF     0x42,0x0,0x0                                                                                    
00476a   e102     BNZ       0x4770                                                                                          
00476c   0e53     MOVLW     0x53                                                                                            
00476e   1843     XORWF     0x43,0x0,0x0                                                                                    
004770   e101     BNZ       0x4774                                                                                          
004772   d15c     BRA       0x4a2c                                                                                          
004774   0e45     MOVLW     0x45                                                                                            
004776   1842     XORWF     0x42,0x0,0x0                                                                                    
004778   e102     BNZ       0x477e                                                                                          
00477a   0e53     MOVLW     0x53                                                                                            
00477c   1843     XORWF     0x43,0x0,0x0                                                                                    
00477e   e101     BNZ       0x4782                                                                                          
004780   d152     BRA       0x4a26                                                                                          
004782   0e47     MOVLW     0x47                                                                                            
004784   1842     XORWF     0x42,0x0,0x0                                                                                    
004786   e102     BNZ       0x478c                                                                                          
004788   0e51     MOVLW     0x51                                                                                            
00478a   1843     XORWF     0x43,0x0,0x0                                                                                    
00478c   e101     BNZ       0x4790                                                                                          
00478e   d148     BRA       0x4a20                                                                                          
004790   0e43     MOVLW     0x43                                                                                            
004792   1842     XORWF     0x42,0x0,0x0                                                                                    
004794   e102     BNZ       0x479a                                                                                          
004796   0e51     MOVLW     0x51                                                                                            
004798   1843     XORWF     0x43,0x0,0x0                                                                                    
00479a   e101     BNZ       0x479e                                                                                          
00479c   d13e     BRA       0x4a1a                                                                                          
00479e   0e4b     MOVLW     0x4b                                                                                            
0047a0   1842     XORWF     0x42,0x0,0x0                                                                                    
0047a2   e102     BNZ       0x47a8                                                                                          
0047a4   0e43     MOVLW     0x43                                                                                            
0047a6   1843     XORWF     0x43,0x0,0x0                                                                                    
0047a8   e101     BNZ       0x47ac                                                                                          
0047aa   d134     BRA       0x4a14                                                                                          
0047ac   0e4c     MOVLW     0x4c                                                                                            
0047ae   1842     XORWF     0x42,0x0,0x0                                                                                    
0047b0   e102     BNZ       0x47b6                                                                                          
0047b2   0e42     MOVLW     0x42                                                                                            
0047b4   1843     XORWF     0x43,0x0,0x0                                                                                    
0047b6   e101     BNZ       0x47ba                                                                                          
0047b8   d12a     BRA       0x4a0e                                                                                          
0047ba   0e44     MOVLW     0x44                                                                                            
0047bc   1842     XORWF     0x42,0x0,0x0                                                                                    
0047be   e102     BNZ       0x47c4                                                                                          
0047c0   0e4e     MOVLW     0x4e                                                                                            
0047c2   1843     XORWF     0x43,0x0,0x0                                                                                    
0047c4   e101     BNZ       0x47c8                                                                                          
0047c6   d120     BRA       0x4a08                                                                                          
0047c8   0e49     MOVLW     0x49                                                                                            
0047ca   1842     XORWF     0x42,0x0,0x0                                                                                    
0047cc   e102     BNZ       0x47d2                                                                                          
0047ce   0e4e     MOVLW     0x4e                                                                                            
0047d0   1843     XORWF     0x43,0x0,0x0                                                                                    
0047d2   e101     BNZ       0x47d6                                                                                          
0047d4   d116     BRA       0x4a02                                                                                          
0047d6   0e42     MOVLW     0x42                                                                                            
0047d8   1842     XORWF     0x42,0x0,0x0                                                                                    
0047da   e102     BNZ       0x47e0                                                                                          
0047dc   0e51     MOVLW     0x51                                                                                            
0047de   1843     XORWF     0x43,0x0,0x0                                                                                    
0047e0   e101     BNZ       0x47e4                                                                                          
0047e2   d10c     BRA       0x49fc                                                                                          
0047e4   0e4c     MOVLW     0x4c                                                                                            
0047e6   1842     XORWF     0x42,0x0,0x0                                                                                    
0047e8   e102     BNZ       0x47ee                                                                                          
0047ea   0e51     MOVLW     0x51                                                                                            
0047ec   1843     XORWF     0x43,0x0,0x0                                                                                    
0047ee   e101     BNZ       0x47f2                                                                                          
0047f0   d102     BRA       0x49f6                                                                                          
0047f2   0e4c     MOVLW     0x4c                                                                                            
0047f4   1842     XORWF     0x42,0x0,0x0                                                                                    
0047f6   e102     BNZ       0x47fc                                                                                          
0047f8   0e53     MOVLW     0x53                                                                                            
0047fa   1843     XORWF     0x43,0x0,0x0                                                                                    
0047fc   e101     BNZ       0x4800                                                                                          
0047fe   d0f8     BRA       0x49f0                                                                                          
004800   0e4e     MOVLW     0x4e                                                                                            
004802   1842     XORWF     0x42,0x0,0x0                                                                                    
004804   e102     BNZ       0x480a                                                                                          
004806   0e51     MOVLW     0x51                                                                                            
004808   1843     XORWF     0x43,0x0,0x0                                                                                    
00480a   e101     BNZ       0x480e                                                                                          
00480c   d0ee     BRA       0x49ea                                                                                          
00480e   0e4e     MOVLW     0x4e                                                                                            
004810   1842     XORWF     0x42,0x0,0x0                                                                                    
004812   e102     BNZ       0x4818                                                                                          
004814   0e53     MOVLW     0x53                                                                                            
004816   1843     XORWF     0x43,0x0,0x0                                                                                    
004818   e101     BNZ       0x481c                                                                                          
00481a   d0e4     BRA       0x49e4                                                                                          
00481c   0e43     MOVLW     0x43                                                                                            
00481e   1842     XORWF     0x42,0x0,0x0                                                                                    
004820   e102     BNZ       0x4826                                                                                          
004822   0e53     MOVLW     0x53                                                                                            
004824   1843     XORWF     0x43,0x0,0x0                                                                                    
004826   e101     BNZ       0x482a                                                                                          
004828   d0da     BRA       0x49de                                                                                          
00482a   0e4d     MOVLW     0x4d                                                                                            
00482c   1842     XORWF     0x42,0x0,0x0                                                                                    
00482e   e102     BNZ       0x4834                                                                                          
004830   0e45     MOVLW     0x45                                                                                            
004832   1843     XORWF     0x43,0x0,0x0                                                                                    
004834   e101     BNZ       0x4838                                                                                          
004836   d0d0     BRA       0x49d8                                                                                          
004838   0e45     MOVLW     0x45                                                                                            
00483a   1842     XORWF     0x42,0x0,0x0                                                                                    
00483c   e102     BNZ       0x4842                                                                                          
00483e   0e51     MOVLW     0x51                                                                                            
004840   1843     XORWF     0x43,0x0,0x0                                                                                    
004842   e101     BNZ       0x4846                                                                                          
004844   d0c6     BRA       0x49d2                                                                                          
004846   0e50     MOVLW     0x50                                                                                            
004848   1842     XORWF     0x42,0x0,0x0                                                                                    
00484a   e102     BNZ       0x4850                                                                                          
00484c   0e51     MOVLW     0x51                                                                                            
00484e   1843     XORWF     0x43,0x0,0x0                                                                                    
004850   e101     BNZ       0x4854                                                                                          
004852   d0bc     BRA       0x49cc                                                                                          
004854   0e50     MOVLW     0x50                                                                                            
004856   1842     XORWF     0x42,0x0,0x0                                                                                    
004858   e102     BNZ       0x485e                                                                                          
00485a   0e54     MOVLW     0x54                                                                                            
00485c   1843     XORWF     0x43,0x0,0x0                                                                                    
00485e   e101     BNZ       0x4862                                                                                          
004860   d0b2     BRA       0x49c6                                                                                          
004862   0e50     MOVLW     0x50                                                                                            
004864   1842     XORWF     0x42,0x0,0x0                                                                                    
004866   e102     BNZ       0x486c                                                                                          
004868   0e53     MOVLW     0x53                                                                                            
00486a   1843     XORWF     0x43,0x0,0x0                                                                                    
00486c   e101     BNZ       0x4870                                                                                          
00486e   d0a8     BRA       0x49c0                                                                                          
004870   0e4d     MOVLW     0x4d                                                                                            
004872   1842     XORWF     0x42,0x0,0x0                                                                                    
004874   e102     BNZ       0x487a                                                                                          
004876   0e53     MOVLW     0x53                                                                                            
004878   1843     XORWF     0x43,0x0,0x0                                                                                    
00487a   e101     BNZ       0x487e                                                                                          
00487c   d09e     BRA       0x49ba                                                                                          
00487e   0e57     MOVLW     0x57                                                                                            
004880   1842     XORWF     0x42,0x0,0x0                                                                                    
004882   e102     BNZ       0x4888                                                                                          
004884   0e4d     MOVLW     0x4d                                                                                            
004886   1843     XORWF     0x43,0x0,0x0                                                                                    
004888   e101     BNZ       0x488c                                                                                          
00488a   d094     BRA       0x49b4                                                                                          
00488c   0e52     MOVLW     0x52                                                                                            
00488e   1842     XORWF     0x42,0x0,0x0                                                                                    
004890   e102     BNZ       0x4896                                                                                          
004892   0e4d     MOVLW     0x4d                                                                                            
004894   1843     XORWF     0x43,0x0,0x0                                                                                    
004896   e101     BNZ       0x489a                                                                                          
004898   d08a     BRA       0x49ae                                                                                          
00489a   0e44     MOVLW     0x44                                                                                            
00489c   1842     XORWF     0x42,0x0,0x0                                                                                    
00489e   e102     BNZ       0x48a4                                                                                          
0048a0   0e50     MOVLW     0x50                                                                                            
0048a2   1843     XORWF     0x43,0x0,0x0                                                                                    
0048a4   e101     BNZ       0x48a8                                                                                          
0048a6   d080     BRA       0x49a8                                                                                          
0048a8   0e4f     MOVLW     0x4f                                                                                            
0048aa   1842     XORWF     0x42,0x0,0x0                                                                                    
0048ac   e102     BNZ       0x48b2                                                                                          
0048ae   0e50     MOVLW     0x50                                                                                            
0048b0   1843     XORWF     0x43,0x0,0x0                                                                                    
0048b2   e101     BNZ       0x48b6                                                                                          
0048b4   d076     BRA       0x49a2                                                                                          
0048b6   0e49     MOVLW     0x49                                                                                            
0048b8   1842     XORWF     0x42,0x0,0x0                                                                                    
0048ba   e102     BNZ       0x48c0                                                                                          
0048bc   0e50     MOVLW     0x50                                                                                            
0048be   1843     XORWF     0x43,0x0,0x0                                                                                    
0048c0   e06d     BZ        0x499c                                                                                          
0048c2   0e41     MOVLW     0x41                                                                                            
0048c4   1842     XORWF     0x42,0x0,0x0                                                                                    
0048c6   e101     BNZ       0x48ca                                                                                          
0048c8   5043     MOVF      0x43,0x0,0x0                                                                                    
0048ca   e065     BZ        0x4996                                                                                          
0048cc   0e56     MOVLW     0x56                                                                                            
0048ce   1842     XORWF     0x42,0x0,0x0                                                                                    
0048d0   e101     BNZ       0x48d4                                                                                          
0048d2   5043     MOVF      0x43,0x0,0x0                                                                                    
0048d4   e05d     BZ        0x4990                                                                                          
0048d6   0e49     MOVLW     0x49                                                                                            
0048d8   1842     XORWF     0x42,0x0,0x0                                                                                    
0048da   e101     BNZ       0x48de                                                                                          
0048dc   5043     MOVF      0x43,0x0,0x0                                                                                    
0048de   e055     BZ        0x498a                                                                                          
0048e0   0e4f     MOVLW     0x4f                                                                                            
0048e2   1842     XORWF     0x42,0x0,0x0                                                                                    
0048e4   e101     BNZ       0x48e8                                                                                          
0048e6   5043     MOVF      0x43,0x0,0x0                                                                                    
0048e8   e04d     BZ        0x4984                                                                                          
0048ea   0e55     MOVLW     0x55                                                                                            
0048ec   1842     XORWF     0x42,0x0,0x0                                                                                    
0048ee   e102     BNZ       0x48f4                                                                                          
0048f0   0e43     MOVLW     0x43                                                                                            
0048f2   1843     XORWF     0x43,0x0,0x0                                                                                    
0048f4   e045     BZ        0x4980                                                                                          
0048f6   0e43     MOVLW     0x43                                                                                            
0048f8   1842     XORWF     0x42,0x0,0x0                                                                                    
0048fa   e101     BNZ       0x48fe                                                                                          
0048fc   5043     MOVF      0x43,0x0,0x0                                                                                    
0048fe   e03d     BZ        0x497a                                                                                          
004900   0e52     MOVLW     0x52                                                                                            
004902   1842     XORWF     0x42,0x0,0x0                                                                                    
004904   e101     BNZ       0x4908                                                                                          
004906   5043     MOVF      0x43,0x0,0x0                                                                                    
004908   e036     BZ        0x4976                                                                                          
00490a   0e4d     MOVLW     0x4d                                                                                            
00490c   1842     XORWF     0x42,0x0,0x0                                                                                    
00490e   e102     BNZ       0x4914                                                                                          
004910   0e4c     MOVLW     0x4c                                                                                            
004912   1843     XORWF     0x43,0x0,0x0                                                                                    
004914   e02d     BZ        0x4970                                                                                          
004916   0e33     MOVLW     0x33                                                                                            
004918   1842     XORWF     0x42,0x0,0x0                                                                                    
00491a   e102     BNZ       0x4920                                                                                          
00491c   0e54     MOVLW     0x54                                                                                            
00491e   1843     XORWF     0x43,0x0,0x0                                                                                    
004920   e024     BZ        0x496a                                                                                          
004922   0e33     MOVLW     0x33                                                                                            
004924   1842     XORWF     0x42,0x0,0x0                                                                                    
004926   e102     BNZ       0x492c                                                                                          
004928   0e4c     MOVLW     0x4c                                                                                            
00492a   1843     XORWF     0x43,0x0,0x0                                                                                    
00492c   e01b     BZ        0x4964                                                                                          
00492e   0e54     MOVLW     0x54                                                                                            
004930   1842     XORWF     0x42,0x0,0x0                                                                                    
004932   e102     BNZ       0x4938                                                                                          
004934   0e4c     MOVLW     0x4c                                                                                            
004936   1843     XORWF     0x43,0x0,0x0                                                                                    
004938   e012     BZ        0x495e                                                                                          
00493a   0e4d     MOVLW     0x4d                                                                                            
00493c   1842     XORWF     0x42,0x0,0x0                                                                                    
00493e   e102     BNZ       0x4944                                                                                          
004940   0e43     MOVLW     0x43                                                                                            
004942   1843     XORWF     0x43,0x0,0x0                                                                                    
004944   e009     BZ        0x4958                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('C' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // CM for circle move                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004958   ec4e     CALL      0x229c,0x0             parse_CM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00495a   f011                                                                                                               
00495c   d0af     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('L' * 256) + 'T':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Low Level Timed Move                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00495e   ecdc     CALL      0x1db8,0x0             parse_LT_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004960   f00e                                                                                                               
004962   d0ac     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('L' * 256) + '3':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Low Level 3rd derivative (jerk) move                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004964   ec86     CALL      0x1d0c,0x0             parse_L3_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004966   f00e                                                                                                               
004968   d0a9     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('T' * 256) + '3':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Timed 3rd derivative (jerk) move                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00496a   ecc2     CALL      0x1d84,0x0             parse_T3_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00496c   f00e                                                                                                               
00496e   d0a6     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('L' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Low Level Move                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004970   ec50     CALL      0x1ca0,0x0             parse_LM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004972   f00e                                                                                                               
004974   d0a3     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'R':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Reset command (resets everything to power-on state)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004976   d8ff     RCALL     0x4b76                 parse_R_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004978   d0a1     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'C':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Configure command (configure ports for Input or Output)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00497a   ec84     CALL      0x5308,0x0             parse_C_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00497c   f029                                                                                                               
00497e   d09e     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('C' * 256) + 'U':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // For configuring UBW                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004980   d901     RCALL     0x4b84                 parse_CU_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004982   d09c     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'O':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Output command (tell the ports to output something)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004984   ec34     CALL      0x5468,0x0             parse_O_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004986   f02a                                                                                                               
004988   d099     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'I':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Input command (return the current status of the ports)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00498a   ec6a     CALL      0x54d4,0x0             parse_I_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00498c   f02a                                                                                                               
00498e   d096     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'V':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Version command                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004990   ec80     CALL      0x5500,0x0             parse_V_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004992   f02a                                                                                                               
004994   d093     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'A':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Analog command                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004996   ec87     CALL      0x550e,0x0             parse_A_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004998   f02a                                                                                                               
00499a   d090     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             #if PC_PG_T_COMMANDS_ENABLED                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'T':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // For timed I/O                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   parse_T_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             #endif                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('P' * 256) + 'I':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // PI for reading a single pin                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00499c   ecbf     CALL      0x577e,0x0             parse_PI_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00499e   f02b                                                                                                               
0049a0   d08d     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('P' * 256) + 'O':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // PO for setting a single pin                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049a2   ec34     CALL      0x5868,0x0             parse_PO_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049a4   f02c                                                                                                               
0049a6   d08a     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('P' * 256) + 'D':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // PD for setting a pin's direction                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049a8   ec23     CALL      0x5646,0x0             parse_PD_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049aa   f02b                                                                                                               
0049ac   d087     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('M' * 256) + 'R':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // MR for Memory Read                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049ae   ec04     CALL      0x5608,0x0             parse_MR_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049b0   f02b                                                                                                               
0049b2   d084     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('M' * 256) + 'W':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // MW for Memory Write                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049b4   ece9     CALL      0x55d2,0x0             parse_MW_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049b6   f02a                                                                                                               
0049b8   d081     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             #if PC_PG_T_COMMANDS_ENABLED                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('P' * 256) + 'C':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // PC for pulse configure                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   parse_PC_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('P' * 256) + 'G':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // PG for pulse go command                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   parse_PG_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             #endif                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SM for stepper motor                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049ba   ec3a     CALL      0x2274,0x0             parse_SM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049bc   f011                                                                                                               
0049be   d07e     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'P':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SP for set pen                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049c0   eccc     CALL      0x2b98,0x0             parse_SP_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049c2   f015                                                                                                               
0049c4   d07b     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('T' * 256) + 'P':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // TP for toggle pen                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049c6   ecaa     CALL      0x2b54,0x0             parse_TP_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049c8   f015                                                                                                               
0049ca   d078     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'P':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QP for query pen                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049cc   ec2f     CALL      0x2a5e,0x0             parse_QP_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049ce   f015                                                                                                               
0049d0   d075     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'E':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QE for Query motor Enable and resolution                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049d2   ec47     CALL      0x2a8e,0x0             parse_QE_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049d4   f015                                                                                                               
0049d6   d072     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('E' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // EM for enable motors                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049d8   ec3d     CALL      0x2c7a,0x0             parse_EM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049da   f016                                                                                                               
0049dc   d06f     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'C':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SC for stepper mode configure                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049de   ec8e     CALL      0x1b1c,0x0             parse_SC_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049e0   f00d                                                                                                               
0049e2   d06c     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'N':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SN for Clear Node count                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049e4   ec98     CALL      0x2d30,0x0             parse_SN_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049e6   f016                                                                                                               
0049e8   d069     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'N':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QN for Query Node count                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049ea   ecb5     CALL      0x2d6a,0x0             parse_QN_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049ec   f016                                                                                                               
0049ee   d066     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'L':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SL for Set Layer                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049f0   ecc5     CALL      0x2d8a,0x0             parse_SL_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049f2   f016                                                                                                               
0049f4   d063     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'L':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QL for Query Layer count                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049f6   ece2     CALL      0x2dc4,0x0             parse_QL_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049f8   f016                                                                                                               
0049fa   d060     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'B':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QL for Query Button (program)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049fc   ec04     CALL      0x2e08,0x0             parse_QB_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0049fe   f017                                                                                                               
004a00   d05d     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('N' * 256) + 'I':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // NI for Node count Increment                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a02   ec76     CALL      0x2cec,0x0             parse_NI_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a04   f016                                                                                                               
004a06   d05a     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('N' * 256) + 'D':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // ND Node count Decrement                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a08   ec89     CALL      0x2d12,0x0             parse_ND_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a0a   f016                                                                                                               
004a0c   d057     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('B' * 256) + 'L':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // BL for Boot Load                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a0e   ece8     CALL      0x59d0,0x0             parse_BL_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a10   f02c                                                                                                               
004a12   d054     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('C' * 256) + 'K':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // CL for Check                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a14   ec3a     CALL      0x5a74,0x0             parse_CK_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a16   f02d                                                                                                               
004a18   d051     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'C':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QC for Query Current                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a1a   ec16     CALL      0x2e2c,0x0             parse_QC_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a1c   f017                                                                                                               
004a1e   d04e     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'G':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QG for Query General                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a20   ec2a     CALL      0x2e54,0x0             parse_QG_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a22   f017                                                                                                               
004a24   d04b     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'E':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SE for Set Engraver                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a26   ec5b     CALL      0x2eb6,0x0             parse_SE_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a28   f017                                                                                                               
004a2a   d048     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + '2':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // S2 for RC Servo method 2                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a2c   ecec     CALL      0x79d8,0x0             RCServo2_S2_command();                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a2e   f03c                                                                                                               
004a30   d045     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QM for Query Motor                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a32   ec3e     CALL      0x307c,0x0             parse_QM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a34   f018                                                                                                               
004a36   d042     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('A' * 256) + 'C':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // AC for Analog Configure                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a38   ec1a     CALL      0x5434,0x0             parse_AC_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a3a   f02a                                                                                                               
004a3c   d03f     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('E' * 256) + 'S':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // ES for E-Stop                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a3e   ece1     CALL      0x29c2,0x0             parse_ES_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a40   f014                                                                                                               
004a42   d03c     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('X' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // XM for X motor move                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a44   ecaf     CALL      0x275e,0x0             parse_XM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a46   f013                                                                                                               
004a48   d039     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'S':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QP for Query Step position                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a4a   ec75     CALL      0x30ea,0x0             parse_QS_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a4c   f018                                                                                                               
004a4e   d036     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('C' * 256) + 'S':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // CS for Clear Step position                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a50   eca9     CALL      0x3152,0x0             parse_CS_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a52   f018                                                                                                               
004a54   d033     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'T':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // ST for Set Tag                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a56   ec19     CALL      0x5c32,0x0             parse_ST_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a58   f02e                                                                                                               
004a5a   d030     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'T':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QT for Query Tag                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a5c   ec4f     CALL      0x5c9e,0x0             parse_QT_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a5e   f02e                                                                                                               
004a60   d02d     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('R' * 256) + 'B':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // RB for ReBoot                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a62   ecf0     CALL      0x59e0,0x0             parse_RB_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a64   f02c                                                                                                               
004a66   d02a     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'R':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QR is for Query RC Servo power state                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a68   ecf7     CALL      0x59ee,0x0             parse_QR_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a6a   f02c                                                                                                               
004a6c   d027     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'R':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SR is for Set RC Servo power timeout                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a6e   ec07     CALL      0x5a0e,0x0             parse_SR_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a70   f02d                                                                                                               
004a72   d024     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('H' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // HM is for Home Motor                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a74   ec68     CALL      0x24d0,0x0             parse_HM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a76   f012                                                                                                               
004a78   d021     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'U':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QU is for General Query                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a7a   dbae     RCALL     0x51d8                 parse_QU_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a7c   d01f     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('T' * 256) + 'R':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a7e   ecd7     CALL      0x25ae,0x0             parse_TR_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a80   f012                                                                                                               
004a82   d01c     BRA       0x4abc                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 default:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004946   0104     MOVLB     0x4                    if (0u == gCommand_Char2)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004948   51c8     MOVF      0xc8,0x0,0x1                                                                                    
00494a   e001     BZ        0x494e                                                                                          
00494c   d09b     BRA       0x4a84                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Send back 'unknown command' error                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00494e   ecfb     CALL      0x65f6,0x0               ebb_print((far rom char *)"!8 Err: Unknown command '");                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004950   f032                                                                                                               
0065f6   0e6f     MOVLW     0x6f                                                                                            
0065f8   6e4e     MOVWF     0x4e,0x0                                                                                        
0065fa   0e82     MOVLW     0x82                                                                                            
0065fc   de1e     RCALL     0x623a                                                                                          
0065fe   ef2f     GOTO      0x645e                   ebb_print_char(gCommand_Char1);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006600   f032                                                                                                               
004952   ec01     CALL      0x6602,0x0               ebb_print_char(':');                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004954   f033                                                                                                               
006602   0e3a     MOVLW     0x3a                                                                                            
006604   de3f     RCALL     0x6284                                                                                          
006606   0e02     MOVLW     0x2                      ebb_print_hex(gCommand_Char1, 2);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006608   6ee6     MOVWF     0xe6,0x0                                                                                        
00660a   c4c7     MOVFF     0x4c7,0x4e                                                                                      
00660c   f04e                                                                                                               
00660e   0012     RETURN    0x0                                                                                             
                                                     ebb_print_char(0x27); // the ' character                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004956   d0aa     BRA       0x4aac                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Send back 'unknown command' error                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a84   ecfb     CALL      0x65f6,0x0               ebb_print((far rom char *)"!8 Err: Unknown command '");                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a86   f032                                                                                                               
                                                     ebb_print_char(gCommand_Char1);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a88   c4c8     MOVFF     0x4c8,0xfe6              ebb_print_char(gCommand_Char2);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a8a   ffe6                                                                                                               
004a8c   dccd     RCALL     0x4428                                                                                          
004a8e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004a90   ec01     CALL      0x6602,0x0               ebb_print_char(':');                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a92   f033                                                                                                               
004a94   ec4d     CALL      0x669a,0x0               ebb_print_hex(gCommand_Char1, 2);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004a96   f033                                                                                                               
004a98   c4c7     MOVFF     0x4c7,0xfe6                                                                                     
004a9a   ffe6                                                                                                               
004a9c   ec81     CALL      0x6502,0x0                                                                                      
004a9e   f032                                                                                                               
004aa0   ec15     CALL      0x662a,0x0                                                                                      
004aa2   f033                                                                                                               
00662a   ecef     CALL      0x83de,0x0                                                                                      
00662c   f041                                                                                                               
00662e   6e52     MOVWF     0x52,0x0                                                                                        
006630   0e05     MOVLW     0x5                                                                                             
006632   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
006634   5052     MOVF      0x52,0x0,0x0                                                                                    
006636   0012     RETURN    0x0                                                                                             
004aa4   0e02     MOVLW     0x2                      ebb_print_hex(gCommand_Char2, 2);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004aa6   6ee6     MOVWF     0xe6,0x0                                                                                        
004aa8   c4c8     MOVFF     0x4c8,0x4e                                                                                      
004aaa   f04e                                                                                                               
004aac   6a4f     CLRF      0x4f,0x0                                                                                        
004aae   ec47     CALL      0x628e,0x0                                                                                      
004ab0   f031                                                                                                               
004ab2   0e27     MOVLW     0x27                     ebb_print_char(0x27); // the ' character                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ab4   ec42     CALL      0x6284,0x0                                                                                      
004ab6   f031                                                                                                               
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ab8   ec27     CALL      0x624e,0x0             print_line_ending(kLE_NORM);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004aba   f031                                                                                                               
                                                   break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Double check that our output pointer is now at the ending <CR>            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // If it is not, this indicates that there were extra characters that        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // the command parsing routine didn't eat. This would be an error and needs  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // to be reported. (Ignore for Reset command because FIFO pointers get cleared.) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004abc   0104     MOVLB     0x4                  (g_RX_buf[g_RX_buf_out] != kCR && 0u == error_byte)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004abe   ec2a     CALL      0x6254,0x0                                                                                      
004ac0   f031                                                                                                               
004ac2   080d     SUBLW     0xd                                                                                             
004ac4   e00d     BZ        0x4ae0                                                                                          
004ac6   5184     MOVF      0x84,0x0,0x1                                                                                    
004ac8   e10b     BNZ       0x4ae0                                                                                          
                                                 &&                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004aca   0e52     MOVLW     0x52                 ('R' != command)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004acc   6e4e     MOVWF     0x4e,0x0                                                                                        
004ace   6a4f     CLRF      0x4f,0x0                                                                                        
004ad0   50df     MOVF      0xdf,0x0,0x0                                                                                    
004ad2   184e     XORWF     0x4e,0x0,0x0                                                                                    
004ad4   e103     BNZ       0x4adc                                                                                          
004ad6   52de     MOVF      0xde,0x1,0x0                                                                                    
004ad8   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004ada   184f     XORWF     0x4f,0x0,0x0                                                                                    
004adc   e001     BZ        0x4ae0             )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ade   8f84     BSF       0x84,0x7,0x1         bitset(error_byte, kERROR_BYTE_EXTRA_CHARACTERS);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Clean up by skipping over any bytes we haven't eaten                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // This is safe since we parse each packet as we get a <CR>                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // (i.e. g_RX_buf_in doesn't move while we are in this routine)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ae0   c4b7     MOVFF     0x4b7,0x4b8      g_RX_buf_out = g_RX_buf_in;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ae2   f4b8                                                                                                               
004ae4   0e09     MOVLW     0x9            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ae6   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
004ae8   e202     BC        0x4aee                                                                                          
004aea   6ae1     CLRF      0xe1,0x0                                                                                        
004aec   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004aee   6ee1     MOVWF     0xe1,0x0                                                                                        
004af0   ef3e     GOTO      0x627c                                                                                          
004af2   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This function will print out the two character command that was just parsed   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // if the New line ending mode is set (CU,10,1). Every time a command is sent    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // to the EBB, it will respond with the two character command code (at least,    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // some commands will return more than that).                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // print_always = true : always print command, even in Default Line Ending Mode  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // print_always = false : do not print command when in Unified Line Ending Mode  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // print_comma = true : if command printed, also print comma after               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // print_comma = false : if command printed, do not print comma after            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // If Legacy line ending mode is turned on this function will not print anything D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004af4   ecd7     CALL      0x65ae,0x0     void print_command(BOOL print_always, BOOL print_comma)                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004af6   f032                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004af8   0e2c     MOVLW     0x2c             char comma = ',';                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004afa   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004afc   0e01     MOVLW     0x1              if (bittstzero(gStandardizedCommandFormat) || print_always)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004afe   0101     MOVLB     0x1                                                                                             
004b00   15c3     ANDWF     0xc3,0x0,0x1                                                                                    
004b02   e103     BNZ       0x4b0a                                                                                          
004b04   0efe     MOVLW     0xfe                                                                                            
004b06   50db     MOVF      0xdb,0x0,0x0                                                                                    
004b08   e010     BZ        0x4b2a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b0a   ec2f     CALL      0x645e,0x0         ebb_putc(gCommand_Char1);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b0c   f032                                                                                                               
00645e   c4c7     MOVFF     0x4c7,0xfe6                                                                                     
006460   ffe6                                                                                                               
006462   ec14     CALL      0x4428,0x0                                                                                      
006464   f022                                                                                                               
006466   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006468   0012     RETURN    0x0                                                                                             
004b0e   0104     MOVLB     0x4                if (gCommand_Char2 != 0u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b10   51c8     MOVF      0xc8,0x0,0x1                                                                                    
004b12   e004     BZ        0x4b1c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b14   c4c8     MOVFF     0x4c8,0xfe6          ebb_putc(gCommand_Char2);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b16   ffe6                                                                                                               
004b18   dc87     RCALL     0x4428                                                                                          
004b1a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b1c   0efd     MOVLW     0xfd               if (print_comma)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b1e   50db     MOVF      0xdb,0x0,0x0                                                                                    
004b20   e004     BZ        0x4b2a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b22   cfdf     MOVFF     0xfdf,0xfe6          ebb_putc(comma);                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b24   ffe6                                                                                                               
004b26   dc80     RCALL     0x4428                                                                                          
004b28   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b2a   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b2c   ef3e     GOTO      0x627c                                                                                          
004b2e   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This function prints out the common endings needed on text lines sent back    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // to the PC. It operates in two modes, Legacy and New. Legacy mode is used      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // when we need to emulate how the EBB's line endings have been done since       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // the beginning (as some PC software counts on this). New mode can be turned    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // on with CU,10,1 and makes every line ending exactly the same : "\n".          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Because in Legacy mode we also need to print "OK", that is included           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // as an option here too.                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //   Legacy Mode:                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //     <type> = LE_OK_NORM : Print "OK\r\n"                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //     <type> = LE_NORM    : Print "\r\n"                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //     <type> = LE_REV     : Print "\n\r"                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //   New Mode:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //     Regardless of the value of <type>, always print "\n"                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b30   ec39     CALL      0x6272,0x0     void print_line_ending(tLineEnding le_type)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b32   f031                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b34   0101     MOVLB     0x1              if (bittstzero(gStandardizedCommandFormat))                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b36   a1c3     BTFSS     0xc3,0x0,0x1                                                                                    
004b38   d004     BRA       0x4b42                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b3a   0e6d     MOVLW     0x6d               ebb_print((far rom char *)"\n");                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b3c   6e4e     MOVWF     0x4e,0x0                                                                                        
004b3e   0e82     MOVLW     0x82                                                                                            
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b40   d016     BRA       0x4b6e           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b42   0104     MOVLB     0x4                if ((g_ack_enable) && (le_type == kLE_OK_NORM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b44   51bd     MOVF      0xbd,0x0,0x1                                                                                    
004b46   e008     BZ        0x4b58                                                                                          
004b48   0efe     MOVLW     0xfe                                                                                            
004b4a   50db     MOVF      0xdb,0x0,0x0                                                                                    
004b4c   e105     BNZ       0x4b58                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b4e   0e6a     MOVLW     0x6a                 ebb_print((far rom char *)"OK");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b50   6e4e     MOVWF     0x4e,0x0                                                                                        
004b52   0e82     MOVLW     0x82                                                                                            
004b54   ec1d     CALL      0x623a,0x0                                                                                      
004b56   f031                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b58   0efe     MOVLW     0xfe               if (le_type == kLE_REV)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b5a   50db     MOVF      0xdb,0x0,0x0                                                                                    
004b5c   0802     SUBLW     0x2                                                                                             
004b5e   e104     BNZ       0x4b68                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b60   0e67     MOVLW     0x67                 ebb_print((far rom char *)"\n\r");                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b62   6e4e     MOVWF     0x4e,0x0                                                                                        
004b64   0e82     MOVLW     0x82                                                                                            
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b66   d003     BRA       0x4b6e             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // le_type == kLE_NORM                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b68   0e64     MOVLW     0x64                 ebb_print((far rom char *)"\r\n");                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b6a   6e4e     MOVWF     0x4e,0x0                                                                                        
004b6c   0e82     MOVLW     0x82                                                                                            
004b6e   ec1d     CALL      0x623a,0x0                                                                                      
004b70   f031                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b72   ef3e     GOTO      0x627c         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b74   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Return all I/Os to their default power-on values                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_R_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b76   ec82     CALL      0x6704,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b78   f033                                                                                                               
004b7a   ec72     CALL      0x62e4,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b7c   f031                                                                                                               
004b7e   dc83     RCALL     0x4486           check_and_send_TX_data();                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b80   ef3d     GOTO      0x407a           UserInit();                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b82   f020                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // CU is "Configure UBW" and controls system-wide configuration values           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "CU,<parameter_number>,<parameter_value><CR>"                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <parameter_number> <parameter_value>                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 1   {1|0} turns on or off the 'ack' ("OK" at end of packets)                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 2   {1|0} turns on or off parameter limit checking (defaults to on))          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 3   {1|0} turns on or off the red LED acting as an empty FIFO indicator (defaults to off) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 4   <new_fifo_size> sets the FIFO size, in commands. Defaults to 1 at boot    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 10  {1|0} turns on or off the standardized command format replies (defaults to off)) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 50  {1|0} turns on or off the automatic enabling of both motors on any move command (defaults to on) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 51  <limit_switch_mask> sets the limit_switch_mask value for limit switch checking in ISR. Set to 0 to disable. Any high bit looks for a corresponding bit in the limit_switch_target on PORTB D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 52  <limit_switch_target> set the limit_switch_value for limit switch checking in ISR.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 53  {1|0} turns on or off the sending of "Limit switch triggered" replies (defaults to off) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 54  {1|0} turns on/off command checksum (defaults to off)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 60  <NewThreshold> Set the power lost threshold. Set to 0 to disable.         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 61  <NewStepperDisableTimeoutS> Sets the stepper timeout in seconds. 0 to disable. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 250 {1|0} turns on or off the GPIO DEBUG (i/o pins to time moves and the ISR) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 251 {1|0} turns on or off the UART ISR DEBUG (prints internal numbers at end of each move) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 252 {1|0} turns on or off the UART ISR DEBUG FULL (prints internal numbers at end of each ISR) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 253 {1|0} turns on or off the UART COMMAND DEBUG (prints all received command bytes) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 254 {1} turns on lock up mode. Tight loop of I/O toggles shows true ISR timing. Reset to exit. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 255 {1|0} turns on or off command parsing debug printing on USB               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 256 {1|0} 1=don't add any moves to FIFO, 0=(default) add moves to FIFO (used for testing of parse functions) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 257 {1|0} turns on or off RC7 as indicator of parsing any command (when high) - defaults to off D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b84   cfd9     MOVFF     0xfd9,0xfe6    void parse_CU_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b86   ffe6                                                                                                               
004b88   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
004b8a   ffd9                                                                                                               
004b8c   0e04     MOVLW     0x4                                                                                             
004b8e   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT16 parameter_number;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             INT16 paramater_value;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b90   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b92   6ae6     CLRF      0xe6,0x0                                                                                        
004b94   dfaf     RCALL     0x4af4                                                                                          
004b96   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004b98   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b9a   6ae6     CLRF      0xe6,0x0         extract_number(kUINT, &parameter_number, kREQUIRED);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b9c   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
004b9e   ffe6                                                                                                               
004ba0   cfda     MOVFF     0xfda,0xfe6                                                                                     
004ba2   ffe6                                                                                                               
004ba4   0e03     MOVLW     0x3                                                                                             
004ba6   6ee6     MOVWF     0xe6,0x0                                                                                        
004ba8   ecaa     CALL      0x5d54,0x0                                                                                      
004baa   f02e                                                                                                               
004bac   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004bae   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004bb0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004bb2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004bb4   6ae6     CLRF      0xe6,0x0         extract_number(kINT, &paramater_value, kREQUIRED);                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bb6   50d9     MOVF      0xd9,0x0,0x0                                                                                    
004bb8   0f02     ADDLW     0x2                                                                                             
004bba   6ee6     MOVWF     0xe6,0x0                                                                                        
004bbc   0e00     MOVLW     0x0                                                                                             
004bbe   20da     ADDWFC    0xda,0x0,0x0                                                                                    
004bc0   6ee6     MOVWF     0xe6,0x0                                                                                        
004bc2   0e02     MOVLW     0x2                                                                                             
004bc4   6ee6     MOVWF     0xe6,0x0                                                                                        
004bc6   ecaa     CALL      0x5d54,0x0                                                                                      
004bc8   f02e                                                                                                               
004bca   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004bcc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004bce   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004bd0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bd2   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bd4   5184     MOVF      0x84,0x0,0x1                                                                                    
004bd6   e001     BZ        0x4bda                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bd8   d2f5     BRA       0x51c4             return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,1,1 or CU,1,0 to turn on/off "OK" at end of command reply                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bda   0e01     MOVLW     0x1              if (1u == parameter_number)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bdc   6e4e     MOVWF     0x4e,0x0                                                                                        
004bde   6a4f     CLRF      0x4f,0x0                                                                                        
004be0   50df     MOVF      0xdf,0x0,0x0                                                                                    
004be2   184e     XORWF     0x4e,0x0,0x0                                                                                    
004be4   e103     BNZ       0x4bec                                                                                          
004be6   52de     MOVF      0xde,0x1,0x0                                                                                    
004be8   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004bea   184f     XORWF     0x4f,0x0,0x0                                                                                    
004bec   e11a     BNZ       0x4c22                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bee   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value || 1 == paramater_value)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bf0   0f02     ADDLW     0x2                                                                                             
004bf2   6ee9     MOVWF     0xe9,0x0                                                                                        
004bf4   cfda     MOVFF     0xfda,0xfea                                                                                     
004bf6   ffea                                                                                                               
004bf8   50ee     MOVF      0xee,0x0,0x0                                                                                    
004bfa   10ed     IORWF     0xed,0x0,0x0                                                                                    
004bfc   e00b     BZ        0x4c14                                                                                          
004bfe   0e01     MOVLW     0x1                                                                                             
004c00   6e4e     MOVWF     0x4e,0x0                                                                                        
004c02   6a4f     CLRF      0x4f,0x0                                                                                        
004c04   0e02     MOVLW     0x2                                                                                             
004c06   50db     MOVF      0xdb,0x0,0x0                                                                                    
004c08   184e     XORWF     0x4e,0x0,0x0                                                                                    
004c0a   e103     BNZ       0x4c12                                                                                          
004c0c   0e03     MOVLW     0x3                                                                                             
004c0e   50db     MOVF      0xdb,0x0,0x0                                                                                    
004c10   184f     XORWF     0x4f,0x0,0x0                                                                                    
004c12   e104     BNZ       0x4c1c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c14   0e02     MOVLW     0x2                  g_ack_enable = paramater_value;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c16   cfdb     MOVFF     0xfdb,0x4bd                                                                                     
004c18   f4bd                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c1a   d002     BRA       0x4c20             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c1c   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c1e   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,2,1 or CU,2,0 to turn on/off parameter limit checks                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c20   d2ce     BRA       0x51be           else if (2u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c22   0e02     MOVLW     0x2                                                                                             
004c24   6e4e     MOVWF     0x4e,0x0                                                                                        
004c26   6a4f     CLRF      0x4f,0x0                                                                                        
004c28   50df     MOVF      0xdf,0x0,0x0                                                                                    
004c2a   184e     XORWF     0x4e,0x0,0x0                                                                                    
004c2c   e103     BNZ       0x4c34                                                                                          
004c2e   52de     MOVF      0xde,0x1,0x0                                                                                    
004c30   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004c32   184f     XORWF     0x4f,0x0,0x0                                                                                    
004c34   e11a     BNZ       0x4c6a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c36   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value || 1 == paramater_value)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c38   0f02     ADDLW     0x2                                                                                             
004c3a   6ee9     MOVWF     0xe9,0x0                                                                                        
004c3c   cfda     MOVFF     0xfda,0xfea                                                                                     
004c3e   ffea                                                                                                               
004c40   50ee     MOVF      0xee,0x0,0x0                                                                                    
004c42   10ed     IORWF     0xed,0x0,0x0                                                                                    
004c44   e00b     BZ        0x4c5c                                                                                          
004c46   0e01     MOVLW     0x1                                                                                             
004c48   6e4e     MOVWF     0x4e,0x0                                                                                        
004c4a   6a4f     CLRF      0x4f,0x0                                                                                        
004c4c   0e02     MOVLW     0x2                                                                                             
004c4e   50db     MOVF      0xdb,0x0,0x0                                                                                    
004c50   184e     XORWF     0x4e,0x0,0x0                                                                                    
004c52   e103     BNZ       0x4c5a                                                                                          
004c54   0e03     MOVLW     0x3                                                                                             
004c56   50db     MOVF      0xdb,0x0,0x0                                                                                    
004c58   184f     XORWF     0x4f,0x0,0x0                                                                                    
004c5a   e104     BNZ       0x4c64                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c5c   0e02     MOVLW     0x2                  gLimitChecks = paramater_value;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c5e   cfdb     MOVFF     0xfdb,0x1c2                                                                                     
004c60   f1c2                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c62   d002     BRA       0x4c68             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c64   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c66   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,3,1 or CU,3,0 to turn on/off red LED FIFO empty indicator                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c68   d2aa     BRA       0x51be           else if (3u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c6a   0e03     MOVLW     0x3                                                                                             
004c6c   6e4e     MOVWF     0x4e,0x0                                                                                        
004c6e   6a4f     CLRF      0x4f,0x0                                                                                        
004c70   50df     MOVF      0xdf,0x0,0x0                                                                                    
004c72   184e     XORWF     0x4e,0x0,0x0                                                                                    
004c74   e103     BNZ       0x4c7c                                                                                          
004c76   52de     MOVF      0xde,0x1,0x0                                                                                    
004c78   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004c7a   184f     XORWF     0x4f,0x0,0x0                                                                                    
004c7c   e11c     BNZ       0x4cb6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c7e   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c80   0f02     ADDLW     0x2                                                                                             
004c82   6ee9     MOVWF     0xe9,0x0                                                                                        
004c84   cfda     MOVFF     0xfda,0xfea                                                                                     
004c86   ffea                                                                                                               
004c88   50ee     MOVF      0xee,0x0,0x0                                                                                    
004c8a   10ed     IORWF     0xed,0x0,0x0                                                                                    
004c8c   e103     BNZ       0x4c94                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c8e   9006     BCF       0x6,0x0,0x0          bitclrzero(gRedLEDEmptyFIFO);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c90   948c     BCF       0x8c,0x2,0x0         mLED_2_Off()                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c92   d010     BRA       0x4cb4             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c94   0e01     MOVLW     0x1                                                                                             
004c96   6e4e     MOVWF     0x4e,0x0                                                                                        
004c98   6a4f     CLRF      0x4f,0x0                                                                                        
004c9a   0e02     MOVLW     0x2                                                                                             
004c9c   50db     MOVF      0xdb,0x0,0x0                                                                                    
004c9e   184e     XORWF     0x4e,0x0,0x0                                                                                    
004ca0   e103     BNZ       0x4ca8                                                                                          
004ca2   0e03     MOVLW     0x3                                                                                             
004ca4   50db     MOVF      0xdb,0x0,0x0                                                                                    
004ca6   184f     XORWF     0x4f,0x0,0x0                                                                                    
004ca8   e103     BNZ       0x4cb0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004caa   8006     BSF       0x6,0x0,0x0          bitsetzero(gRedLEDEmptyFIFO);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cac   948c     BCF       0x8c,0x2,0x0         mLED_2_Off()                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cae   d002     BRA       0x4cb4             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cb0   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cb2   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,4,<new_FIFO_size>                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cb4   d284     BRA       0x51be           else if (4u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cb6   0e04     MOVLW     0x4                                                                                             
004cb8   6e4e     MOVWF     0x4e,0x0                                                                                        
004cba   6a4f     CLRF      0x4f,0x0                                                                                        
004cbc   50df     MOVF      0xdf,0x0,0x0                                                                                    
004cbe   184e     XORWF     0x4e,0x0,0x0                                                                                    
004cc0   e103     BNZ       0x4cc8                                                                                          
004cc2   52de     MOVF      0xde,0x1,0x0                                                                                    
004cc4   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004cc6   184f     XORWF     0x4f,0x0,0x0                                                                                    
004cc8   e11d     BNZ       0x4d04                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cca   0e02     MOVLW     0x2                if (paramater_value > (INT16)COMMAND_FIFO_MAX_LENGTH)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ccc   cfdb     MOVFF     0xfdb,0x4e                                                                                      
004cce   f04e                                                                                                               
004cd0   0e03     MOVLW     0x3                                                                                             
004cd2   cfdb     MOVFF     0xfdb,0x4f                                                                                      
004cd4   f04f                                                                                                               
004cd6   344f     RLCF      0x4f,0x0,0x0                                                                                    
004cd8   e204     BC        0x4ce2                                                                                          
004cda   504e     MOVF      0x4e,0x0,0x0                                                                                    
004cdc   0820     SUBLW     0x20                                                                                            
004cde   0e00     MOVLW     0x0                                                                                             
004ce0   544f     SUBFWB    0x4f,0x0,0x0                                                                                    
004ce2   e207     BC        0x4cf2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ce4   0e20     MOVLW     0x20                 paramater_value = COMMAND_FIFO_MAX_LENGTH;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ce6   6ef3     MOVWF     0xf3,0x0                                                                                        
004ce8   0e02     MOVLW     0x2                                                                                             
004cea   cff3     MOVFF     0xff3,0xfdb                                                                                     
004cec   ffdb                                                                                                               
004cee   0e03     MOVLW     0x3                                                                                             
004cf0   6adb     CLRF      0xdb,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Spin here until we're certain the FIFO is empty and there are no          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // command executing. We want the ISR to be completely idle while we         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // change this value.                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cf2   ecfc     CALL      0x2ff8,0x0         while (process_QM())                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cf4   f017                                                                                                               
004cf6   0900     IORLW     0x0                                                                                             
004cf8   e001     BZ        0x4cfc                                                                                          
004cfa   d7fb     BRA       0x4cf2                                                                                          
                                                 ;                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cfc   0e02     MOVLW     0x2                gCurrentFIFOLength = paramater_value;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cfe   50db     MOVF      0xdb,0x0,0x0                                                                                    
004d00   6e13     MOVWF     0x13,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,10,1 or CU,10,0 to turn on/off standardized line ending                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d02   d25d     BRA       0x51be           else if (10u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d04   0e0a     MOVLW     0xa                                                                                             
004d06   6e4e     MOVWF     0x4e,0x0                                                                                        
004d08   6a4f     CLRF      0x4f,0x0                                                                                        
004d0a   50df     MOVF      0xdf,0x0,0x0                                                                                    
004d0c   184e     XORWF     0x4e,0x0,0x0                                                                                    
004d0e   e103     BNZ       0x4d16                                                                                          
004d10   52de     MOVF      0xde,0x1,0x0                                                                                    
004d12   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004d14   184f     XORWF     0x4f,0x0,0x0                                                                                    
004d16   e11c     BNZ       0x4d50                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d18   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d1a   0f02     ADDLW     0x2                                                                                             
004d1c   6ee9     MOVWF     0xe9,0x0                                                                                        
004d1e   cfda     MOVFF     0xfda,0xfea                                                                                     
004d20   ffea                                                                                                               
004d22   50ee     MOVF      0xee,0x0,0x0                                                                                    
004d24   10ed     IORWF     0xed,0x0,0x0                                                                                    
004d26   e103     BNZ       0x4d2e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d28   0101     MOVLB     0x1                  bitclrzero(gStandardizedCommandFormat);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d2a   91c3     BCF       0xc3,0x0,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d2c   d010     BRA       0x4d4e             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d2e   0e01     MOVLW     0x1                                                                                             
004d30   6e4e     MOVWF     0x4e,0x0                                                                                        
004d32   6a4f     CLRF      0x4f,0x0                                                                                        
004d34   0e02     MOVLW     0x2                                                                                             
004d36   50db     MOVF      0xdb,0x0,0x0                                                                                    
004d38   184e     XORWF     0x4e,0x0,0x0                                                                                    
004d3a   e103     BNZ       0x4d42                                                                                          
004d3c   0e03     MOVLW     0x3                                                                                             
004d3e   50db     MOVF      0xdb,0x0,0x0                                                                                    
004d40   184f     XORWF     0x4f,0x0,0x0                                                                                    
004d42   e103     BNZ       0x4d4a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d44   0101     MOVLB     0x1                  bitsetzero(gStandardizedCommandFormat);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d46   81c3     BSF       0xc3,0x0,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d48   d002     BRA       0x4d4e             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d4a   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d4c   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,50,1 or CU,50,0 to turn on/off automatic motor enable                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d4e   d237     BRA       0x51be           else if (50u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d50   0e32     MOVLW     0x32                                                                                            
004d52   6e4e     MOVWF     0x4e,0x0                                                                                        
004d54   6a4f     CLRF      0x4f,0x0                                                                                        
004d56   50df     MOVF      0xdf,0x0,0x0                                                                                    
004d58   184e     XORWF     0x4e,0x0,0x0                                                                                    
004d5a   e103     BNZ       0x4d62                                                                                          
004d5c   52de     MOVF      0xde,0x1,0x0                                                                                    
004d5e   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004d60   184f     XORWF     0x4f,0x0,0x0                                                                                    
004d62   e10f     BNZ       0x4d82                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d64   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d66   0f02     ADDLW     0x2                                                                                             
004d68   6ee9     MOVWF     0xe9,0x0                                                                                        
004d6a   cfda     MOVFF     0xfda,0xfea                                                                                     
004d6c   ffea                                                                                                               
004d6e   50ee     MOVF      0xee,0x0,0x0                                                                                    
004d70   10ed     IORWF     0xed,0x0,0x0                                                                                    
004d72   e103     BNZ       0x4d7a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d74   0104     MOVLB     0x4                  gAutomaticMotorEnable = FALSE;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d76   6bc6     CLRF      0xc6,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d78   d003     BRA       0x4d80             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d7a   0104     MOVLB     0x4                  gAutomaticMotorEnable = TRUE;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d7c   0e01     MOVLW     0x1                                                                                             
004d7e   6fc6     MOVWF     0xc6,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,51,<limit_switch_mask>                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d80   d21e     BRA       0x51be           else if (51u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d82   0e33     MOVLW     0x33                                                                                            
004d84   6e4e     MOVWF     0x4e,0x0                                                                                        
004d86   6a4f     CLRF      0x4f,0x0                                                                                        
004d88   50df     MOVF      0xdf,0x0,0x0                                                                                    
004d8a   184e     XORWF     0x4e,0x0,0x0                                                                                    
004d8c   e103     BNZ       0x4d94                                                                                          
004d8e   52de     MOVF      0xde,0x1,0x0                                                                                    
004d90   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004d92   184f     XORWF     0x4f,0x0,0x0                                                                                    
004d94   e111     BNZ       0x4db8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d96   0eff     MOVLW     0xff               gLimitSwitchMask = (paramater_value & 0xFF);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d98   6ee7     MOVWF     0xe7,0x0                                                                                        
004d9a   0e02     MOVLW     0x2                                                                                             
004d9c   cfdb     MOVFF     0xfdb,0x4e                                                                                      
004d9e   f04e                                                                                                               
004da0   0e03     MOVLW     0x3                                                                                             
004da2   cfdb     MOVFF     0xfdb,0x4f                                                                                      
004da4   f04f                                                                                                               
004da6   50e7     MOVF      0xe7,0x0,0x0                                                                                    
004da8   164e     ANDWF     0x4e,0x1,0x0                                                                                    
004daa   6a4f     CLRF      0x4f,0x0                                                                                        
004dac   504e     MOVF      0x4e,0x0,0x0                                                                                    
004dae   6e0c     MOVWF     0xc,0x0                                                                                         
004db0   500c     MOVF      0xc,0x0,0x0        if (gLimitSwitchMask == 0u)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004db2   e101     BNZ       0x4db6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004db4   900e     BCF       0xe,0x0,0x0          bitclrzero(gLimitSwitchTriggered);                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,52,<limit_siwtch_target>                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004db6   d203     BRA       0x51be           else if (52u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004db8   0e34     MOVLW     0x34                                                                                            
004dba   6e4e     MOVWF     0x4e,0x0                                                                                        
004dbc   6a4f     CLRF      0x4f,0x0                                                                                        
004dbe   50df     MOVF      0xdf,0x0,0x0                                                                                    
004dc0   184e     XORWF     0x4e,0x0,0x0                                                                                    
004dc2   e103     BNZ       0x4dca                                                                                          
004dc4   52de     MOVF      0xde,0x1,0x0                                                                                    
004dc6   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004dc8   184f     XORWF     0x4f,0x0,0x0                                                                                    
004dca   e10e     BNZ       0x4de8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004dcc   0eff     MOVLW     0xff               gLimitSwitchTarget = (paramater_value & 0xFF);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004dce   6ee7     MOVWF     0xe7,0x0                                                                                        
004dd0   0e02     MOVLW     0x2                                                                                             
004dd2   cfdb     MOVFF     0xfdb,0x4e                                                                                      
004dd4   f04e                                                                                                               
004dd6   0e03     MOVLW     0x3                                                                                             
004dd8   cfdb     MOVFF     0xfdb,0x4f                                                                                      
004dda   f04f                                                                                                               
004ddc   50e7     MOVF      0xe7,0x0,0x0                                                                                    
004dde   164e     ANDWF     0x4e,0x1,0x0                                                                                    
004de0   6a4f     CLRF      0x4f,0x0                                                                                        
004de2   504e     MOVF      0x4e,0x0,0x0                                                                                    
004de4   6e0d     MOVWF     0xd,0x0                                                                                         
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,53,1 turns on the sending of "Limit switch trigger" replies              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004de6   d1eb     BRA       0x51be           else if (53u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004de8   0e35     MOVLW     0x35                                                                                            
004dea   6e4e     MOVWF     0x4e,0x0                                                                                        
004dec   6a4f     CLRF      0x4f,0x0                                                                                        
004dee   50df     MOVF      0xdf,0x0,0x0                                                                                    
004df0   184e     XORWF     0x4e,0x0,0x0                                                                                    
004df2   e103     BNZ       0x4dfa                                                                                          
004df4   52de     MOVF      0xde,0x1,0x0                                                                                    
004df6   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004df8   184f     XORWF     0x4f,0x0,0x0                                                                                    
004dfa   e114     BNZ       0x4e24                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004dfc   0e01     MOVLW     0x1                if (1 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004dfe   6e4e     MOVWF     0x4e,0x0                                                                                        
004e00   6a4f     CLRF      0x4f,0x0                                                                                        
004e02   0e02     MOVLW     0x2                                                                                             
004e04   50db     MOVF      0xdb,0x0,0x0                                                                                    
004e06   184e     XORWF     0x4e,0x0,0x0                                                                                    
004e08   e103     BNZ       0x4e10                                                                                          
004e0a   0e03     MOVLW     0x3                                                                                             
004e0c   50db     MOVF      0xdb,0x0,0x0                                                                                    
004e0e   184f     XORWF     0x4f,0x0,0x0                                                                                    
004e10   e104     BNZ       0x4e1a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e12   0104     MOVLB     0x4                  gLimitSwitchReplies = TRUE;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e14   0e01     MOVLW     0x1                                                                                             
004e16   6fca     MOVWF     0xca,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e18   d004     BRA       0x4e22             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e1a   0104     MOVLB     0x4                  gLimitSwitchReplies = FALSE;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e1c   6bca     CLRF      0xca,0x1                                                                                        
004e1e   0104     MOVLB     0x4                  gLimitSwitchReplyPrinted = FALSE;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e20   6bcb     CLRF      0xcb,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,54,1 turns on command checksums                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e22   d1cd     BRA       0x51be           else if (54u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e24   0e36     MOVLW     0x36                                                                                            
004e26   6e4e     MOVWF     0x4e,0x0                                                                                        
004e28   6a4f     CLRF      0x4f,0x0                                                                                        
004e2a   50df     MOVF      0xdf,0x0,0x0                                                                                    
004e2c   184e     XORWF     0x4e,0x0,0x0                                                                                    
004e2e   e103     BNZ       0x4e36                                                                                          
004e30   52de     MOVF      0xde,0x1,0x0                                                                                    
004e32   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004e34   184f     XORWF     0x4f,0x0,0x0                                                                                    
004e36   e112     BNZ       0x4e5c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e38   0e01     MOVLW     0x1                if (1 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e3a   6e4e     MOVWF     0x4e,0x0                                                                                        
004e3c   6a4f     CLRF      0x4f,0x0                                                                                        
004e3e   0e02     MOVLW     0x2                                                                                             
004e40   50db     MOVF      0xdb,0x0,0x0                                                                                    
004e42   184e     XORWF     0x4e,0x0,0x0                                                                                    
004e44   e103     BNZ       0x4e4c                                                                                          
004e46   0e03     MOVLW     0x3                                                                                             
004e48   50db     MOVF      0xdb,0x0,0x0                                                                                    
004e4a   184f     XORWF     0x4f,0x0,0x0                                                                                    
004e4c   e104     BNZ       0x4e56                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e4e   0104     MOVLB     0x4                  gCommandChecksumRequired = TRUE;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e50   0e01     MOVLW     0x1                                                                                             
004e52   6fcc     MOVWF     0xcc,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e54   d002     BRA       0x4e5a             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e56   0104     MOVLB     0x4                  gCommandChecksumRequired = FALSE;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e58   6bcc     CLRF      0xcc,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,60,<NewThreshold>                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e5a   d1b1     BRA       0x51be           else if (60u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e5c   0e3c     MOVLW     0x3c                                                                                            
004e5e   6e4e     MOVWF     0x4e,0x0                                                                                        
004e60   6a4f     CLRF      0x4f,0x0                                                                                        
004e62   50df     MOVF      0xdf,0x0,0x0                                                                                    
004e64   184e     XORWF     0x4e,0x0,0x0                                                                                    
004e66   e103     BNZ       0x4e6e                                                                                          
004e68   52de     MOVF      0xde,0x1,0x0                                                                                    
004e6a   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004e6c   184f     XORWF     0x4f,0x0,0x0                                                                                    
004e6e   e10d     BNZ       0x4e8a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e70   0e02     MOVLW     0x2                g_PowerMonitorThresholdADC = (paramater_value & 0x03FF);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e72   cfdb     MOVFF     0xfdb,0x492                                                                                     
004e74   f492                                                                                                               
004e76   0e03     MOVLW     0x3                                                                                             
004e78   cfdb     MOVFF     0xfdb,0x493                                                                                     
004e7a   f493                                                                                                               
004e7c   0eff     MOVLW     0xff                                                                                            
004e7e   0104     MOVLB     0x4                                                                                             
004e80   1792     ANDWF     0x92,0x1,0x1                                                                                    
004e82   0e03     MOVLW     0x3                                                                                             
004e84   0104     MOVLB     0x4                                                                                             
004e86   1793     ANDWF     0x93,0x1,0x1                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,61,<NewStepperDisableTimeoutThreshold>                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e88   d19a     BRA       0x51be           else if (61u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e8a   0e3d     MOVLW     0x3d                                                                                            
004e8c   6e4e     MOVWF     0x4e,0x0                                                                                        
004e8e   6a4f     CLRF      0x4f,0x0                                                                                        
004e90   50df     MOVF      0xdf,0x0,0x0                                                                                    
004e92   184e     XORWF     0x4e,0x0,0x0                                                                                    
004e94   e103     BNZ       0x4e9c                                                                                          
004e96   52de     MOVF      0xde,0x1,0x0                                                                                    
004e98   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004e9a   184f     XORWF     0x4f,0x0,0x0                                                                                    
004e9c   e137     BNZ       0x4f0c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e9e   9ef2     BCF       0xf2,0x7,0x0       INTCONbits.GIEH = 0;    // Turn high priority interrupts off                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ea0   9cf2     BCF       0xf2,0x6,0x0       INTCONbits.GIEL = 0;    // Turn low priority interrupts off                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ea2   0e02     MOVLW     0x2                g_StepperDisableTimeoutS = paramater_value;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ea4   cfdb     MOVFF     0xfdb,0x496                                                                                     
004ea6   f496                                                                                                               
004ea8   0e03     MOVLW     0x3                                                                                             
004eaa   cfdb     MOVFF     0xfdb,0x497                                                                                     
004eac   f497                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004eae   0104     MOVLB     0x4                if (g_StepperDisableTimeoutS == 0u)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004eb0   5196     MOVF      0x96,0x0,0x1                                                                                    
004eb2   1197     IORWF     0x97,0x0,0x1                                                                                    
004eb4   e109     BNZ       0x4ec8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Turn feature completely off no matter what state we're in               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004eb6   0104     MOVLB     0x4                  g_StepperDisableState = kSTEPPER_TIMEOUT_DISABLED;                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004eb8   6b95     CLRF      0x95,0x1                                                                                        
004eba   0104     MOVLB     0x4                  g_StepperDisableSecondCounter = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ebc   6b98     CLRF      0x98,0x1                                                                                        
004ebe   6b99     CLRF      0x99,0x1                                                                                        
004ec0   0104     MOVLB     0x4                  g_StepperDisableCountdownS = 0;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ec2   6b9a     CLRF      0x9a,0x1                                                                                        
004ec4   6b9b     CLRF      0x9b,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ec6   d01f     BRA       0x4f06             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // User wants feature enabled with new timeout. Do different things        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // based on current state.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ec8   0104     MOVLB     0x4                  switch (g_StepperDisableState)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004eca   5195     MOVF      0x95,0x0,0x1                                                                                    
004ecc   0a03     XORLW     0x3                                                                                             
004ece   e014     BZ        0x4ef8                                                                                          
004ed0   0a02     XORLW     0x2                                                                                             
004ed2   e00f     BZ        0x4ef2                                                                                          
004ed4   0a01     XORLW     0x1                                                                                             
004ed6   e00d     BZ        0x4ef2                                                                                          
004ed8   0a02     XORLW     0x2                                                                                             
004eda   e001     BZ        0x4ede                                                                                          
004edc   d00a     BRA       0x4ef2                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   case kSTEPPER_TIMEOUT_TIMING:                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Always start over with new timeout value                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ede   c496     MOVFF     0x496,0x49a              g_StepperDisableCountdownS = g_StepperDisableTimeoutS;                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ee0   f49a                                                                                                               
004ee2   c497     MOVFF     0x497,0x49b                                                                                     
004ee4   f49b                                                                                                               
004ee6   0104     MOVLB     0x4                      g_StepperDisableSecondCounter = 1000u;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ee8   0ee8     MOVLW     0xe8                                                                                            
004eea   6f98     MOVWF     0x98,0x1                                                                                        
004eec   0e03     MOVLW     0x3                                                                                             
004eee   6f99     MOVWF     0x99,0x1                                                                                        
004ef0   d00a     BRA       0x4f06                   break;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   default:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   case kSTEPPER_TIMEOUT_PRIMED:                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   case kSTEPPER_TIMEOUT_DISABLED:                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ef2   0104     MOVLB     0x4                      g_StepperDisableState = kSTEPPER_TIMEOUT_PRIMED;                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ef4   0e01     MOVLW     0x1                                                                                             
004ef6   6f95     MOVWF     0x95,0x1                                                                                        
                                                     // Note intentional fall-through                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   case kSTEPPER_TIMEOUT_FIRED:                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ef8   0104     MOVLB     0x4                      g_StepperDisableSecondCounter = 0;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004efa   6b98     CLRF      0x98,0x1                                                                                        
004efc   6b99     CLRF      0x99,0x1                                                                                        
004efe   0104     MOVLB     0x4                      g_StepperDisableCountdownS = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f00   6b9a     CLRF      0x9a,0x1                                                                                        
004f02   6b9b     CLRF      0x9b,0x1                                                                                        
004f04   d000     BRA       0x4f06                   break;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f06   8cf2     BSF       0xf2,0x6,0x0       INTCONbits.GIEL = 1;    // Turn low priority interrupts on                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f08   8ef2     BSF       0xf2,0x7,0x0       INTCONbits.GIEH = 1;    // Turn high priority interrupts on                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,250,1 or CU,250,0 to turn on/off GPIO ISR timing debug                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f0a   d159     BRA       0x51be           else if (250u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f0c   0efa     MOVLW     0xfa                                                                                            
004f0e   6e4e     MOVWF     0x4e,0x0                                                                                        
004f10   6a4f     CLRF      0x4f,0x0                                                                                        
004f12   50df     MOVF      0xdf,0x0,0x0                                                                                    
004f14   184e     XORWF     0x4e,0x0,0x0                                                                                    
004f16   e103     BNZ       0x4f1e                                                                                          
004f18   52de     MOVF      0xde,0x1,0x0                                                                                    
004f1a   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004f1c   184f     XORWF     0x4f,0x0,0x0                                                                                    
004f1e   e11e     BNZ       0x4f5c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f20   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f22   0f02     ADDLW     0x2                                                                                             
004f24   6ee9     MOVWF     0xe9,0x0                                                                                        
004f26   cfda     MOVFF     0xfda,0xfea                                                                                     
004f28   ffea                                                                                                               
004f2a   50ee     MOVF      0xee,0x0,0x0                                                                                    
004f2c   10ed     IORWF     0xed,0x0,0x0                                                                                    
004f2e   e102     BNZ       0x4f34                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f30   9209     BCF       0x9,0x1,0x0          bitclr(TestMode, TEST_MODE_GPIO_NUM);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f32   d013     BRA       0x4f5a             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f34   0e01     MOVLW     0x1                                                                                             
004f36   6e4e     MOVWF     0x4e,0x0                                                                                        
004f38   6a4f     CLRF      0x4f,0x0                                                                                        
004f3a   0e02     MOVLW     0x2                                                                                             
004f3c   50db     MOVF      0xdb,0x0,0x0                                                                                    
004f3e   184e     XORWF     0x4e,0x0,0x0                                                                                    
004f40   e103     BNZ       0x4f48                                                                                          
004f42   0e03     MOVLW     0x3                                                                                             
004f44   50db     MOVF      0xdb,0x0,0x0                                                                                    
004f46   184f     XORWF     0x4f,0x0,0x0                                                                                    
004f48   e106     BNZ       0x4f56                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f4a   8209     BSF       0x9,0x1,0x0          bitset(TestMode, TEST_MODE_GPIO_NUM);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f4c   9295     BCF       0x95,0x1,0x0         TRISDbits.TRISD1 = 0;   // D1 high when in ISR                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f4e   9095     BCF       0x95,0x0,0x0         TRISDbits.TRISD0 = 0;   // D0 high when loading next command               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f50   9292     BCF       0x92,0x1,0x0         TRISAbits.TRISA1 = 0;   // A1 when FIFO empty                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f52   9692     BCF       0x92,0x3,0x0         TRISAbits.TRISA3 = 0;   // A3 when servo is moving                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f54   d002     BRA       0x4f5a             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f56   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f58   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,251,1 or CU,251,0 to turn on/off ISR end of move values printing (On RC6) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f5a   d131     BRA       0x51be           else if (251u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f5c   0efb     MOVLW     0xfb                                                                                            
004f5e   6e4e     MOVWF     0x4e,0x0                                                                                        
004f60   6a4f     CLRF      0x4f,0x0                                                                                        
004f62   50df     MOVF      0xdf,0x0,0x0                                                                                    
004f64   184e     XORWF     0x4e,0x0,0x0                                                                                    
004f66   e103     BNZ       0x4f6e                                                                                          
004f68   52de     MOVF      0xde,0x1,0x0                                                                                    
004f6a   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004f6c   184f     XORWF     0x4f,0x0,0x0                                                                                    
004f6e   e12b     BNZ       0x4fc6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f70   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f72   0f02     ADDLW     0x2                                                                                             
004f74   6ee9     MOVWF     0xe9,0x0                                                                                        
004f76   cfda     MOVFF     0xfda,0xfea                                                                                     
004f78   ffea                                                                                                               
004f7a   50ee     MOVF      0xee,0x0,0x0                                                                                    
004f7c   10ed     IORWF     0xed,0x0,0x0                                                                                    
004f7e   e103     BNZ       0x4f86                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f80   9609     BCF       0x9,0x3,0x0          bitclr(TestMode, TEST_MODE_USART_ISR_FULL_NUM);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f82   9409     BCF       0x9,0x2,0x0          bitclr(TestMode, TEST_MODE_USART_ISR_NUM);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f84   d01f     BRA       0x4fc4             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f86   0e01     MOVLW     0x1                                                                                             
004f88   6e4e     MOVWF     0x4e,0x0                                                                                        
004f8a   6a4f     CLRF      0x4f,0x0                                                                                        
004f8c   0e02     MOVLW     0x2                                                                                             
004f8e   50db     MOVF      0xdb,0x0,0x0                                                                                    
004f90   184e     XORWF     0x4e,0x0,0x0                                                                                    
004f92   e103     BNZ       0x4f9a                                                                                          
004f94   0e03     MOVLW     0x3                                                                                             
004f96   50db     MOVF      0xdb,0x0,0x0                                                                                    
004f98   184f     XORWF     0x4f,0x0,0x0                                                                                    
004f9a   e112     BNZ       0x4fc0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f9c   8409     BSF       0x9,0x2,0x0          bitset(TestMode, TEST_MODE_USART_ISR_NUM);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f9e   9609     BCF       0x9,0x3,0x0          bitclr(TestMode, TEST_MODE_USART_ISR_FULL_NUM);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 baud1USART(                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_IDLE_CLK_LOW &                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_16_BIT_RATE &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_WAKEUP_OFF &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_AUTO_OFF                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fa0   0eec     MOVLW     0xec                 );                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fa2   6ee6     MOVWF     0xe6,0x0                                                                                        
004fa4   ec90     CALL      0x8f20,0x0                                                                                      
004fa6   f047                                                                                                               
004fa8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 Open1USART(                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_TX_INT_OFF &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_RX_INT_OFF &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_ASYNCH_MODE &                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_EIGHT_BIT &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_CONT_RX &                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_BRGH_HIGH &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fb0   0e1c     MOVLW     0x1c                   USART_ADDEN_OFF,                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fb2   6ee6     MOVWF     0xe6,0x0                                                                                        
004faa   0e02     MOVLW     0x2                    2                   // At 48 MHz, this creates 4 Mbaud output            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fac   6ee6     MOVWF     0xe6,0x0             );                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fae   6ae6     CLRF      0xe6,0x0                                                                                        
004fb4   ec8a     CALL      0x8d14,0x0                                                                                      
004fb6   f046                                                                                                               
004fb8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004fba   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004fbc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fbe   d002     BRA       0x4fc4             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fc0   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fc2   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,252,1 or CU,252,0 to turn on/off every ISR tick values printing (on RC6) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fc4   d0fc     BRA       0x51be           else if (252u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fc6   0efc     MOVLW     0xfc                                                                                            
004fc8   6e4e     MOVWF     0x4e,0x0                                                                                        
004fca   6a4f     CLRF      0x4f,0x0                                                                                        
004fcc   50df     MOVF      0xdf,0x0,0x0                                                                                    
004fce   184e     XORWF     0x4e,0x0,0x0                                                                                    
004fd0   e103     BNZ       0x4fd8                                                                                          
004fd2   52de     MOVF      0xde,0x1,0x0                                                                                    
004fd4   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004fd6   184f     XORWF     0x4f,0x0,0x0                                                                                    
004fd8   e12b     BNZ       0x5030                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fda   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fdc   0f02     ADDLW     0x2                                                                                             
004fde   6ee9     MOVWF     0xe9,0x0                                                                                        
004fe0   cfda     MOVFF     0xfda,0xfea                                                                                     
004fe2   ffea                                                                                                               
004fe4   50ee     MOVF      0xee,0x0,0x0                                                                                    
004fe6   10ed     IORWF     0xed,0x0,0x0                                                                                    
004fe8   e103     BNZ       0x4ff0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fea   9609     BCF       0x9,0x3,0x0          bitclr(TestMode, TEST_MODE_USART_ISR_FULL_NUM);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fec   9409     BCF       0x9,0x2,0x0          bitclr(TestMode, TEST_MODE_USART_ISR_NUM);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fee   d01f     BRA       0x502e             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ff0   0e01     MOVLW     0x1                                                                                             
004ff2   6e4e     MOVWF     0x4e,0x0                                                                                        
004ff4   6a4f     CLRF      0x4f,0x0                                                                                        
004ff6   0e02     MOVLW     0x2                                                                                             
004ff8   50db     MOVF      0xdb,0x0,0x0                                                                                    
004ffa   184e     XORWF     0x4e,0x0,0x0                                                                                    
004ffc   e103     BNZ       0x5004                                                                                          
004ffe   0e03     MOVLW     0x3                                                                                             
005000   50db     MOVF      0xdb,0x0,0x0                                                                                    
005002   184f     XORWF     0x4f,0x0,0x0                                                                                    
005004   e112     BNZ       0x502a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005006   8609     BSF       0x9,0x3,0x0          bitset(TestMode, TEST_MODE_USART_ISR_FULL_NUM);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005008   8409     BSF       0x9,0x2,0x0          bitset(TestMode, TEST_MODE_USART_ISR_NUM);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 baud1USART(                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_IDLE_CLK_LOW &                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_16_BIT_RATE &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_WAKEUP_OFF &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_AUTO_OFF                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00500a   0eec     MOVLW     0xec                 );                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00500c   6ee6     MOVWF     0xe6,0x0                                                                                        
00500e   ec90     CALL      0x8f20,0x0                                                                                      
005010   f047                                                                                                               
005012   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 Open1USART(                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_TX_INT_OFF &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_RX_INT_OFF &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_ASYNCH_MODE &                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_EIGHT_BIT &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_CONT_RX &                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_BRGH_HIGH &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00501a   0e1c     MOVLW     0x1c                   USART_ADDEN_OFF,                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00501c   6ee6     MOVWF     0xe6,0x0                                                                                        
005014   0e02     MOVLW     0x2                    2                   // At 48 MHz, this creates 4 Mbaud output            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005016   6ee6     MOVWF     0xe6,0x0             );                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005018   6ae6     CLRF      0xe6,0x0                                                                                        
00501e   ec8a     CALL      0x8d14,0x0                                                                                      
005020   f046                                                                                                               
005022   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005024   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005026   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005028   d002     BRA       0x502e             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00502a   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00502c   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,253,1 or CU,253,0 to turn on/off move command extra debug printing (on RC6) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00502e   d0c7     BRA       0x51be           else if (253u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005030   0efd     MOVLW     0xfd                                                                                            
005032   6e4e     MOVWF     0x4e,0x0                                                                                        
005034   6a4f     CLRF      0x4f,0x0                                                                                        
005036   50df     MOVF      0xdf,0x0,0x0                                                                                    
005038   184e     XORWF     0x4e,0x0,0x0                                                                                    
00503a   e103     BNZ       0x5042                                                                                          
00503c   52de     MOVF      0xde,0x1,0x0                                                                                    
00503e   50dd     MOVF      0xdd,0x0,0x0                                                                                    
005040   184f     XORWF     0x4f,0x0,0x0                                                                                    
005042   e129     BNZ       0x5096                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005044   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005046   0f02     ADDLW     0x2                                                                                             
005048   6ee9     MOVWF     0xe9,0x0                                                                                        
00504a   cfda     MOVFF     0xfda,0xfea                                                                                     
00504c   ffea                                                                                                               
00504e   50ee     MOVF      0xee,0x0,0x0                                                                                    
005050   10ed     IORWF     0xed,0x0,0x0                                                                                    
005052   e102     BNZ       0x5058                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005054   9809     BCF       0x9,0x4,0x0          bitclr(TestMode, TEST_MODE_USART_COMMAND_NUM);                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005056   d01e     BRA       0x5094             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005058   0e01     MOVLW     0x1                                                                                             
00505a   6e4e     MOVWF     0x4e,0x0                                                                                        
00505c   6a4f     CLRF      0x4f,0x0                                                                                        
00505e   0e02     MOVLW     0x2                                                                                             
005060   50db     MOVF      0xdb,0x0,0x0                                                                                    
005062   184e     XORWF     0x4e,0x0,0x0                                                                                    
005064   e103     BNZ       0x506c                                                                                          
005066   0e03     MOVLW     0x3                                                                                             
005068   50db     MOVF      0xdb,0x0,0x0                                                                                    
00506a   184f     XORWF     0x4f,0x0,0x0                                                                                    
00506c   e111     BNZ       0x5090                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00506e   8809     BSF       0x9,0x4,0x0          bitset(TestMode, TEST_MODE_USART_COMMAND_NUM);                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 baud1USART(                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_IDLE_CLK_LOW &                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_16_BIT_RATE &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_WAKEUP_OFF &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_AUTO_OFF                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005070   0eec     MOVLW     0xec                 );                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005072   6ee6     MOVWF     0xe6,0x0                                                                                        
005074   ec90     CALL      0x8f20,0x0                                                                                      
005076   f047                                                                                                               
005078   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 Open1USART(                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_TX_INT_OFF &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_RX_INT_OFF &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_ASYNCH_MODE &                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_EIGHT_BIT &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_CONT_RX &                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_BRGH_HIGH &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005080   0e1c     MOVLW     0x1c                   USART_ADDEN_OFF,                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005082   6ee6     MOVWF     0xe6,0x0                                                                                        
00507a   0e02     MOVLW     0x2                    2                   // At 48 MHz, this creates 4 Mbaud output            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00507c   6ee6     MOVWF     0xe6,0x0             );                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00507e   6ae6     CLRF      0xe6,0x0                                                                                        
005084   ec8a     CALL      0x8d14,0x0                                                                                      
005086   f046                                                                                                               
005088   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00508a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00508c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00508e   d002     BRA       0x5094             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005090   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005092   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,254 turns on 'lock up mode' for measuring true ISR timing by cycling     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // I/O pin on and off as fast as possible, then breaks in that I/O toggle      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // can be seen for the ISR and measured.                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005094   d094     BRA       0x51be           else if (254u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005096   0efe     MOVLW     0xfe                                                                                            
005098   6e4e     MOVWF     0x4e,0x0                                                                                        
00509a   6a4f     CLRF      0x4f,0x0                                                                                        
00509c   50df     MOVF      0xdf,0x0,0x0                                                                                    
00509e   184e     XORWF     0x4e,0x0,0x0                                                                                    
0050a0   e103     BNZ       0x50a8                                                                                          
0050a2   52de     MOVF      0xde,0x1,0x0                                                                                    
0050a4   50dd     MOVF      0xdd,0x0,0x0                                                                                    
0050a6   184f     XORWF     0x4f,0x0,0x0                                                                                    
0050a8   e11a     BNZ       0x50de                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050aa   8209     BSF       0x9,0x1,0x0        bitset(TestMode, TEST_MODE_GPIO_NUM);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050ac   9295     BCF       0x95,0x1,0x0       TRISDbits.TRISD1 = 0;   // D1 high when in ISR                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050ae   9095     BCF       0x95,0x0,0x0       TRISDbits.TRISD0 = 0;   // D0 high when loading next command                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050b0   9292     BCF       0x92,0x1,0x0       TRISAbits.TRISA1 = 0;   // A1 when FIFO empty                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050da   d7eb     BRA       0x50b2             while(1)                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 _asm                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050b2   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050b4   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050b6   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050b8   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050ba   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050bc   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050be   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050c0   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050c2   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050c4   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050c6   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050c8   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050ca   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050cc   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050ce   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050d0   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050d2   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050d4   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050d6   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050d8   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 _endasm                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,255,1 or CU,255,0 to turn on/off command parsing debug printing on USB   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050dc   d070     BRA       0x51be           else if (255u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050de   684e     SETF      0x4e,0x0                                                                                        
0050e0   6a4f     CLRF      0x4f,0x0                                                                                        
0050e2   50df     MOVF      0xdf,0x0,0x0                                                                                    
0050e4   184e     XORWF     0x4e,0x0,0x0                                                                                    
0050e6   e103     BNZ       0x50ee                                                                                          
0050e8   52de     MOVF      0xde,0x1,0x0                                                                                    
0050ea   50dd     MOVF      0xdd,0x0,0x0                                                                                    
0050ec   184f     XORWF     0x4f,0x0,0x0                                                                                    
0050ee   e11a     BNZ       0x5124                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050f0   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050f2   0f02     ADDLW     0x2                                                                                             
0050f4   6ee9     MOVWF     0xe9,0x0                                                                                        
0050f6   cfda     MOVFF     0xfda,0xfea                                                                                     
0050f8   ffea                                                                                                               
0050fa   50ee     MOVF      0xee,0x0,0x0                                                                                    
0050fc   10ed     IORWF     0xed,0x0,0x0                                                                                    
0050fe   e102     BNZ       0x5104                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005100   9a09     BCF       0x9,0x5,0x0          bitclr(TestMode, TEST_MODE_DEBUG_COMMAND_NUM);                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005102   d00f     BRA       0x5122             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005104   0e01     MOVLW     0x1                                                                                             
005106   6e4e     MOVWF     0x4e,0x0                                                                                        
005108   6a4f     CLRF      0x4f,0x0                                                                                        
00510a   0e02     MOVLW     0x2                                                                                             
00510c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00510e   184e     XORWF     0x4e,0x0,0x0                                                                                    
005110   e103     BNZ       0x5118                                                                                          
005112   0e03     MOVLW     0x3                                                                                             
005114   50db     MOVF      0xdb,0x0,0x0                                                                                    
005116   184f     XORWF     0x4f,0x0,0x0                                                                                    
005118   e102     BNZ       0x511e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00511a   8a09     BSF       0x9,0x5,0x0          bitset(TestMode, TEST_MODE_DEBUG_COMMAND_NUM);                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00511c   d002     BRA       0x5122             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00511e   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005120   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,256,1 or CU,256,0 to turn on/off sending parsed commands to FIFO         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005122   d04d     BRA       0x51be           else if (256u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005124   6a4e     CLRF      0x4e,0x0                                                                                        
005126   0e01     MOVLW     0x1                                                                                             
005128   6e4f     MOVWF     0x4f,0x0                                                                                        
00512a   50df     MOVF      0xdf,0x0,0x0                                                                                    
00512c   184e     XORWF     0x4e,0x0,0x0                                                                                    
00512e   e103     BNZ       0x5136                                                                                          
005130   52de     MOVF      0xde,0x1,0x0                                                                                    
005132   50dd     MOVF      0xdd,0x0,0x0                                                                                    
005134   184f     XORWF     0x4f,0x0,0x0                                                                                    
005136   e11a     BNZ       0x516c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005138   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00513a   0f02     ADDLW     0x2                                                                                             
00513c   6ee9     MOVWF     0xe9,0x0                                                                                        
00513e   cfda     MOVFF     0xfda,0xfea                                                                                     
005140   ffea                                                                                                               
005142   50ee     MOVF      0xee,0x0,0x0                                                                                    
005144   10ed     IORWF     0xed,0x0,0x0                                                                                    
005146   e102     BNZ       0x514c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005148   9c09     BCF       0x9,0x6,0x0          bitclr(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00514a   d00f     BRA       0x516a             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00514c   0e01     MOVLW     0x1                                                                                             
00514e   6e4e     MOVWF     0x4e,0x0                                                                                        
005150   6a4f     CLRF      0x4f,0x0                                                                                        
005152   0e02     MOVLW     0x2                                                                                             
005154   50db     MOVF      0xdb,0x0,0x0                                                                                    
005156   184e     XORWF     0x4e,0x0,0x0                                                                                    
005158   e103     BNZ       0x5160                                                                                          
00515a   0e03     MOVLW     0x3                                                                                             
00515c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00515e   184f     XORWF     0x4f,0x0,0x0                                                                                    
005160   e102     BNZ       0x5166                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005162   8c09     BSF       0x9,0x6,0x0          bitset(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005164   d002     BRA       0x516a             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005166   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005168   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,257,1 or CU,257,0 to turn on/off RC0 as indicator of command is parsing  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00516a   d029     BRA       0x51be           else if (257u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00516c   0e01     MOVLW     0x1                                                                                             
00516e   6e4e     MOVWF     0x4e,0x0                                                                                        
005170   0e01     MOVLW     0x1                                                                                             
005172   6e4f     MOVWF     0x4f,0x0                                                                                        
005174   50df     MOVF      0xdf,0x0,0x0                                                                                    
005176   184e     XORWF     0x4e,0x0,0x0                                                                                    
005178   e103     BNZ       0x5180                                                                                          
00517a   52de     MOVF      0xde,0x1,0x0                                                                                    
00517c   50dd     MOVF      0xdd,0x0,0x0                                                                                    
00517e   184f     XORWF     0x4f,0x0,0x0                                                                                    
005180   e11c     BNZ       0x51ba                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005182   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005184   0f02     ADDLW     0x2                                                                                             
005186   6ee9     MOVWF     0xe9,0x0                                                                                        
005188   cfda     MOVFF     0xfda,0xfea                                                                                     
00518a   ffea                                                                                                               
00518c   50ee     MOVF      0xee,0x0,0x0                                                                                    
00518e   10ed     IORWF     0xed,0x0,0x0                                                                                    
005190   e103     BNZ       0x5198                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005192   9009     BCF       0x9,0x0,0x0          bitclrzero(TestMode); // TEST_MODE_PARSING_COMMAND_NUM                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005194   8094     BSF       0x94,0x0,0x0         TRISCbits.TRISC0 = 1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005196   d010     BRA       0x51b8             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005198   0e01     MOVLW     0x1                                                                                             
00519a   6e4e     MOVWF     0x4e,0x0                                                                                        
00519c   6a4f     CLRF      0x4f,0x0                                                                                        
00519e   0e02     MOVLW     0x2                                                                                             
0051a0   50db     MOVF      0xdb,0x0,0x0                                                                                    
0051a2   184e     XORWF     0x4e,0x0,0x0                                                                                    
0051a4   e103     BNZ       0x51ac                                                                                          
0051a6   0e03     MOVLW     0x3                                                                                             
0051a8   50db     MOVF      0xdb,0x0,0x0                                                                                    
0051aa   184f     XORWF     0x4f,0x0,0x0                                                                                    
0051ac   e103     BNZ       0x51b4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051ae   8009     BSF       0x9,0x0,0x0          bitsetzero(TestMode); // TEST_MODE_PARSING_COMMAND_NUM                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051b0   9094     BCF       0x94,0x0,0x0         TRISCbits.TRISC0 = 0;   // C0 high when parsing command                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051b2   d002     BRA       0x51b8             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051b4   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051b6   8d84     BSF       0x84,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051b8   d002     BRA       0x51be           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // parameter_number is not understood                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051ba   0104     MOVLB     0x4                bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051bc   8d84     BSF       0x84,0x6,0x1                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051be   6ae6     CLRF      0xe6,0x0         print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051c0   dcb7     RCALL     0x4b30                                                                                          
0051c2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0051c4   0e04     MOVLW     0x4            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051c6   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0051c8   e202     BC        0x51ce                                                                                          
0051ca   6ae1     CLRF      0xe1,0x0                                                                                        
0051cc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0051ce   6ee1     MOVWF     0xe1,0x0                                                                                        
0051d0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0051d2   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0051d4   ffd9                                                                                                               
0051d6   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // QU is "Query Utility" and provides a simple mechanism for the PC reading      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // certain values from the EBB.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "QU,<parameter_number><CR>"                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Returns: Some value(s), dependant on what parameter_number is.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <parameter_number> <return_packet>                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 1   QU,1,XX  where XX is a value from 00 to FF, representing the contents of  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //              the PortB pins at the time of the last limit switch trigger      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 2   QU,2,ddd to read back the maximum supported FIFO length for this version  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 3   QU,3,ddd to read back the current FIFO length                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 4   QU,4,XXX prints out stack high water value (as 3 digit hex value)         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 5   QU,5,XXX prints out stack high water value (as 3 digit hex value) and resets it to zero D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 6   QU,6,XX prints out the number of commands currently waiting in the FIFO   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 60  QU,60,dddd prints out current value of g_PowerMonitorThresholdADC         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 61  QU,61,dddddd prints out current value of g_StepperDisableTimeoutS         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 200 QU,200,dddddddddd,dddddddddd prints out the current value of acc_union[0] and acc_union[1] (the accumulators) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051d8   ecd7     CALL      0x65ae,0x0     void parse_QU_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051da   f032                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 parameter_number;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051dc   ecea     CALL      0x65d4,0x0       print_command(TRUE, TRUE);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051de   f032                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051e0   0e01     MOVLW     0x1              extract_number(kUCHAR, &parameter_number, kREQUIRED);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051e2   ec23     CALL      0x6246,0x0                                                                                      
0051e4   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051e6   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051e8   5184     MOVF      0x84,0x0,0x1                                                                                    
0051ea   e001     BZ        0x51ee                                                                                          
0051ec   d08a     BRA       0x5302                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // QU,1 to read back current value of gLimitSwitchPortB                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Returns "QU,1,XX" where XX is two digit hex value from 00 to FF             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051ee   04df     DECF      0xdf,0x0,0x0     if (1u == parameter_number)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051f0   e108     BNZ       0x5202                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051f2   ec74     CALL      0x64e8,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051f4   f032                                                                                                               
006284   6ee6     MOVWF     0xe6,0x0           ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006286   ec14     CALL      0x4428,0x0                                                                                      
006288   f022                                                                                                               
00628a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00628c   0012     RETURN    0x0                                                                                             
0051f6   0e02     MOVLW     0x2                ebb_print_hex(gLimitSwitchPortB, 2);                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051f8   6ee6     MOVWF     0xe6,0x0                                                                                        
0051fa   c4c9     MOVFF     0x4c9,0x4e                                                                                      
0051fc   f04e                                                                                                               
0051fe   6a4f     CLRF      0x4f,0x0                                                                                        
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // QU,2 to read back the maximum supported FIFO length for this version        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Returns "QU,2,ddd" where ddd is one to three digit decimal value from 0 to 255 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005200   d01e     BRA       0x523e           else if (2u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005202   0e02     MOVLW     0x2                                                                                             
005204   ec7b     CALL      0x62f6,0x0                                                                                      
005206   f031                                                                                                               
005208   e108     BNZ       0x521a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00520a   ec74     CALL      0x64e8,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00520c   f032                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00520e   0e20     MOVLW     0x20               ebb_print_uint(COMMAND_FIFO_MAX_LENGTH);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005210   6ee6     MOVWF     0xe6,0x0                                                                                        
005212   6ae6     CLRF      0xe6,0x0                                                                                        
005214   6ae6     CLRF      0xe6,0x0                                                                                        
005216   6ae6     CLRF      0xe6,0x0                                                                                        
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // QU,3 to read back the current FIFO length                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Returns "QU,3,ddd" where ddd is one to three digit decimal value from 0 to 255 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005218   d04c     BRA       0x52b2           else if (3u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00521a   0e03     MOVLW     0x3                                                                                             
00521c   ec7b     CALL      0x62f6,0x0                                                                                      
00521e   f031                                                                                                               
005220   e104     BNZ       0x522a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005222   ec74     CALL      0x64e8,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005224   f032                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005226   5013     MOVF      0x13,0x0,0x0       ebb_print_uint(gCurrentFIFOLength);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // QU,4 prints out current stack high water value                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005228   d026     BRA       0x5276           else if (4u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00522a   0e04     MOVLW     0x4                                                                                             
00522c   ec7b     CALL      0x62f6,0x0                                                                                      
00522e   f031                                                                                                               
005230   e109     BNZ       0x5244                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005232   ec0a     CALL      0x4014,0x0         check_high_water();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005234   f020                                                                                                               
005236   ec74     CALL      0x64e8,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005238   f032                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00523a   ec55     CALL      0x64aa,0x0         ebb_print_hex(gStackHighWater, 3);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00523c   f032                                                                                                               
00523e   ec47     CALL      0x628e,0x0                                                                                      
005240   f031                                                                                                               
0064aa   0e03     MOVLW     0x3                                                                                             
0064ac   6ee6     MOVWF     0xe6,0x0                                                                                        
0064ae   c4cd     MOVFF     0x4cd,0x4e                                                                                      
0064b0   f04e                                                                                                               
0064b2   c4ce     MOVFF     0x4ce,0x4f                                                                                      
0064b4   f04f                                                                                                               
0064b6   0012     RETURN    0x0                                                                                             
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,5 prints out current stack high water value and resets it to zero        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005242   d059     BRA       0x52f6           else if (5u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005244   0e05     MOVLW     0x5                                                                                             
005246   ec7b     CALL      0x62f6,0x0                                                                                      
005248   f031                                                                                                               
00524a   e10e     BNZ       0x5268                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00524c   ec74     CALL      0x64e8,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00524e   f032                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005250   ec55     CALL      0x64aa,0x0         ebb_print_hex(gStackHighWater, 3);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005252   f032                                                                                                               
005254   ec47     CALL      0x628e,0x0                                                                                      
005256   f031                                                                                                               
00628e   6a50     CLRF      0x50,0x0                                                                                        
006290   6a51     CLRF      0x51,0x0                                                                                        
006292   da54     RCALL     0x673c                                                                                          
006294   ef15     GOTO      0x662a                                                                                          
006296   f033                                                                                                               
005258   ec27     CALL      0x624e,0x0         print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00525a   f031                                                                                                               
00525c   9cf2     BCF       0xf2,0x6,0x0       INTCONbits.GIEL = 0;  // Turn low priority interrupts off                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00525e   0104     MOVLB     0x4                gStackHighWater = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005260   6bcd     CLRF      0xcd,0x1                                                                                        
005262   6bce     CLRF      0xce,0x1                                                                                        
005264   8cf2     BSF       0xf2,0x6,0x0       INTCONbits.GIEL = 1;  // Turn low priority interrupts on                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,6 prints out the number of commands currently waiting in the FIFO        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005266   d04b     BRA       0x52fe           else if (6u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005268   0e06     MOVLW     0x6                                                                                             
00526a   ec7b     CALL      0x62f6,0x0                                                                                      
00526c   f031                                                                                                               
00526e   e106     BNZ       0x527c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005270   ec74     CALL      0x64e8,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005272   f032                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005274   500f     MOVF      0xf,0x0,0x0        ebb_print_uint(gFIFOLength);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005276   eca4     CALL      0x6348,0x0                                                                                      
005278   f031                                                                                                               
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // 60  QU,60,dddd prints out current value of g_PowerMonitorThresholdADC       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00527a   d019     BRA       0x52ae           else if (60u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00527c   0e3c     MOVLW     0x3c                                                                                            
00527e   ec7b     CALL      0x62f6,0x0                                                                                      
005280   f031                                                                                                               
005282   e107     BNZ       0x5292                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005284   ec74     CALL      0x64e8,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005286   f032                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005288   c492     MOVFF     0x492,0x4e         ebb_print_uint(g_PowerMonitorThresholdADC);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00528a   f04e                                                                                                               
00528c   c493     MOVFF     0x493,0x4f                                                                                      
00528e   f04f                                                                                                               
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // 61  QU,61,dddddd prints out current value of g_StepperDisableTimeoutS       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005290   d00a     BRA       0x52a6           else if (61u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005292   0e3d     MOVLW     0x3d                                                                                            
005294   ec7b     CALL      0x62f6,0x0                                                                                      
005296   f031                                                                                                               
005298   e10f     BNZ       0x52b8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00529a   ec74     CALL      0x64e8,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00529c   f032                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00529e   c496     MOVFF     0x496,0x4e         ebb_print_uint(g_StepperDisableTimeoutS);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052a0   f04e                                                                                                               
0052a2   c497     MOVFF     0x497,0x4f                                                                                      
0052a4   f04f                                                                                                               
0052a6   6a50     CLRF      0x50,0x0                                                                                        
0052a8   6a51     CLRF      0x51,0x0                                                                                        
0052aa   c04e     MOVFF     0x4e,0xfe6                                                                                      
0052ac   ffe6                                                                                                               
0052ae   ec81     CALL      0x6502,0x0                                                                                      
0052b0   f032                                                                                                               
0052b2   ec65     CALL      0x66ca,0x0                                                                                      
0052b4   f033                                                                                                               
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 200 QU,200,dddddddddd,dddddddddd prints out the current value of acc_union[0] and acc_union[1] (the accumulators) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052b6   d01f     BRA       0x52f6           else if (200u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052b8   0ec8     MOVLW     0xc8                                                                                            
0052ba   ec7b     CALL      0x62f6,0x0                                                                                      
0052bc   f031                                                                                                               
0052be   e11e     BNZ       0x52fc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052c0   ec74     CALL      0x64e8,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052c2   f032                                                                                                               
0064e8   dedc     RCALL     0x62a2                                                                                          
0064ea   d900     RCALL     0x66ec                                                                                          
0064ec   0e2c     MOVLW     0x2c               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0064ee   ef42     GOTO      0x6284                                                                                          
0064f0   f031                                                                                                               
0052c4   9ef2     BCF       0xf2,0x7,0x0       INTCONbits.GIEH = 0;    // Turn high priority interrupts off                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052c6   c01e     MOVFF     0x1e,0xfe6         ebb_print_uint(acc_union[0].value);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052c8   ffe6                                                                                                               
0052ca   c01f     MOVFF     0x1f,0xfe6                                                                                      
0052cc   ffe6                                                                                                               
0052ce   c020     MOVFF     0x20,0xfe6                                                                                      
0052d0   ffe6                                                                                                               
0052d2   c021     MOVFF     0x21,0xfe6                                                                                      
0052d4   ffe6                                                                                                               
0052d6   ec65     CALL      0x66ca,0x0                                                                                      
0052d8   f033                                                                                                               
0052da   0e2c     MOVLW     0x2c               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052dc   ec42     CALL      0x6284,0x0                                                                                      
0052de   f031                                                                                                               
0052e0   c022     MOVFF     0x22,0xfe6         ebb_print_uint(acc_union[1].value);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052e2   ffe6                                                                                                               
0052e4   c023     MOVFF     0x23,0xfe6                                                                                      
0052e6   ffe6                                                                                                               
0052e8   c024     MOVFF     0x24,0xfe6                                                                                      
0052ea   ffe6                                                                                                               
0052ec   c025     MOVFF     0x25,0xfe6                                                                                      
0052ee   ffe6                                                                                                               
0052f0   ec65     CALL      0x66ca,0x0                                                                                      
0052f2   f033                                                                                                               
0052f4   8ef2     BSF       0xf2,0x7,0x0       INTCONbits.GIEH = 1;    // Turn high priority interrupts on                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052f6   ec27     CALL      0x624e,0x0         print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052f8   f031                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052fa   d001     BRA       0x52fe           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // parameter_number is not understood                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052fc   8d84     BSF       0x84,0x6,0x1       bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052fe   ec72     CALL      0x62e4,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005300   f031                                                                                                               
005302   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005304   ef3e     GOTO      0x627c                                                                                          
005306   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #if PC_PG_T_COMMANDS_ENABLED                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "T" Packet                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Causes PIC to sample digital or analog inputs at a regular interval and send  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // I (or A) packets back at that interval.                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Send T,0,0<CR> to stop I (or A) packets                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // FORMAT: T,<TIME_BETWEEN_UPDATES_IN_MS>,<MODE><CR>                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <MODE> is 0 for digital (I packets) and 1 for analog (A packets)              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // EXAMPLE: "T,4000,0<CR>" to send an I packet back every 4 seconds.             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // EXAMPLE: "T,2000,1<CR>" to send an A packet back every 2 seconds.             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_T_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned int value;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char mode = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Extract the <TIME_BETWEEN_UPDATES_IN_MS> value                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extract_number(kUINT, (void *)&time_between_updates, kREQUIRED);               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Extract the <MODE> value                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extract_number(kUCHAR, &mode, kREQUIRED);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now start up the timer at the right rate or shut                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // it down.                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (0u == mode)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (0u == time_between_updates)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Turn off sending of I packets.                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 ISR_D_RepeatRate = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 T4CONbits.TMR4ON = 1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Eventually guard this section from interrupts                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 ISR_D_RepeatRate = time_between_updates;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (0u == time_between_updates)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Turn off sending of A packets.                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 ISR_A_RepeatRate = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 T4CONbits.TMR4ON = 1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Eventually guard this section from interrupts                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 ISR_A_RepeatRate = time_between_updates;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // IMPORTANT: As of EBB v2.2.3 firmware, this command is different from the      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // UBW version. The analog config value is eliminated, replaced with the "AC"    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // command.                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // FORMAT: C,<portA_IO>,<portB_IO>,<portC_IO>,<portD_IO>,<portE_IO><CR>          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // EXAMPLE: "C,255,0,4,0,0,0<CR>"                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <portX_IO> is the byte sent to the Data Direction (DDR) register for          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // each port. A 1 in a bit location means input, a 0 means output.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // NOTE: it is up to the user to tell the proper port direction bits to be       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // inputs for the analog channels they wish to use.                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005308   ec39     CALL      0x6272,0x0     void parse_C_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00530a   f031                                                                                                               
00530c   0e05     MOVLW     0x5                                                                                             
00530e   ec88     CALL      0x6510,0x0                                                                                      
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char PA, PB, PC, PD, PE;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005310   f032                                print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Extract each of the four values.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005312   0e01     MOVLW     0x1              extract_number(kUCHAR, &PA, kREQUIRED);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005314   ec51     CALL      0x66a2,0x0                                                                                      
005316   f033                                                                                                               
005318   ec55     CALL      0x66aa,0x0       extract_number(kUCHAR, &PB, kREQUIRED);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00531a   f033                                                                                                               
                                             extract_number(kUCHAR, &PC, kREQUIRED);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00531c   6ae6     CLRF      0xe6,0x0         extract_number(kUCHAR, &PD, kREQUIRED);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00531e   50d9     MOVF      0xd9,0x0,0x0                                                                                    
005320   0f03     ADDLW     0x3                                                                                             
005322   ec79     CALL      0x64f2,0x0                                                                                      
005324   f032                                                                                                               
005326   6ae6     CLRF      0xe6,0x0         extract_number(kUCHAR, &PE, kREQUIRED);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005328   50d9     MOVF      0xd9,0x0,0x0                                                                                    
00532a   0f04     ADDLW     0x4                                                                                             
00532c   ec90     CALL      0x6720,0x0                                                                                      
00532e   f033                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005330   e110     BNZ       0x5352           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now write those values to the data direction registers.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005332   50df     MOVF      0xdf,0x0,0x0     TRISA = PA;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005334   6e92     MOVWF     0x92,0x0                                                                                        
005336   0e01     MOVLW     0x1              TRISB = PB;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005338   50db     MOVF      0xdb,0x0,0x0                                                                                    
00533a   6e93     MOVWF     0x93,0x0                                                                                        
00533c   0e02     MOVLW     0x2              TRISC = PC;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00533e   50db     MOVF      0xdb,0x0,0x0                                                                                    
005340   6e94     MOVWF     0x94,0x0                                                                                        
005342   0e03     MOVLW     0x3              TRISD = PD;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005344   50db     MOVF      0xdb,0x0,0x0                                                                                    
005346   6e95     MOVWF     0x95,0x0                                                                                        
005348   0e04     MOVLW     0x4              TRISE = PE;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00534a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00534c   6e96     MOVWF     0x96,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00534e   ec72     CALL      0x62e4,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005350   f031                                                                                                               
005352   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005354   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005356   e202     BC        0x535c                                                                                          
005358   6ae1     CLRF      0xe1,0x0                                                                                        
00535a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00535c   6ee1     MOVWF     0xe1,0x0                                                                                        
00535e   ef3e     GOTO      0x627c                                                                                          
005360   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This function turns on or off an analog channel                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // It is called from other pieces of code, not the user                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005362   ec39     CALL      0x6272,0x0     void AnalogConfigure(unsigned char Channel, unsigned char Enable)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005364   f031                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005366   0efe     MOVLW     0xfe             if (Channel > 16u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005368   50db     MOVF      0xdb,0x0,0x0                                                                                    
00536a   0810     SUBLW     0x10                                                                                            
00536c   e205     BC        0x5378                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00536e   0e10     MOVLW     0x10               Channel = 16;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005370   6ef3     MOVWF     0xf3,0x0                                                                                        
005372   0efe     MOVLW     0xfe                                                                                            
005374   cff3     MOVFF     0xff3,0xfdb                                                                                     
005376   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005378   0efd     MOVLW     0xfd             if (Enable)                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00537a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00537c   e02b     BZ        0x53d4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00537e   0efe     MOVLW     0xfe               AnalogEnabledChannels |= ((unsigned int)0x0001 << Channel);                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005380   50db     MOVF      0xdb,0x0,0x0                                                                                    
005382   ecaf     CALL      0x8f5e,0x0                                                                                      
005384   f047                                                                                                               
005386   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005388   0104     MOVLB     0x4                                                                                             
00538a   138e     IORWF     0x8e,0x1,0x1                                                                                    
00538c   50f4     MOVF      0xf4,0x0,0x0                                                                                    
00538e   138f     IORWF     0x8f,0x1,0x1                                                                                    
                                               // Make sure to turn this analog input on                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005390   0e08     MOVLW     0x8                if (Channel < 8u)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005392   6ef3     MOVWF     0xf3,0x0                                                                                        
005394   0efe     MOVLW     0xfe                                                                                            
005396   ec0d     CALL      0x641a,0x0                                                                                      
005398   f032                                                                                                               
00539a   e20d     BC        0x53b6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Clear the right bit in ANCON0                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00539c   0e01     MOVLW     0x1                  ANCON0 &= ~(1 << Channel);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00539e   6ef3     MOVWF     0xf3,0x0                                                                                        
0053a0   0efe     MOVLW     0xfe                                                                                            
0053a2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0053a4   e003     BZ        0x53ac                                                                                          
0053a6   ec68     CALL      0x62d0,0x0                                                                                      
0053a8   f031                                                                                                               
0053aa   e1fd     BNZ       0x53a6                                                                                          
0053ac   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0053ae   1cf3     COMF      0xf3,0x0,0x0                                                                                    
0053b0   010f     MOVLB     0xf                                                                                             
0053b2   1748     ANDWF     0x48,0x1,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053b4   d03d     BRA       0x5430             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053b6   0efe     MOVLW     0xfe                 if (Channel <= 12u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053b8   50db     MOVF      0xdb,0x0,0x0                                                                                    
0053ba   080c     SUBLW     0xc                                                                                             
0053bc   e339     BNC       0x5430                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Clear the right bit in ANCON1                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053be   ec5c     CALL      0x64b8,0x0             ANCON1 &= ~(1 << (Channel-8));                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053c0   f032                                                                                                               
0053c2   e004     BZ        0x53cc                                                                                          
0053c4   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
0053c6   0bfe     ANDLW     0xfe                                                                                            
0053c8   064e     DECF      0x4e,0x1,0x0                                                                                    
0053ca   e1fc     BNZ       0x53c4                                                                                          
0053cc   1ce8     COMF      0xe8,0x0,0x0                                                                                    
0053ce   010f     MOVLB     0xf                                                                                             
0053d0   1749     ANDWF     0x49,0x1,0x1                                                                                    
0064b8   0efe     MOVLW     0xfe                                                                                            
0064ba   50db     MOVF      0xdb,0x0,0x0                                                                                    
0064bc   0ff8     ADDLW     0xf8                                                                                            
0064be   6e4e     MOVWF     0x4e,0x0                                                                                        
0064c0   0e01     MOVLW     0x1                                                                                             
0064c2   524e     MOVF      0x4e,0x1,0x0                                                                                    
0064c4   0012     RETURN    0x0                                                                                             
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053d2   d02e     BRA       0x5430           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053d4   0efe     MOVLW     0xfe               AnalogEnabledChannels &= ~((unsigned int)0x0001 << Channel);                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053d6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0053d8   ecaf     CALL      0x8f5e,0x0                                                                                      
0053da   f047                                                                                                               
0053dc   cff3     MOVFF     0xff3,0x4e                                                                                      
0053de   f04e                                                                                                               
0053e0   cff4     MOVFF     0xff4,0x4f                                                                                      
0053e2   f04f                                                                                                               
0053e4   1e4e     COMF      0x4e,0x1,0x0                                                                                    
0053e6   1e4f     COMF      0x4f,0x1,0x0                                                                                    
0053e8   504e     MOVF      0x4e,0x0,0x0                                                                                    
0053ea   0104     MOVLB     0x4                                                                                             
0053ec   178e     ANDWF     0x8e,0x1,0x1                                                                                    
0053ee   504f     MOVF      0x4f,0x0,0x0                                                                                    
0053f0   178f     ANDWF     0x8f,0x1,0x1                                                                                    
                                               // Make sure to turn this analog input off                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053f2   0e08     MOVLW     0x8                if (Channel < 8u)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053f4   6ef3     MOVWF     0xf3,0x0                                                                                        
0053f6   0efe     MOVLW     0xfe                                                                                            
0053f8   ec0d     CALL      0x641a,0x0                                                                                      
0053fa   f032                                                                                                               
0053fc   e20c     BC        0x5416                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Set the right bit in ANCON0                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053fe   0e01     MOVLW     0x1                  ANCON0 |= (1 << Channel);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005400   6ef3     MOVWF     0xf3,0x0                                                                                        
005402   0efe     MOVLW     0xfe                                                                                            
005404   50db     MOVF      0xdb,0x0,0x0                                                                                    
005406   e003     BZ        0x540e                                                                                          
005408   ec68     CALL      0x62d0,0x0                                                                                      
00540a   f031                                                                                                               
00540c   e1fd     BNZ       0x5408                                                                                          
00540e   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005410   010f     MOVLB     0xf                                                                                             
005412   1348     IORWF     0x48,0x1,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005414   d00d     BRA       0x5430             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005416   0efe     MOVLW     0xfe                 if (Channel <= 12u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005418   50db     MOVF      0xdb,0x0,0x0                                                                                    
00541a   080c     SUBLW     0xc                                                                                             
00541c   e309     BNC       0x5430                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Set the right bit in ANCON1                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00541e   ec5c     CALL      0x64b8,0x0             ANCON1 |= (1 << (Channel-8));                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005420   f032                                                                                                               
005422   e004     BZ        0x542c                                                                                          
005424   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
005426   0bfe     ANDLW     0xfe                                                                                            
005428   064e     DECF      0x4e,0x1,0x0                                                                                    
00542a   e1fc     BNZ       0x5424                                                                                          
00542c   010f     MOVLB     0xf                                                                                             
00542e   1349     IORWF     0x49,0x1,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005430   ef3e     GOTO      0x627c         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005432   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Analog Configure                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "AC,<channel>,<enable><CR>"                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <channel> is one of the 16 possible analog channels, from 0 through 15        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <enable> is 0 to disable, or 1 to enable                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // To turn on a particular analog channel, use the AC command to enable it.      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // To turn off a particular analog channel, use the AC command to disable it.    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Once enabled, that channel will be converted at the normal ADC conversion     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // rate and will show up in A packets.                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005434   ec94     CALL      0x6728,0x0     void parse_AC_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005436   f033                                                                                                               
006728   dda4     RCALL     0x6272                                                                                          
00672a   0e02     MOVLW     0x2                                                                                             
00672c   def1     RCALL     0x6510                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char Channel, Enable;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Extract each of the two values.                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005438   ec51     CALL      0x66a2,0x0       extract_number(kUCHAR, &Channel, kREQUIRED);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00543a   f033                                                                                                               
00672e   0e01     MOVLW     0x1                                                                                             
006730   0012     RETURN    0x0                                                                                             
00543c   0f01     ADDLW     0x1              extract_number(kUCHAR, &Enable, kREQUIRED);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00543e   ec90     CALL      0x6720,0x0                                                                                      
005440   f033                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005442   e10a     BNZ       0x5458           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005444   0e01     MOVLW     0x1              AnalogConfigure(Channel, Enable);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005446   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
005448   ffe6                                                                                                               
00544a   cfdf     MOVFF     0xfdf,0xfe6                                                                                     
00544c   ffe6                                                                                                               
00544e   df89     RCALL     0x5362                                                                                          
005450   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005452   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005454   ec72     CALL      0x62e4,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005456   f031                                                                                                               
005458   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00545a   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00545c   e202     BC        0x5462                                                                                          
00545e   6ae1     CLRF      0xe1,0x0                                                                                        
005460   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005462   6ee1     MOVWF     0xe1,0x0                                                                                        
005464   ef3e     GOTO      0x627c                                                                                          
005466   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Outputs values to the ports pins that are set up as outputs.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Example "O,121,224,002<CR>"                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005468   ec94     CALL      0x6728,0x0     void parse_O_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00546a   f033                                                                                                               
006510   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char Value;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             ExtractReturnType RetVal;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00625c   d988     RCALL     0x656e           print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006512   6ae6     CLRF      0xe6,0x0                                                                                        
006514   6ae6     CLRF      0xe6,0x0                                                                                        
006516   ef2e     GOTO      0x625c                                                                                          
006518   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00546c   ec23     CALL      0x6246,0x0       RetVal = extract_number(kUCHAR,  &Value, kREQUIRED);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00546e   f031                                                                                                               
005470   ecbf     CALL      0x637e,0x0                                                                                      
005472   f031                                                                                                               
00625e   6ae6     CLRF      0xe6,0x0                                                                                        
006260   ef3f     GOTO      0x667e                                                                                          
006262   f033                                                                                                               
005474   e127     BNZ       0x54c4           if (error_byte) return;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005476   0e01     MOVLW     0x1              if (kEXTRACT_OK == RetVal)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005478   50db     MOVF      0xdb,0x0,0x0                                                                                    
00547a   e102     BNZ       0x5480                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00547c   50df     MOVF      0xdf,0x0,0x0       LATA = Value;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00547e   6e89     MOVWF     0x89,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005480   eca0     CALL      0x6540,0x0       RetVal = extract_number(kUCHAR,  &Value, kOPTIONAL);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005482   f032                                                                                                               
005484   e11f     BNZ       0x54c4           if (error_byte) return;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005486   0e01     MOVLW     0x1              if (kEXTRACT_OK == RetVal)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005488   50db     MOVF      0xdb,0x0,0x0                                                                                    
00548a   e102     BNZ       0x5490                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00548c   50df     MOVF      0xdf,0x0,0x0       LATB = Value;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00548e   6e8a     MOVWF     0x8a,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005490   eca0     CALL      0x6540,0x0       RetVal = extract_number(kUCHAR,  &Value, kOPTIONAL);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005492   f032                                                                                                               
005494   e117     BNZ       0x54c4           if (error_byte) return;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005496   0e01     MOVLW     0x1              if (kEXTRACT_OK == RetVal)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005498   50db     MOVF      0xdb,0x0,0x0                                                                                    
00549a   e102     BNZ       0x54a0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00549c   50df     MOVF      0xdf,0x0,0x0       LATC = Value;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00549e   6e8b     MOVWF     0x8b,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054a0   eca0     CALL      0x6540,0x0       RetVal = extract_number(kUCHAR,  &Value, kOPTIONAL);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054a2   f032                                                                                                               
0054a4   e10f     BNZ       0x54c4           if (error_byte) return;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054a6   0e01     MOVLW     0x1              if (kEXTRACT_OK == RetVal)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054a8   50db     MOVF      0xdb,0x0,0x0                                                                                    
0054aa   e102     BNZ       0x54b0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054ac   50df     MOVF      0xdf,0x0,0x0       LATD = Value;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054ae   6e8c     MOVWF     0x8c,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054b0   eca0     CALL      0x6540,0x0       RetVal = extract_number(kUCHAR,  &Value, kOPTIONAL);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054b2   f032                                                                                                               
00637e   6ee7     MOVWF     0xe7,0x0                                                                                        
006380   0e01     MOVLW     0x1                                                                                             
006382   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
006384   ffdb                                                                                                               
0063da   6ee6     MOVWF     0xe6,0x0                                                                                        
0063dc   ef3f     GOTO      0x667e                                                                                          
0063de   f033                                                                                                               
006540   0e01     MOVLW     0x1                                                                                             
006542   df4b     RCALL     0x63da                                                                                          
006544   de80     RCALL     0x6246                                                                                          
006546   efbf     GOTO      0x637e                                                                                          
006548   f031                                                                                                               
00667e   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
006680   ffe6                                                                                                               
006682   cfda     MOVFF     0xfda,0xfe6                                                                                     
006684   ffe6                                                                                                               
006686   0012     RETURN    0x0                                                                                             
0054b4   e107     BNZ       0x54c4           if (error_byte) return;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006386   0104     MOVLB     0x4                                                                                             
006388   5184     MOVF      0x84,0x0,0x1                                                                                    
00638a   0012     RETURN    0x0                                                                                             
0054b6   0e01     MOVLW     0x1              if (kEXTRACT_OK == RetVal)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054b8   50db     MOVF      0xdb,0x0,0x0                                                                                    
0054ba   e102     BNZ       0x54c0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054bc   50df     MOVF      0xdf,0x0,0x0       LATE = Value;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054be   6e8d     MOVWF     0x8d,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054c0   ec72     CALL      0x62e4,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054c2   f031                                                                                                               
0054c4   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054c6   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0054c8   e202     BC        0x54ce                                                                                          
0054ca   6ae1     CLRF      0xe1,0x0                                                                                        
0054cc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0054ce   6ee1     MOVWF     0xe1,0x0                                                                                        
0054d0   ef3e     GOTO      0x627c                                                                                          
0054d2   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Read in the five I/O ports (A,B,C,D,E) and creates                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // a packet to send back with all of values.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Example: "I,143,221,010,008,179<CR>"                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_I_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054d4   0e01     MOVLW     0x1              print_command(TRUE, TRUE);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054d6   6ee6     MOVWF     0xe6,0x0                                                                                        
0054d8   6ee6     MOVWF     0xe6,0x0                                                                                        
0054da   ecb7     CALL      0x656e,0x0                                                                                      
0054dc   f032                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054de   5080     MOVF      0x80,0x0,0x0     ebb_print_uint(PORTA);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054e0   eca5     CALL      0x654a,0x0                                                                                      
0054e2   f032                                                                                                               
                                             ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054e4   5081     MOVF      0x81,0x0,0x0     ebb_print_uint(PORTB);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054e6   eca5     CALL      0x654a,0x0                                                                                      
0054e8   f032                                                                                                               
                                             ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054ea   5082     MOVF      0x82,0x0,0x0     ebb_print_uint(PORTC);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054ec   eca5     CALL      0x654a,0x0                                                                                      
0054ee   f032                                                                                                               
                                             ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054f0   5083     MOVF      0x83,0x0,0x0     ebb_print_uint(PORTD);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054f2   eca5     CALL      0x654a,0x0                                                                                      
0054f4   f032                                                                                                               
006240   d960     RCALL     0x6502                                                                                          
006242   ef65     GOTO      0x66ca                                                                                          
006244   f033                                                                                                               
006502   c04f     MOVFF     0x4f,0xfe6                                                                                      
006504   ffe6                                                                                                               
006506   c050     MOVFF     0x50,0xfe6                                                                                      
006508   ffe6                                                                                                               
00650a   c051     MOVFF     0x51,0xfe6                                                                                      
00650c   ffe6                                                                                                               
00650e   0012     RETURN    0x0                                                                                             
00654a   d8e0     RCALL     0x670c                                                                                          
0066ca   ec29     CALL      0x8452,0x0                                                                                      
0066cc   f042                                                                                                               
0066ce   ef8d     GOTO      0x651a                                                                                          
0066d0   f032                                                                                                               
00670c   de1d     RCALL     0x6348                                                                                          
00670e   ef20     GOTO      0x6240                                                                                          
006710   f031                                                                                                               
00654c   0e2c     MOVLW     0x2c             ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00654e   ef42     GOTO      0x6284                                                                                          
006550   f031                                                                                                               
0054f6   5084     MOVF      0x84,0x0,0x0     ebb_print_uint(PORTE);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054f8   ec86     CALL      0x670c,0x0                                                                                      
0054fa   f033                                                                                                               
0054fc   ef27     GOTO      0x624e           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054fe   f031                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // All we do here is just print out our version number                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_V_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005500   ecfe     CALL      0x63fc,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005502   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005504   0e38     MOVLW     0x38             ebb_print((far rom char *)st_version);                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005506   6e4e     MOVWF     0x4e,0x0                                                                                        
005508   0e8b     MOVLW     0x8b                                                                                            
00550a   efa9     GOTO      0x6552                                                                                          
00550c   f032                                                                                                               
006552   de73     RCALL     0x623a                                                                                          
006554   ef27     GOTO      0x624e           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006556   f031                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // A is for read Analog inputs                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Just print out the analog values for each of the                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // enabled channels.                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Returned packet will look like                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "A,2:421,5:891,9:3921<CR>" if channels 2, 5 and 9                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // are enabled.                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00550e   ec72     CALL      0x66e4,0x0     void parse_A_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005510   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005512   6adf     CLRF      0xdf,0x0         char channel = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005514   0e01     MOVLW     0x1              unsigned int ChannelBit = 0x0001;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005516   6ef3     MOVWF     0xf3,0x0                                                                                        
005518   6edb     MOVWF     0xdb,0x0                                                                                        
00551a   0e02     MOVLW     0x2                                                                                             
00551c   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00551e   6ae6     CLRF      0xe6,0x0         print_command(TRUE, FALSE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005520   0e01     MOVLW     0x1                                                                                             
005522   6ee6     MOVWF     0xe6,0x0                                                                                        
005524   ecb7     CALL      0x656e,0x0                                                                                      
005526   f032                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Sit and spin, waiting for one set of analog conversions to complete         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005528   bc9d     BTFSC     0x9d,0x6,0x0     while (PIE1bits.ADIE);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00552a   d7fe     BRA       0x5528                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now print each analog value                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00552c   6adf     CLRF      0xdf,0x0         for (channel = 0; channel < 16; channel++)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00552e   cfdf     MOVFF     0xfdf,0x4e                                                                                      
005530   f04e                                                                                                               
005532   0e10     MOVLW     0x10                                                                                            
005534   6ee7     MOVWF     0xe7,0x0                                                                                        
005536   184e     XORWF     0x4e,0x0,0x0                                                                                    
005538   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
00553a   d002     BRA       0x5540                                                                                          
00553c   34e7     RLCF      0xe7,0x0,0x0                                                                                    
00553e   d002     BRA       0x5544                                                                                          
005540   50e7     MOVF      0xe7,0x0,0x0                                                                                    
005542   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
005544   e23b     BC        0x55bc                                                                                          
0055b8   2adf     INCF      0xdf,0x1,0x0                                                                                    
0055ba   d7b9     BRA       0x552e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005546   0e01     MOVLW     0x1                if (ChannelBit & AnalogEnabledChannels)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005548   50db     MOVF      0xdb,0x0,0x0                                                                                    
00554a   0104     MOVLB     0x4                                                                                             
00554c   158e     ANDWF     0x8e,0x0,0x1                                                                                    
00554e   0100     MOVLB     0x0                                                                                             
005550   6e4e     MOVWF     0x4e,0x0                                                                                        
005552   0e02     MOVLW     0x2                                                                                             
005554   50db     MOVF      0xdb,0x0,0x0                                                                                    
005556   0104     MOVLB     0x4                                                                                             
005558   158f     ANDWF     0x8f,0x0,0x1                                                                                    
00555a   0100     MOVLB     0x0                                                                                             
00555c   6e4f     MOVWF     0x4f,0x0                                                                                        
00555e   504e     MOVF      0x4e,0x0,0x0                                                                                    
005560   104f     IORWF     0x4f,0x0,0x0                                                                                    
005562   e01f     BZ        0x55a2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005564   0e2c     MOVLW     0x2c                 ebb_print_char(',');                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005566   ec42     CALL      0x6284,0x0                                                                                      
005568   f031                                                                                                               
00556a   ec51     CALL      0x62a2,0x0           ebb_print_uint(channel);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00556c   f031                                                                                                               
00556e   ae4e     BTFSS     0x4e,0x7,0x0                                                                                    
005570   d003     BRA       0x5578                                                                                          
005572   684f     SETF      0x4f,0x0                                                                                        
005574   6850     SETF      0x50,0x0                                                                                        
005576   6851     SETF      0x51,0x0                                                                                        
005578   ec76     CALL      0x66ec,0x0                                                                                      
00557a   f033                                                                                                               
00557c   0e3a     MOVLW     0x3a                 ebb_print_char(':');                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00557e   ec42     CALL      0x6284,0x0                                                                                      
005580   f031                                                                                                               
005582   cfdf     MOVFF     0xfdf,0xfe9          ebb_print_uint(ISR_A_FIFO[channel]);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005584   ffe9                                                                                                               
005586   6aea     CLRF      0xea,0x0                                                                                        
005588   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
00558a   68ea     SETF      0xea,0x0                                                                                        
00558c   ecc7     CALL      0x658e,0x0                                                                                      
00558e   f032                                                                                                               
005590   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
005592   cfee     MOVFF     0xfee,0x4e                                                                                      
005594   f04e                                                                                                               
005596   cfef     MOVFF     0xfef,0x4f                                                                                      
005598   f04f                                                                                                               
00559a   6a50     CLRF      0x50,0x0                                                                                        
00559c   6a51     CLRF      0x51,0x0                                                                                        
00559e   ec76     CALL      0x66ec,0x0                                                                                      
0055a0   f033                                                                                                               
00658e   90d8     BCF       0xd8,0x0,0x0                                                                                    
006590   36e9     RLCF      0xe9,0x1,0x0                                                                                    
006592   36ea     RLCF      0xea,0x1,0x0                                                                                    
006594   0e00     MOVLW     0x0                                                                                             
006596   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
006598   0e01     MOVLW     0x1                                                                                             
00659a   0012     RETURN    0x0                                                                                             
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055a2   ec40     CALL      0x6480,0x0         ChannelBit = ChannelBit << 1;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055a4   f032                                                                                                               
0055a6   90d8     BCF       0xd8,0x0,0x0                                                                                    
0055a8   364e     RLCF      0x4e,0x1,0x0                                                                                    
0055aa   364f     RLCF      0x4f,0x1,0x0                                                                                    
0055ac   0e01     MOVLW     0x1                                                                                             
0055ae   c04e     MOVFF     0x4e,0xfdb                                                                                      
0055b0   ffdb                                                                                                               
0055b2   0e02     MOVLW     0x2                                                                                             
0055b4   c04f     MOVFF     0x4f,0xfdb                                                                                      
0055b6   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Add \r\n (for line ending legacy mode : note this is backwards from how     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // the rest of the code does legacy line endings) or just \n for new line      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // ending mode.                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055bc   0e02     MOVLW     0x2              print_line_ending(kLE_REV);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055be   ec3a     CALL      0x6674,0x0                                                                                      
0055c0   f033                                                                                                               
0055c2   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055c4   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0055c6   e202     BC        0x55cc                                                                                          
0055c8   6ae1     CLRF      0xe1,0x0                                                                                        
0055ca   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0055cc   6ee1     MOVWF     0xe1,0x0                                                                                        
0055ce   ef3e     GOTO      0x627c                                                                                          
0055d0   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // MW is for Memory Write                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "MW,<location>,<value><CR>"                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <location> is a decimal value between 0 and 4096 indicating the RAM address to write to  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <value> is a decimal value between 0 and 255 that is the value to write       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055d2   ec6e     CALL      0x66dc,0x0     void parse_MW_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055d4   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned int location;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char value;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055d6   0e03     MOVLW     0x3              extract_number(kUINT, &location, kREQUIRED);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055d8   ec51     CALL      0x66a2,0x0                                                                                      
0055da   f033                                                                                                               
0055dc   0f02     ADDLW     0x2              extract_number(kUCHAR, &value, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055de   ec90     CALL      0x6720,0x0                                                                                      
0055e0   f033                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055e2   e10a     BNZ       0x55f8           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Limit check the address and write the byte in                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055e4   ec1c     CALL      0x6638,0x0       if (location < 4096u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055e6   f033                                                                                                               
0055e8   e205     BC        0x55f4                                                                                          
006638   dee6     RCALL     0x6406                                                                                          
00663a   0e00     MOVLW     0x0                                                                                             
00663c   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
00663e   0e10     MOVLW     0x10                                                                                            
006640   584f     SUBWFB    0x4f,0x0,0x0                                                                                    
006642   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055ea   ec08     CALL      0x6410,0x0         *((unsigned char *)location) = value;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055ec   f032                                                                                                               
0055ee   0e02     MOVLW     0x2                                                                                             
0055f0   cfdb     MOVFF     0xfdb,0xfef                                                                                     
0055f2   ffef                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055f4   ec72     CALL      0x62e4,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055f6   f031                                                                                                               
0055f8   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055fa   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0055fc   e202     BC        0x5602                                                                                          
0055fe   6ae1     CLRF      0xe1,0x0                                                                                        
005600   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005602   6ee1     MOVWF     0xe1,0x0                                                                                        
005604   ef3e     GOTO      0x627c                                                                                          
005606   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // MR is for Memory Read                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "MW,<location><CR>"                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <location> is a decimal value between 0 and 4096 indicating the RAM address to read from  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // The UBW will then send a "MR,<value><CR>" packet back to the PC               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // where <value> is the byte value read from the address                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005608   ec72     CALL      0x66e4,0x0     void parse_MR_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00560a   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned int location;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char value;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00560c   ecea     CALL      0x65d4,0x0       print_command(TRUE, TRUE);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00560e   f032                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005610   0e03     MOVLW     0x3              extract_number(kUINT, &location, kREQUIRED);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005612   ec23     CALL      0x6246,0x0                                                                                      
005614   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005616   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005618   5184     MOVF      0x84,0x0,0x1                                                                                    
00561a   e10d     BNZ       0x5636                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Limit check the address and write the byte in                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00561c   ec1c     CALL      0x6638,0x0       if (location < 4096u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00561e   f033                                                                                                               
005620   e205     BC        0x562c                                                                                          
006406   cfde     MOVFF     0xfde,0x4e                                                                                      
006408   f04e                                                                                                               
00640a   cfdd     MOVFF     0xfdd,0x4f                                                                                      
00640c   f04f                                                                                                               
00640e   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005622   ec08     CALL      0x6410,0x0         value = *((unsigned char *)location);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005624   f032                                                                                                               
005626   0e02     MOVLW     0x2                                                                                             
005628   cfef     MOVFF     0xfef,0xfdb                                                                                     
00562a   ffdb                                                                                                               
006410   cfde     MOVFF     0xfde,0xfe9                                                                                     
006412   ffe9                                                                                                               
006414   cfdd     MOVFF     0xfdd,0xfea                                                                                     
006416   ffea                                                                                                               
006418   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now send back the MR packet                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00562c   0e02     MOVLW     0x2              ebb_print_uint(value);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00562e   ec23     CALL      0x6446,0x0                                                                                      
005630   f032                                                                                                               
005632   ec90     CALL      0x6520,0x0                                                                                      
005634   f032                                                                                                               
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005636   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005638   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00563a   e202     BC        0x5640                                                                                          
00563c   6ae1     CLRF      0xe1,0x0                                                                                        
00563e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005640   6ee1     MOVWF     0xe1,0x0                                                                                        
005642   ef3e     GOTO      0x627c                                                                                          
005644   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PD is for Pin Direction                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "PD,<port>,<pin>,<direction><CR>"                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <port> is "A", "B", "C" and indicates the port                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <pin> is a number between 0 and 7 and indicates which pin to change direction on D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <direction> is "1" for input, "0" for output                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005646   ec89     CALL      0x6712,0x0     void parse_PD_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005648   f033                                                                                                               
006712   dfe4     RCALL     0x66dc                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char port;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char pin;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char direction;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006714   0e05     MOVLW     0x5              extract_number(kUCASE_ASCII_CHAR, &port, kREQUIRED);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006716   dfc5     RCALL     0x66a2                                                                                          
006718   dfc8     RCALL     0x66aa           extract_number(kUCHAR, &pin, kREQUIRED);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extract_number(kUCHAR, &direction, kREQUIRED);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00564a   e001     BZ        0x564e           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00564c   d090     BRA       0x576e                                                                                          
00671a   0104     MOVLB     0x4                                                                                             
00671c   5184     MOVF      0x84,0x0,0x1                                                                                    
00671e   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Limit check the parameters                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00564e   0e02     MOVLW     0x2              if (direction > 1u)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005650   50db     MOVF      0xdb,0x0,0x0                                                                                    
005652   0801     SUBLW     0x1                                                                                             
005654   e201     BC        0x5658                                                                                          
005656   d087     BRA       0x5766                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005658   0e01     MOVLW     0x1              if (pin > 7u)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00565a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00565c   0807     SUBLW     0x7                                                                                             
00565e   e201     BC        0x5662                                                                                          
005660   d082     BRA       0x5766                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005662   0e41     MOVLW     0x41             if ('A' == port)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005664   ec7b     CALL      0x62f6,0x0                                                                                      
005666   f031                                                                                                               
005668   e116     BNZ       0x5696                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00566a   0e02     MOVLW     0x2                if (0u == direction)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00566c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00566e   e10a     BNZ       0x5684                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005670   ec77     CALL      0x62ee,0x0           bitclr(TRISA, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005672   f031                                                                                                               
005674   e003     BZ        0x567c                                                                                          
005676   ec68     CALL      0x62d0,0x0                                                                                      
005678   f031                                                                                                               
00567a   e1fd     BNZ       0x5676                                                                                          
00567c   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00567e   1cf3     COMF      0xf3,0x0,0x0                                                                                    
005680   1692     ANDWF     0x92,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005682   d073     BRA       0x576a             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005684   ec77     CALL      0x62ee,0x0           bitset(TRISA, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005686   f031                                                                                                               
005688   e003     BZ        0x5690                                                                                          
00568a   ec68     CALL      0x62d0,0x0                                                                                      
00568c   f031                                                                                                               
00568e   e1fd     BNZ       0x568a                                                                                          
005690   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005692   1292     IORWF     0x92,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005694   d06a     BRA       0x576a           else if ('B' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005696   0e42     MOVLW     0x42                                                                                            
005698   ec7b     CALL      0x62f6,0x0                                                                                      
00569a   f031                                                                                                               
00569c   e116     BNZ       0x56ca                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00569e   0e02     MOVLW     0x2                if (0u == direction)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056a0   50db     MOVF      0xdb,0x0,0x0                                                                                    
0056a2   e10a     BNZ       0x56b8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056a4   ec77     CALL      0x62ee,0x0           bitclr(TRISB, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056a6   f031                                                                                                               
0056a8   e003     BZ        0x56b0                                                                                          
0056aa   ec68     CALL      0x62d0,0x0                                                                                      
0056ac   f031                                                                                                               
0056ae   e1fd     BNZ       0x56aa                                                                                          
0056b0   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0056b2   1cf3     COMF      0xf3,0x0,0x0                                                                                    
0056b4   1693     ANDWF     0x93,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056b6   d059     BRA       0x576a             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056b8   ec77     CALL      0x62ee,0x0           bitset(TRISB, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056ba   f031                                                                                                               
0056bc   e003     BZ        0x56c4                                                                                          
0056be   ec68     CALL      0x62d0,0x0                                                                                      
0056c0   f031                                                                                                               
0056c2   e1fd     BNZ       0x56be                                                                                          
0056c4   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0056c6   1293     IORWF     0x93,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056c8   d050     BRA       0x576a           else if ('C' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056ca   0e43     MOVLW     0x43                                                                                            
0056cc   ec7b     CALL      0x62f6,0x0                                                                                      
0056ce   f031                                                                                                               
0056d0   e116     BNZ       0x56fe                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056d2   0e02     MOVLW     0x2                if (0u == direction)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056d4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0056d6   e10a     BNZ       0x56ec                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056d8   ec77     CALL      0x62ee,0x0           bitclr(TRISC, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056da   f031                                                                                                               
0056dc   e003     BZ        0x56e4                                                                                          
0056de   ec68     CALL      0x62d0,0x0                                                                                      
0056e0   f031                                                                                                               
0056e2   e1fd     BNZ       0x56de                                                                                          
0056e4   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0056e6   1cf3     COMF      0xf3,0x0,0x0                                                                                    
0056e8   1694     ANDWF     0x94,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056ea   d03f     BRA       0x576a             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056ec   ec77     CALL      0x62ee,0x0           bitset(TRISC, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056ee   f031                                                                                                               
0056f0   e003     BZ        0x56f8                                                                                          
0056f2   ec68     CALL      0x62d0,0x0                                                                                      
0056f4   f031                                                                                                               
0056f6   e1fd     BNZ       0x56f2                                                                                          
0056f8   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0056fa   1294     IORWF     0x94,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056fc   d036     BRA       0x576a           else if ('D' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056fe   0e44     MOVLW     0x44                                                                                            
005700   ec7b     CALL      0x62f6,0x0                                                                                      
005702   f031                                                                                                               
005704   e116     BNZ       0x5732                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005706   0e02     MOVLW     0x2                if (0u == direction)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005708   50db     MOVF      0xdb,0x0,0x0                                                                                    
00570a   e10a     BNZ       0x5720                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00570c   ec77     CALL      0x62ee,0x0           bitclr(TRISD, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00570e   f031                                                                                                               
005710   e003     BZ        0x5718                                                                                          
005712   ec68     CALL      0x62d0,0x0                                                                                      
005714   f031                                                                                                               
005716   e1fd     BNZ       0x5712                                                                                          
005718   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00571a   1cf3     COMF      0xf3,0x0,0x0                                                                                    
00571c   1695     ANDWF     0x95,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00571e   d025     BRA       0x576a             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005720   ec77     CALL      0x62ee,0x0           bitset(TRISD, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005722   f031                                                                                                               
005724   e003     BZ        0x572c                                                                                          
005726   ec68     CALL      0x62d0,0x0                                                                                      
005728   f031                                                                                                               
00572a   e1fd     BNZ       0x5726                                                                                          
00572c   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00572e   1295     IORWF     0x95,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005730   d01c     BRA       0x576a           else if ('E' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005732   0e45     MOVLW     0x45                                                                                            
005734   ec7b     CALL      0x62f6,0x0                                                                                      
005736   f031                                                                                                               
005738   e116     BNZ       0x5766                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00573a   0e02     MOVLW     0x2                if (0u == direction)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00573c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00573e   e10a     BNZ       0x5754                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005740   ec77     CALL      0x62ee,0x0           bitclr(TRISE, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005742   f031                                                                                                               
005744   e003     BZ        0x574c                                                                                          
005746   ec68     CALL      0x62d0,0x0                                                                                      
005748   f031                                                                                                               
00574a   e1fd     BNZ       0x5746                                                                                          
00574c   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00574e   1cf3     COMF      0xf3,0x0,0x0                                                                                    
005750   1696     ANDWF     0x96,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005752   d00b     BRA       0x576a             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005754   ec77     CALL      0x62ee,0x0           bitset(TRISE, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005756   f031                                                                                                               
005758   e003     BZ        0x5760                                                                                          
00575a   ec68     CALL      0x62d0,0x0                                                                                      
00575c   f031                                                                                                               
00575e   e1fd     BNZ       0x575a                                                                                          
005760   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005762   1296     IORWF     0x96,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005764   d002     BRA       0x576a           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005766   8d84     BSF       0x84,0x6,0x1       bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005768   d002     BRA       0x576e             return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00576a   ec72     CALL      0x62e4,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00576c   f031                                                                                                               
00576e   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005770   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005772   e202     BC        0x5778                                                                                          
005774   6ae1     CLRF      0xe1,0x0                                                                                        
005776   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005778   6ee1     MOVWF     0xe1,0x0                                                                                        
00577a   ef3e     GOTO      0x627c                                                                                          
00577c   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PI is for Pin Input                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "PI,<port>,<pin><CR>"                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <port> is "A", "B", "C" and indicates the port                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <pin> is a number between 0 and 7 and indicates which pin to read             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // The command returns a "PI,<value><CR>" packet,                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // where <value> is the value (0 or 1 for digital)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // value for that pin.                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00577e   ec72     CALL      0x66e4,0x0     void parse_PI_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005780   f033                                                                                                               
0066e4   ddc6     RCALL     0x6272                                                                                          
0066e6   0e03     MOVLW     0x3                                                                                             
0066e8   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
0066ea   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 port;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 pin;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005782   0e02     MOVLW     0x2              UINT8 value = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005784   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005786   ecea     CALL      0x65d4,0x0       print_command(TRUE, TRUE);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005788   f032                                                                                                               
0065d4   0e01     MOVLW     0x1                                                                                             
0065d6   6ee6     MOVWF     0xe6,0x0                                                                                        
0065d8   6ee6     MOVWF     0xe6,0x0                                                                                        
0065da   ef2e     GOTO      0x625c                                                                                          
0065dc   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00578a   0e05     MOVLW     0x5              extract_number(kUCASE_ASCII_CHAR, &port, kREQUIRED);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00578c   ec51     CALL      0x66a2,0x0                                                                                      
00578e   f033                                                                                                               
005790   0f01     ADDLW     0x1              extract_number(kUCHAR, &pin, kREQUIRED);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005792   ec90     CALL      0x6720,0x0                                                                                      
005794   f033                                                                                                               
006720   dee8     RCALL     0x64f2                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005796   e160     BNZ       0x5858           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006722   0104     MOVLB     0x4                                                                                             
006724   5184     MOVF      0x84,0x0,0x1                                                                                    
006726   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Limit check the parameters                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005798   0e01     MOVLW     0x1              if (pin > 7u)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00579a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00579c   0807     SUBLW     0x7                                                                                             
00579e   e350     BNC       0x5840                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Then test the bit in question based upon port                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057a0   0e41     MOVLW     0x41             if ('A' == port)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057a2   ec7b     CALL      0x62f6,0x0                                                                                      
0057a4   f031                                                                                                               
0057a6   e10a     BNZ       0x57bc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057a8   ec77     CALL      0x62ee,0x0         value = bittst(PORTA, pin);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057aa   f031                                                                                                               
0057ac   e003     BZ        0x57b4                                                                                          
0057ae   ec68     CALL      0x62d0,0x0                                                                                      
0057b0   f031                                                                                                               
0057b2   e1fd     BNZ       0x57ae                                                                                          
0057b4   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0057b6   1480     ANDWF     0x80,0x0,0x0                                                                                    
0057b8   e039     BZ        0x582c                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057ba   d029     BRA       0x580e           else if ('B' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057bc   0e42     MOVLW     0x42                                                                                            
0057be   ec7b     CALL      0x62f6,0x0                                                                                      
0057c0   f031                                                                                                               
0057c2   e10a     BNZ       0x57d8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057c4   ec77     CALL      0x62ee,0x0         value = bittst(PORTB, pin);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057c6   f031                                                                                                               
0057c8   e003     BZ        0x57d0                                                                                          
0057ca   ec68     CALL      0x62d0,0x0                                                                                      
0057cc   f031                                                                                                               
0057ce   e1fd     BNZ       0x57ca                                                                                          
0057d0   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0057d2   1481     ANDWF     0x81,0x0,0x0                                                                                    
0057d4   e11c     BNZ       0x580e                                                                                          
0057d6   d02a     BRA       0x582c                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057d8   0e43     MOVLW     0x43             else if ('C' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057da   ec7b     CALL      0x62f6,0x0                                                                                      
0057dc   f031                                                                                                               
0057de   e10a     BNZ       0x57f4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057e0   ec77     CALL      0x62ee,0x0         value = bittst(PORTC, pin);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057e2   f031                                                                                                               
0057e4   e003     BZ        0x57ec                                                                                          
0057e6   ec68     CALL      0x62d0,0x0                                                                                      
0057e8   f031                                                                                                               
0057ea   e1fd     BNZ       0x57e6                                                                                          
0057ec   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0057ee   1482     ANDWF     0x82,0x0,0x0                                                                                    
0057f0   e10e     BNZ       0x580e                                                                                          
0057f2   d01c     BRA       0x582c                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057f4   0e44     MOVLW     0x44             else if ('D' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057f6   ec7b     CALL      0x62f6,0x0                                                                                      
0057f8   f031                                                                                                               
0057fa   e10b     BNZ       0x5812                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057fc   ec77     CALL      0x62ee,0x0         value = bittst(PORTD, pin);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057fe   f031                                                                                                               
005800   e003     BZ        0x5808                                                                                          
005802   ec68     CALL      0x62d0,0x0                                                                                      
005804   f031                                                                                                               
005806   e1fd     BNZ       0x5802                                                                                          
005808   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00580a   1483     ANDWF     0x83,0x0,0x0                                                                                    
00580c   e00f     BZ        0x582c                                                                                          
00580e   0e01     MOVLW     0x1                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005810   d010     BRA       0x5832           else if ('E' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005812   0e45     MOVLW     0x45                                                                                            
005814   ec7b     CALL      0x62f6,0x0                                                                                      
005816   f031                                                                                                               
005818   e113     BNZ       0x5840                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00581a   ec77     CALL      0x62ee,0x0         value = bittst(PORTE, pin);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00581c   f031                                                                                                               
00581e   e003     BZ        0x5826                                                                                          
005820   ec68     CALL      0x62d0,0x0                                                                                      
005822   f031                                                                                                               
005824   e1fd     BNZ       0x5820                                                                                          
005826   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005828   1484     ANDWF     0x84,0x0,0x0                                                                                    
00582a   e102     BNZ       0x5830                                                                                          
00582c   0e00     MOVLW     0x0                                                                                             
00582e   d001     BRA       0x5832                                                                                          
005830   0e01     MOVLW     0x1                                                                                             
005832   6ee7     MOVWF     0xe7,0x0                                                                                        
005834   0e02     MOVLW     0x2                                                                                             
005836   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
005838   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005840   8d84     BSF       0x84,0x6,0x1       bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005842   d00a     BRA       0x5858             return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Convert to just a binary 1 or 0                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00583a   50db     MOVF      0xdb,0x0,0x0     if (value)                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00583c   e008     BZ        0x584e                                                                                          
00583e   d002     BRA       0x5844                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005844   0e01     MOVLW     0x1                value = 1;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005846   6ef3     MOVWF     0xf3,0x0                                                                                        
005848   0e02     MOVLW     0x2                                                                                             
00584a   cff3     MOVFF     0xff3,0xfdb                                                                                     
00584c   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now send back our response                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00584e   0e02     MOVLW     0x2              ebb_print_uint(value);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005850   ec23     CALL      0x6446,0x0                                                                                      
005852   f032                                                                                                               
005854   ec90     CALL      0x6520,0x0                                                                                      
005856   f032                                                                                                               
006446   cfdb     MOVFF     0xfdb,0x4e                                                                                      
006448   f04e                                                                                                               
00644a   ef4d     GOTO      0x669a                                                                                          
00644c   f033                                                                                                               
00669a   6a4f     CLRF      0x4f,0x0                                                                                        
00669c   6a50     CLRF      0x50,0x0                                                                                        
00669e   6a51     CLRF      0x51,0x0                                                                                        
0066a0   0012     RETURN    0x0                                                                                             
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005858   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00585a   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00585c   e202     BC        0x5862                                                                                          
00585e   6ae1     CLRF      0xe1,0x0                                                                                        
005860   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005862   6ee1     MOVWF     0xe1,0x0                                                                                        
005864   ef3e     GOTO      0x627c                                                                                          
005866   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PO is for Pin Output                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "PO,<port>,<pin>,<value><CR>"                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <port> is "A", "B", "C" and indicates the port                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <pin> is a number between 0 and 7 and indicates which pin to write out the value to D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <value> is "1" or "0" and indicates the state to change the pin to            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005868   ec89     CALL      0x6712,0x0     void parse_PO_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00586a   f033                                                                                                               
0066dc   ddca     RCALL     0x6272                                                                                          
0066de   0e03     MOVLW     0x3                                                                                             
0066e0   ef88     GOTO      0x6510                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char port;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char pin;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char value;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0066e2   f032                                print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0066a2   ddd1     RCALL     0x6246           extract_number(kUCASE_ASCII_CHAR, &port, kREQUIRED);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0066a4   6ae6     CLRF      0xe6,0x0         extract_number(kUCHAR, &pin, kREQUIRED);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0066a6   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0066a8   0012     RETURN    0x0                                                                                             
0066aa   0f01     ADDLW     0x1                                                                                             
0066ac   df22     RCALL     0x64f2                                                                                          
0066ae   6ae6     CLRF      0xe6,0x0         extract_number(kUCHAR, &value, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0066b0   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0066b2   0f02     ADDLW     0x2                                                                                             
0066b4   ef79     GOTO      0x64f2                                                                                          
0066b6   f032                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00586c   e001     BZ        0x5870           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00586e   d090     BRA       0x5990                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Limit check the parameters                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005870   0e02     MOVLW     0x2              if (value > 1u)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005872   50db     MOVF      0xdb,0x0,0x0                                                                                    
005874   0801     SUBLW     0x1                                                                                             
005876   e201     BC        0x587a                                                                                          
005878   d087     BRA       0x5988                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00587a   0e01     MOVLW     0x1              if (pin > 7u)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00587c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00587e   0807     SUBLW     0x7                                                                                             
005880   e201     BC        0x5884                                                                                          
005882   d082     BRA       0x5988                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005884   0e41     MOVLW     0x41             if ('A' == port)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005886   ec7b     CALL      0x62f6,0x0                                                                                      
005888   f031                                                                                                               
00588a   e116     BNZ       0x58b8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00588c   0e02     MOVLW     0x2                if (0u == value)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00588e   50db     MOVF      0xdb,0x0,0x0                                                                                    
005890   e10a     BNZ       0x58a6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005892   ec77     CALL      0x62ee,0x0           bitclr(LATA, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005894   f031                                                                                                               
005896   e003     BZ        0x589e                                                                                          
005898   ec68     CALL      0x62d0,0x0                                                                                      
00589a   f031                                                                                                               
00589c   e1fd     BNZ       0x5898                                                                                          
00589e   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0058a0   1cf3     COMF      0xf3,0x0,0x0                                                                                    
0058a2   1689     ANDWF     0x89,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058a4   d073     BRA       0x598c             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058a6   ec77     CALL      0x62ee,0x0           bitset(LATA, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058a8   f031                                                                                                               
0058aa   e003     BZ        0x58b2                                                                                          
0058ac   ec68     CALL      0x62d0,0x0                                                                                      
0058ae   f031                                                                                                               
0058b0   e1fd     BNZ       0x58ac                                                                                          
0058b2   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0058b4   1289     IORWF     0x89,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058b6   d06a     BRA       0x598c           else if ('B' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058b8   0e42     MOVLW     0x42                                                                                            
0058ba   ec7b     CALL      0x62f6,0x0                                                                                      
0058bc   f031                                                                                                               
0058be   e116     BNZ       0x58ec                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058c0   0e02     MOVLW     0x2                if (0u == value)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058c2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0058c4   e10a     BNZ       0x58da                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058c6   ec77     CALL      0x62ee,0x0           bitclr(LATB, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058c8   f031                                                                                                               
0058ca   e003     BZ        0x58d2                                                                                          
0058cc   ec68     CALL      0x62d0,0x0                                                                                      
0058ce   f031                                                                                                               
0058d0   e1fd     BNZ       0x58cc                                                                                          
0058d2   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0058d4   1cf3     COMF      0xf3,0x0,0x0                                                                                    
0058d6   168a     ANDWF     0x8a,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058d8   d059     BRA       0x598c             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058da   ec77     CALL      0x62ee,0x0           bitset(LATB, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058dc   f031                                                                                                               
0058de   e003     BZ        0x58e6                                                                                          
0058e0   ec68     CALL      0x62d0,0x0                                                                                      
0058e2   f031                                                                                                               
0058e4   e1fd     BNZ       0x58e0                                                                                          
0058e6   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0058e8   128a     IORWF     0x8a,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058ea   d050     BRA       0x598c           else if ('C' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058ec   0e43     MOVLW     0x43                                                                                            
0058ee   ec7b     CALL      0x62f6,0x0                                                                                      
0058f0   f031                                                                                                               
0058f2   e116     BNZ       0x5920                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058f4   0e02     MOVLW     0x2                if (0u == value)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058f6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0058f8   e10a     BNZ       0x590e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058fa   ec77     CALL      0x62ee,0x0           bitclr(LATC, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058fc   f031                                                                                                               
0058fe   e003     BZ        0x5906                                                                                          
005900   ec68     CALL      0x62d0,0x0                                                                                      
005902   f031                                                                                                               
005904   e1fd     BNZ       0x5900                                                                                          
005906   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005908   1cf3     COMF      0xf3,0x0,0x0                                                                                    
00590a   168b     ANDWF     0x8b,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00590c   d03f     BRA       0x598c             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00590e   ec77     CALL      0x62ee,0x0           bitset(LATC, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005910   f031                                                                                                               
005912   e003     BZ        0x591a                                                                                          
005914   ec68     CALL      0x62d0,0x0                                                                                      
005916   f031                                                                                                               
005918   e1fd     BNZ       0x5914                                                                                          
00591a   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00591c   128b     IORWF     0x8b,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00591e   d036     BRA       0x598c           else if ('D' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005920   0e44     MOVLW     0x44                                                                                            
005922   ec7b     CALL      0x62f6,0x0                                                                                      
005924   f031                                                                                                               
005926   e116     BNZ       0x5954                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005928   0e02     MOVLW     0x2                if (0u == value)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00592a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00592c   e10a     BNZ       0x5942                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00592e   ec77     CALL      0x62ee,0x0           bitclr(LATD, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005930   f031                                                                                                               
005932   e003     BZ        0x593a                                                                                          
005934   ec68     CALL      0x62d0,0x0                                                                                      
005936   f031                                                                                                               
005938   e1fd     BNZ       0x5934                                                                                          
00593a   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00593c   1cf3     COMF      0xf3,0x0,0x0                                                                                    
00593e   168c     ANDWF     0x8c,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005940   d025     BRA       0x598c             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005942   ec77     CALL      0x62ee,0x0           bitset(LATD, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005944   f031                                                                                                               
005946   e003     BZ        0x594e                                                                                          
005948   ec68     CALL      0x62d0,0x0                                                                                      
00594a   f031                                                                                                               
00594c   e1fd     BNZ       0x5948                                                                                          
00594e   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005950   128c     IORWF     0x8c,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005952   d01c     BRA       0x598c           else if ('E' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005954   0e45     MOVLW     0x45                                                                                            
005956   ec7b     CALL      0x62f6,0x0                                                                                      
005958   f031                                                                                                               
00595a   e116     BNZ       0x5988                                                                                          
0062f6   6e4e     MOVWF     0x4e,0x0                                                                                        
0062f8   50df     MOVF      0xdf,0x0,0x0                                                                                    
0062fa   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
0062fc   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00595c   0e02     MOVLW     0x2                if (0u == value)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00595e   50db     MOVF      0xdb,0x0,0x0                                                                                    
005960   e10a     BNZ       0x5976                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005962   ec77     CALL      0x62ee,0x0           bitclr(LATE, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005964   f031                                                                                                               
005966   e003     BZ        0x596e                                                                                          
005968   ec68     CALL      0x62d0,0x0                                                                                      
00596a   f031                                                                                                               
00596c   e1fd     BNZ       0x5968                                                                                          
00596e   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005970   1cf3     COMF      0xf3,0x0,0x0                                                                                    
005972   168d     ANDWF     0x8d,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005974   d00b     BRA       0x598c             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005976   ec77     CALL      0x62ee,0x0           bitset(LATE, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005978   f031                                                                                                               
00597a   e003     BZ        0x5982                                                                                          
00597c   ec68     CALL      0x62d0,0x0                                                                                      
00597e   f031                                                                                                               
005980   e1fd     BNZ       0x597c                                                                                          
005982   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005984   128d     IORWF     0x8d,0x1,0x0                                                                                    
0062d0   90d8     BCF       0xd8,0x0,0x0                                                                                    
0062d2   36f3     RLCF      0xf3,0x1,0x0                                                                                    
0062d4   06e8     DECF      0xe8,0x1,0x0                                                                                    
0062d6   0012     RETURN    0x0                                                                                             
0062ee   0e01     MOVLW     0x1                                                                                             
0062f0   6ef3     MOVWF     0xf3,0x0                                                                                        
0062f2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0062f4   0012     RETURN    0x0                                                                                             
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005986   d002     BRA       0x598c           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005988   8d84     BSF       0x84,0x6,0x1       bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00598a   d002     BRA       0x5990             return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00598c   ec72     CALL      0x62e4,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00598e   f031                                                                                                               
005990   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005992   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005994   e202     BC        0x599a                                                                                          
005996   6ae1     CLRF      0xe1,0x0                                                                                        
005998   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00599a   6ee1     MOVWF     0xe1,0x0                                                                                        
00599c   ef3e     GOTO      0x627c                                                                                          
00599e   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #if PC_PG_T_COMMANDS_ENABLED                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PC Pulse Configure                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Pulses will be generated on PortB, bits 0 through 3                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Pulses are in 1ms units, and can be from 0 (off) through 65535                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Each pin has a pulse length, and a repetition rate.                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // The repetition rate can be from 0 through 65535, but must be more than the pulse length D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Only the first set of parameters (for RB0) are required, the rest are optional D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Usage:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PC,<RB0_Len>,<RB0_Rate>,<RB1_Len>,<RB1_Rate>,...,<RB3_Len>,<RB3_Rate><CR>     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PC_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned int Length, Rate;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char i;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             ExtractReturnType RetVal1, RetVal2;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extract_number(kUINT, &Length, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extract_number(kUINT, &Rate, kREQUIRED);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Handle loading things up for RB0                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseLen[0] = Length;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseRate[0] = Rate;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // And now loop for the other 3                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             for (i = 0; i < 3u; i++)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               RetVal1 = extract_number(kUINT, &Length, kOPTIONAL);                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               RetVal2 = extract_number(kUINT, &Rate, kOPTIONAL);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (error_byte)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (RetVal1 != kEXTRACT_OK || RetVal2 != kEXTRACT_OK)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Handle loading things up for RB1 through RB3                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               gPulseLen[i+1] = Length;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               gPulseRate[i+1] = Rate;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PG Pulse Go Command                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Starts a set of pulses (as configured by the PC command)                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // going. If a new set of parameters were sent by the PC command,                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PG will cause them all to take effect at the next 1ms                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // interval.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Usage:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PG,1<CR>   Start pulses, or load latest set of parameters and use them        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PG,0<CR>   Stop pulses                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PG_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char Value;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extract_number(kUCHAR, &Value, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (Value)                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Set lower four bits of PortB to outputs                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               TRISB = TRISB & 0xF0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Set global flag that turns pulses on                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               gPulsesOn = TRUE;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Clear global flag that turns pulses on                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               gPulsesOn = FALSE;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059a0   cfd9     MOVFF     0xfd9,0xfe6    void LongDelay(void)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059a2   ffe6                                                                                                               
0059a4   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0059a6   ffd9                                                                                                               
0059a8   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char i;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // A basic for() loop decrementing a 16 bit number would be simpler, but seems to take more code space for D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // a given delay.  So do this instead:                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059aa   6adf     CLRF      0xdf,0x0         for(i = 0; i < 0xFF; i++)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059ac   0eff     MOVLW     0xff                                                                                            
0059ae   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0059b0   e20a     BC        0x59c6                                                                                          
0059c2   2adf     INCF      0xdf,0x1,0x0                                                                                    
0059c4   d7f3     BRA       0x59ac                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059b2   68e8     SETF      0xe8,0x0           WREG = 0xFF;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059b4   50e8     MOVF      0xe8,0x0,0x0       while(WREG)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059b6   e005     BZ        0x59c2                                                                                          
0059c0   d7f9     BRA       0x59b4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059b8   06e8     DECF      0xe8,0x1,0x0         WREG--;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 _asm                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059ba   d000     BRA       0x59bc               bra 0 // Equivalent to bra $+2, which takes half as much code as 2 nop instructions D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059bc   d000     BRA       0x59be               bra 0 // Equivalent to bra $+2, which takes half as much code as 2 nop instructions D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059be   d000     BRA       0x59c0               bra 0 // Equivalent to bra $+2, which takes half as much code as 2 nop instructions D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 _endasm                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Delay is ~59.8ms at 48MHz.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059c6   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059c8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0059ca   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0059cc   ffd9                                                                                                               
0059ce   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // BL command : simply jump to the bootloader                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Example: "BL<CR>"                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_BL_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // First, kill interrupts though                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059d0   9ef2     BCF       0xf2,0x7,0x0     INTCONbits.GIEH = 0;    // Turn high priority interrupts off                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059d2   9cf2     BCF       0xf2,0x6,0x0     INTCONbits.GIEL = 0;    // Turn low priority interrupts off                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059d4   9265     BCF       0x65,0x1,0x0     UCONbits.SUSPND = 0;    // Disable USB module                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059d6   6a65     CLRF      0x65,0x0         UCON = 0x00;            // Disable USB module                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // And wait awhile for the USB cable capacitance to discharge down to disconnected (SE0) state.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Otherwise host might not realize we disconnected/reconnected when we do the reset. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059d8   dfe3     RCALL     0x59a0           LongDelay();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059da   ef0f     GOTO      0x1e             _asm goto 0x00001E _endasm                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059dc   f000                                                                                                               
0059de   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // RB ReBoot command : simply jump to the reset vector                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Example: "RB<CR>"                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_RB_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // First, kill interrupts though                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059e0   9ef2     BCF       0xf2,0x7,0x0     INTCONbits.GIEH = 0;    // Turn high priority interrupts off                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059e2   9cf2     BCF       0xf2,0x6,0x0     INTCONbits.GIEL = 0;    // Turn low priority interrupts off                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059e4   9265     BCF       0x65,0x1,0x0     UCONbits.SUSPND = 0;    // Disable USB module                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059e6   6a65     CLRF      0x65,0x0         UCON = 0x00;            // Disable USB module                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // And wait awhile for the USB cable capacitance to discharge down to disconnected (SE0) state.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Otherwise host might not realize we disconnected/reconnected when we do the reset. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059e8   dfdb     RCALL     0x59a0           LongDelay();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059ea   00ff     RESET                      Reset();                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059ec   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // QR Query RC Servo power state command                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Example: "RR<CR>"                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Returns "0<CR><LF>OK<CR><LF>" or "1<CR><LF>OK<CR><LF>"                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 0 = power to RC servo off                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 1 = power to RC servo on                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_QR_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059ee   ecfe     CALL      0x63fc,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059f0   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059f2   5080     MOVF      0x80,0x0,0x0     ebb_print_uint(RCServoPowerIO_PORT);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059f4   0b08     ANDLW     0x8                                                                                             
0059f6   e001     BZ        0x59fa                                                                                          
0059f8   0e01     MOVLW     0x1                                                                                             
0059fa   ec86     CALL      0x670c,0x0                                                                                      
0059fc   f033                                                                                                               
006348   6e4e     MOVWF     0x4e,0x0                                                                                        
00634a   d9a7     RCALL     0x669a                                                                                          
00634c   6ee6     MOVWF     0xe6,0x0                                                                                        
00634e   0012     RETURN    0x0                                                                                             
0059fe   0101     MOVLB     0x1              if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a00   b1c3     BTFSC     0xc3,0x0,0x1                                                                                    
005a02   d003     BRA       0x5a0a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a04   0e02     MOVLW     0x2                print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a06   ec3a     CALL      0x6674,0x0                                                                                      
005a08   f033                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a0a   ef72     GOTO      0x62e4           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a0c   f031                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // SR Set RC Servo power timeout                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Example: "SR,<new_time_ms>,<new_power_state><CR><LF>"                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Returns "OK<CR><LF>"                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <new_time_ms> is a 32-bit unsigned integer, representing the new RC servo     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // poweroff timeout in milliseconds. This value is not saved across reboots.     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // It is the length of time the system will wait after any command that uses     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // the motors or servo before killing power to the RC servo.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Use a value of 0 for <new_time_ms> to completely disable the poweroff timer.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <new_power_state> is an optional parameter of either 0 or 1. It will          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // immediately affect the servo's power state, where 0 turns it off and 1        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // turns it on.                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a0e   ec39     CALL      0x6272,0x0     void parse_SR_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a10   f031                                                                                                               
005a12   0e06     MOVLW     0x6                                                                                             
005a14   ec88     CALL      0x6510,0x0                                                                                      
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned long Value;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 State;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             ExtractReturnType GotState;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a16   f032                                print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a18   0e07     MOVLW     0x7              extract_number(kULONG, &Value, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a1a   ec23     CALL      0x6246,0x0                                                                                      
005a1c   f031                                                                                                               
005a1e   0e01     MOVLW     0x1              GotState = extract_number(kUCHAR, &State, kOPTIONAL);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a20   6ee6     MOVWF     0xe6,0x0                                                                                        
005a22   50d9     MOVF      0xd9,0x0,0x0                                                                                    
005a24   0f04     ADDLW     0x4                                                                                             
005a26   ec79     CALL      0x64f2,0x0                                                                                      
005a28   f032                                                                                                               
005a2a   6ee7     MOVWF     0xe7,0x0                                                                                        
005a2c   0e05     MOVLW     0x5                                                                                             
005a2e   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
005a30   ffdb                                                                                                               
006298   6ee6     MOVWF     0xe6,0x0                                                                                        
00629a   0e00     MOVLW     0x0                                                                                             
00629c   20da     ADDWFC    0xda,0x0,0x0                                                                                    
00629e   6ee6     MOVWF     0xe6,0x0                                                                                        
0062a0   0012     RETURN    0x0                                                                                             
0064f2   ded2     RCALL     0x6298                                                                                          
0064f4   0e01     MOVLW     0x1                                                                                             
0064f6   ef23     GOTO      0x6246                                                                                          
0064f8   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a32   0104     MOVLB     0x4              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a34   5184     MOVF      0x84,0x0,0x1                                                                                    
005a36   e116     BNZ       0x5a64                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a38   cfdf     MOVFF     0xfdf,0x4c2      gRCServoPoweroffCounterReloadMS = Value;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a3a   f4c2                                                                                                               
005a3c   0e01     MOVLW     0x1                                                                                             
005a3e   cfdb     MOVFF     0xfdb,0x4c3                                                                                     
005a40   f4c3                                                                                                               
005a42   0e02     MOVLW     0x2                                                                                             
005a44   cfdb     MOVFF     0xfdb,0x4c4                                                                                     
005a46   f4c4                                                                                                               
005a48   0e03     MOVLW     0x3                                                                                             
005a4a   cfdb     MOVFF     0xfdb,0x4c5                                                                                     
005a4c   f4c5                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check to see if <new_power_state> is there                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a4e   0e05     MOVLW     0x5              if (GotState == kEXTRACT_OK)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a50   50db     MOVF      0xdb,0x0,0x0                                                                                    
005a52   e106     BNZ       0x5a60                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Yup, so set new power state                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a54   0e04     MOVLW     0x4                if (State)                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a56   50db     MOVF      0xdb,0x0,0x0                                                                                    
005a58   e002     BZ        0x5a5e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a5a   8689     BSF       0x89,0x3,0x0         RCServoPowerIO = RCSERVO_POWER_ON;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a5c   d001     BRA       0x5a60             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a5e   9689     BCF       0x89,0x3,0x0         RCServoPowerIO = RCSERVO_POWER_OFF;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a60   ec72     CALL      0x62e4,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a62   f031                                                                                                               
005a64   0e06     MOVLW     0x6            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a66   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005a68   e202     BC        0x5a6e                                                                                          
005a6a   6ae1     CLRF      0xe1,0x0                                                                                        
005a6c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005a6e   6ee1     MOVWF     0xe1,0x0                                                                                        
005a70   ef3e     GOTO      0x627c                                                                                          
005a72   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Just used for testing/debugging the packet parsing routines                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a74   ec39     CALL      0x6272,0x0     void parse_CK_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a76   f031                                                                                                               
005a78   0e10     MOVLW     0x10                                                                                            
005a7a   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char UByte;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             signed char SByte;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned int UInt;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             signed int SInt;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned long ULong;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             signed long SLong;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char UChar;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char UCaseChar;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a7c   ec82     CALL      0x6704,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a7e   f033                                                                                                               
005a80   dbe6     RCALL     0x624e           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a82   6ae6     CLRF      0xe6,0x0         extract_number(kCHAR, &SByte, kREQUIRED);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a84   50d9     MOVF      0xd9,0x0,0x0                                                                                    
005a86   0f01     ADDLW     0x1                                                                                             
005a88   ec4c     CALL      0x6298,0x0                                                                                      
005a8a   f031                                                                                                               
005a8c   6ae6     CLRF      0xe6,0x0                                                                                        
005a8e   d962     RCALL     0x5d54                                                                                          
005a90   ec8d     CALL      0x651a,0x0                                                                                      
005a92   f032                                                                                                               
005a94   6ae6     CLRF      0xe6,0x0         extract_number(kUCHAR, &UByte, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a96   ec3f     CALL      0x667e,0x0                                                                                      
005a98   f033                                                                                                               
005a9a   0e01     MOVLW     0x1                                                                                             
005a9c   ec51     CALL      0x66a2,0x0                                                                                      
005a9e   f033                                                                                                               
005aa0   0f04     ADDLW     0x4              extract_number(kINT, &SInt, kREQUIRED);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005aa2   ec4c     CALL      0x6298,0x0                                                                                      
005aa4   f031                                                                                                               
005aa6   0e02     MOVLW     0x2                                                                                             
005aa8   ec51     CALL      0x66a2,0x0                                                                                      
005aaa   f033                                                                                                               
005aac   0f02     ADDLW     0x2              extract_number(kUINT, &UInt, kREQUIRED);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005aae   ec4c     CALL      0x6298,0x0                                                                                      
005ab0   f031                                                                                                               
005ab2   0e03     MOVLW     0x3                                                                                             
005ab4   ec51     CALL      0x66a2,0x0                                                                                      
005ab6   f033                                                                                                               
005ab8   0f0a     ADDLW     0xa              extract_number(kLONG, &SLong, kREQUIRED);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005aba   dbee     RCALL     0x6298                                                                                          
005abc   0e06     MOVLW     0x6                                                                                             
005abe   ec51     CALL      0x66a2,0x0                                                                                      
005ac0   f033                                                                                                               
005ac2   0f06     ADDLW     0x6              extract_number(kULONG, &ULong, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ac4   dbe9     RCALL     0x6298                                                                                          
005ac6   0e07     MOVLW     0x7                                                                                             
005ac8   ec51     CALL      0x66a2,0x0                                                                                      
005aca   f033                                                                                                               
005acc   0f0e     ADDLW     0xe              extract_number(kASCII_CHAR, &UChar, kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ace   dbe4     RCALL     0x6298                                                                                          
005ad0   0e04     MOVLW     0x4                                                                                             
005ad2   ec51     CALL      0x66a2,0x0                                                                                      
005ad4   f033                                                                                                               
005ad6   0f0f     ADDLW     0xf              extract_number(kUCASE_ASCII_CHAR, &UCaseChar, kREQUIRED);                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ad8   dbdf     RCALL     0x6298                                                                                          
005ada   0e05     MOVLW     0x5                                                                                             
005adc   dbb4     RCALL     0x6246                                                                                          
006246   6ee6     MOVWF     0xe6,0x0                                                                                        
006248   dd85     RCALL     0x5d54                                                                                          
00624a   ef8d     GOTO      0x651a                                                                                          
00624c   f032                                                                                                               
00651a   d8ec     RCALL     0x66f4                                                                                          
00651c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00651e   0012     RETURN    0x0                                                                                             
0066f4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0066f6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0066f8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0066fa   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ade   0e5c     MOVLW     0x5c             ebb_print((rom char far *)"Param1=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ae0   6e4e     MOVWF     0x4e,0x0                                                                                        
005ae2   0e82     MOVLW     0x82                                                                                            
005ae4   dbaa     RCALL     0x623a                                                                                          
005ae6   0e01     MOVLW     0x1              ebb_print_int(SByte);                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ae8   ec23     CALL      0x6446,0x0                                                                                      
005aea   f032                                                                                                               
005aec   ae4e     BTFSS     0x4e,0x7,0x0                                                                                    
005aee   d003     BRA       0x5af6                                                                                          
005af0   684f     SETF      0x4f,0x0                                                                                        
005af2   6850     SETF      0x50,0x0                                                                                        
005af4   6851     SETF      0x51,0x0                                                                                        
005af6   ec62     CALL      0x66c4,0x0                                                                                      
005af8   f033                                                                                                               
0066c4   d83b     RCALL     0x673c                                                                                          
0066c6   ef99     GOTO      0x6732                                                                                          
0066c8   f033                                                                                                               
00673c   c04e     MOVFF     0x4e,0xfe6                                                                                      
00673e   ffe6                                                                                                               
006740   ef81     GOTO      0x6502                                                                                          
006742   f032                                                                                                               
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005afa   0e54     MOVLW     0x54             ebb_print((rom char far *)"Param2=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005afc   6e4e     MOVWF     0x4e,0x0                                                                                        
005afe   0e82     MOVLW     0x82                                                                                            
005b00   db9c     RCALL     0x623a                                                                                          
005b02   dbcf     RCALL     0x62a2           ebb_print_uint(UByte);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b04   ec90     CALL      0x6520,0x0                                                                                      
005b06   f032                                                                                                               
0062a2   cfdf     MOVFF     0xfdf,0x4e                                                                                      
0062a4   f04e                                                                                                               
0062a6   ef4d     GOTO      0x669a                                                                                          
0062a8   f033                                                                                                               
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b08   0e4c     MOVLW     0x4c             ebb_print((rom char far *)"Param3=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b0a   6e4e     MOVWF     0x4e,0x0                                                                                        
005b0c   0e82     MOVLW     0x82                                                                                            
005b0e   db95     RCALL     0x623a                                                                                          
005b10   0e04     MOVLW     0x4              ebb_print_int(SInt);                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b12   cfdb     MOVFF     0xfdb,0x4e                                                                                      
005b14   f04e                                                                                                               
005b16   0e05     MOVLW     0x5                                                                                             
005b18   cfdb     MOVFF     0xfdb,0x4f                                                                                      
005b1a   f04f                                                                                                               
005b1c   6a50     CLRF      0x50,0x0                                                                                        
005b1e   6a51     CLRF      0x51,0x0                                                                                        
005b20   ae4f     BTFSS     0x4f,0x7,0x0                                                                                    
005b22   d002     BRA       0x5b28                                                                                          
005b24   6850     SETF      0x50,0x0                                                                                        
005b26   6851     SETF      0x51,0x0                                                                                        
005b28   ec62     CALL      0x66c4,0x0                                                                                      
005b2a   f033                                                                                                               
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b2c   0e44     MOVLW     0x44             ebb_print((rom char far *)"Param4=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b2e   6e4e     MOVWF     0x4e,0x0                                                                                        
005b30   0e82     MOVLW     0x82                                                                                            
005b32   db83     RCALL     0x623a                                                                                          
005b34   0e02     MOVLW     0x2              ebb_print_uint(UInt);                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b36   cfdb     MOVFF     0xfdb,0x4e                                                                                      
005b38   f04e                                                                                                               
005b3a   0e03     MOVLW     0x3                                                                                             
005b3c   cfdb     MOVFF     0xfdb,0x4f                                                                                      
005b3e   f04f                                                                                                               
005b40   6a50     CLRF      0x50,0x0                                                                                        
005b42   6a51     CLRF      0x51,0x0                                                                                        
005b44   ec90     CALL      0x6520,0x0                                                                                      
005b46   f032                                                                                                               
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b48   0e3c     MOVLW     0x3c             ebb_print((rom char far *)"Param5=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b4a   6e4e     MOVWF     0x4e,0x0                                                                                        
005b4c   0e82     MOVLW     0x82                                                                                            
005b4e   db75     RCALL     0x623a                                                                                          
005b50   50d9     MOVF      0xd9,0x0,0x0     ebb_print_int(SLong);                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b52   0f0a     ADDLW     0xa                                                                                             
005b54   dbb1     RCALL     0x62b8                                                                                          
005b56   ec99     CALL      0x6732,0x0                                                                                      
005b58   f033                                                                                                               
006732   ec45     CALL      0x848a,0x0                                                                                      
006734   f042                                                                                                               
006736   def1     RCALL     0x651a                                                                                          
006738   ef27     GOTO      0x624e           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00673a   f031                                                                                                               
005b5a   ecef     CALL      0x65de,0x0       ebb_print((rom char far *)"Param6=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b5c   f032                                                                                                               
005b5e   50d9     MOVF      0xd9,0x0,0x0     ebb_print_uint(ULong);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b60   0f06     ADDLW     0x6                                                                                             
005b62   dbaa     RCALL     0x62b8                                                                                          
005b64   ec65     CALL      0x66ca,0x0                                                                                      
005b66   f033                                                                                                               
005b68   db72     RCALL     0x624e           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b6a   0e2c     MOVLW     0x2c             ebb_print((rom char far *)"Param7=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b6c   6e4e     MOVWF     0x4e,0x0                                                                                        
005b6e   0e82     MOVLW     0x82                                                                                            
005b70   db64     RCALL     0x623a                                                                                          
005b72   0e0e     MOVLW     0xe              ebb_print_char(UChar);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b74   ec08     CALL      0x6610,0x0                                                                                      
005b76   f033                                                                                                               
006610   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
006612   ffe6                                                                                                               
006614   ec14     CALL      0x4428,0x0                                                                                      
006616   f022                                                                                                               
006618   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00661a   ef27     GOTO      0x624e           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00661c   f031                                                                                                               
005b78   0e24     MOVLW     0x24             ebb_print((rom char far *)"Param8=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b7a   6e4e     MOVWF     0x4e,0x0                                                                                        
005b7c   0e82     MOVLW     0x82                                                                                            
005b7e   db5d     RCALL     0x623a                                                                                          
005b80   0e0f     MOVLW     0xf              ebb_print_char(UCaseChar);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b82   ec08     CALL      0x6610,0x0                                                                                      
005b84   f033                                                                                                               
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b86   ecef     CALL      0x65de,0x0       ebb_print((rom char far *)"Param6=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b88   f032                                                                                                               
005b8a   0e08     MOVLW     0x8              ebb_print_hex(ULong, 8);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b8c   6ee6     MOVWF     0xe6,0x0                                                                                        
005b8e   ecbc     CALL      0x6578,0x0                                                                                      
005b90   f032                                                                                                               
006578   50d9     MOVF      0xd9,0x0,0x0                                                                                    
00657a   0f06     ADDLW     0x6                                                                                             
00657c   de9d     RCALL     0x62b8                                                                                          
00657e   ecef     CALL      0x83de,0x0                                                                                      
006580   f041                                                                                                               
006582   6e4e     MOVWF     0x4e,0x0                                                                                        
006584   0e05     MOVLW     0x5                                                                                             
006586   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
006588   504e     MOVF      0x4e,0x0,0x0                                                                                    
00658a   ef27     GOTO      0x624e           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00658c   f031                                                                                                               
005b92   ecef     CALL      0x65de,0x0       ebb_print((rom char far *)"Param6=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b94   f032                                                                                                               
0065de   0e34     MOVLW     0x34                                                                                            
0065e0   6e4e     MOVWF     0x4e,0x0                                                                                        
0065e2   0e82     MOVLW     0x82                                                                                            
0065e4   ef1d     GOTO      0x623a                                                                                          
0065e6   f031                                                                                                               
005b96   6ae6     CLRF      0xe6,0x0         ebb_print_hex(ULong, 0);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b98   ecbc     CALL      0x6578,0x0                                                                                      
005b9a   f032                                                                                                               
0062b8   6ee9     MOVWF     0xe9,0x0                                                                                        
0062ba   cfda     MOVFF     0xfda,0xfea                                                                                     
0062bc   ffea                                                                                                               
0062be   cfee     MOVFF     0xfee,0xfe6                                                                                     
0062c0   ffe6                                                                                                               
0062c2   cfee     MOVFF     0xfee,0xfe6                                                                                     
0062c4   ffe6                                                                                                               
0062c6   cfee     MOVFF     0xfee,0xfe6                                                                                     
0062c8   ffe6                                                                                                               
0062ca   cfef     MOVFF     0xfef,0xfe6                                                                                     
0062cc   ffe6                                                                                                               
0062ce   0012     RETURN    0x0                                                                                             
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b9c   dba3     RCALL     0x62e4           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b9e   0e10     MOVLW     0x10           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ba0   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005ba2   e202     BC        0x5ba8                                                                                          
005ba4   6ae1     CLRF      0xe1,0x0                                                                                        
005ba6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005ba8   6ee1     MOVWF     0xe1,0x0                                                                                        
005baa   d368     BRA       0x627c                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bac   ecd7     CALL      0x65ae,0x0     void populateDeviceStringWithName(void)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bae   f032                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extern BYTE * USB_SD_Ptr[];                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Clear out our name array                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bb0   6adf     CLRF      0xdf,0x0         for (i=0; i < FLASH_NAME_LENGTH+1; i++)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bb2   0e11     MOVLW     0x11                                                                                            
005bb4   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
005bb6   e204     BC        0x5bc0                                                                                          
005bbc   2adf     INCF      0xdf,0x1,0x0                                                                                    
005bbe   d7f9     BRA       0x5bb2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bb8   dbb7     RCALL     0x6328             gDeviceStringName[i] = 0x00;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bba   6aef     CLRF      0xef,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // We always read 16, knowing that any unused bytes will be set to zero        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bc0   ec22     CALL      0x6644,0x0       ReadFlash(FLASH_NAME_ADDRESS, FLASH_NAME_LENGTH, gDeviceStringName);           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bc2   f033                                                                                                               
006644   de6c     RCALL     0x631e                                                                                          
006646   ec41     CALL      0x8c82,0x0                                                                                      
006648   f046                                                                                                               
00664a   ef3b     GOTO      0x6476                                                                                          
00664c   f032                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // The EEB's name is now in the 'name' local variable as a straight string     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // of bytes. We need to move it to the proper locations in the sd002           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // USB string descriptor (which is in RAM now). But it needs to be a           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // unicode string, so we've got to skip every other byte.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Since the FLASH copy of 'name' is padded with zeros and is always 16        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // bytes long, we are safe to always copy 16 bytes over to the string          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // descriptor.                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Because sd002 is an anonymous structure without any names for its           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // members, we are totally going to just hack this bad boy and jump            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // into a known offset from the beginning of the structure.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // As of 2.5.5, we now not only update the Product string, but also the        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // serial number string.                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bc4   6adf     CLRF      0xdf,0x0         for (i=0; i < FLASH_NAME_LENGTH; i++)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bc6   0e10     MOVLW     0x10                                                                                            
005bc8   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
005bca   e221     BC        0x5c0e                                                                                          
005c0a   2adf     INCF      0xdf,0x1,0x0                                                                                    
005c0c   d7dc     BRA       0x5bc6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Only copy over valid ASCII characters. On the first invalid               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // one, bail out.                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bcc   dbad     RCALL     0x6328             if (gDeviceStringName[i] <= 128u && gDeviceStringName[i] >= 32u)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bce   50ef     MOVF      0xef,0x0,0x0                                                                                    
005bd0   0880     SUBLW     0x80                                                                                            
005bd2   e31d     BNC       0x5c0e                                                                                          
005bd4   dba9     RCALL     0x6328                                                                                          
005bd6   cfef     MOVFF     0xfef,0x4e                                                                                      
005bd8   f04e                                                                                                               
005bda   0e20     MOVLW     0x20                                                                                            
005bdc   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
005bde   e317     BNC       0x5c0e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005be0   dba3     RCALL     0x6328               *(USB_SD_Ptr[2] + 24 + (i*2)) = gDeviceStringName[i];                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005be2   50ef     MOVF      0xef,0x0,0x0                                                                                    
005be4   6ee6     MOVWF     0xe6,0x0                                                                                        
005be6   0e18     MOVLW     0x18                                                                                            
005be8   0102     MOVLB     0x2                                                                                             
005bea   6a4f     CLRF      0x4f,0x0                                                                                        
005bec   25fa     ADDWF     0xfa,0x0,0x1                                                                                    
005bee   6e4e     MOVWF     0x4e,0x0                                                                                        
005bf0   51fb     MOVF      0xfb,0x0,0x1                                                                                    
005bf2   ec17     CALL      0x642e,0x0                                                                                      
005bf4   f032                                                                                                               
00642e   224f     ADDWFC    0x4f,0x1,0x0                                                                                    
006430   50df     MOVF      0xdf,0x0,0x0                                                                                    
006432   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
006434   244e     ADDWF     0x4e,0x0,0x0                                                                                    
006436   6ee9     MOVWF     0xe9,0x0                                                                                        
006438   0e00     MOVLW     0x0                                                                                             
00643a   204f     ADDWFC    0x4f,0x0,0x0                                                                                    
00643c   6eea     MOVWF     0xea,0x0                                                                                        
00643e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006440   50e7     MOVF      0xe7,0x0,0x0                                                                                    
006442   6eef     MOVWF     0xef,0x0                                                                                        
006444   0012     RETURN    0x0                                                                                             
005bf6   db98     RCALL     0x6328               *(USB_SD_Ptr[3] + 2 + (i*2)) = gDeviceStringName[i];                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bf8   50ef     MOVF      0xef,0x0,0x0                                                                                    
005bfa   6ee6     MOVWF     0xe6,0x0                                                                                        
005bfc   0e02     MOVLW     0x2                                                                                             
005bfe   6a4f     CLRF      0x4f,0x0                                                                                        
005c00   25fc     ADDWF     0xfc,0x0,0x1                                                                                    
005c02   6e4e     MOVWF     0x4e,0x0                                                                                        
005c04   51fd     MOVF      0xfd,0x0,0x1                                                                                    
005c06   ec17     CALL      0x642e,0x0                                                                                      
005c08   f032                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now update the string descriptor lengths based on how many characters       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // we copied over from Flash                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c0e   50df     MOVF      0xdf,0x0,0x0     *(USB_SD_Ptr[2]) = 24 + (i * 2);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c10   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
005c12   0f18     ADDLW     0x18                                                                                            
005c14   c2fa     MOVFF     0x2fa,0xfe9                                                                                     
005c16   ffe9                                                                                                               
005c18   c2fb     MOVFF     0x2fb,0xfea                                                                                     
005c1a   ffea                                                                                                               
005c1c   6eef     MOVWF     0xef,0x0                                                                                        
005c1e   50df     MOVF      0xdf,0x0,0x0     *(USB_SD_Ptr[3]) = 2 + (i * 2);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c20   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
005c22   0f02     ADDLW     0x2                                                                                             
005c24   c2fc     MOVFF     0x2fc,0xfe9                                                                                     
005c26   ffe9                                                                                                               
005c28   c2fd     MOVFF     0x2fd,0xfea                                                                                     
005c2a   ffea                                                                                                               
005c2c   6eef     MOVWF     0xef,0x0                                                                                        
005c2e   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c30   d325     BRA       0x627c                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // ST command : Set Tag                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "ST,<new name><CR>"                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <new name> is a 0 to 16 character ASCII string.                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This string gets saved in FLASH, and is returned by the "QT" command, as      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // well as being appended to the USB name that shows up in the OS                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c32   ec7e     CALL      0x66fc,0x0     void parse_ST_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c34   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c36   6adf     CLRF      0xdf,0x0         UINT8 bytes = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c38   ec82     CALL      0x6704,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c3a   f033                                                                                                               
006704   6ae6     CLRF      0xe6,0x0                                                                                        
006706   6ae6     CLRF      0xe6,0x0                                                                                        
006708   efb7     GOTO      0x656e                                                                                          
00670a   f032                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Clear out our name array                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c3c   0e01     MOVLW     0x1              for (i=0; i < FLASH_NAME_LENGTH+1; i++)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c3e   6adb     CLRF      0xdb,0x0                                                                                        
005c40   0e11     MOVLW     0x11                                                                                            
005c42   6ef3     MOVWF     0xf3,0x0                                                                                        
005c44   0e01     MOVLW     0x1                                                                                             
005c46   dbe9     RCALL     0x641a                                                                                          
005c48   e20b     BC        0x5c60                                                                                          
005c5a   0e01     MOVLW     0x1                                                                                             
005c5c   2adb     INCF      0xdb,0x1,0x0                                                                                    
005c5e   d7f0     BRA       0x5c40                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c4a   0e01     MOVLW     0x1                gDeviceStringName[i] = 0x00;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c4c   50db     MOVF      0xdb,0x0,0x0                                                                                    
005c4e   6aea     CLRF      0xea,0x0                                                                                        
005c50   0fd5     ADDLW     0xd5                                                                                            
005c52   6ee9     MOVWF     0xe9,0x0                                                                                        
005c54   0e04     MOVLW     0x4                                                                                             
005c56   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
005c58   6aef     CLRF      0xef,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c60   0e10     MOVLW     0x10             bytes = extract_string(gDeviceStringName, FLASH_NAME_LENGTH);                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c62   6ee6     MOVWF     0xe6,0x0                                                                                        
005c64   ec44     CALL      0x6688,0x0                                                                                      
005c66   f033                                                                                                               
005c68   d83a     RCALL     0x5cde                                                                                          
005c6a   ec7a     CALL      0x66f4,0x0                                                                                      
005c6c   f033                                                                                                               
005c6e   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // We have reserved FLASH addresses 0xF800 to 0xFBFF (1024 bytes) for          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // storing persistent variables like the EEB's name. Note that no wear-leveling D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // is done, so it's not a good idea to change these values more than 10K times. :-) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c70   68e6     SETF      0xe6,0x0         EraseFlash(FLASH_NAME_ADDRESS, FLASH_NAME_ADDRESS + 0x3FF);                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c72   0efb     MOVLW     0xfb                                                                                            
005c74   6ee6     MOVWF     0xe6,0x0                                                                                        
005c76   6ae6     CLRF      0xe6,0x0                                                                                        
005c78   ec27     CALL      0x664e,0x0                                                                                      
005c7a   f033                                                                                                               
005c7c   ec20     CALL      0x8a40,0x0                                                                                      
005c7e   f045                                                                                                               
005c80   ec3b     CALL      0x6476,0x0                                                                                      
005c82   f032                                                                                                               
00664e   6ae6     CLRF      0xe6,0x0                                                                                        
006650   6ae6     CLRF      0xe6,0x0                                                                                        
006652   0ef8     MOVLW     0xf8                                                                                            
006654   6ee6     MOVWF     0xe6,0x0                                                                                        
006656   6ae6     CLRF      0xe6,0x0                                                                                        
006658   6ae6     CLRF      0xe6,0x0                                                                                        
00665a   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c84   db4c     RCALL     0x631e           WriteBytesFlash(FLASH_NAME_ADDRESS, FLASH_NAME_LENGTH, gDeviceStringName);     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c86   ecea     CALL      0x85d4,0x0                                                                                      
005c88   f042                                                                                                               
005c8a   ec3b     CALL      0x6476,0x0                                                                                      
005c8c   f032                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c8e   db2a     RCALL     0x62e4           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c90   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c92   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005c94   e202     BC        0x5c9a                                                                                          
005c96   6ae1     CLRF      0xe1,0x0                                                                                        
005c98   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005c9a   6ee1     MOVWF     0xe1,0x0                                                                                        
005c9c   d2ef     BRA       0x627c                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // QT command : Query Tag                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "QT<CR>"                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Prints out the 'tag' that was set with the "ST" command previously, if any    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /// TODO: Optimize this by simply pointing ebb_print() at the string in FLASH?   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /// We could save 16 bytes of RAM that way and make the code simpler.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c9e   ecd7     CALL      0x65ae,0x0     void parse_QT_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ca0   f032                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ca2   dbac     RCALL     0x63fc           print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0063fc   0e01     MOVLW     0x1                                                                                             
0063fe   6ee6     MOVWF     0xe6,0x0                                                                                        
006400   6ae6     CLRF      0xe6,0x0                                                                                        
006402   efb7     GOTO      0x656e                                                                                          
006404   f032                                                                                                               
00656e   ec7a     CALL      0x4af4,0x0                                                                                      
006570   f025                                                                                                               
006572   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006574   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006576   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Clear out our name array                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ca4   6adf     CLRF      0xdf,0x0         for (i=0; i < FLASH_NAME_LENGTH+1; i++)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ca6   0e11     MOVLW     0x11                                                                                            
005ca8   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
005caa   e204     BC        0x5cb4                                                                                          
005cb0   2adf     INCF      0xdf,0x1,0x0                                                                                    
005cb2   d7f9     BRA       0x5ca6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cac   db3d     RCALL     0x6328             gDeviceStringName[i] = 0x00;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cae   6aef     CLRF      0xef,0x0                                                                                        
006328   50df     MOVF      0xdf,0x0,0x0                                                                                    
00632a   6aea     CLRF      0xea,0x0                                                                                        
00632c   0fd5     ADDLW     0xd5                                                                                            
00632e   6ee9     MOVWF     0xe9,0x0                                                                                        
006330   0e04     MOVLW     0x4                                                                                             
006332   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006334   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // We always read 16, knowing that any unused bytes will be set to zero        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cb4   ec22     CALL      0x6644,0x0       ReadFlash(FLASH_NAME_ADDRESS, FLASH_NAME_LENGTH, gDeviceStringName);           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cb6   f033                                                                                                               
00631e   d9b4     RCALL     0x6688                                                                                          
006320   0e10     MOVLW     0x10                                                                                            
006322   6ee6     MOVWF     0xe6,0x0                                                                                        
006324   ef27     GOTO      0x664e                                                                                          
006326   f033                                                                                                               
006476   6e4e     MOVWF     0x4e,0x0                                                                                        
006478   0e08     MOVLW     0x8                                                                                             
00647a   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
00647c   504e     MOVF      0x4e,0x0,0x0                                                                                    
00647e   0012     RETURN    0x0                                                                                             
006688   0ed5     MOVLW     0xd5                                                                                            
00668a   6ee6     MOVWF     0xe6,0x0                                                                                        
00668c   0e04     MOVLW     0x4                                                                                             
00668e   6ee6     MOVWF     0xe6,0x0                                                                                        
006690   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Only print it out if the first character is printable ASCII                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cb8   0e80     MOVLW     0x80             if (gDeviceStringName[0] < 128u && gDeviceStringName[0] > 32u)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cba   0104     MOVLB     0x4                                                                                             
005cbc   5dd5     SUBWF     0xd5,0x0,0x1                                                                                    
005cbe   e209     BC        0x5cd2                                                                                          
005cc0   51d5     MOVF      0xd5,0x0,0x1                                                                                    
005cc2   0820     SUBLW     0x20                                                                                            
005cc4   e206     BC        0x5cd2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cc6   ec44     CALL      0x6688,0x0         ebb_print_ram((char *)gDeviceStringName);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cc8   f033                                                                                                               
005cca   ece3     CALL      0x83c6,0x0                                                                                      
005ccc   f041                                                                                                               
005cce   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005cd0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cd2   0101     MOVLB     0x1              if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cd4   a1c3     BTFSS     0xc3,0x0,0x1                                                                                    
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cd6   dabb     RCALL     0x624e             print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cd8   db05     RCALL     0x62e4           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062e4   6ae6     CLRF      0xe6,0x0                                                                                        
0062e6   ec98     CALL      0x4b30,0x0                                                                                      
0062e8   f025                                                                                                               
0062ea   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0062ec   0012     RETURN    0x0                                                                                             
005cda   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cdc   d2cf     BRA       0x627c                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Look at the string in g_RX_buf[]                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Copy over all bytes from g_RX_buf_out into ReturnValue until you hit          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // a comma or a CR or you've copied over MaxBytes characters.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Return the number of bytes copied. Advance g_RX_buf_out as you go.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cde   ecd7     CALL      0x65ae,0x0     UINT8 extract_string (                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ce0   f032                                                                                                               
006272   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
006274   ffe6                                                                                                               
006276   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
006278   ffd9                                                                                                               
00627a   0012     RETURN    0x0                                                                                             
0065ae   de61     RCALL     0x6272                                                                                          
0065b0   52e6     MOVF      0xe6,0x1,0x0                                                                                    
0065b2   0012     RETURN    0x0                                                                                             
                                             unsigned char * ReturnValue,                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 MaxBytes                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           )                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ce2   6adf     CLRF      0xdf,0x0         UINT8 bytes = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Always terminate the string                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ce4   db53     RCALL     0x638c           *ReturnValue = 0x00;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ce6   6aef     CLRF      0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check to see if we're already at the end                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ce8   ec2e     CALL      0x665c,0x0       if (kCR == g_RX_buf[g_RX_buf_out])                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cea   f033                                                                                                               
005cec   e102     BNZ       0x5cf2                                                                                          
00665c   0e0d     MOVLW     0xd                                                                                             
00665e   6e4e     MOVWF     0x4e,0x0                                                                                        
006660   0104     MOVLB     0x4                                                                                             
006662   ddf8     RCALL     0x6254                                                                                          
006664   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
006666   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cee   8984     BSF       0x84,0x4,0x1       bitset(error_byte, kERROR_BYTE_MISSING_PARAMETER);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cf0   d005     BRA       0x5cfc             return(0);                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for comma where ptr points                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cf2   dab0     RCALL     0x6254           if (g_RX_buf[g_RX_buf_out] != ',')                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cf4   082c     SUBLW     0x2c                                                                                            
005cf6   e004     BZ        0x5d00                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cf8   ec93     CALL      0x6526,0x0         ebb_print((rom char far *)"!5 Err: Need comma next, found: '");              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cfa   f032                                                                                                               
006526   0e02     MOVLW     0x2                                                                                             
006528   6e4e     MOVWF     0x4e,0x0                                                                                        
00652a   0e82     MOVLW     0x82                                                                                            
00652c   de86     RCALL     0x623a                                                                                          
00652e   0104     MOVLB     0x4                ebb_print_char(g_RX_buf[g_RX_buf_out]);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006530   de91     RCALL     0x6254                                                                                          
006532   dea8     RCALL     0x6284                                                                                          
006534   0e27     MOVLW     0x27               ebb_print_char(0x27); // The ' character                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006536   dea6     RCALL     0x6284                                                                                          
006538   de8a     RCALL     0x624e             print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00653a   0104     MOVLB     0x4                bitset(error_byte, kERROR_BYTE_PRINTED_ERROR);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00653c   8b84     BSF       0x84,0x5,0x1                                                                                    
00653e   0012     RETURN    0x0                                                                                             
005cfc   0e00     MOVLW     0x0                return(0);                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cfe   d028     BRA       0x5d50                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Move to the next character                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d00   dad4     RCALL     0x62aa           advance_RX_buf_out();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d02   e104     BNZ       0x5d0c                                                                                          
005d04   0e01     MOVLW     0x1                                                                                             
005d06   184f     XORWF     0x4f,0x0,0x0                                                                                    
005d08   e101     BNZ       0x5d0c                                                                                          
005d0a   6bb8     CLRF      0xb8,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d4e   d7de     BRA       0x5d0c           while(1)                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Check to see if we're already at the end                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d0c   0e0d     MOVLW     0xd                if (kCR == g_RX_buf[g_RX_buf_out] || (BYTE)',' == g_RX_buf[g_RX_buf_out] || bytes >= MaxBytes) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d0e   ec49     CALL      0x6692,0x0                                                                                      
005d10   f033                                                                                                               
005d12   e009     BZ        0x5d26                                                                                          
005d14   0e2c     MOVLW     0x2c                                                                                            
005d16   6e4f     MOVWF     0x4f,0x0                                                                                        
005d18   da9d     RCALL     0x6254                                                                                          
005d1a   5c4f     SUBWF     0x4f,0x0,0x0                                                                                    
005d1c   e004     BZ        0x5d26                                                                                          
005d1e   0efc     MOVLW     0xfc                                                                                            
005d20   50db     MOVF      0xdb,0x0,0x0                                                                                    
005d22   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
005d24   e302     BNC       0x5d2a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d26   50df     MOVF      0xdf,0x0,0x0         return (bytes);                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d28   d013     BRA       0x5d50                                                                                          
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Copy over a byte                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d2a   da94     RCALL     0x6254             *ReturnValue = g_RX_buf[g_RX_buf_out];                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d2c   6ee6     MOVWF     0xe6,0x0                                                                                        
005d2e   db2e     RCALL     0x638c                                                                                          
005d30   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005d32   50e7     MOVF      0xe7,0x0,0x0                                                                                    
005d34   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Move to the next character                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d36   dab9     RCALL     0x62aa             advance_RX_buf_out();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d38   e104     BNZ       0x5d42                                                                                          
005d3a   0e01     MOVLW     0x1                                                                                             
005d3c   184f     XORWF     0x4f,0x0,0x0                                                                                    
005d3e   e101     BNZ       0x5d42                                                                                          
005d40   6bb8     CLRF      0xb8,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Count this one                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d42   2adf     INCF      0xdf,0x1,0x0       bytes++;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d44   0efd     MOVLW     0xfd               ReturnValue++;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d46   2adb     INCF      0xdb,0x1,0x0                                                                                    
005d48   0efe     MOVLW     0xfe                                                                                            
005d4a   e3e0     BNC       0x5d0c                                                                                          
005d4c   2adb     INCF      0xdb,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             return(bytes);                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d50   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d52   d294     BRA       0x627c                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Look at the string pointed to by g_RX_buf[g_RX_buf_out]                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // There should be a comma where g_RX_buf[g_RX_buf_out] points to upon entry.    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // If not, throw a comma error.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // If so, then look for up to like a ton of bytes after the                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // comma for numbers, and put them all into one                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // unsigned long accumulator.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Advance the pointer to the byte after the last number                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // and return.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d54   da8e     RCALL     0x6272         ExtractReturnType extract_number(                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d56   0e09     MOVLW     0x9                                                                                             
005d58   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                             ExtractType Type,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             void * ReturnValue,                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char Required                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           )                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned long ULAccumulator;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             signed long Accumulator;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d5a   0e08     MOVLW     0x8              BOOL Negative = FALSE;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d5c   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check to see if we're already at the end                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d5e   ec2e     CALL      0x665c,0x0       if (kCR == g_RX_buf[g_RX_buf_out])                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d60   f033                                                                                                               
005d62   e105     BNZ       0x5d6e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d64   0efb     MOVLW     0xfb               if (0u == Required)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d66   50db     MOVF      0xdb,0x0,0x0                                                                                    
005d68   e119     BNZ       0x5d9c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d6a   8984     BSF       0x84,0x4,0x1         bitset(error_byte, kERROR_BYTE_MISSING_PARAMETER);                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d6c   d017     BRA       0x5d9c             return(kEXTRACT_MISSING_PARAMETER);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for comma where ptr points                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d6e   da72     RCALL     0x6254           if (g_RX_buf[g_RX_buf_out] != ',')                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d70   082c     SUBLW     0x2c                                                                                            
005d72   e006     BZ        0x5d80                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d74   0efb     MOVLW     0xfb               if (0u == Required)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d76   50db     MOVF      0xdb,0x0,0x0                                                                                    
005d78   e101     BNZ       0x5d7c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d7a   dbd5     RCALL     0x6526               ebb_print((rom char far *)"!5 Err: Need comma next, found: '");            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006254   51b8     MOVF      0xb8,0x0,0x1         ebb_print_char(g_RX_buf[g_RX_buf_out]);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006256   d985     RCALL     0x6562                                                                                          
006258   50ef     MOVF      0xef,0x0,0x0                                                                                    
00625a   0012     RETURN    0x0                                                                                             
                                                 ebb_print_char(0x27);     // The ' character                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 bitset (error_byte, kERROR_BYTE_PRINTED_ERROR);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d7c   0e02     MOVLW     0x2                return(kEXTRACT_COMMA_MISSING);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d7e   d11a     BRA       0x5fb4                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Move to the next character                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d80   da94     RCALL     0x62aa           advance_RX_buf_out();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d82   e104     BNZ       0x5d8c                                                                                          
005d84   0e01     MOVLW     0x1                                                                                             
005d86   184f     XORWF     0x4f,0x0,0x0                                                                                    
005d88   e101     BNZ       0x5d8c                                                                                          
005d8a   6bb8     CLRF      0xb8,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for end of command                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d8c   0e0d     MOVLW     0xd              if (kCR == g_RX_buf[g_RX_buf_out])                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d8e   ec49     CALL      0x6692,0x0                                                                                      
005d90   f033                                                                                                               
005d92   e106     BNZ       0x5da0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d94   0efb     MOVLW     0xfb               if (0u == Required)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d96   50db     MOVF      0xdb,0x0,0x0                                                                                    
005d98   e101     BNZ       0x5d9c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d9a   8984     BSF       0x84,0x4,0x1         bitset(error_byte, kERROR_BYTE_MISSING_PARAMETER);                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d9c   0e03     MOVLW     0x3                return(kEXTRACT_MISSING_PARAMETER);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d9e   d10a     BRA       0x5fb4                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now check for a sign character if we're not looking for ASCII chars         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005da0   0e2d     MOVLW     0x2d               ('-' == g_RX_buf[g_RX_buf_out])                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005da2   ec49     CALL      0x6692,0x0                                                                                      
005da4   f033                                                                                                               
006692   6e4e     MOVWF     0x4e,0x0                                                                                        
006694   dddf     RCALL     0x6254                                                                                          
006696   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
006698   0012     RETURN    0x0                                                                                             
                                               &&                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               (                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005da8   0e04     MOVLW     0x4                  (kASCII_CHAR != Type)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005daa   db54     RCALL     0x6454                                                                                          
                                                 &&                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dae   0e05     MOVLW     0x5                  (kUCASE_ASCII_CHAR != Type)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005db0   6e50     MOVWF     0x50,0x0                                                                                        
005db2   0efe     MOVLW     0xfe                                                                                            
005db4   50db     MOVF      0xdb,0x0,0x0                                                                                    
005db6   5c50     SUBWF     0x50,0x0,0x0                                                                                    
005dac   e01d     BZ        0x5de8             )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005db8   e017     BZ        0x5de8                                                                                          
005da6   e120     BNZ       0x5de8           )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // It's an error if we see a negative sign on an unsigned value              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dba   0efe     MOVLW     0xfe                 (kUCHAR == Type)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dbc   04db     DECF      0xdb,0x0,0x0                                                                                    
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dc2   0e03     MOVLW     0x3                  (kUINT == Type)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dc4   db2f     RCALL     0x6424                                                                                          
005dbe   e101     BNZ       0x5dc2               ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dc0   d0c0     BRA       0x5f42                                                                                          
005dc6   e101     BNZ       0x5dca                                                                                          
005dc8   d0bc     BRA       0x5f42                                                                                          
005dca   0e07     MOVLW     0x7                  (kULONG == Type)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dcc   db43     RCALL     0x6454                                                                                          
005dce   e101     BNZ       0x5dd2             )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dd0   d0b8     BRA       0x5f42                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 return(kEXTRACT_PARAMETER_OUTSIDE_LIMIT);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dd2   0e01     MOVLW     0x1                  Negative = TRUE;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dd4   6ef3     MOVWF     0xf3,0x0                                                                                        
005dd6   0e08     MOVLW     0x8                                                                                             
005dd8   cff3     MOVFF     0xff3,0xfdb                                                                                     
005dda   ffdb                                                                                                               
                                                 // Move to the next character                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ddc   da66     RCALL     0x62aa               advance_RX_buf_out();                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dde   e104     BNZ       0x5de8                                                                                          
005de0   0e01     MOVLW     0x1                                                                                             
005de2   184f     XORWF     0x4f,0x0,0x0                                                                                    
005de4   e101     BNZ       0x5de8                                                                                          
005de6   6bb8     CLRF      0xb8,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // If we need to get a digit, go do that                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005de8   0e04     MOVLW     0x4                (kASCII_CHAR != Type)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dea   db1c     RCALL     0x6424                                                                                          
                                               &&                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dee   0e05     MOVLW     0x5                (kUCASE_ASCII_CHAR != Type)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005df0   db31     RCALL     0x6454                                                                                          
005dec   e009     BZ        0x5e00           )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005df2   e006     BZ        0x5e00                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005df4   0e0a     MOVLW     0xa                extract_digit(&ULAccumulator, 10);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005df6   daf1     RCALL     0x63da                                                                                          
005df8   d8e6     RCALL     0x5fc6                                                                                          
005dfa   ec7a     CALL      0x66f4,0x0                                                                                      
005dfc   f033                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dfe   d031     BRA       0x5e62           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Otherwise just copy the byte                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e00   51b8     MOVF      0xb8,0x0,0x1       ULAccumulator = g_RX_buf[g_RX_buf_out];                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e02   dbaf     RCALL     0x6562                                                                                          
005e04   cfef     MOVFF     0xfef,0x4e                                                                                      
005e06   f04e                                                                                                               
005e08   0e00     MOVLW     0x0                                                                                             
005e0a   c04e     MOVFF     0x4e,0xfdf                                                                                      
005e0c   ffdf                                                                                                               
005e0e   db3f     RCALL     0x648e                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Force uppercase if that's what type we have                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e10   0e05     MOVLW     0x5                if (kUCASE_ASCII_CHAR == Type)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e12   db08     RCALL     0x6424                                                                                          
005e14   e11f     BNZ       0x5e54                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e16   0e00     MOVLW     0x0                  ULAccumulator = toupper(ULAccumulator);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e18   cfdf     MOVFF     0xfdf,0xfe6                                                                                     
005e1a   ffe6                                                                                                               
005e1c   0e01     MOVLW     0x1                                                                                             
005e1e   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
005e20   ffe6                                                                                                               
005e22   ec7c     CALL      0x8ef8,0x0                                                                                      
005e24   f047                                                                                                               
005e26   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005e28   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005e2a   cff3     MOVFF     0xff3,0x4e                                                                                      
005e2c   f04e                                                                                                               
005e2e   cff4     MOVFF     0xff4,0x4f                                                                                      
005e30   f04f                                                                                                               
005e32   6a50     CLRF      0x50,0x0                                                                                        
005e34   6a51     CLRF      0x51,0x0                                                                                        
005e36   ae4f     BTFSS     0x4f,0x7,0x0                                                                                    
005e38   d002     BRA       0x5e3e                                                                                          
005e3a   6850     SETF      0x50,0x0                                                                                        
005e3c   6851     SETF      0x51,0x0                                                                                        
005e3e   c04e     MOVFF     0x4e,0xfdf                                                                                      
005e40   ffdf                                                                                                               
005e42   0e01     MOVLW     0x1                                                                                             
005e44   c04f     MOVFF     0x4f,0xfdb                                                                                      
005e46   ffdb                                                                                                               
005e48   0e02     MOVLW     0x2                                                                                             
005e4a   c050     MOVFF     0x50,0xfdb                                                                                      
005e4c   ffdb                                                                                                               
005e4e   0e03     MOVLW     0x3                                                                                             
005e50   c051     MOVFF     0x51,0xfdb                                                                                      
005e52   ffdb                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Move to the next character                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e54   0104     MOVLB     0x4                advance_RX_buf_out();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e56   da29     RCALL     0x62aa                                                                                          
005e58   e104     BNZ       0x5e62                                                                                          
005e5a   0e01     MOVLW     0x1                                                                                             
005e5c   184f     XORWF     0x4f,0x0,0x0                                                                                    
005e5e   e101     BNZ       0x5e62                                                                                          
005e60   6bb8     CLRF      0xb8,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Range check absolute values                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e62   0e08     MOVLW     0x8              if (Negative)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e64   50db     MOVF      0xdb,0x0,0x0                                                                                    
005e66   e040     BZ        0x5ee8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e68   0efe     MOVLW     0xfe                   kCHAR == Type                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e6a   50db     MOVF      0xdb,0x0,0x0                                                                                    
                                                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e6e   da51     RCALL     0x6312                 (ULAccumulator > (unsigned long)128)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e70   0e80     MOVLW     0x80                                                                                            
005e72   da6e     RCALL     0x6350                                                                                          
005e74   0e00     MOVLW     0x0                                                                                             
005e76   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
005e6c   e106     BNZ       0x5e7a               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e78   e312     BNC       0x5e9e                                                                                          
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e7a   0e02     MOVLW     0x2                    kINT == Type                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e7c   dad3     RCALL     0x6424                                                                                          
                                                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e80   da48     RCALL     0x6312                 (ULAccumulator > (unsigned long)32768)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e82   0e00     MOVLW     0x0                                                                                             
005e84   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
005e86   0e80     MOVLW     0x80                                                                                            
005e88   da63     RCALL     0x6350                                                                                          
005e7e   e106     BNZ       0x5e8c               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e8a   e309     BNC       0x5e9e                                                                                          
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e8c   0e06     MOVLW     0x6                    kLONG == Type                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e8e   dae2     RCALL     0x6454                                                                                          
                                                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e92   da3f     RCALL     0x6312                 (ULAccumulator > (unsigned long)0x80000000L)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e94   0e00     MOVLW     0x0                                                                                             
005e96   da5c     RCALL     0x6350                                                                                          
005e98   0e80     MOVLW     0x80                                                                                            
005e9a   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
005e90   e108     BNZ       0x5ea2               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e9c   e202     BC        0x5ea2                                                                                          
                                               )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e9e   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ea0   d050     BRA       0x5f42               return(kEXTRACT_PARAMETER_OUTSIDE_LIMIT);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ea2   da7b     RCALL     0x639a             Accumulator = ULAccumulator;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00639a   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
00639c   ffe9                                                                                                               
00639e   cfda     MOVFF     0xfda,0xfea                                                                                     
0063a0   ffea                                                                                                               
0063a2   0e04     MOVLW     0x4                                                                                             
0063a4   cfee     MOVFF     0xfee,0xfdb                                                                                     
0063a6   ffdb                                                                                                               
0063a8   0e05     MOVLW     0x5                                                                                             
0063aa   cfee     MOVFF     0xfee,0xfdb                                                                                     
0063ac   ffdb                                                                                                               
0063ae   0e06     MOVLW     0x6                                                                                             
0063b0   cfee     MOVFF     0xfee,0xfdb                                                                                     
0063b2   ffdb                                                                                                               
0063b4   0e07     MOVLW     0x7                                                                                             
0063b6   cfee     MOVFF     0xfee,0xfdb                                                                                     
0063b8   ffdb                                                                                                               
0063ba   0012     RETURN    0x0                                                                                             
                                               // Then apply the negative if that's the right thing to do                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ea4   0e08     MOVLW     0x8                if (Negative)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ea6   50db     MOVF      0xdb,0x0,0x0                                                                                    
005ea8   e053     BZ        0x5f50                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005eaa   0e04     MOVLW     0x4                  Accumulator = -Accumulator;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005eac   cfdb     MOVFF     0xfdb,0x40                                                                                      
005eae   f040                                                                                                               
005eb0   0e05     MOVLW     0x5                                                                                             
005eb2   cfdb     MOVFF     0xfdb,0x41                                                                                      
005eb4   f041                                                                                                               
005eb6   0e06     MOVLW     0x6                                                                                             
005eb8   cfdb     MOVFF     0xfdb,0x42                                                                                      
005eba   f042                                                                                                               
005ebc   0e07     MOVLW     0x7                                                                                             
005ebe   cfdb     MOVFF     0xfdb,0x43                                                                                      
005ec0   f043                                                                                                               
005ec2   6845     SETF      0x45,0x0                                                                                        
005ec4   6846     SETF      0x46,0x0                                                                                        
005ec6   6847     SETF      0x47,0x0                                                                                        
005ec8   6848     SETF      0x48,0x0                                                                                        
005eca   ecc3     CALL      0x8d86,0x0                                                                                      
005ecc   f046                                                                                                               
005ece   0e04     MOVLW     0x4                                                                                             
005ed0   c03c     MOVFF     0x3c,0xfdb                                                                                      
005ed2   ffdb                                                                                                               
005ed4   0e05     MOVLW     0x5                                                                                             
005ed6   c03d     MOVFF     0x3d,0xfdb                                                                                      
005ed8   ffdb                                                                                                               
005eda   0e06     MOVLW     0x6                                                                                             
005edc   c03e     MOVFF     0x3e,0xfdb                                                                                      
005ede   ffdb                                                                                                               
005ee0   0e07     MOVLW     0x7                                                                                             
005ee2   c03f     MOVFF     0x3f,0xfdb                                                                                      
005ee4   ffdb                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ee6   d034     BRA       0x5f50           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ee8   0efe     MOVLW     0xfe                   kCHAR == Type                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005eea   50db     MOVF      0xdb,0x0,0x0                                                                                    
                                                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005eee   da11     RCALL     0x6312                 (ULAccumulator > (unsigned long)127)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ef0   0e7f     MOVLW     0x7f                                                                                            
005ef2   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
005ef4   0e00     MOVLW     0x0                                                                                             
005ef6   da2c     RCALL     0x6350                                                                                          
005eec   e106     BNZ       0x5efa               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ef8   e323     BNC       0x5f40                                                                                          
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   kUCHAR == Type                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005efa   0efe     MOVLW     0xfe                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005efc   04db     DECF      0xdb,0x0,0x0                                                                                    
005f00   db73     RCALL     0x65e8                 (ULAccumulator > (unsigned long)255)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f02   0e00     MOVLW     0x0                                                                                             
005f04   da25     RCALL     0x6350                                                                                          
005efe   e104     BNZ       0x5f08               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f06   e31c     BNC       0x5f40                                                                                          
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f08   0e02     MOVLW     0x2                    kINT == Type                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f0a   da8c     RCALL     0x6424                                                                                          
                                                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f0e   db6c     RCALL     0x65e8                 (ULAccumulator > (unsigned long)32767)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f10   0e7f     MOVLW     0x7f                                                                                            
005f12   da1e     RCALL     0x6350                                                                                          
005f0c   e104     BNZ       0x5f16               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f14   e315     BNC       0x5f40                                                                                          
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f16   0e03     MOVLW     0x3                    kUINT == Type                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f18   da9d     RCALL     0x6454                                                                                          
006454   6e4f     MOVWF     0x4f,0x0                                                                                        
006456   0efe     MOVLW     0xfe                                                                                            
006458   50db     MOVF      0xdb,0x0,0x0                                                                                    
00645a   5c4f     SUBWF     0x4f,0x0,0x0           &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00645c   0012     RETURN    0x0                                                                                             
005f1c   db65     RCALL     0x65e8                 (ULAccumulator > (unsigned long)65535)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f1e   0eff     MOVLW     0xff                                                                                            
005f20   da17     RCALL     0x6350                                                                                          
006350   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
006352   0e00     MOVLW     0x0                                                                                             
006354   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
006356   0e00     MOVLW     0x0                                                                                             
006358   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
00635a   0012     RETURN    0x0                                                                                             
005f1a   e104     BNZ       0x5f24               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f22   e30e     BNC       0x5f40                                                                                          
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f24   0e06     MOVLW     0x6                    kLONG == Type                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f26   6e50     MOVWF     0x50,0x0                                                                                        
005f28   0efe     MOVLW     0xfe                                                                                            
005f2a   50db     MOVF      0xdb,0x0,0x0                                                                                    
005f2c   5c50     SUBWF     0x50,0x0,0x0           &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f30   db5b     RCALL     0x65e8                 (ULAccumulator > (unsigned long)0x7FFFFFFFL)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f32   0eff     MOVLW     0xff                                                                                            
005f34   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
005f36   0eff     MOVLW     0xff                                                                                            
005f38   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
005f3a   0e7f     MOVLW     0x7f                                                                                            
005f3c   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
006312   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
006314   ffe9                                                                                                               
006316   cfda     MOVFF     0xfda,0xfea                                                                                     
006318   ffea                                                                                                               
00631a   80d8     BSF       0xd8,0x0,0x0                                                                                    
00631c   0012     RETURN    0x0                                                                                             
0065e8   de94     RCALL     0x6312                                                                                          
0065ea   0eff     MOVLW     0xff                                                                                            
0065ec   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
0065ee   0012     RETURN    0x0                                                                                             
005f2e   e10c     BNZ       0x5f48               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f3e   e204     BC        0x5f48                                                                                          
                                               )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f40   0104     MOVLB     0x4                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f42   8d84     BSF       0x84,0x6,0x1                                                                                    
005f44   0e01     MOVLW     0x1                  return(kEXTRACT_PARAMETER_OUTSIDE_LIMIT);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f46   d036     BRA       0x5fb4                                                                                          
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f48   0e07     MOVLW     0x7                if (kULONG != Type)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f4a   da6c     RCALL     0x6424                                                                                          
005f4c   e001     BZ        0x5f50                                                                                          
006424   6e4e     MOVWF     0x4e,0x0                                                                                        
006426   0efe     MOVLW     0xfe                                                                                            
006428   50db     MOVF      0xdb,0x0,0x0                                                                                    
00642a   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
00642c   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f4e   da25     RCALL     0x639a               Accumulator = ULAccumulator;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // If all went well, then copy the result                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f50   0efe     MOVLW     0xfe             switch (Type)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f52   50db     MOVF      0xdb,0x0,0x0                                                                                    
005f54   0a07     XORLW     0x7                                                                                             
005f56   e021     BZ        0x5f9a                                                                                          
005f58   0a01     XORLW     0x1                                                                                             
005f5a   e017     BZ        0x5f8a                                                                                          
005f5c   0a05     XORLW     0x5                                                                                             
005f5e   e011     BZ        0x5f82                                                                                          
005f60   0a01     XORLW     0x1                                                                                             
005f62   e00f     BZ        0x5f82                                                                                          
005f64   0a03     XORLW     0x3                                                                                             
005f66   e008     BZ        0x5f78                                                                                          
005f68   0a05     XORLW     0x5                                                                                             
005f6a   e006     BZ        0x5f78                                                                                          
005f6c   0a01     XORLW     0x1                                                                                             
005f6e   e004     BZ        0x5f78                                                                                          
005f70   0a05     XORLW     0x5                                                                                             
005f72   e002     BZ        0x5f78                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kCHAR:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 *(signed char *)ReturnValue = (signed char)Accumulator;                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kUCHAR:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kASCII_CHAR:                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kUCASE_ASCII_CHAR:                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f78   da29     RCALL     0x63cc               *(unsigned char *)ReturnValue = (unsigned char)Accumulator;                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f7a   0e04     MOVLW     0x4                                                                                             
005f7c   cfdb     MOVFF     0xfdb,0xfef                                                                                     
005f7e   ffef                                                                                                               
005f80   d018     BRA       0x5fb2               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kINT:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 *(signed int *)ReturnValue = (signed int)Accumulator;                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kUINT:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f82   db72     RCALL     0x6668               *(unsigned int *)ReturnValue = (unsigned int)Accumulator;                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f84   cfdb     MOVFF     0xfdb,0xfed                                                                                     
005f86   ffed                                                                                                               
006668   deb1     RCALL     0x63cc                                                                                          
00666a   0e04     MOVLW     0x4                                                                                             
00666c   cfdb     MOVFF     0xfdb,0xfee                                                                                     
00666e   ffee                                                                                                               
006670   0e05     MOVLW     0x5                                                                                             
006672   0012     RETURN    0x0                                                                                             
005f88   d014     BRA       0x5fb2               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kLONG:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f8a   db6e     RCALL     0x6668               *(signed long *)ReturnValue = Accumulator;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f8c   cfdb     MOVFF     0xfdb,0xfee                                                                                     
005f8e   ffee                                                                                                               
005f90   0e06     MOVLW     0x6                                                                                             
005f92   cfdb     MOVFF     0xfdb,0xfee                                                                                     
005f94   ffee                                                                                                               
005f96   0e07     MOVLW     0x7                                                                                             
0063cc   0efc     MOVLW     0xfc                                                                                            
0063ce   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0063d0   ffe9                                                                                                               
0063d2   0efd     MOVLW     0xfd                                                                                            
0063d4   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0063d6   ffea                                                                                                               
0063d8   0012     RETURN    0x0                                                                                             
005f98   d00a     BRA       0x5fae               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kULONG:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f9a   da18     RCALL     0x63cc               *(unsigned long *)ReturnValue = ULAccumulator;                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f9c   cfdf     MOVFF     0xfdf,0xfee                                                                                     
005f9e   ffee                                                                                                               
005fa0   0e01     MOVLW     0x1                                                                                             
005fa2   cfdb     MOVFF     0xfdb,0xfee                                                                                     
005fa4   ffee                                                                                                               
005fa6   0e02     MOVLW     0x2                                                                                             
005fa8   cfdb     MOVFF     0xfdb,0xfee                                                                                     
005faa   ffee                                                                                                               
005fac   0e03     MOVLW     0x3                                                                                             
005fae   cfdb     MOVFF     0xfdb,0xfee                                                                                     
005fb0   ffee                                                                                                               
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               default:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f74   0e04     MOVLW     0x4                  return(kEXTRACT_INVALID_TYPE);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f76   d01e     BRA       0x5fb4                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fb2   0e00     MOVLW     0x0              return(kEXTRACT_OK);                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fb4   6e4e     MOVWF     0x4e,0x0       }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fb6   0e09     MOVLW     0x9                                                                                             
005fb8   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005fba   e202     BC        0x5fc0                                                                                          
005fbc   6ae1     CLRF      0xe1,0x0                                                                                        
005fbe   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005fc0   6ee1     MOVWF     0xe1,0x0                                                                                        
005fc2   504e     MOVF      0x4e,0x0,0x0                                                                                    
005fc4   d15b     BRA       0x627c                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Loop 'digits' number of times, looking at the                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // byte in input_buffer index *ptr, and if it is                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // a digit, adding it to acc. Take care of                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // powers of ten as well. If you hit a non-numerical                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // char, then return FALSE, otherwise return TRUE.                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Store result as you go in *acc.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fc6   db9a     RCALL     0x66fc         signed char extract_digit(unsigned long * acc, unsigned char digits)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0066fc   ddba     RCALL     0x6272                                                                                          
0066fe   0e02     MOVLW     0x2                                                                                             
006700   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
006702   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char val;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char digit_cnt;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fc8   d9e1     RCALL     0x638c           *acc = 0;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fca   6aee     CLRF      0xee,0x0                                                                                        
005fcc   6aee     CLRF      0xee,0x0                                                                                        
005fce   6aee     CLRF      0xee,0x0                                                                                        
005fd0   6aee     CLRF      0xee,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fd2   0e01     MOVLW     0x1              for (digit_cnt = 0; digit_cnt < digits; digit_cnt++)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fd4   6adb     CLRF      0xdb,0x0                                                                                        
005fd6   0efc     MOVLW     0xfc                                                                                            
005fd8   50db     MOVF      0xdb,0x0,0x0                                                                                    
005fda   6ef3     MOVWF     0xf3,0x0                                                                                        
005fdc   0e01     MOVLW     0x1                                                                                             
005fde   da1d     RCALL     0x641a                                                                                          
005fe0   e24f     BC        0x6080                                                                                          
00607a   0e01     MOVLW     0x1                                                                                             
00607c   2adb     INCF      0xdb,0x1,0x0                                                                                    
00607e   d7ab     BRA       0x5fd6                                                                                          
00641a   cfdb     MOVFF     0xfdb,0xff4                                                                                     
00641c   fff4                                                                                                               
00641e   50f3     MOVF      0xf3,0x0,0x0                                                                                    
006420   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
006422   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fe2   0104     MOVLB     0x4                val = g_RX_buf[g_RX_buf_out];                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fe4   51b8     MOVF      0xb8,0x0,0x1                                                                                    
005fe6   dabd     RCALL     0x6562                                                                                          
005fe8   cfef     MOVFF     0xfef,0xfdf                                                                                     
005fea   ffdf                                                                                                               
005fec   0e30     MOVLW     0x30               if ((val >= 48u) && (val <= 57u))                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fee   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
005ff0   e342     BNC       0x6076                                                                                          
005ff2   50df     MOVF      0xdf,0x0,0x0                                                                                    
005ff4   0839     SUBLW     0x39                                                                                            
005ff6   e33f     BNC       0x6076                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ff8   d9c9     RCALL     0x638c               *acc = (*acc * 10) + (val - 48);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ffa   cfee     MOVFF     0xfee,0x4e                                                                                      
005ffc   f04e                                                                                                               
005ffe   cfee     MOVFF     0xfee,0x4f                                                                                      
006000   f04f                                                                                                               
006002   cfee     MOVFF     0xfee,0x50                                                                                      
006004   f050                                                                                                               
006006   cfef     MOVFF     0xfef,0x51                                                                                      
006008   f051                                                                                                               
00600a   0e0a     MOVLW     0xa                                                                                             
00600c   6e45     MOVWF     0x45,0x0                                                                                        
00600e   6a46     CLRF      0x46,0x0                                                                                        
006010   6a47     CLRF      0x47,0x0                                                                                        
006012   6a48     CLRF      0x48,0x0                                                                                        
006014   c04e     MOVFF     0x4e,0x40                                                                                       
006016   f040                                                                                                               
006018   c04f     MOVFF     0x4f,0x41                                                                                       
00601a   f041                                                                                                               
00601c   c050     MOVFF     0x50,0x42                                                                                       
00601e   f042                                                                                                               
006020   c051     MOVFF     0x51,0x43                                                                                       
006022   f043                                                                                                               
006024   ecc3     CALL      0x8d86,0x0                                                                                      
006026   f046                                                                                                               
006028   c03c     MOVFF     0x3c,0x4e                                                                                       
00602a   f04e                                                                                                               
00602c   c03d     MOVFF     0x3d,0x4f                                                                                       
00602e   f04f                                                                                                               
006030   c03e     MOVFF     0x3e,0x50                                                                                       
006032   f050                                                                                                               
006034   c03f     MOVFF     0x3f,0x51                                                                                       
006036   f051                                                                                                               
006038   0e30     MOVLW     0x30                                                                                            
00603a   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
00603c   6e52     MOVWF     0x52,0x0                                                                                        
00603e   6a53     CLRF      0x53,0x0                                                                                        
006040   6a54     CLRF      0x54,0x0                                                                                        
006042   6a55     CLRF      0x55,0x0                                                                                        
006044   50e8     MOVF      0xe8,0x0,0x0                                                                                    
006046   264e     ADDWF     0x4e,0x1,0x0                                                                                    
006048   5053     MOVF      0x53,0x0,0x0                                                                                    
00604a   224f     ADDWFC    0x4f,0x1,0x0                                                                                    
00604c   5054     MOVF      0x54,0x0,0x0                                                                                    
00604e   2250     ADDWFC    0x50,0x1,0x0                                                                                    
006050   5055     MOVF      0x55,0x0,0x0                                                                                    
006052   2251     ADDWFC    0x51,0x1,0x0                                                                                    
006054   d99b     RCALL     0x638c                                                                                          
006056   c04e     MOVFF     0x4e,0xfee                                                                                      
006058   ffee                                                                                                               
00605a   c04f     MOVFF     0x4f,0xfee                                                                                      
00605c   ffee                                                                                                               
00605e   c050     MOVFF     0x50,0xfee                                                                                      
006060   ffee                                                                                                               
006062   c051     MOVFF     0x51,0xfee                                                                                      
006064   ffee                                                                                                               
00638c   0efd     MOVLW     0xfd                                                                                            
00638e   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
006390   ffe9                                                                                                               
006392   0efe     MOVLW     0xfe                                                                                            
006394   cfdb     MOVFF     0xfdb,0xfea                                                                                     
006396   ffea                                                                                                               
006398   0012     RETURN    0x0                                                                                             
                                                 // Move to the next character                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006066   0104     MOVLB     0x4                  advance_RX_buf_out();                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006068   d920     RCALL     0x62aa                                                                                          
00606a   e107     BNZ       0x607a                                                                                          
00606c   0e01     MOVLW     0x1                                                                                             
00606e   184f     XORWF     0x4f,0x0,0x0                                                                                    
006070   e104     BNZ       0x607a                                                                                          
006072   6bb8     CLRF      0xb8,0x1                                                                                        
0062aa   2bb8     INCF      0xb8,0x1,0x1                                                                                    
0062ac   51b8     MOVF      0xb8,0x0,0x1                                                                                    
0062ae   6e4e     MOVWF     0x4e,0x0                                                                                        
0062b0   6a4f     CLRF      0x4f,0x0                                                                                        
0062b2   0e00     MOVLW     0x0                                                                                             
0062b4   184e     XORWF     0x4e,0x0,0x0                                                                                    
0062b6   0012     RETURN    0x0                                                                                             
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006074   d002     BRA       0x607a             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006076   0e00     MOVLW     0x0                  return(FALSE);                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006078   d004     BRA       0x6082                                                                                          
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006080   0e01     MOVLW     0x1              return(TRUE);                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006082   6e4e     MOVWF     0x4e,0x0       }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006084   0e02     MOVLW     0x2                                                                                             
006086   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
006088   e202     BC        0x608e                                                                                          
00608a   6ae1     CLRF      0xe1,0x0                                                                                        
00608c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00608e   6ee1     MOVWF     0xe1,0x0                                                                                        
006090   504e     MOVF      0x4e,0x0,0x0                                                                                    
006092   d0f4     BRA       0x627c                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // For debugging, this command will spit out a bunch of values.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void print_status(void)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006094   0efa     MOVLW     0xfa             ebb_print((far rom char*)"Status=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006096   6e4e     MOVWF     0x4e,0x0                                                                                        
006098   0e81     MOVLW     0x81                                                                                            
00609a   d8cf     RCALL     0x623a                                                                                          
00623a   d9b0     RCALL     0x659c                                                                                          
00623c   ef7a     GOTO      0x66f4                                                                                          
00623e   f033                                                                                                               
00609c   c47e     MOVFF     0x47e,0x4e       ebb_print_uint(ISR_D_FIFO_length);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00609e   f04e                                                                                                               
0060a0   dafc     RCALL     0x669a                                                                                          
0060a2   ef90     GOTO      0x6520                                                                                          
0060a4   f032                                                                                                               
006520   d8e5     RCALL     0x66ec                                                                                          
0066ec   c04e     MOVFF     0x4e,0xfe6                                                                                      
0066ee   ffe6                                                                                                               
0066f0   ef20     GOTO      0x6240                                                                                          
0066f2   f031                                                                                                               
00624e   0e01     MOVLW     0x1              print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006250   ef3a     GOTO      0x6674                                                                                          
006252   f033                                                                                                               
006522   ef27     GOTO      0x624e                                                                                          
006524   f031                                                                                                               
006674   6ee6     MOVWF     0xe6,0x0                                                                                        
006676   ec98     CALL      0x4b30,0x0                                                                                      
006678   f025                                                                                                               
00667a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00667c   0012     RETURN    0x0                                                                                             
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Function:        void BlinkUSBStatus(void)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Overview:        BlinkUSBStatus turns on and off LEDs corresponding to        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  the USB device state.                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Note:            mLED macros can be found in io_cfg.h                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  usb_device_state is declared in usbmmap.c and is modified    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  in usbdrv.c, usbctrltrf.c, and usb9.c                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void BlinkUSBStatus(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             static WORD LEDCount = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             static unsigned char LEDState = 0;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060a6   0105     MOVLB     0x5                USBDeviceState == DETACHED_STATE                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060a8   51bc     MOVF      0xbc,0x0,0x1                                                                                    
                                               ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060ac   0e01     MOVLW     0x1                1u == USBSuspendControl                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060ae   6e4e     MOVWF     0x4e,0x0                                                                                        
0060b0   5065     MOVF      0x65,0x0,0x0                                                                                    
0060b2   0b02     ANDLW     0x2                                                                                             
0060b4   e001     BZ        0x60b8                                                                                          
0060b6   0e01     MOVLW     0x1                                                                                             
0060aa   e008     BZ        0x60bc           )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060b8   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
0060ba   e117     BNZ       0x60ea                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060bc   d9d6     RCALL     0x646a             LEDCount--;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060be   e10b     BNZ       0x60d6             if (0u == LEDState)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060c0   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060c2   117d     IORWF     0x7d,0x0,0x1                                                                                    
0060c4   e111     BNZ       0x60e8                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060c6   868c     BSF       0x8c,0x3,0x0           mLED_1_On();                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060c8   0ea0     MOVLW     0xa0                   LEDCount = 4000U;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060ca   6f7c     MOVWF     0x7c,0x1                                                                                        
0060cc   0e0f     MOVLW     0xf                                                                                             
0060ce   6f7d     MOVWF     0x7d,0x1                                                                                        
0060d0   0e01     MOVLW     0x1                    LEDState = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060d2   6f7e     MOVWF     0x7e,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060d4   0012     RETURN    0x0                else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060d6   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060d8   117d     IORWF     0x7d,0x0,0x1                                                                                    
0060da   e152     BNZ       0x6180                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060dc   968c     BCF       0x8c,0x3,0x0           mLED_1_Off();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060de   0ea0     MOVLW     0xa0                   LEDCount = 4000U;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060e0   6f7c     MOVWF     0x7c,0x1                                                                                        
0060e2   0e0f     MOVLW     0xf                                                                                             
0060e4   6f7d     MOVWF     0x7d,0x1                                                                                        
0060e6   6b7e     CLRF      0x7e,0x1               LEDState = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060e8   0012     RETURN    0x0              else if (                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               USBDeviceState == ATTACHED_STATE                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060ea   05bc     DECF      0xbc,0x0,0x1       ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060ee   0e02     MOVLW     0x2                USBDeviceState == POWERED_STATE                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060ec   e009     BZ        0x6100             ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060f0   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
0060f2   e006     BZ        0x6100                                                                                          
0060f4   0e04     MOVLW     0x4                USBDeviceState == DEFAULT_STATE                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060f6   5dbc     SUBWF     0xbc,0x0,0x1       ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060f8   e003     BZ        0x6100                                                                                          
0060fa   0e10     MOVLW     0x10               USBDeviceState == ADDRESS_STATE                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060fc   5dbc     SUBWF     0xbc,0x0,0x1     )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060fe   e117     BNZ       0x612e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006100   d9b4     RCALL     0x646a             LEDCount--;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006102   e10b     BNZ       0x611a             if (0u == LEDState)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006104   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006106   117d     IORWF     0x7d,0x0,0x1                                                                                    
006108   e111     BNZ       0x612c                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00610a   868c     BSF       0x8c,0x3,0x0           mLED_1_On();                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00610c   0e20     MOVLW     0x20                   LEDCount = 20000U;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00610e   6f7c     MOVWF     0x7c,0x1                                                                                        
006110   0e4e     MOVLW     0x4e                                                                                            
006112   6f7d     MOVWF     0x7d,0x1                                                                                        
006114   0e01     MOVLW     0x1                    LEDState = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006116   6f7e     MOVWF     0x7e,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006118   0012     RETURN    0x0                else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00611a   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00611c   117d     IORWF     0x7d,0x0,0x1                                                                                    
00611e   e130     BNZ       0x6180                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006120   968c     BCF       0x8c,0x3,0x0           mLED_1_Off();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006122   0e20     MOVLW     0x20                   LEDCount = 20000U;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006124   6f7c     MOVWF     0x7c,0x1                                                                                        
006126   0e4e     MOVLW     0x4e                                                                                            
006128   6f7d     MOVWF     0x7d,0x1                                                                                        
00612a   6b7e     CLRF      0x7e,0x1               LEDState = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00612c   0012     RETURN    0x0              else if (USBDeviceState == CONFIGURED_STATE)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00612e   0e20     MOVLW     0x20                                                                                            
006130   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
006132   e126     BNZ       0x6180                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006134   d99a     RCALL     0x646a             LEDCount--;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00646a   0101     MOVLB     0x1                                                                                             
00646c   077c     DECF      0x7c,0x1,0x1                                                                                    
00646e   0e00     MOVLW     0x0                                                                                             
006470   5b7d     SUBWFB    0x7d,0x1,0x1                                                                                    
006136   e107     BNZ       0x6146             if (0u == LEDState)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006472   517e     MOVF      0x7e,0x0,0x1                                                                                    
006474   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006138   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00613a   117d     IORWF     0x7d,0x0,0x1                                                                                    
00613c   e121     BNZ       0x6180                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00613e   868c     BSF       0x8c,0x3,0x0           mLED_1_On();                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006140   d9ce     RCALL     0x64de                 LEDCount = 10000U;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006142   0e01     MOVLW     0x1                    LEDState = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006144   d015     BRA       0x6170             else if (1u == LEDState)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006146   057e     DECF      0x7e,0x0,0x1                                                                                    
006148   e107     BNZ       0x6158                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00614a   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00614c   117d     IORWF     0x7d,0x0,0x1                                                                                    
00614e   e118     BNZ       0x6180                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006150   968c     BCF       0x8c,0x3,0x0           mLED_1_Off();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006152   d9c5     RCALL     0x64de                 LEDCount = 10000U;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006154   0e02     MOVLW     0x2                    LEDState = 2;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006156   d00c     BRA       0x6170             else if (2u == LEDState)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006158   0e02     MOVLW     0x2                                                                                             
00615a   5d7e     SUBWF     0x7e,0x0,0x1                                                                                    
00615c   e10b     BNZ       0x6174                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00615e   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006160   117d     IORWF     0x7d,0x0,0x1                                                                                    
006162   e10e     BNZ       0x6180                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006164   868c     BSF       0x8c,0x3,0x0           mLED_1_On();                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006166   0ea0     MOVLW     0xa0                   LEDCount = 100000U;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006168   6f7c     MOVWF     0x7c,0x1                                                                                        
00616a   0e86     MOVLW     0x86                                                                                            
00616c   6f7d     MOVWF     0x7d,0x1                                                                                        
00616e   0e03     MOVLW     0x3                    LEDState = 3;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006170   6f7e     MOVWF     0x7e,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006172   0012     RETURN    0x0                else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006174   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006176   117d     IORWF     0x7d,0x0,0x1                                                                                    
006178   e103     BNZ       0x6180                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00617a   968c     BCF       0x8c,0x3,0x0           mLED_1_Off();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00617c   d9b0     RCALL     0x64de                 LEDCount = 10000U;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0064de   0e10     MOVLW     0x10                                                                                            
0064e0   6f7c     MOVWF     0x7c,0x1                                                                                        
0064e2   0e27     MOVLW     0x27                                                                                            
0064e4   6f7d     MOVWF     0x7d,0x1                                                                                        
0064e6   0012     RETURN    0x0                                                                                             
00617e   6b7e     CLRF      0x7e,0x1               LEDState = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006180   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile near unsigned char * rom RPnTRISPort[25] = {                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISA,     // RP0                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISA,     // RP1                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISA,     // RP2                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP3                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP4                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP5                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP6                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP7                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP8                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP9                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP10                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP11                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP12                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP13                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP14                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP15                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP16                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP17                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP18                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISD,     // RP19                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISD,     // RP20                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISD,     // RP21                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISD,     // RP22                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISD,     // RP23                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISD,     // RP24                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile near unsigned char * rom RPnLATPort[25] = {                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATA,      // RP0                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATA,      // RP1                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATA,      // RP2                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP3                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP4                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP5                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP6                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP7                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP8                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP9                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP10                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP11                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP12                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP13                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP14                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP15                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP16                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP17                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP18                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATD,      // RP19                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATD,      // RP20                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATD,      // RP21                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATD,      // RP22                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATD,      // RP23                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATD,      // RP24                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           const char rom RPnBit[25] = {                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             0,          // RP0                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             1,          // RP1                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             5,          // RP2                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             0,          // RP3                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             1,          // RP4                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             2,          // RP5                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             3,          // RP6                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             4,          // RP7                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             5,          // RP8                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             6,          // RP9                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             7,          // RP10                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             0,          // RP11                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             1,          // RP12                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             2,          // RP13                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             3,          // RP14                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             4,          // RP15                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             5,          // RP16                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             6,          // RP17                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             7,          // RP18                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             2,          // RP19                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             3,          // RP20                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             4,          // RP21                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             5,          // RP22                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             6,          // RP23                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             7,          // RP24                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // From RPn (Pin) number, set LAT value for that pin                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006182   d877     RCALL     0x6272         void SetPinLATFromRPn(char Pin, char State)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006184   d9a0     RCALL     0x64c6           if (Pin > 25)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006186   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
006188   d002     BRA       0x618e                                                                                          
00618a   344e     RLCF      0x4e,0x0,0x0                                                                                    
00618c   d003     BRA       0x6194                                                                                          
00618e   50e7     MOVF      0xe7,0x0,0x0                                                                                    
006190   80d8     BSF       0xd8,0x0,0x0                                                                                    
006192   544e     SUBFWB    0x4e,0x0,0x0                                                                                    
006194   e323     BNC       0x61dc                                                                                          
0064c6   0efe     MOVLW     0xfe                                                                                            
0064c8   cfdb     MOVFF     0xfdb,0x4e                                                                                      
0064ca   f04e                                                                                                               
0064cc   0e19     MOVLW     0x19                                                                                            
0064ce   6ee7     MOVWF     0xe7,0x0                                                                                        
0064d0   184e     XORWF     0x4e,0x0,0x0                                                                                    
0064d2   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006196   0efd     MOVLW     0xfd             if (State)                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006198   50db     MOVF      0xdb,0x0,0x0                                                                                    
00619a   e010     BZ        0x61bc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00619c   d90f     RCALL     0x63bc             bitset(*RPnLATPort[Pin], RPnBit[Pin]);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00619e   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
0061a0   68f7     SETF      0xf7,0x0                                                                                        
0061a2   d8ad     RCALL     0x62fe                                                                                          
0061a4   e004     BZ        0x61ae                                                                                          
0061a6   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
0061a8   0bfe     ANDLW     0xfe                                                                                            
0061aa   064f     DECF      0x4f,0x1,0x0                                                                                    
0061ac   e1fc     BNZ       0x61a6                                                                                          
0061ae   6e4e     MOVWF     0x4e,0x0                                                                                        
0061b0   d905     RCALL     0x63bc                                                                                          
0061b2   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
0061b4   68f7     SETF      0xf7,0x0                                                                                        
0061b6   d9fe     RCALL     0x65b4                                                                                          
0061b8   12ef     IORWF     0xef,0x1,0x0                                                                                    
0065b4   90d8     BCF       0xd8,0x0,0x0                                                                                    
0065b6   36f6     RLCF      0xf6,0x1,0x0                                                                                    
0065b8   36f7     RLCF      0xf7,0x1,0x0                                                                                    
0065ba   0e99     MOVLW     0x99                                                                                            
0065bc   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
0065be   0e8b     MOVLW     0x8b                                                                                            
0065c0   ef9b     GOTO      0x6336                                                                                          
0065c2   f031                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061ba   d010     BRA       0x61dc           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061bc   d8ff     RCALL     0x63bc             bitclr(*RPnLATPort[Pin], RPnBit[Pin]);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061be   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
0061c0   68f7     SETF      0xf7,0x0                                                                                        
0061c2   d89d     RCALL     0x62fe                                                                                          
0061c4   e004     BZ        0x61ce                                                                                          
0061c6   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
0061c8   0bfe     ANDLW     0xfe                                                                                            
0061ca   064f     DECF      0x4f,0x1,0x0                                                                                    
0061cc   e1fc     BNZ       0x61c6                                                                                          
0061ce   1ce8     COMF      0xe8,0x0,0x0                                                                                    
0061d0   6e4e     MOVWF     0x4e,0x0                                                                                        
0061d2   d8f4     RCALL     0x63bc                                                                                          
0061d4   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
0061d6   68f7     SETF      0xf7,0x0                                                                                        
0061d8   d9ed     RCALL     0x65b4                                                                                          
0061da   16ef     ANDWF     0xef,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061dc   d04f     BRA       0x627c         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // From RPn (Pin) number, set TRIS value for that pin                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061de   d849     RCALL     0x6272         void SetPinTRISFromRPn(char Pin, char State)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061e0   d972     RCALL     0x64c6           if (Pin > 25)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061e2   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
0061e4   d002     BRA       0x61ea                                                                                          
0061e6   344e     RLCF      0x4e,0x0,0x0                                                                                    
0061e8   d003     BRA       0x61f0                                                                                          
0061ea   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0061ec   80d8     BSF       0xd8,0x0,0x0                                                                                    
0061ee   544e     SUBFWB    0x4e,0x0,0x0                                                                                    
0061f0   e323     BNC       0x6238                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061f2   0efd     MOVLW     0xfd             if (OUTPUT_PIN == State)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061f4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0061f6   e111     BNZ       0x621a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061f8   d8e1     RCALL     0x63bc             bitclr (*RPnTRISPort[Pin], RPnBit[Pin]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061fa   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
0061fc   68f7     SETF      0xf7,0x0                                                                                        
0061fe   d87f     RCALL     0x62fe                                                                                          
006200   e004     BZ        0x620a                                                                                          
006202   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
006204   0bfe     ANDLW     0xfe                                                                                            
006206   064f     DECF      0x4f,0x1,0x0                                                                                    
006208   e1fc     BNZ       0x6202                                                                                          
00620a   1ce8     COMF      0xe8,0x0,0x0                                                                                    
00620c   6e4e     MOVWF     0x4e,0x0                                                                                        
00620e   d8d6     RCALL     0x63bc                                                                                          
006210   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
006212   68f7     SETF      0xf7,0x0                                                                                        
006214   d9d7     RCALL     0x65c4                                                                                          
006216   16ef     ANDWF     0xef,0x1,0x0                                                                                    
0065c4   90d8     BCF       0xd8,0x0,0x0                                                                                    
0065c6   36f6     RLCF      0xf6,0x1,0x0                                                                                    
0065c8   36f7     RLCF      0xf7,0x1,0x0                                                                                    
0065ca   0e67     MOVLW     0x67                                                                                            
0065cc   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
0065ce   0e8b     MOVLW     0x8b                                                                                            
0065d0   ef9b     GOTO      0x6336                                                                                          
0065d2   f031                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006218   d00f     BRA       0x6238           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00621a   d8d0     RCALL     0x63bc             bitset (*RPnTRISPort[Pin], RPnBit[Pin]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00621c   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
00621e   68f7     SETF      0xf7,0x0                                                                                        
006220   d86e     RCALL     0x62fe                                                                                          
006222   e004     BZ        0x622c                                                                                          
006224   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
006226   0bfe     ANDLW     0xfe                                                                                            
006228   064f     DECF      0x4f,0x1,0x0                                                                                    
00622a   e1fc     BNZ       0x6224                                                                                          
00622c   6e4e     MOVWF     0x4e,0x0                                                                                        
00622e   d8c6     RCALL     0x63bc                                                                                          
006230   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
006232   68f7     SETF      0xf7,0x0                                                                                        
006234   d9c7     RCALL     0x65c4                                                                                          
006236   12ef     IORWF     0xef,0x1,0x0                                                                                    
0062fe   0ecb     MOVLW     0xcb                                                                                            
006300   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
006302   0e8b     MOVLW     0x8b                                                                                            
006304   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
006306   0008     TBLRD                                                                                                     
006308   50f5     MOVF      0xf5,0x0,0x0                                                                                    
00630a   6e4f     MOVWF     0x4f,0x0                                                                                        
00630c   0e01     MOVLW     0x1                                                                                             
00630e   524f     MOVF      0x4f,0x1,0x0                                                                                    
006310   0012     RETURN    0x0                                                                                             
006336   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
006338   0009     TBLRDPOSTINC                                                                                              
00633a   cff5     MOVFF     0xff5,0xfe9                                                                                     
00633c   ffe9                                                                                                               
00633e   0008     TBLRD                                                                                                     
006340   cff5     MOVFF     0xff5,0xfea                                                                                     
006342   ffea                                                                                                               
006344   504e     MOVF      0x4e,0x0,0x0                                                                                    
006346   0012     RETURN    0x0                                                                                             
0063bc   0efe     MOVLW     0xfe                                                                                            
0063be   cfdb     MOVFF     0xfdb,0xff6                                                                                     
0063c0   fff6                                                                                                               
0063c2   6af7     CLRF      0xf7,0x0                                                                                        
0063c4   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006238   d021     BRA       0x627c         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00627c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00627e   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
006280   ffd9                                                                                                               
006282   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /** EOF user.c ***************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            FileName:      usb_descriptors.c                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Dependencies:  See INCLUDES section                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Processor:     PIC18 or PIC24 USB Microcontrollers                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Hardware:      The code is natively intended to be used on the following        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                           hardware platforms: PICDEM FS USB Demo Board,                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                           PIC18F87J50 FS USB Plug-In Module, or                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                           Explorer 16 + PIC24 USB PIM.  The firmware may be                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                           modified for use on other USB platforms by editing the           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                           HardwareProfile.h file.                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Complier:      Microchip C18 (for PIC18) or C30 (for PIC24)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Company:       Microchip Technology, Inc.                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Software License Agreement:                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            The software supplied herewith by Microchip Technology Incorporated             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            (the Company) for its PIC Microcontroller is intended and                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            supplied to you, the Companys customer, for use solely and                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            exclusively on Microchip PIC Microcontroller products. The                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            software is owned by the Company and/or its supplier, and is                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            protected under applicable copyright laws. All rights are reserved.             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Any use in violation of the foregoing restrictions may subject the              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            user to criminal sanctions under applicable laws, as well as to                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            civil liability for the breach of the terms and conditions of this              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            license.                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            THIS SOFTWARE IS PROVIDED IN AN AS IS CONDITION. NO WARRANTIES,               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           *********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           -usb_descriptors.c-                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           -------------------------------------------------------------------              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           Filling in the descriptor values in the usb_descriptors.c file:                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           -------------------------------------------------------------------              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           [Device Descriptors]                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The device descriptor is defined as a USB_DEVICE_DESCRIPTOR type.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           This type is defined in usb_ch9.h  Each entry into this structure                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           needs to be the correct length for the data type of the entry.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           [Configuration Descriptors]                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The configuration descriptor was changed in v2.x from a structure                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           to a BYTE array.  Given that the configuration is now a byte array               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           each byte of multi-byte fields must be listed individually.  This                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           means that for fields like the total size of the configuration where             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           the field is a 16-bit value "64,0," is the correct entry for a                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           configuration that is only 64 bytes long and not "64," which is one              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           too few bytes.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The configuration attribute must always have the _DEFAULT                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           definition at the minimum. Additional options can be ORed                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           to the _DEFAULT attribute. Available options are _SELF and _RWU.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           These definitions are defined in the usb_device.h file. The                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           _SELF tells the USB host that this device is self-powered. The                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           _RWU tells the USB host that this device supports Remote Wakeup.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           [Endpoint Descriptors]                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           Like the configuration descriptor, the endpoint descriptors were                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           changed in v2.x of the stack from a structure to a BYTE array.  As               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           endpoint descriptors also has a field that are multi-byte entities,              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           please be sure to specify both bytes of the field.  For example, for             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           the endpoint size an endpoint that is 64 bytes needs to have the size            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           defined as "64,0," instead of "64,"                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           Take the following example:                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               // Endpoint Descriptor //                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               0x07,                       //the size of this descriptor //                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               USB_DESCRIPTOR_ENDPOINT,    //Endpoint Descriptor                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               _EP02_IN,                   //EndpointAddress                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               _INT,                       //Attributes                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               0x08,0x00,                  //size (note: 2 bytes)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               0x02,                       //Interval                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The first two parameters are self-explanatory. They specify the                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           length of this endpoint descriptor (7) and the descriptor type.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The next parameter identifies the endpoint, the definitions are                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           defined in usb_device.h and has the following naming                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           convention:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           _EP<##>_<dir>                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           where ## is the endpoint number and dir is the direction of                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           transfer. The dir has the value of either 'OUT' or 'IN'.                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The next parameter identifies the type of the endpoint. Available                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           options are _BULK, _INT, _ISO, and _CTRL. The _CTRL is not                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           typically used because the default control transfer endpoint is                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           not defined in the USB descriptors. When _ISO option is used,                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           addition options can be ORed to _ISO. Example:                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           _ISO|_AD|_FE                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           This describes the endpoint as an isochronous pipe with adaptive                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           and feedback attributes. See usb_device.h and the USB                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           specification for details. The next parameter defines the size of                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           the endpoint. The last parameter in the polling interval.                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           -------------------------------------------------------------------              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           Adding a USB String                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           -------------------------------------------------------------------              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           A string descriptor array should have the following format:                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           rom struct{byte bLength;byte bDscType;word string[size];}sdxxx={                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           sizeof(sdxxx),DSC_STR,<text>};                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The above structure provides a means for the C compiler to                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           calculate the length of string descriptor sdxxx, where xxx is the                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           index number. The first two bytes of the descriptor are descriptor               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           length and type. The rest <text> are string texts which must be                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           in the unicode format. The unicode format is achieved by declaring               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           each character as a word type. The whole text string is declared                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           as a word array with the number of characters equals to <size>.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           <size> has to be manually counted and entered into the array                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           declaration. Let's study this through an example:                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           if the string is "USB" , then the string descriptor should be:                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           (Using index 02)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           rom struct{byte bLength;byte bDscType;word string[3];}sd002={                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           sizeof(sd002),DSC_STR,'U','S','B'};                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           A USB project may have multiple strings and the firmware supports                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           the management of multiple strings through a look-up table.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The look-up table is defined as:                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           rom const unsigned char *rom USB_SD_Ptr[]={&sd000,&sd001,&sd002};                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The above declaration has 3 strings, sd000, sd001, and sd002.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           Strings can be removed or added. sd000 is a specialized string                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           descriptor. It defines the language code, usually this is                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           US English (0x0409). The index of the string must match the index                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           position of the USB_SD_Ptr array, &sd000 must be in position                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           USB_SD_Ptr[0], &sd001 must be in position USB_SD_Ptr[1] and so on.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The look-up table USB_SD_Ptr is used by the get string handler                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           function.                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           -------------------------------------------------------------------              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The look-up table scheme also applies to the configuration                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           descriptor. A USB device may have multiple configuration                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           descriptors, i.e. CFG01, CFG02, etc. To add a configuration                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           descriptor, user must implement a structure similar to CFG01.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The next step is to add the configuration descriptor name, i.e.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           cfg01, cfg02,.., to the look-up table USB_CD_Ptr. USB_CD_Ptr[0]                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           is a dummy place holder since configuration 0 is the un-configured               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           state according to the definition in the USB specification.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           ********************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /*********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            * Descriptor specific type definitions are defined in:                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            * usb_device.h                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            * Configuration options are defined in:                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            * usb_config.h                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            ********************************************************************/           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #ifndef __USB_DESCRIPTORS_C                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #define __USB_DESCRIPTORS_C                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /** INCLUDES *******************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #include "./USB/usb.h"                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #include "./USB/usb_function_cdc.h"                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /** CONSTANTS ******************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #if defined(__18CXX)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #pragma romdata                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /* Device Descriptor */                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           ROM USB_DEVICE_DESCRIPTOR device_dsc =                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x12,                   // Size of this descriptor in bytes                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_DEVICE,  // DEVICE descriptor type                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x0200,                 // USB Spec Release Number in BCD format               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CDC_DEVICE,             // Class Code                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x00,                   // Subclass code                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x00,                   // Protocol code                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_EP0_BUFF_SIZE,      // Max packet size for EP0, see usb_config.h           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x04D8,                 // Vendor ID                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0xFD92,                 // Product ID: UBW based serial port device            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x0182,                 // Device release number in BCD format                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x01,                   // Manufacturer string index                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x02,                   // Product string index                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x03,                   // Device serial number string index                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x01                    // Number of possible configurations                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /* Configuration 1 Descriptor */                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           ROM BYTE configDescriptor1[] = {                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* Configuration Descriptor */                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x09,//sizeof(USB_CFG_DSC),    // Size of this descriptor in bytes             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_CONFIGURATION,  // CONFIGURATION descriptor type                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             67,0,                   // Total length of data for this cfg                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             2,                      // Number of interfaces in this cfg                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             1,                      // Index value of this configuration                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                      // Configuration string index                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _DEFAULT | _SELF,       // Attributes, see usb_device.h                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             50,                     // Max power consumption (2X mA)                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* Interface Descriptor */                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             9,//sizeof(USB_INTF_DSC),   // Size of this descriptor in bytes                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_INTERFACE,   // INTERFACE descriptor type                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                      // Interface Number                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                      // Alternate Setting Number                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             1,                      // Number of endpoints in this interface               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             COMM_INTF,              // Class code                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             ABSTRACT_CONTROL_MODEL, // Subclass code                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             V25TER,                 // Protocol code                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                      // Interface string index                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* CDC Class-Specific Descriptors */                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(USB_CDC_HEADER_FN_DSC),                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CS_INTERFACE,                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             DSC_FN_HEADER,                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x10,0x01,                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(USB_CDC_ACM_FN_DSC),                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CS_INTERFACE,                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             DSC_FN_ACM,                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_CDC_ACM_FN_DSC_VAL,                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(USB_CDC_UNION_FN_DSC),                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CS_INTERFACE,                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             DSC_FN_UNION,                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CDC_COMM_INTF_ID,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CDC_DATA_INTF_ID,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(USB_CDC_CALL_MGT_FN_DSC),                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CS_INTERFACE,                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             DSC_FN_CALL_MGT,                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x00,                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CDC_DATA_INTF_ID,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* Endpoint Descriptor */                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             //sizeof(USB_EP_DSC),DSC_EP,_EP02_IN,_INT,CDC_INT_EP_SIZE,0x02,                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x07,/*sizeof(USB_EP_DSC)*/                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_ENDPOINT,    // Endpoint Descriptor                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _EP01_IN,                   // EndpointAddress                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _INTERRUPT,                 // Attributes                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x08,0x00,                  // size                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x02,                       // Interval                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* Interface Descriptor */                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             9,//sizeof(USB_INTF_DSC),   // Size of this descriptor in bytes                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_INTERFACE,   // INTERFACE descriptor type                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             1,                          // Interface Number                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                          // Alternate Setting Number                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             2,                          // Number of endpoints in this interface           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             DATA_INTF,                  // Class code                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                          // Subclass code                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             NO_PROTOCOL,                // Protocol code                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                          // Interface string index                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* Endpoint Descriptor */                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             //sizeof(USB_EP_DSC),DSC_EP,_EP03_OUT,_BULK,CDC_BULK_OUT_EP_SIZE,0x00,         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x07,/*sizeof(USB_EP_DSC)*/                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_ENDPOINT,    // Endpoint Descriptor                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _EP02_OUT,                  // EndpointAddress                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _BULK,                      // Attributes                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x40,0x00,                  // size                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x00,                       // Interval                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* Endpoint Descriptor */                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             //sizeof(USB_EP_DSC),DSC_EP,_EP03_IN,_BULK,CDC_BULK_IN_EP_SIZE,0x00            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x07,/*sizeof(USB_EP_DSC)*/                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_ENDPOINT,    // Endpoint Descriptor                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _EP02_IN,                   // EndpointAddress                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _BULK,                      // Attributes                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x40,0x00,                  // size                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x00,                       // Interval                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // Language code string descriptor                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           struct{BYTE bLength;BYTE bDscType;WORD string[1];}sd000 = {                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(sd000),USB_DESCRIPTOR_STRING,{0x0409}                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // Manufacturer string descriptor                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           struct{BYTE bLength;BYTE bDscType;WORD string[11];}sd001 = {                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(sd001),USB_DESCRIPTOR_STRING,                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             {'S','c','h','m','a','l','z','H','a','u','s'}                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // Product string descriptor                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // As of EBB firmware v2.5.4 this is now stored in ram, and we set it up here to D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // have enough space to put the 'name' (set via the 'NS' command) on the end     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           struct{BYTE bLength;BYTE bDscType;WORD string[27];}sd002 = {                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(sd002),USB_DESCRIPTOR_STRING,                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             {'E','i','B','o','t','B','o','a','r','d',',',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '} D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           struct{BYTE bLength;BYTE bDscType;WORD string[16];}sd003 = {                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(sd003),USB_DESCRIPTOR_STRING,                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '}              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // Array of configuration descriptors                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           ROM BYTE *ROM USB_CD_Ptr[] = {                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             (ROM BYTE *ROM)&configDescriptor1                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // Array of string descriptors                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           BYTE * USB_SD_Ptr[USB_NUM_STRING_DESCRIPTORS] = {                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               (BYTE *)&sd000,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               (BYTE *)&sd001,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               (BYTE *)&sd002,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               (BYTE *)&sd003                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #pragma code                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /** EOF usb_descriptors.c ****************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /*                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * File:   ebb_print.c                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * Author: Brian Schmalz (brian@schmalzhaus.com)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * Created on October 2, 2023, 7:41 PM                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * The functions in this file are meant to replace (partially) the built-in      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * printf() functionality in MAPLB C18. Even simple printf() calls were using    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * up significant stack space. In an effort to maximize the number of possible   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * FIFO elements, we freed up as much RAM as possible, and put the stack in      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * GPR14, which is not an entire bank since there are some SFRs at the end of    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * that bank. So the stack only goes from 0xE00 to 0xEBF. With printf() taking   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * up lots of that space, and because the new higher-order move instructions     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * need more stack space to operate (mainly to pass lots of paramters around)    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * we were seeing stack overflows in versions around v3.0.0-a18. This re-written D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * print functionality is an attempt at fixing that problem.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * We do not need any floating point support.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * All of our printing goes to the PC via the USB port.                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * Virtually all of our printing can be broken down into the following types:    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * - Simple strings with no variables                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * - A signed or unsigned byte                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * - A signed or unsigned 16-bit integer                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * - A signed or unsigned 32-bit integer                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * - A byte as hex                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * - A 16-bit integer as hex                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            */                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           #include <p18cxxx.h>                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           #include "UBW.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           #include "ebb_print.h"                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // Maximum number of output characters, plus sign, plus trailing 0x00            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // hex needs FFFFFFFF = 9                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // uint needs 4294967296 = 11                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // int needs -2147483649 = 12                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           #define EBB_PRINT_MAX_OUTPUT_LENGTH_CHARS   12                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // String where we build up our output before printing it out                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           static char gOutputStr[EBB_PRINT_MAX_OUTPUT_LENGTH_CHARS];                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // Current position within gOutputStr                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           static UINT8 gPos;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           static UINT8 i;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           /* Print a simple string */                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083a4   d8dd     RCALL     0x8560         void ebb_print(far rom char * print_str)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083a6   d8d0     RCALL     0x8548           while (*print_str != 0x00)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083a8   e00d     BZ        0x83c4                                                                                          
0083c2   d7f1     BRA       0x83a6                                                                                          
008548   0efc     MOVLW     0xfc                                                                                            
00854a   cfdb     MOVFF     0xfdb,0xff6                                                                                     
00854c   fff6                                                                                                               
00854e   0efd     MOVLW     0xfd                                                                                            
008550   cfdb     MOVFF     0xfdb,0xff7                                                                                     
008552   fff7                                                                                                               
008554   0efe     MOVLW     0xfe                                                                                            
008556   cfdb     MOVFF     0xfdb,0xff8                                                                                     
008558   fff8                                                                                                               
00855a   0008     TBLRD                                                                                                     
00855c   50f5     MOVF      0xf5,0x0,0x0                                                                                    
00855e   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083aa   d8ce     RCALL     0x8548             ebb_putc((char)*print_str);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083ac   d8f3     RCALL     0x8594                                                                                          
0083ae   50d9     MOVF      0xd9,0x0,0x0       print_str++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083b0   0ffc     ADDLW     0xfc                                                                                            
0083b2   6ee9     MOVWF     0xe9,0x0                                                                                        
0083b4   0eff     MOVLW     0xff                                                                                            
0083b6   20da     ADDWFC    0xda,0x0,0x0                                                                                    
0083b8   6eea     MOVWF     0xea,0x0                                                                                        
0083ba   2aee     INCF      0xee,0x1,0x0                                                                                    
0083bc   0e00     MOVLW     0x0                                                                                             
0083be   22ee     ADDWFC    0xee,0x1,0x0                                                                                    
0083c0   22ee     ADDWFC    0xee,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083c4   d0f7     BRA       0x85b4         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083c6   d8cc     RCALL     0x8560         void ebb_print_ram(char * print_str)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083c8   d8d6     RCALL     0x8576           while (*print_str != 0x00)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083ca   e008     BZ        0x83dc                                                                                          
0083da   d7f6     BRA       0x83c8                                                                                          
008576   0efd     MOVLW     0xfd                                                                                            
008578   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
00857a   ffe9                                                                                                               
00857c   0efe     MOVLW     0xfe                                                                                            
00857e   cfdb     MOVFF     0xfdb,0xfea                                                                                     
008580   ffea                                                                                                               
008582   50ef     MOVF      0xef,0x0,0x0                                                                                    
008584   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083cc   d8d4     RCALL     0x8576             ebb_putc(*print_str);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083ce   d8e2     RCALL     0x8594                                                                                          
0083d0   0efd     MOVLW     0xfd               print_str++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083d2   2adb     INCF      0xdb,0x1,0x0                                                                                    
0083d4   0efe     MOVLW     0xfe                                                                                            
0083d6   e3f8     BNC       0x83c8                                                                                          
0083d8   2adb     INCF      0xdb,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083dc   d0eb     BRA       0x85b4         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // Print out <data> as a hex value, zero-padded to <length> digits               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083de   d8ee     RCALL     0x85bc         void ebb_print_hex(UINT32 data, UINT8 length)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0085bc   dfd1     RCALL     0x8560                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0085be   0101     MOVLB     0x1              gOutputStr[EBB_PRINT_MAX_OUTPUT_LENGTH_CHARS - 1] = 0x00;  // Always add string terminator D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0085c0   6bfc     CLRF      0xfc,0x1                                                                                        
0085c2   0e0a     MOVLW     0xa              gPos = (EBB_PRINT_MAX_OUTPUT_LENGTH_CHARS - 2);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0085c4   6ffd     MOVWF     0xfd,0x1                                                                                        
0085c6   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             do                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083e0   0e0f     MOVLW     0xf                i = data & 0x0000000F;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083e2   6e4e     MOVWF     0x4e,0x0                                                                                        
0083e4   6a4f     CLRF      0x4f,0x0                                                                                        
0083e6   6a50     CLRF      0x50,0x0                                                                                        
0083e8   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0083ea   d8bf     RCALL     0x856a                                                                                          
0083ec   50ee     MOVF      0xee,0x0,0x0                                                                                    
0083ee   164e     ANDWF     0x4e,0x1,0x0                                                                                    
0083f0   50ee     MOVF      0xee,0x0,0x0                                                                                    
0083f2   164f     ANDWF     0x4f,0x1,0x0                                                                                    
0083f4   50ee     MOVF      0xee,0x0,0x0                                                                                    
0083f6   1650     ANDWF     0x50,0x1,0x0                                                                                    
0083f8   50ee     MOVF      0xee,0x0,0x0                                                                                    
0083fa   c04e     MOVFF     0x4e,0x1fe                                                                                      
0083fc   f1fe                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0083fe   504e     MOVF      0x4e,0x0,0x0       if (i <= 0x09u)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008400   0809     SUBLW     0x9                                                                                             
008402   e302     BNC       0x8408                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008404   0e30     MOVLW     0x30                 gOutputStr[gPos] = i + '0';                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008406   d001     BRA       0x840a             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008408   0e37     MOVLW     0x37                 gOutputStr[gPos] = i + ('A' - 0x0A);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00840a   25fe     ADDWF     0xfe,0x0,0x1                                                                                    
00840c   d8c8     RCALL     0x859e                                                                                          
00859e   6ee6     MOVWF     0xe6,0x0                                                                                        
0085a0   51fd     MOVF      0xfd,0x0,0x1                                                                                    
0085a2   6aea     CLRF      0xea,0x0                                                                                        
0085a4   0ff1     ADDLW     0xf1                                                                                            
0085a6   6ee9     MOVWF     0xe9,0x0                                                                                        
0085a8   0e01     MOVLW     0x1                                                                                             
0085aa   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0085ac   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0085ae   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0085b0   6eef     MOVWF     0xef,0x0                                                                                        
0085b2   0012     RETURN    0x0                                                                                             
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00840e   d873     RCALL     0x84f6             data = data >> 4;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008410   0e04     MOVLW     0x4                                                                                             
008412   90d8     BCF       0xd8,0x0,0x0                                                                                    
008414   3251     RRCF      0x51,0x1,0x0                                                                                    
008416   3250     RRCF      0x50,0x1,0x0                                                                                    
008418   324f     RRCF      0x4f,0x1,0x0                                                                                    
00841a   324e     RRCF      0x4e,0x1,0x0                                                                                    
00841c   06e8     DECF      0xe8,0x1,0x0                                                                                    
00841e   e1f9     BNZ       0x8412                                                                                          
008420   0efb     MOVLW     0xfb                                                                                            
008422   c04e     MOVFF     0x4e,0xfdb                                                                                      
008424   ffdb                                                                                                               
008426   0efc     MOVLW     0xfc                                                                                            
008428   c04f     MOVFF     0x4f,0xfdb                                                                                      
00842a   ffdb                                                                                                               
00842c   0efd     MOVLW     0xfd                                                                                            
00842e   c050     MOVFF     0x50,0xfdb                                                                                      
008430   ffdb                                                                                                               
008432   0efe     MOVLW     0xfe                                                                                            
008434   c051     MOVFF     0x51,0xfdb                                                                                      
008436   ffdb                                                                                                               
008438   0101     MOVLB     0x1                gPos--;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00843a   07fd     DECF      0xfd,0x1,0x1                                                                                    
00843c   0efa     MOVLW     0xfa               if (length)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00843e   50db     MOVF      0xdb,0x0,0x0                                                                                    
008440   e002     BZ        0x8446                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008442   0efa     MOVLW     0xfa                 length--;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008444   06db     DECF      0xdb,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008446   d8c0     RCALL     0x85c8           while (data != 0u || length != 0u);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008448   e1cb     BNZ       0x83e0                                                                                          
00844a   0efa     MOVLW     0xfa                                                                                            
00844c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00844e   e1c8     BNZ       0x83e0                                                                                          
0085c8   df96     RCALL     0x84f6                                                                                          
0085ca   504e     MOVF      0x4e,0x0,0x0                                                                                    
0085cc   104f     IORWF     0x4f,0x0,0x0                                                                                    
0085ce   1050     IORWF     0x50,0x0,0x0                                                                                    
0085d0   1051     IORWF     0x51,0x0,0x0                                                                                    
0085d2   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008450   d06c     BRA       0x852a           gPos++;                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00852a   2bfd     INCF      0xfd,0x1,0x1                                                                                    
                                             // gPos now points to the beginning of where we need to print from             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00852c   51fd     MOVF      0xfd,0x0,0x1     ebb_print_ram(&gOutputStr[gPos]);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00852e   6a4f     CLRF      0x4f,0x0                                                                                        
008530   0ff1     ADDLW     0xf1                                                                                            
008532   6e4e     MOVWF     0x4e,0x0                                                                                        
008534   0e01     MOVLW     0x1                                                                                             
008536   224f     ADDWFC    0x4f,0x1,0x0                                                                                    
008538   c04e     MOVFF     0x4e,0xfe6                                                                                      
00853a   ffe6                                                                                                               
00853c   c04f     MOVFF     0x4f,0xfe6                                                                                      
00853e   ffe6                                                                                                               
008540   df42     RCALL     0x83c6                                                                                          
008542   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008544   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008546   d036     BRA       0x85b4         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0085b4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0085b6   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0085b8   ffd9                                                                                                               
0085ba   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // Print out <data> as an unsigned integer                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008452   d8b4     RCALL     0x85bc         void ebb_print_uint(UINT32 data)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             gOutputStr[EBB_PRINT_MAX_OUTPUT_LENGTH_CHARS - 1] = 0x00;  // Always add string terminator D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             gPos = (EBB_PRINT_MAX_OUTPUT_LENGTH_CHARS - 2);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             do                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008454   d85d     RCALL     0x8510             i = data % 10;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008456   d897     RCALL     0x8586                                                                                          
008458   c03c     MOVFF     0x3c,0x1fe                                                                                      
00845a   f1fe                                                                                                               
008586   0e0a     MOVLW     0xa                                                                                             
008588   6e45     MOVWF     0x45,0x0                                                                                        
00858a   6a46     CLRF      0x46,0x0                                                                                        
00858c   6a47     CLRF      0x47,0x0                                                                                        
00858e   6a48     CLRF      0x48,0x0                                                                                        
008590   ef27     GOTO      0x8e4e                                                                                          
008592   f047                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00845c   0e30     MOVLW     0x30               gOutputStr[gPos] = i + '0';                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00845e   0101     MOVLB     0x1                                                                                             
008460   243c     ADDWF     0x3c,0x0,0x0                                                                                    
008462   d89d     RCALL     0x859e                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008464   d855     RCALL     0x8510             data = data / 10;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008466   d88f     RCALL     0x8586                                                                                          
008468   0efb     MOVLW     0xfb                                                                                            
00846a   c040     MOVFF     0x40,0xfdb                                                                                      
00846c   ffdb                                                                                                               
00846e   0efc     MOVLW     0xfc                                                                                            
008470   c041     MOVFF     0x41,0xfdb                                                                                      
008472   ffdb                                                                                                               
008474   0efd     MOVLW     0xfd                                                                                            
008476   c042     MOVFF     0x42,0xfdb                                                                                      
008478   ffdb                                                                                                               
00847a   0efe     MOVLW     0xfe                                                                                            
00847c   c043     MOVFF     0x43,0xfdb                                                                                      
00847e   ffdb                                                                                                               
008510   0efb     MOVLW     0xfb                                                                                            
008512   cfdb     MOVFF     0xfdb,0x40                                                                                      
008514   f040                                                                                                               
008516   0efc     MOVLW     0xfc                                                                                            
008518   cfdb     MOVFF     0xfdb,0x41                                                                                      
00851a   f041                                                                                                               
00851c   0efd     MOVLW     0xfd                                                                                            
00851e   cfdb     MOVFF     0xfdb,0x42                                                                                      
008520   f042                                                                                                               
008522   0efe     MOVLW     0xfe                                                                                            
008524   cfdb     MOVFF     0xfdb,0x43                                                                                      
008526   f043                                                                                                               
008528   0012     RETURN    0x0                                                                                             
008480   0101     MOVLB     0x1                gPos--;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008482   07fd     DECF      0xfd,0x1,0x1                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008484   d8a1     RCALL     0x85c8           while (data != 0u);                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008486   e1e6     BNZ       0x8454                                                                                          
0084f6   0efb     MOVLW     0xfb                                                                                            
0084f8   cfdb     MOVFF     0xfdb,0x4e                                                                                      
0084fa   f04e                                                                                                               
0084fc   0efc     MOVLW     0xfc                                                                                            
0084fe   cfdb     MOVFF     0xfdb,0x4f                                                                                      
008500   f04f                                                                                                               
008502   0efd     MOVLW     0xfd                                                                                            
008504   cfdb     MOVFF     0xfdb,0x50                                                                                      
008506   f050                                                                                                               
008508   0efe     MOVLW     0xfe                                                                                            
00850a   cfdb     MOVFF     0xfdb,0x51                                                                                      
00850c   f051                                                                                                               
00850e   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008488   d050     BRA       0x852a           gPos++;                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             // gPos now points to the beginning of where we need to print from             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             ebb_print_ram(&gOutputStr[gPos]);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // Print out <data> as a signed integer                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00848a   d86a     RCALL     0x8560         void ebb_print_int(INT32 data)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008560   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
008562   ffe6                                                                                                               
008564   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
008566   ffd9                                                                                                               
008568   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             // Handle negative sign                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00848c   50e1     MOVF      0xe1,0x0,0x0     if (data < 0)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00848e   d86d     RCALL     0x856a                                                                                          
008490   90d8     BCF       0xd8,0x0,0x0                                                                                    
008492   0e03     MOVLW     0x3                                                                                             
008494   50eb     MOVF      0xeb,0x0,0x0                                                                                    
008496   0a00     XORLW     0x0                                                                                             
008498   e608     BN        0x84aa                                                                                          
00849a   0e00     MOVLW     0x0                                                                                             
00849c   5cee     SUBWF     0xee,0x0,0x0                                                                                    
00849e   0e00     MOVLW     0x0                                                                                             
0084a0   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
0084a2   0e00     MOVLW     0x0                                                                                             
0084a4   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
0084a6   0e00     MOVLW     0x0                                                                                             
0084a8   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
0084aa   e215     BC        0x84d6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0084ac   0e2d     MOVLW     0x2d               ebb_print_char('-');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0084ae   d872     RCALL     0x8594                                                                                          
008594   6ee6     MOVWF     0xe6,0x0                                                                                        
008596   ec14     CALL      0x4428,0x0                                                                                      
008598   f022                                                                                                               
00859a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00859c   0012     RETURN    0x0                                                                                             
0084b0   d82f     RCALL     0x8510             data = -data;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0084b2   6845     SETF      0x45,0x0                                                                                        
0084b4   6846     SETF      0x46,0x0                                                                                        
0084b6   6847     SETF      0x47,0x0                                                                                        
0084b8   6848     SETF      0x48,0x0                                                                                        
0084ba   ecc3     CALL      0x8d86,0x0                                                                                      
0084bc   f046                                                                                                               
0084be   0efb     MOVLW     0xfb                                                                                            
0084c0   c03c     MOVFF     0x3c,0xfdb                                                                                      
0084c2   ffdb                                                                                                               
0084c4   0efc     MOVLW     0xfc                                                                                            
0084c6   c03d     MOVFF     0x3d,0xfdb                                                                                      
0084c8   ffdb                                                                                                               
0084ca   0efd     MOVLW     0xfd                                                                                            
0084cc   c03e     MOVFF     0x3e,0xfdb                                                                                      
0084ce   ffdb                                                                                                               
0084d0   0efe     MOVLW     0xfe                                                                                            
0084d2   c03f     MOVFF     0x3f,0xfdb                                                                                      
0084d4   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0084d6   50d9     MOVF      0xd9,0x0,0x0     ebb_print_uint(data);                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0084d8   d848     RCALL     0x856a                                                                                          
0084da   cfee     MOVFF     0xfee,0xfe6                                                                                     
0084dc   ffe6                                                                                                               
0084de   cfee     MOVFF     0xfee,0xfe6                                                                                     
0084e0   ffe6                                                                                                               
0084e2   cfee     MOVFF     0xfee,0xfe6                                                                                     
0084e4   ffe6                                                                                                               
0084e6   cfef     MOVFF     0xfef,0xfe6                                                                                     
0084e8   ffe6                                                                                                               
0084ea   dfb3     RCALL     0x8452                                                                                          
0084ec   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0084ee   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0084f0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0084f2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00856a   0ffb     ADDLW     0xfb                                                                                            
00856c   6ee9     MOVWF     0xe9,0x0                                                                                        
00856e   0eff     MOVLW     0xff                                                                                            
008570   20da     ADDWFC    0xda,0x0,0x0                                                                                    
008572   6eea     MOVWF     0xea,0x0                                                                                        
008574   0012     RETURN    0x0                                                                                             
0084f4   d05f     BRA       0x85b4         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           #include <p18F46J50.inc>                                                         source\squareroot.s
                                                   LIST                                                                     C:\MCC18\mpasm\p18F46J50.inc
                                                                                                                            C:\MCC18\mpasm\p18F46J50.inc
                                           ;==========================================================================      C:\MCC18\mpasm\p18F46J50.inc
                                           ;  MPASM PIC18F46J50 processor include                                           C:\MCC18\mpasm\p18F46J50.inc
                                           ;                                                                                C:\MCC18\mpasm\p18F46J50.inc
                                           ;  (c) Copyright 1999-2013 Microchip Technology, All rights reserved             C:\MCC18\mpasm\p18F46J50.inc
                                           ;==========================================================================      C:\MCC18\mpasm\p18F46J50.inc
                                                                                                                            C:\MCC18\mpasm\p18F46J50.inc
                                                   LIST                                                                     C:\MCC18\mpasm\p18F46J50.inc
                                                                                                                            source\squareroot.s
                                           ; When assembly code is placed in a psect, it can be manipulated as a            source\squareroot.s
                                           ; whole by the linker and placed in memory.                                      source\squareroot.s
                                           ;                                                                                source\squareroot.s
                                           ; In this example, barfunc is the program section (psect) name, 'local' means    source\squareroot.s
                                           ; that the section will not be combined with other sections even if they have    source\squareroot.s
                                           ; the same name.  class=CODE means the barfunc must go in the CODE container.    source\squareroot.s
                                           ; PIC18 should have a delta (addressible unit size) of 1 (default) since they    source\squareroot.s
                                           ; are byte addressible.  PIC10/12/16 have a delta of 2 since they are word       source\squareroot.s
                                           ; addressible.  PIC18 should have a reloc (alignment) flag of 2 for any          source\squareroot.s
                                           ; psect which contains executable code.  PIC10/12/16 can use the default         source\squareroot.s
                                           ; reloc value of 1.  Use one of the psects below for the device you use:         source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ; psect   barfunc,local,class=CODE,delta=2 ; PIC10/12/16                         source\squareroot.s
                                           ;;;psect   barfunc,local,class=CODE,reloc=2 ; PIC18                              source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ;;;global _bar ; extern of bar function goes in the C source file                source\squareroot.s
                                           ;;;_bar:                                                                         source\squareroot.s
                                           ;;;    movf PORTA,w    ; here we use a symbol defined via xc.inc                 source\squareroot.s
                                           ;;;    return                                                                    source\squareroot.s
                                                                                                                            source\squareroot.s
                                                                                                                            source\squareroot.s
                                                                                                                            source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ;;;    RES0, RES1                                                                source\squareroot.s
                                           ;;;EXTERN Sqrt                                                                   source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ;;;W equ 0 ; Standard constants                                                  source\squareroot.s
                                           ;;;F equ 1                                                                       source\squareroot.s
                                           ;;;a equ 0                                                                       source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ;;;R_Vctr CODE 0x0000                                                            source\squareroot.s
                                           ;;;goto Main                                                                     source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ;Software License Agreement                                                      source\squareroot.s
                                           ;The software supplied herewith by Microchip Technology Incorporated             source\squareroot.s
                                           ;(the ?Company?) for its PICmicro Microcontroller is intended and               source\squareroot.s
                                           ;supplied to you, the Company?s customer, for use solely and                     source\squareroot.s
                                           ;exclusively on Microchip PICmicro Microcontroller products. The                 source\squareroot.s
                                           ;software is owned by the Company and/or its supplier, and is                    source\squareroot.s
                                           ;protected under applicable copyright laws. All rights are reserved.             source\squareroot.s
                                           ;Any use in violation of the foregoing restrictions may subject the              source\squareroot.s
                                           ;user to criminal sanctions under applicable laws, as well as to civil           source\squareroot.s
                                           ;liability for the breach of the terms and conditions of this license.           source\squareroot.s
                                           ;THIS SOFTWARE IS PROVIDED IN AN ?AS IS? CONDITION. NO WARRANTIES,               source\squareroot.s
                                           ;WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED TO,           source\squareroot.s
                                           ;IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR              source\squareroot.s
                                           ;PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT, IN ANY                   source\squareroot.s
                                           ;CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR CONSEQUENTIAL               source\squareroot.s
                                           ;DAMAGES, FOR ANY REASON WHATSOEVER.                                             source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; Calling Routine                                                                source\squareroot.s
                                           ;;;SRoot CODE                                                                    source\squareroot.s
                                           ;;;Main                                                                          source\squareroot.s
                                           ;;;movlw 0xCF                                                                    source\squareroot.s
                                           ;;;movwf ARGA1, a                                                                source\squareroot.s
                                           ;;;movlw 0x48                                                                    source\squareroot.s
                                           ;;;movwf ARGA0, a                                                                source\squareroot.s
                                           ;;;call Sqrt ; Sqrt(0xCF48)                                                      source\squareroot.s
                                           ; RES0 should now contain 0xE6                                                   source\squareroot.s
                                           ;;;movlw 0xE0                                                                    source\squareroot.s
                                           ;;;movwf ARGA3, a                                                                source\squareroot.s
                                           ;;;movlw 0x12                                                                    source\squareroot.s
                                           ;;;movwf ARGA2, a                                                                source\squareroot.s
                                           ;;;movlw 0xA1                                                                    source\squareroot.s
                                           ;;;movwf ARGA1, a                                                                source\squareroot.s
                                           ;;;movlw 0x40                                                                    source\squareroot.s
                                           ;;;movwf ARGA0, a                                                                source\squareroot.s
                                           ;;;call Sqrt ; Sqrt(0xE012A140)                                                  source\squareroot.s
                                           ; RES1:RES0 should now contain 0xEF81                                            source\squareroot.s
                                           ;;;bra Main                                                                      source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ;;;END                                                                           source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                               Title"16/32 bit Integer Square Root"                                         source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *** ***                                                                        source\squareroot.s
                                           ; *** Author: Ross Fosler ***                                                    source\squareroot.s
                                           ; *** Applications Engineer ***                                                  source\squareroot.s
                                           ; *** Microchip Technology Inc. ***                                              source\squareroot.s
                                           ; *** ***                                                                        source\squareroot.s
                                           ; *** Program:sqrt.asm ***                                                       source\squareroot.s
                                           ; *** This module contains code to perform fast integer ***                      source\squareroot.s
                                           ; *** square root functions on either 16 or 32 bit ***                           source\squareroot.s
                                           ; *** values. ***                                                                source\squareroot.s
                                           ; *** ***                                                                        source\squareroot.s
                                           ; *** Last Rev:August 10, 2000 ***                                               source\squareroot.s
                                           ; *** Ver 1.00 ***                                                               source\squareroot.s
                                           ; *** ***                                                                        source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ;;;#include P18C252.INC                                                          source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ;;;MSB	equ 7		    ; general literal constants                                    source\squareroot.s
                                           ;;;LSB	equ 0                                                                     source\squareroot.s
                                           ;;;W	equ 0                                                                       source\squareroot.s
                                           ;;;F	equ 1                                                                       source\squareroot.s
                                           ;;;a	equ 0                                                                       source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           sqrtVar	UDATA	0x500		    ; allocate RAM in grp5 section                          source\squareroot.s
                                           ARGA0	res 1			    ; various argument registers                                   source\squareroot.s
                                           ARGA1	res 1                                                                      source\squareroot.s
                                           ARGA2	res 1                                                                      source\squareroot.s
                                           ARGA3	res 1                                                                      source\squareroot.s
                                               GLOBAL ARGA0, ARGA1, ARGA2, ARGA3                                            source\squareroot.s
                                           ARG1H	res 1                                                                      source\squareroot.s
                                           ARG1L	res 1                                                                      source\squareroot.s
                                           ARG2H	res 1                                                                      source\squareroot.s
                                           ARG2L	res 1                                                                      source\squareroot.s
                                               GLOBAL ARG1H, ARG1L, ARG2H, ARG2L                                            source\squareroot.s
                                           SARG1	res 1			    ; signed arguments                                             source\squareroot.s
                                           SARG2	res 1                                                                      source\squareroot.s
                                               GLOBAL SARG1, SARG2                                                          source\squareroot.s
                                           RES1	res 1			    ; result registers                                              source\squareroot.s
                                           RES0	res 1                                                                       source\squareroot.s
                                               GLOBAL RES0, RES1                                                            source\squareroot.s
                                           SQRES0	res 1                                                                     source\squareroot.s
                                           SQRES1	res 1                                                                     source\squareroot.s
                                           SQRES2	res 1                                                                     source\squareroot.s
                                           SQRES3	res 1                                                                     source\squareroot.s
                                               GLOBAL SQRES0, SQRES1, SQRES2, SQRES3                                        source\squareroot.s
                                           BITLOC0 res 1			    ; temporary registers                                        source\squareroot.s
                                           BITLOC1 res 1                                                                    source\squareroot.s
                                           TEMP0	res 1                                                                      source\squareroot.s
                                           TEMP1	res 1                                                                      source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; The function of this square root routine is to determine the root              source\squareroot.s
                                           ; to the nearest integer. At the same time the root is found at the              source\squareroot.s
                                           ; best possible speed; therefore, the root is found a little differently         source\squareroot.s
                                           ; for the two basic sizes of numbers, 16-bit and 32-bit. The following           source\squareroot.s
                                           ; differentiates the two and jumps to the appropriate function.                  source\squareroot.s
                                           ; Sqrt(ARGA3:ARGA2:ARGA1:ARGA0) = PRODH:PRODL                                    source\squareroot.s
                                           	CODE                                                                            source\squareroot.s
                                           Sqrt	                                                                            source\squareroot.s
008900   cfd9     MOVFF     0xfd9,0xfe6    	movff	0xfd9, 0xfe6                                                              source\squareroot.s
008902   ffe6                                                                                                               
008904   cfe1     MOVFF     0xfe1,0xfd9    	movff	0xfe1, 0xfd9                                                              source\squareroot.s
008906   ffd9                                                                                                               
008908   0105     MOVLB     0x5            	movlb	5		    ; All our RAM is in bank 5                                         source\squareroot.s
00890a   0efb     MOVLW     0xfb           	movlw	0xFB		    ; load -1 into W                                                source\squareroot.s
00890c   cfdb     MOVFF     0xfdb,0x500    	movff	PLUSW2, ARGA0	    ; And offset FSR1 by W and store in ARGA3               source\squareroot.s
00890e   f500                                                                                                               
008910   0efc     MOVLW     0xfc           	movlw	0xFC		    ; load -2 into W and do the same for the                        source\squareroot.s
008912   cfdb     MOVFF     0xfdb,0x501    	movff	PLUSW2, ARGA1	    ; other bytes in the input parameter                    source\squareroot.s
008914   f501                                                                                                               
008916   0efd     MOVLW     0xfd           	movlw	0xFD                                                                      source\squareroot.s
008918   cfdb     MOVFF     0xfdb,0x502    	movff	PLUSW2, ARGA2                                                             source\squareroot.s
00891a   f502                                                                                                               
00891c   0efe     MOVLW     0xfe           	movlw	0xFE                                                                      source\squareroot.s
00891e   cfdb     MOVFF     0xfdb,0x503    	movff	PLUSW2, ARGA3                                                             source\squareroot.s
008920   f503                                                                                                               
008922   6703     TSTFSZ    0x3,0x1        	tstfsz	ARGA3, BANKED	    ; determine if the number is 16-bit                    source\squareroot.s
008924   d025     BRA       0x8970         	bra	Sqrt32		    ; or 32-bit and call the best function                          source\squareroot.s
008926   6702     TSTFSZ    0x2,0x1        	tstfsz	ARGA2, BANKED                                                            source\squareroot.s
008928   d023     BRA       0x8970         	bra	Sqrt32                                                                      source\squareroot.s
                                           				    ; Fallthrough to Sqrt16                                                  source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; ******************** Square Root **********************************            source\squareroot.s
                                           ; Sqrt16(ARGA1:ARGA0) = PRODL                                                    source\squareroot.s
                                           Sqrt16	                                                                          source\squareroot.s
00892a   6b12     CLRF      0x12,0x1       	clrf	TEMP0, BANKED	    ; clear the temp solution                                source\squareroot.s
00892c   0e80     MOVLW     0x80           	movlw	0x80		    ; setup the first bit                                           source\squareroot.s
00892e   6f10     MOVWF     0x10,0x1       	movwf	BITLOC0, BANKED                                                           source\squareroot.s
008930   6f0b     MOVWF     0xb,0x1        	movwf	RES0, BANKED                                                              source\squareroot.s
008932   510b     MOVF      0xb,0x0,0x1    Square8 movf	RES0, W, BANKED	    ; square the guess                              source\squareroot.s
008934   030b     MULWF     0xb,0x1        	mulwf	RES0, BANKED                                                              source\squareroot.s
008936   50f3     MOVF      0xf3,0x0,0x0   	movf	PRODL, W, ACCESS    ; ARGA - PROD test                                     source\squareroot.s
008938   5d00     SUBWF     0x0,0x0,0x1    	subwf	ARGA0, W, BANKED                                                          source\squareroot.s
00893a   50f4     MOVF      0xf4,0x0,0x0   	movf	PRODH, W, ACCESS                                                           source\squareroot.s
00893c   5901     SUBWFB    0x1,0x0,0x1    	subwfb	ARGA1, W, BANKED                                                         source\squareroot.s
00893e   b0d8     BTFSC     0xd8,0x0,0x0   	btfsc	STATUS, C, ACCESS                                                         source\squareroot.s
008940   d008     BRA       0x8952         	bra	NextBit		    ; if positive then next bit                                    source\squareroot.s
                                           				    ; if negative then rotate right                                          source\squareroot.s
008942   c512     MOVFF     0x512,0x50b    	movff	TEMP0, RES0	    ; move last good value back into RES0                     source\squareroot.s
008944   f50b                                                                                                               
008946   4310     RRNCF     0x10,0x1,0x1   	rrncf	BITLOC0, F, BANKED  ; then rotote the bit and put it                      source\squareroot.s
008948   5110     MOVF      0x10,0x0,0x1   	movf	BITLOC0, W, BANKED  ; back into RES0                                       source\squareroot.s
00894a   130b     IORWF     0xb,0x1,0x1    	iorwf	RES0, F, BANKED                                                           source\squareroot.s
00894c   bf10     BTFSC     0x10,0x7,0x1   	btfsc	BITLOC0, 7, BANKED  ; if last value was tested then get                   source\squareroot.s
00894e   d009     BRA       0x8962         	bra	Done		    ; out                                                             source\squareroot.s
008950   d7f0     BRA       0x8932         	bra	Square8		    ; elso go back for another test                                source\squareroot.s
008952   c50b     MOVFF     0x50b,0x512    NextBit movff	RES0, TEMP0	    ; copy the last good approximation                 source\squareroot.s
008954   f512                                                                                                               
008956   4310     RRNCF     0x10,0x1,0x1   	rrncf	BITLOC0, F, BANKED  ; rotate the bit location register                    source\squareroot.s
008958   5110     MOVF      0x10,0x0,0x1   	movf	BITLOC0, W, BANKED                                                         source\squareroot.s
00895a   130b     IORWF     0xb,0x1,0x1    	iorwf	RES0, F, BANKED                                                           source\squareroot.s
00895c   bf10     BTFSC     0x10,0x7,0x1   	btfsc	BITLOC0, 7, BANKED  ; if last value was tested then get                   source\squareroot.s
00895e   d001     BRA       0x8962         	bra	Done		    ; out                                                             source\squareroot.s
008960   d7e8     BRA       0x8932         	bra	Square8                                                                     source\squareroot.s
008962   c512     MOVFF     0x512,0xff3    Done	movff	TEMP0,PRODL	    ; put the final result in PRODL                       source\squareroot.s
008964   fff3                                                                                                               
008966   6af4     CLRF      0xf4,0x0       	clrf	PRODH, ACCESS	    ; clear out upper byte to be nice                        source\squareroot.s
008968   52e5     MOVF      0xe5,0x1,0x0   	movf	0xe5, 0x1, 0x0                                                             source\squareroot.s
00896a   cfe7     MOVFF     0xfe7,0xfd9    	movff	0xfe7, 0xfd9                                                              source\squareroot.s
00896c   ffd9                                                                                                               
00896e   0012     RETURN    0x0            	return                                                                          source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; ******************** Square Root **********************************            source\squareroot.s
                                           ; Sqrt32(ARGA3:ARGA2:ARGA1:ARGA0) = PRODH:PRODL                                  source\squareroot.s
                                           Sqrt32	                                                                          source\squareroot.s
008970   6b12     CLRF      0x12,0x1       	clrf	TEMP0, BANKED	    ; clear the temp solution                                source\squareroot.s
008972   6b13     CLRF      0x13,0x1       	clrf	TEMP1, BANKED                                                              source\squareroot.s
008974   6b10     CLRF      0x10,0x1       	clrf	BITLOC0, BANKED	    ; setup the first bit                                  source\squareroot.s
008976   6b0b     CLRF      0xb,0x1        	clrf	RES0, BANKED                                                               source\squareroot.s
008978   0e80     MOVLW     0x80           	movlw	0x80                                                                      source\squareroot.s
00897a   6f11     MOVWF     0x11,0x1       	movwf	BITLOC1, BANKED	    ; BitLoc = 0x8000                                     source\squareroot.s
00897c   6f0a     MOVWF     0xa,0x1        	movwf	RES1, BANKED	    ; RES = 0x8000                                           source\squareroot.s
00897e   c50b     MOVFF     0x50b,0x505    Squar16 movff	RES0, ARG1L	    ; square the guess                                 source\squareroot.s
008980   f505                                                                                                               
008982   c50a     MOVFF     0x50a,0x504    	movff	RES1, ARG1H                                                               source\squareroot.s
008984   f504                                                                                                               
008986   ecf3     CALL      0x89e6,0x0     	call	Sq16                                                                       source\squareroot.s
008988   f044                                                                                                               
00898a   510c     MOVF      0xc,0x0,0x1    	movf	SQRES0, W, BANKED   ; ARGA - PROD test                                     source\squareroot.s
00898c   5d00     SUBWF     0x0,0x0,0x1    	subwf	ARGA0, W, BANKED                                                          source\squareroot.s
00898e   510d     MOVF      0xd,0x0,0x1    	movf	SQRES1, W, BANKED                                                          source\squareroot.s
008990   5901     SUBWFB    0x1,0x0,0x1    	subwfb	ARGA1, W, BANKED                                                         source\squareroot.s
008992   510e     MOVF      0xe,0x0,0x1    	movf	SQRES2, W, BANKED                                                          source\squareroot.s
008994   5902     SUBWFB    0x2,0x0,0x1    	subwfb	ARGA2, W, BANKED                                                         source\squareroot.s
008996   510f     MOVF      0xf,0x0,0x1    	movf	SQRES3, W, BANKED                                                          source\squareroot.s
008998   5903     SUBWFB    0x3,0x0,0x1    	subwfb	ARGA3, W, BANKED                                                         source\squareroot.s
00899a   b0d8     BTFSC     0xd8,0x0,0x0   	btfsc	STATUS, C, ACCESS                                                         source\squareroot.s
00899c   d00e     BRA       0x89ba         	bra	NxtBt16		    ; if positive then next bit                                    source\squareroot.s
                                           				    ; if negative then rotate right                                          source\squareroot.s
00899e   0f00     ADDLW     0x0            	addlw	0x00		    ; clear carry                                                   source\squareroot.s
0089a0   c512     MOVFF     0x512,0x50b    	movff	TEMP0, RES0	    ; move last good value back into RES0                     source\squareroot.s
0089a2   f50b                                                                                                               
0089a4   c513     MOVFF     0x513,0x50a    	movff	TEMP1, RES1                                                               source\squareroot.s
0089a6   f50a                                                                                                               
0089a8   3311     RRCF      0x11,0x1,0x1   	rrcf	BITLOC1, F, BANKED  ; then rotote the bit and put it                       source\squareroot.s
0089aa   3310     RRCF      0x10,0x1,0x1   	rrcf	BITLOC0, F, BANKED                                                         source\squareroot.s
0089ac   5111     MOVF      0x11,0x0,0x1   	movf	BITLOC1, W, BANKED  ; back into RES1:RES0                                  source\squareroot.s
0089ae   130a     IORWF     0xa,0x1,0x1    	iorwf	RES1, F, BANKED                                                           source\squareroot.s
0089b0   5110     MOVF      0x10,0x0,0x1   	movf	BITLOC0, W, BANKED                                                         source\squareroot.s
0089b2   130b     IORWF     0xb,0x1,0x1    	iorwf	RES0, F, BANKED                                                           source\squareroot.s
0089b4   b0d8     BTFSC     0xd8,0x0,0x0   	btfsc	STATUS, C, ACCESS   ; if last value was tested then get                   source\squareroot.s
0089b6   d00f     BRA       0x89d6         	bra	Done32		    ; out                                                           source\squareroot.s
0089b8   d7e2     BRA       0x897e         	bra	Squar16		    ; elso go back for another test                                source\squareroot.s
0089ba   0f00     ADDLW     0x0            NxtBt16 addlw	0x00		    ; clear carry                                            source\squareroot.s
0089bc   c50b     MOVFF     0x50b,0x512    	movff	RES0, TEMP0	    ; copy the last good approximation                        source\squareroot.s
0089be   f512                                                                                                               
0089c0   c50a     MOVFF     0x50a,0x513    	movff	RES1, TEMP1                                                               source\squareroot.s
0089c2   f513                                                                                                               
0089c4   3311     RRCF      0x11,0x1,0x1   	rrcf	BITLOC1, F, BANKED  ; rotate the bit location register                     source\squareroot.s
0089c6   3310     RRCF      0x10,0x1,0x1   	rrcf	BITLOC0, F, BANKED                                                         source\squareroot.s
0089c8   5111     MOVF      0x11,0x0,0x1   	movf	BITLOC1, W, BANKED  ; and put back into RES1:RES0                          source\squareroot.s
0089ca   130a     IORWF     0xa,0x1,0x1    	iorwf	RES1, F, BANKED                                                           source\squareroot.s
0089cc   5110     MOVF      0x10,0x0,0x1   	movf	BITLOC0, W, BANKED                                                         source\squareroot.s
0089ce   130b     IORWF     0xb,0x1,0x1    	iorwf	RES0, F, BANKED                                                           source\squareroot.s
0089d0   b0d8     BTFSC     0xd8,0x0,0x0   	btfsc	STATUS, C, ACCESS   ; if last value was tested then get                   source\squareroot.s
0089d2   d001     BRA       0x89d6         	bra	Done32		    ; out                                                           source\squareroot.s
0089d4   d7d4     BRA       0x897e         	bra	Squar16                                                                     source\squareroot.s
0089d6   c512     MOVFF     0x512,0xff3    Done32	movff	TEMP0,PRODL	    ; put the final result in PRODL:PRODH               source\squareroot.s
0089d8   fff3                                                                                                               
0089da   c513     MOVFF     0x513,0xff4    	movff	TEMP1,PRODH                                                               source\squareroot.s
0089dc   fff4                                                                                                               
0089de   52e5     MOVF      0xe5,0x1,0x0   	movf	0xe5, 0x1, 0x0                                                             source\squareroot.s
0089e0   cfe7     MOVFF     0xfe7,0xfd9    	movff	0xfe7, 0xfd9                                                              source\squareroot.s
0089e2   ffd9                                                                                                               
0089e4   0012     RETURN    0x0            	return                                                                          source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *********** 16 X 16 Unsigned Square *****************************              source\squareroot.s
                                           ; SQRES3:SQRES0 = ARG1H:ARG1L ^2                                                 source\squareroot.s
0089e6   5105     MOVF      0x5,0x0,0x1    Sq16	movf	ARG1L, W, BANKED                                                       source\squareroot.s
0089e8   0305     MULWF     0x5,0x1        	mulwf	ARG1L		    ; ARG1L * ARG2L ->                                             source\squareroot.s
                                           				    ; PRODH:PRODL                                                            source\squareroot.s
0089ea   cff4     MOVFF     0xff4,0x50d    	movff	PRODH, SQRES1                                                             source\squareroot.s
0089ec   f50d                                                                                                               
0089ee   cff3     MOVFF     0xff3,0x50c    	movff	PRODL, SQRES0                                                             source\squareroot.s
0089f0   f50c                                                                                                               
0089f2   5104     MOVF      0x4,0x0,0x1    	movf	ARG1H, W, BANKED                                                           source\squareroot.s
0089f4   0304     MULWF     0x4,0x1        	mulwf	ARG1H		    ; ARG1H * ARG2H ->                                             source\squareroot.s
                                           				    ; PRODH:PRODL                                                            source\squareroot.s
0089f6   cff4     MOVFF     0xff4,0x50f    	movff	PRODH, SQRES3                                                             source\squareroot.s
0089f8   f50f                                                                                                               
0089fa   cff3     MOVFF     0xff3,0x50e    	movff	PRODL, SQRES2                                                             source\squareroot.s
0089fc   f50e                                                                                                               
0089fe   5105     MOVF      0x5,0x0,0x1    	movf	ARG1L, W, BANKED                                                           source\squareroot.s
008a00   0304     MULWF     0x4,0x1        	mulwf	ARG1H		    ; ARG1L * ARG2H ->                                             source\squareroot.s
                                           				    ; PRODH:PRODL                                                            source\squareroot.s
008a02   50f3     MOVF      0xf3,0x0,0x0   	movf	PRODL, W, ACCESS                                                           source\squareroot.s
008a04   270d     ADDWF     0xd,0x1,0x1    	addwf	SQRES1, F, BANKED   ; Add cross                                           source\squareroot.s
008a06   50f4     MOVF      0xf4,0x0,0x0   	movf	PRODH, W, ACCESS    ; products                                             source\squareroot.s
008a08   230e     ADDWFC    0xe,0x1,0x1    	addwfc	SQRES2, F, BANKED                                                        source\squareroot.s
008a0a   6ae8     CLRF      0xe8,0x0       	clrf	WREG, ACCESS                                                               source\squareroot.s
008a0c   230f     ADDWFC    0xf,0x1,0x1    	addwfc	SQRES3, F, BANKED                                                        source\squareroot.s
008a0e   5104     MOVF      0x4,0x0,0x1    	movf	ARG1H, W, BANKED                                                           source\squareroot.s
008a10   0305     MULWF     0x5,0x1        	mulwf	ARG1L		    ; ARG1H * ARG2L ->                                             source\squareroot.s
                                           				    ; PRODH:PRODL                                                            source\squareroot.s
008a12   50f3     MOVF      0xf3,0x0,0x0   	movf	PRODL, W, ACCESS                                                           source\squareroot.s
008a14   270d     ADDWF     0xd,0x1,0x1    	addwf	SQRES1, F, BANKED   ; Add cross                                           source\squareroot.s
008a16   50f4     MOVF      0xf4,0x0,0x0   	movf	PRODH, W, ACCESS    ; products                                             source\squareroot.s
008a18   230e     ADDWFC    0xe,0x1,0x1    	addwfc	SQRES2, F, BANKED                                                        source\squareroot.s
008a1a   6ae8     CLRF      0xe8,0x0       	clrf	WREG, ACCESS                                                               source\squareroot.s
008a1c   230f     ADDWFC    0xf,0x1,0x1    	addwfc	SQRES3, F, BANKED                                                        source\squareroot.s
008a1e   0012     RETURN    0x0            	return                                                                          source\squareroot.s
                                           	                                                                                source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           	GLOBAL	Sqrt                                                                     source\squareroot.s
                                                                                                                            source\squareroot.s
                                           	end                                                                             source\squareroot.s
